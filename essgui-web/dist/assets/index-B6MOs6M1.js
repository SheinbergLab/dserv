var Xt=(H,K)=>()=>(K||H((K={exports:{}}).exports,K),K.exports);var Yt=Xt((exports,module)=>{(function(){const K=document.createElement("link").relList;if(K&&K.supports&&K.supports("modulepreload"))return;for(const U of document.querySelectorAll('link[rel="modulepreload"]'))G(U);new MutationObserver(U=>{for(const X of U)if(X.type==="childList")for(const Q of X.addedNodes)Q.tagName==="LINK"&&Q.rel==="modulepreload"&&G(Q)}).observe(document,{childList:!0,subtree:!0});function W(U){const X={};return U.integrity&&(X.integrity=U.integrity),U.referrerPolicy&&(X.referrerPolicy=U.referrerPolicy),U.crossOrigin==="use-credentials"?X.credentials="include":U.crossOrigin==="anonymous"?X.credentials="omit":X.credentials="same-origin",X}function G(U){if(U.ep)return;U.ep=!0;const X=W(U);fetch(U.href,X)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(H){const K=Object.create(null);for(const W of H.split(","))K[W]=1;return W=>W in K}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn$1=H=>H.charCodeAt(0)===111&&H.charCodeAt(1)===110&&(H.charCodeAt(2)>122||H.charCodeAt(2)<97),isModelListener=H=>H.startsWith("onUpdate:"),extend=Object.assign,remove$1=(H,K)=>{const W=H.indexOf(K);W>-1&&H.splice(W,1)},hasOwnProperty$g=Object.prototype.hasOwnProperty,hasOwn$1=(H,K)=>hasOwnProperty$g.call(H,K),isArray$3=Array.isArray,isMap$1=H=>toTypeString(H)==="[object Map]",isSet$1=H=>toTypeString(H)==="[object Set]",isFunction$2=H=>typeof H=="function",isString$1=H=>typeof H=="string",isSymbol$1=H=>typeof H=="symbol",isObject$3=H=>H!==null&&typeof H=="object",isPromise=H=>(isObject$3(H)||isFunction$2(H))&&isFunction$2(H.then)&&isFunction$2(H.catch),objectToString$1=Object.prototype.toString,toTypeString=H=>objectToString$1.call(H),toRawType=H=>toTypeString(H).slice(8,-1),isPlainObject$1=H=>toTypeString(H)==="[object Object]",isIntegerKey=H=>isString$1(H)&&H!=="NaN"&&H[0]!=="-"&&""+parseInt(H,10)===H,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction$1=H=>{const K=Object.create(null);return W=>K[W]||(K[W]=H(W))},camelizeRE$1=/-(\w)/g,camelize$1=cacheStringFunction$1(H=>H.replace(camelizeRE$1,(K,W)=>W?W.toUpperCase():"")),hyphenateRE$1=/\B([A-Z])/g,hyphenate$1=cacheStringFunction$1(H=>H.replace(hyphenateRE$1,"-$1").toLowerCase()),capitalize$1=cacheStringFunction$1(H=>H.charAt(0).toUpperCase()+H.slice(1)),toHandlerKey=cacheStringFunction$1(H=>H?`on${capitalize$1(H)}`:""),hasChanged=(H,K)=>!Object.is(H,K),invokeArrayFns=(H,...K)=>{for(let W=0;W<H.length;W++)H[W](...K)},def=(H,K,W,G=!1)=>{Object.defineProperty(H,K,{configurable:!0,enumerable:!1,writable:G,value:W})},looseToNumber=H=>{const K=parseFloat(H);return isNaN(K)?H:K},toNumber$1=H=>{const K=isString$1(H)?Number(H):NaN;return isNaN(K)?H:K};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle$1(H){if(isArray$3(H)){const K={};for(let W=0;W<H.length;W++){const G=H[W],U=isString$1(G)?parseStringStyle(G):normalizeStyle$1(G);if(U)for(const X in U)K[X]=U[X]}return K}else if(isString$1(H)||isObject$3(H))return H}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(H){const K={};return H.replace(styleCommentRE,"").split(listDelimiterRE).forEach(W=>{if(W){const G=W.split(propertyDelimiterRE);G.length>1&&(K[G[0].trim()]=G[1].trim())}}),K}function normalizeClass(H){let K="";if(isString$1(H))K=H;else if(isArray$3(H))for(let W=0;W<H.length;W++){const G=normalizeClass(H[W]);G&&(K+=G+" ")}else if(isObject$3(H))for(const W in H)H[W]&&(K+=W+" ");return K.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(H){return!!H||H===""}const isRef$1=H=>!!(H&&H.__v_isRef===!0),toDisplayString=H=>isString$1(H)?H:H==null?"":isArray$3(H)||isObject$3(H)&&(H.toString===objectToString$1||!isFunction$2(H.toString))?isRef$1(H)?toDisplayString(H.value):JSON.stringify(H,replacer,2):String(H),replacer=(H,K)=>isRef$1(K)?replacer(H,K.value):isMap$1(K)?{[`Map(${K.size})`]:[...K.entries()].reduce((W,[G,U],X)=>(W[stringifySymbol(G,X)+" =>"]=U,W),{})}:isSet$1(K)?{[`Set(${K.size})`]:[...K.values()].map(W=>stringifySymbol(W))}:isSymbol$1(K)?stringifySymbol(K):isObject$3(K)&&!isArray$3(K)&&!isPlainObject$1(K)?String(K):K,stringifySymbol=(H,K="")=>{var W;return isSymbol$1(H)?`Symbol(${(W=H.description)!=null?W:K})`:H};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(K=!1){this.detached=K,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!K&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let K,W;if(this.scopes)for(K=0,W=this.scopes.length;K<W;K++)this.scopes[K].pause();for(K=0,W=this.effects.length;K<W;K++)this.effects[K].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let K,W;if(this.scopes)for(K=0,W=this.scopes.length;K<W;K++)this.scopes[K].resume();for(K=0,W=this.effects.length;K<W;K++)this.effects[K].resume()}}run(K){if(this._active){const W=activeEffectScope;try{return activeEffectScope=this,K()}finally{activeEffectScope=W}}}on(){++this._on===1&&(this.prevScope=activeEffectScope,activeEffectScope=this)}off(){this._on>0&&--this._on===0&&(activeEffectScope=this.prevScope,this.prevScope=void 0)}stop(K){if(this._active){this._active=!1;let W,G;for(W=0,G=this.effects.length;W<G;W++)this.effects[W].stop();for(this.effects.length=0,W=0,G=this.cleanups.length;W<G;W++)this.cleanups[W]();if(this.cleanups.length=0,this.scopes){for(W=0,G=this.scopes.length;W<G;W++)this.scopes[W].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!K){const U=this.parent.scopes.pop();U&&U!==this&&(this.parent.scopes[this.index]=U,U.index=this.index)}this.parent=void 0}}}function effectScope(H){return new EffectScope(H)}function getCurrentScope(){return activeEffectScope}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(K){this.fn=K,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const K=activeSub,W=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=K,shouldTrack=W,this.flags&=-3}}stop(){if(this.flags&1){for(let K=this.deps;K;K=K.nextDep)removeSub(K);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(H,K=!1){if(H.flags|=8,K){H.next=batchedComputed,batchedComputed=H;return}H.next=batchedSub,batchedSub=H}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let K=batchedComputed;for(batchedComputed=void 0;K;){const W=K.next;K.next=void 0,K.flags&=-9,K=W}}let H;for(;batchedSub;){let K=batchedSub;for(batchedSub=void 0;K;){const W=K.next;if(K.next=void 0,K.flags&=-9,K.flags&1)try{K.trigger()}catch(G){H||(H=G)}K=W}}if(H)throw H}function prepareDeps(H){for(let K=H.deps;K;K=K.nextDep)K.version=-1,K.prevActiveLink=K.dep.activeLink,K.dep.activeLink=K}function cleanupDeps(H){let K,W=H.depsTail,G=W;for(;G;){const U=G.prevDep;G.version===-1?(G===W&&(W=U),removeSub(G),removeDep(G)):K=G,G.dep.activeLink=G.prevActiveLink,G.prevActiveLink=void 0,G=U}H.deps=K,H.depsTail=W}function isDirty(H){for(let K=H.deps;K;K=K.nextDep)if(K.dep.version!==K.version||K.dep.computed&&(refreshComputed(K.dep.computed)||K.dep.version!==K.version))return!0;return!!H._dirty}function refreshComputed(H){if(H.flags&4&&!(H.flags&16)||(H.flags&=-17,H.globalVersion===globalVersion)||(H.globalVersion=globalVersion,!H.isSSR&&H.flags&128&&(!H.deps&&!H._dirty||!isDirty(H))))return;H.flags|=2;const K=H.dep,W=activeSub,G=shouldTrack;activeSub=H,shouldTrack=!0;try{prepareDeps(H);const U=H.fn(H._value);(K.version===0||hasChanged(U,H._value))&&(H.flags|=128,H._value=U,K.version++)}catch(U){throw K.version++,U}finally{activeSub=W,shouldTrack=G,cleanupDeps(H),H.flags&=-3}}function removeSub(H,K=!1){const{dep:W,prevSub:G,nextSub:U}=H;if(G&&(G.nextSub=U,H.prevSub=void 0),U&&(U.prevSub=G,H.nextSub=void 0),W.subs===H&&(W.subs=G,!G&&W.computed)){W.computed.flags&=-5;for(let X=W.computed.deps;X;X=X.nextDep)removeSub(X,!0)}!K&&!--W.sc&&W.map&&W.map.delete(W.key)}function removeDep(H){const{prevDep:K,nextDep:W}=H;K&&(K.nextDep=W,H.prevDep=void 0),W&&(W.prevDep=K,H.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const H=trackStack.pop();shouldTrack=H===void 0?!0:H}function cleanupEffect(H){const{cleanup:K}=H;if(H.cleanup=void 0,K){const W=activeSub;activeSub=void 0;try{K()}finally{activeSub=W}}}let globalVersion=0;class Link{constructor(K,W){this.sub=K,this.dep=W,this.version=W.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(K){this.computed=K,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(K){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let W=this.activeLink;if(W===void 0||W.sub!==activeSub)W=this.activeLink=new Link(activeSub,this),activeSub.deps?(W.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=W,activeSub.depsTail=W):activeSub.deps=activeSub.depsTail=W,addSub(W);else if(W.version===-1&&(W.version=this.version,W.nextDep)){const G=W.nextDep;G.prevDep=W.prevDep,W.prevDep&&(W.prevDep.nextDep=G),W.prevDep=activeSub.depsTail,W.nextDep=void 0,activeSub.depsTail.nextDep=W,activeSub.depsTail=W,activeSub.deps===W&&(activeSub.deps=G)}return W}trigger(K){this.version++,globalVersion++,this.notify(K)}notify(K){startBatch();try{for(let W=this.subs;W;W=W.prevSub)W.sub.notify()&&W.sub.dep.notify()}finally{endBatch()}}}function addSub(H){if(H.dep.sc++,H.sub.flags&4){const K=H.dep.computed;if(K&&!H.dep.subs){K.flags|=20;for(let G=K.deps;G;G=G.nextDep)addSub(G)}const W=H.dep.subs;W!==H&&(H.prevSub=W,W&&(W.nextSub=H)),H.dep.subs=H}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(H,K,W){if(shouldTrack&&activeSub){let G=targetMap.get(H);G||targetMap.set(H,G=new Map);let U=G.get(W);U||(G.set(W,U=new Dep),U.map=G,U.key=W),U.track()}}function trigger(H,K,W,G,U,X){const Q=targetMap.get(H);if(!Q){globalVersion++;return}const Z=ee=>{ee&&ee.trigger()};if(startBatch(),K==="clear")Q.forEach(Z);else{const ee=isArray$3(H),ne=ee&&isIntegerKey(W);if(ee&&W==="length"){const te=Number(G);Q.forEach((oe,re)=>{(re==="length"||re===ARRAY_ITERATE_KEY||!isSymbol$1(re)&&re>=te)&&Z(oe)})}else switch((W!==void 0||Q.has(void 0))&&Z(Q.get(W)),ne&&Z(Q.get(ARRAY_ITERATE_KEY)),K){case"add":ee?ne&&Z(Q.get("length")):(Z(Q.get(ITERATE_KEY)),isMap$1(H)&&Z(Q.get(MAP_KEY_ITERATE_KEY)));break;case"delete":ee||(Z(Q.get(ITERATE_KEY)),isMap$1(H)&&Z(Q.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap$1(H)&&Z(Q.get(ITERATE_KEY));break}}endBatch()}function getDepFromReactive(H,K){const W=targetMap.get(H);return W&&W.get(K)}function reactiveReadArray(H){const K=toRaw(H);return K===H?K:(track(K,"iterate",ARRAY_ITERATE_KEY),isShallow(H)?K:K.map(toReactive$1))}function shallowReadArray(H){return track(H=toRaw(H),"iterate",ARRAY_ITERATE_KEY),H}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive$1)},concat(...H){return reactiveReadArray(this).concat(...H.map(K=>isArray$3(K)?reactiveReadArray(K):K))},entries(){return iterator(this,"entries",H=>(H[1]=toReactive$1(H[1]),H))},every(H,K){return apply$1(this,"every",H,K,void 0,arguments)},filter(H,K){return apply$1(this,"filter",H,K,W=>W.map(toReactive$1),arguments)},find(H,K){return apply$1(this,"find",H,K,toReactive$1,arguments)},findIndex(H,K){return apply$1(this,"findIndex",H,K,void 0,arguments)},findLast(H,K){return apply$1(this,"findLast",H,K,toReactive$1,arguments)},findLastIndex(H,K){return apply$1(this,"findLastIndex",H,K,void 0,arguments)},forEach(H,K){return apply$1(this,"forEach",H,K,void 0,arguments)},includes(...H){return searchProxy(this,"includes",H)},indexOf(...H){return searchProxy(this,"indexOf",H)},join(H){return reactiveReadArray(this).join(H)},lastIndexOf(...H){return searchProxy(this,"lastIndexOf",H)},map(H,K){return apply$1(this,"map",H,K,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...H){return noTracking(this,"push",H)},reduce(H,...K){return reduce(this,"reduce",H,K)},reduceRight(H,...K){return reduce(this,"reduceRight",H,K)},shift(){return noTracking(this,"shift")},some(H,K){return apply$1(this,"some",H,K,void 0,arguments)},splice(...H){return noTracking(this,"splice",H)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(H){return reactiveReadArray(this).toSorted(H)},toSpliced(...H){return reactiveReadArray(this).toSpliced(...H)},unshift(...H){return noTracking(this,"unshift",H)},values(){return iterator(this,"values",toReactive$1)}};function iterator(H,K,W){const G=shallowReadArray(H),U=G[K]();return G!==H&&!isShallow(H)&&(U._next=U.next,U.next=()=>{const X=U._next();return X.value&&(X.value=W(X.value)),X}),U}const arrayProto$1=Array.prototype;function apply$1(H,K,W,G,U,X){const Q=shallowReadArray(H),Z=Q!==H&&!isShallow(H),ee=Q[K];if(ee!==arrayProto$1[K]){const oe=ee.apply(H,X);return Z?toReactive$1(oe):oe}let ne=W;Q!==H&&(Z?ne=function(oe,re){return W.call(this,toReactive$1(oe),re,H)}:W.length>2&&(ne=function(oe,re){return W.call(this,oe,re,H)}));const te=ee.call(Q,ne,G);return Z&&U?U(te):te}function reduce(H,K,W,G){const U=shallowReadArray(H);let X=W;return U!==H&&(isShallow(H)?W.length>3&&(X=function(Q,Z,ee){return W.call(this,Q,Z,ee,H)}):X=function(Q,Z,ee){return W.call(this,Q,toReactive$1(Z),ee,H)}),U[K](X,...G)}function searchProxy(H,K,W){const G=toRaw(H);track(G,"iterate",ARRAY_ITERATE_KEY);const U=G[K](...W);return(U===-1||U===!1)&&isProxy(W[0])?(W[0]=toRaw(W[0]),G[K](...W)):U}function noTracking(H,K,W=[]){pauseTracking(),startBatch();const G=toRaw(H)[K].apply(H,W);return endBatch(),resetTracking(),G}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(H=>H!=="arguments"&&H!=="caller").map(H=>Symbol[H]).filter(isSymbol$1));function hasOwnProperty$f(H){isSymbol$1(H)||(H=String(H));const K=toRaw(this);return track(K,"has",H),K.hasOwnProperty(H)}class BaseReactiveHandler{constructor(K=!1,W=!1){this._isReadonly=K,this._isShallow=W}get(K,W,G){if(W==="__v_skip")return K.__v_skip;const U=this._isReadonly,X=this._isShallow;if(W==="__v_isReactive")return!U;if(W==="__v_isReadonly")return U;if(W==="__v_isShallow")return X;if(W==="__v_raw")return G===(U?X?shallowReadonlyMap:readonlyMap:X?shallowReactiveMap:reactiveMap).get(K)||Object.getPrototypeOf(K)===Object.getPrototypeOf(G)?K:void 0;const Q=isArray$3(K);if(!U){let ee;if(Q&&(ee=arrayInstrumentations[W]))return ee;if(W==="hasOwnProperty")return hasOwnProperty$f}const Z=Reflect.get(K,W,isRef(K)?K:G);return(isSymbol$1(W)?builtInSymbols.has(W):isNonTrackableKeys(W))||(U||track(K,"get",W),X)?Z:isRef(Z)?Q&&isIntegerKey(W)?Z:Z.value:isObject$3(Z)?U?readonly(Z):reactive(Z):Z}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(K=!1){super(!1,K)}set(K,W,G,U){let X=K[W];if(!this._isShallow){const ee=isReadonly(X);if(!isShallow(G)&&!isReadonly(G)&&(X=toRaw(X),G=toRaw(G)),!isArray$3(K)&&isRef(X)&&!isRef(G))return ee?!1:(X.value=G,!0)}const Q=isArray$3(K)&&isIntegerKey(W)?Number(W)<K.length:hasOwn$1(K,W),Z=Reflect.set(K,W,G,isRef(K)?K:U);return K===toRaw(U)&&(Q?hasChanged(G,X)&&trigger(K,"set",W,G):trigger(K,"add",W,G)),Z}deleteProperty(K,W){const G=hasOwn$1(K,W);K[W];const U=Reflect.deleteProperty(K,W);return U&&G&&trigger(K,"delete",W,void 0),U}has(K,W){const G=Reflect.has(K,W);return(!isSymbol$1(W)||!builtInSymbols.has(W))&&track(K,"has",W),G}ownKeys(K){return track(K,"iterate",isArray$3(K)?"length":ITERATE_KEY),Reflect.ownKeys(K)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(K=!1){super(!0,K)}set(K,W){return!0}deleteProperty(K,W){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=H=>H,getProto=H=>Reflect.getPrototypeOf(H);function createIterableMethod(H,K,W){return function(...G){const U=this.__v_raw,X=toRaw(U),Q=isMap$1(X),Z=H==="entries"||H===Symbol.iterator&&Q,ee=H==="keys"&&Q,ne=U[H](...G),te=W?toShallow:K?toReadonly:toReactive$1;return!K&&track(X,"iterate",ee?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:oe,done:re}=ne.next();return re?{value:oe,done:re}:{value:Z?[te(oe[0]),te(oe[1])]:te(oe),done:re}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(H){return function(...K){return H==="delete"?!1:H==="clear"?void 0:this}}function createInstrumentations(H,K){const W={get(U){const X=this.__v_raw,Q=toRaw(X),Z=toRaw(U);H||(hasChanged(U,Z)&&track(Q,"get",U),track(Q,"get",Z));const{has:ee}=getProto(Q),ne=K?toShallow:H?toReadonly:toReactive$1;if(ee.call(Q,U))return ne(X.get(U));if(ee.call(Q,Z))return ne(X.get(Z));X!==Q&&X.get(U)},get size(){const U=this.__v_raw;return!H&&track(toRaw(U),"iterate",ITERATE_KEY),Reflect.get(U,"size",U)},has(U){const X=this.__v_raw,Q=toRaw(X),Z=toRaw(U);return H||(hasChanged(U,Z)&&track(Q,"has",U),track(Q,"has",Z)),U===Z?X.has(U):X.has(U)||X.has(Z)},forEach(U,X){const Q=this,Z=Q.__v_raw,ee=toRaw(Z),ne=K?toShallow:H?toReadonly:toReactive$1;return!H&&track(ee,"iterate",ITERATE_KEY),Z.forEach((te,oe)=>U.call(X,ne(te),ne(oe),Q))}};return extend(W,H?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(U){!K&&!isShallow(U)&&!isReadonly(U)&&(U=toRaw(U));const X=toRaw(this);return getProto(X).has.call(X,U)||(X.add(U),trigger(X,"add",U,U)),this},set(U,X){!K&&!isShallow(X)&&!isReadonly(X)&&(X=toRaw(X));const Q=toRaw(this),{has:Z,get:ee}=getProto(Q);let ne=Z.call(Q,U);ne||(U=toRaw(U),ne=Z.call(Q,U));const te=ee.call(Q,U);return Q.set(U,X),ne?hasChanged(X,te)&&trigger(Q,"set",U,X):trigger(Q,"add",U,X),this},delete(U){const X=toRaw(this),{has:Q,get:Z}=getProto(X);let ee=Q.call(X,U);ee||(U=toRaw(U),ee=Q.call(X,U)),Z&&Z.call(X,U);const ne=X.delete(U);return ee&&trigger(X,"delete",U,void 0),ne},clear(){const U=toRaw(this),X=U.size!==0,Q=U.clear();return X&&trigger(U,"clear",void 0,void 0),Q}}),["keys","values","entries",Symbol.iterator].forEach(U=>{W[U]=createIterableMethod(U,H,K)}),W}function createInstrumentationGetter(H,K){const W=createInstrumentations(H,K);return(G,U,X)=>U==="__v_isReactive"?!H:U==="__v_isReadonly"?H:U==="__v_raw"?G:Reflect.get(hasOwn$1(W,U)&&U in G?W:G,U,X)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(H){switch(H){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(H){return H.__v_skip||!Object.isExtensible(H)?0:targetTypeMap(toRawType(H))}function reactive(H){return isReadonly(H)?H:createReactiveObject(H,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(H){return createReactiveObject(H,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(H){return createReactiveObject(H,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(H){return createReactiveObject(H,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(H,K,W,G,U){if(!isObject$3(H)||H.__v_raw&&!(K&&H.__v_isReactive))return H;const X=getTargetType(H);if(X===0)return H;const Q=U.get(H);if(Q)return Q;const Z=new Proxy(H,X===2?G:W);return U.set(H,Z),Z}function isReactive(H){return isReadonly(H)?isReactive(H.__v_raw):!!(H&&H.__v_isReactive)}function isReadonly(H){return!!(H&&H.__v_isReadonly)}function isShallow(H){return!!(H&&H.__v_isShallow)}function isProxy(H){return H?!!H.__v_raw:!1}function toRaw(H){const K=H&&H.__v_raw;return K?toRaw(K):H}function markRaw(H){return!hasOwn$1(H,"__v_skip")&&Object.isExtensible(H)&&def(H,"__v_skip",!0),H}const toReactive$1=H=>isObject$3(H)?reactive(H):H,toReadonly=H=>isObject$3(H)?readonly(H):H;function isRef(H){return H?H.__v_isRef===!0:!1}function ref(H){return createRef$1(H,!1)}function shallowRef(H){return createRef$1(H,!0)}function createRef$1(H,K){return isRef(H)?H:new RefImpl(H,K)}class RefImpl{constructor(K,W){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=W?K:toRaw(K),this._value=W?K:toReactive$1(K),this.__v_isShallow=W}get value(){return this.dep.track(),this._value}set value(K){const W=this._rawValue,G=this.__v_isShallow||isShallow(K)||isReadonly(K);K=G?K:toRaw(K),hasChanged(K,W)&&(this._rawValue=K,this._value=G?K:toReactive$1(K),this.dep.trigger())}}function triggerRef(H){H.dep&&H.dep.trigger()}function unref(H){return isRef(H)?H.value:H}const shallowUnwrapHandlers={get:(H,K,W)=>K==="__v_raw"?H:unref(Reflect.get(H,K,W)),set:(H,K,W,G)=>{const U=H[K];return isRef(U)&&!isRef(W)?(U.value=W,!0):Reflect.set(H,K,W,G)}};function proxyRefs(H){return isReactive(H)?H:new Proxy(H,shallowUnwrapHandlers)}function toRefs(H){const K=isArray$3(H)?new Array(H.length):{};for(const W in H)K[W]=propertyToRef(H,W);return K}class ObjectRefImpl{constructor(K,W,G){this._object=K,this._key=W,this._defaultValue=G,this.__v_isRef=!0,this._value=void 0}get value(){const K=this._object[this._key];return this._value=K===void 0?this._defaultValue:K}set value(K){this._object[this._key]=K}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(K){this._getter=K,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function toRef(H,K,W){return isRef(H)?H:isFunction$2(H)?new GetterRefImpl(H):isObject$3(H)&&arguments.length>1?propertyToRef(H,K,W):ref(H)}function propertyToRef(H,K,W){const G=H[K];return isRef(G)?G:new ObjectRefImpl(H,K,W)}class ComputedRefImpl{constructor(K,W,G){this.fn=K,this.setter=W,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!W,this.isSSR=G}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const K=this.dep.track();return refreshComputed(this),K&&(K.version=this.dep.version),this._value}set value(K){this.setter&&this.setter(K)}}function computed$1(H,K,W=!1){let G,U;return isFunction$2(H)?G=H:(G=H.get,U=H.set),new ComputedRefImpl(G,U,W)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(H,K=!1,W=activeWatcher){if(W){let G=cleanupMap.get(W);G||cleanupMap.set(W,G=[]),G.push(H)}}function watch$1(H,K,W=EMPTY_OBJ){const{immediate:G,deep:U,once:X,scheduler:Q,augmentJob:Z,call:ee}=W,ne=me=>U?me:isShallow(me)||U===!1||U===0?traverse(me,1):traverse(me);let te,oe,re,ae,se=!1,ce=!1;if(isRef(H)?(oe=()=>H.value,se=isShallow(H)):isReactive(H)?(oe=()=>ne(H),se=!0):isArray$3(H)?(ce=!0,se=H.some(me=>isReactive(me)||isShallow(me)),oe=()=>H.map(me=>{if(isRef(me))return me.value;if(isReactive(me))return ne(me);if(isFunction$2(me))return ee?ee(me,2):me()})):isFunction$2(H)?K?oe=ee?()=>ee(H,2):H:oe=()=>{if(re){pauseTracking();try{re()}finally{resetTracking()}}const me=activeWatcher;activeWatcher=te;try{return ee?ee(H,3,[ae]):H(ae)}finally{activeWatcher=me}}:oe=NOOP,K&&U){const me=oe,ue=U===!0?1/0:U;oe=()=>traverse(me(),ue)}const de=getCurrentScope(),le=()=>{te.stop(),de&&de.active&&remove$1(de.effects,te)};if(X&&K){const me=K;K=(...ue)=>{me(...ue),le()}}let fe=ce?new Array(H.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const pe=me=>{if(!(!(te.flags&1)||!te.dirty&&!me))if(K){const ue=te.run();if(U||se||(ce?ue.some((ge,he)=>hasChanged(ge,fe[he])):hasChanged(ue,fe))){re&&re();const ge=activeWatcher;activeWatcher=te;try{const he=[ue,fe===INITIAL_WATCHER_VALUE?void 0:ce&&fe[0]===INITIAL_WATCHER_VALUE?[]:fe,ae];fe=ue,ee?ee(K,3,he):K(...he)}finally{activeWatcher=ge}}}else te.run()};return Z&&Z(pe),te=new ReactiveEffect(oe),te.scheduler=Q?()=>Q(pe,!1):pe,ae=me=>onWatcherCleanup(me,!1,te),re=te.onStop=()=>{const me=cleanupMap.get(te);if(me){if(ee)ee(me,4);else for(const ue of me)ue();cleanupMap.delete(te)}},K?G?pe(!0):fe=te.run():Q?Q(pe.bind(null,!0),!0):te.run(),le.pause=te.pause.bind(te),le.resume=te.resume.bind(te),le.stop=le,le}function traverse(H,K=1/0,W){if(K<=0||!isObject$3(H)||H.__v_skip||(W=W||new Set,W.has(H)))return H;if(W.add(H),K--,isRef(H))traverse(H.value,K,W);else if(isArray$3(H))for(let G=0;G<H.length;G++)traverse(H[G],K,W);else if(isSet$1(H)||isMap$1(H))H.forEach(G=>{traverse(G,K,W)});else if(isPlainObject$1(H)){for(const G in H)traverse(H[G],K,W);for(const G of Object.getOwnPropertySymbols(H))Object.prototype.propertyIsEnumerable.call(H,G)&&traverse(H[G],K,W)}return H}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(H,...K){if(isWarning)return;isWarning=!0,pauseTracking();const W=stack.length?stack[stack.length-1].component:null,G=W&&W.appContext.config.warnHandler,U=getComponentTrace();if(G)callWithErrorHandling(G,W,11,[H+K.map(X=>{var Q,Z;return(Z=(Q=X.toString)==null?void 0:Q.call(X))!=null?Z:JSON.stringify(X)}).join(""),W&&W.proxy,U.map(({vnode:X})=>`at <${formatComponentName(W,X.type)}>`).join(`
`),U]);else{const X=[`[Vue warn]: ${H}`,...K];U.length&&X.push(`
`,...formatTrace(U)),console.warn(...X)}resetTracking(),isWarning=!1}function getComponentTrace(){let H=stack[stack.length-1];if(!H)return[];const K=[];for(;H;){const W=K[0];W&&W.vnode===H?W.recurseCount++:K.push({vnode:H,recurseCount:0});const G=H.component&&H.component.parent;H=G&&G.vnode}return K}function formatTrace(H){const K=[];return H.forEach((W,G)=>{K.push(...G===0?[]:[`
`],...formatTraceEntry(W))}),K}function formatTraceEntry({vnode:H,recurseCount:K}){const W=K>0?`... (${K} recursive calls)`:"",G=H.component?H.component.parent==null:!1,U=` at <${formatComponentName(H.component,H.type,G)}`,X=">"+W;return H.props?[U,...formatProps(H.props),X]:[U+X]}function formatProps(H){const K=[],W=Object.keys(H);return W.slice(0,3).forEach(G=>{K.push(...formatProp(G,H[G]))}),W.length>3&&K.push(" ..."),K}function formatProp(H,K,W){return isString$1(K)?(K=JSON.stringify(K),W?K:[`${H}=${K}`]):typeof K=="number"||typeof K=="boolean"||K==null?W?K:[`${H}=${K}`]:isRef(K)?(K=formatProp(H,toRaw(K.value),!0),W?K:[`${H}=Ref<`,K,">"]):isFunction$2(K)?[`${H}=fn${K.name?`<${K.name}>`:""}`]:(K=toRaw(K),W?K:[`${H}=`,K])}function callWithErrorHandling(H,K,W,G){try{return G?H(...G):H()}catch(U){handleError(U,K,W)}}function callWithAsyncErrorHandling(H,K,W,G){if(isFunction$2(H)){const U=callWithErrorHandling(H,K,W,G);return U&&isPromise(U)&&U.catch(X=>{handleError(X,K,W)}),U}if(isArray$3(H)){const U=[];for(let X=0;X<H.length;X++)U.push(callWithAsyncErrorHandling(H[X],K,W,G));return U}}function handleError(H,K,W,G=!0){const U=K?K.vnode:null,{errorHandler:X,throwUnhandledErrorInProduction:Q}=K&&K.appContext.config||EMPTY_OBJ;if(K){let Z=K.parent;const ee=K.proxy,ne=`https://vuejs.org/error-reference/#runtime-${W}`;for(;Z;){const te=Z.ec;if(te){for(let oe=0;oe<te.length;oe++)if(te[oe](H,ee,ne)===!1)return}Z=Z.parent}if(X){pauseTracking(),callWithErrorHandling(X,null,10,[H,ee,ne]),resetTracking();return}}logError(H,W,U,G,Q)}function logError(H,K,W,G=!0,U=!1){if(U)throw H;console.error(H)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(H){const K=currentFlushPromise||resolvedPromise;return H?K.then(this?H.bind(this):H):K}function findInsertionIndex$1(H){let K=flushIndex+1,W=queue.length;for(;K<W;){const G=K+W>>>1,U=queue[G],X=getId(U);X<H||X===H&&U.flags&2?K=G+1:W=G}return K}function queueJob(H){if(!(H.flags&1)){const K=getId(H),W=queue[queue.length-1];!W||!(H.flags&2)&&K>=getId(W)?queue.push(H):queue.splice(findInsertionIndex$1(K),0,H),H.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(H){isArray$3(H)?pendingPostFlushCbs.push(...H):activePostFlushCbs&&H.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,H):H.flags&1||(pendingPostFlushCbs.push(H),H.flags|=1),queueFlush()}function flushPreFlushCbs(H,K,W=flushIndex+1){for(;W<queue.length;W++){const G=queue[W];if(G&&G.flags&2){if(H&&G.id!==H.uid)continue;queue.splice(W,1),W--,G.flags&4&&(G.flags&=-2),G(),G.flags&4||(G.flags&=-2)}}}function flushPostFlushCbs(H){if(pendingPostFlushCbs.length){const K=[...new Set(pendingPostFlushCbs)].sort((W,G)=>getId(W)-getId(G));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...K);return}for(activePostFlushCbs=K,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const W=activePostFlushCbs[postFlushIndex];W.flags&4&&(W.flags&=-2),W.flags&8||W(),W.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=H=>H.id==null?H.flags&2?-1:1/0:H.id;function flushJobs(H){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const K=queue[flushIndex];K&&!(K.flags&8)&&(K.flags&4&&(K.flags&=-2),callWithErrorHandling(K,K.i,K.i?15:14),K.flags&4||(K.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const K=queue[flushIndex];K&&(K.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(H){const K=currentRenderingInstance;return currentRenderingInstance=H,currentScopeId=H&&H.type.__scopeId||null,K}function withCtx(H,K=currentRenderingInstance,W){if(!K||H._n)return H;const G=(...U)=>{G._d&&setBlockTracking(-1);const X=setCurrentRenderingInstance(K);let Q;try{Q=H(...U)}finally{setCurrentRenderingInstance(X),G._d&&setBlockTracking(1)}return Q};return G._n=!0,G._c=!0,G._d=!0,G}function withDirectives(H,K){if(currentRenderingInstance===null)return H;const W=getComponentPublicInstance(currentRenderingInstance),G=H.dirs||(H.dirs=[]);for(let U=0;U<K.length;U++){let[X,Q,Z,ee=EMPTY_OBJ]=K[U];X&&(isFunction$2(X)&&(X={mounted:X,updated:X}),X.deep&&traverse(Q),G.push({dir:X,instance:W,value:Q,oldValue:void 0,arg:Z,modifiers:ee}))}return H}function invokeDirectiveHook(H,K,W,G){const U=H.dirs,X=K&&K.dirs;for(let Q=0;Q<U.length;Q++){const Z=U[Q];X&&(Z.oldValue=X[Q].value);let ee=Z.dir[G];ee&&(pauseTracking(),callWithAsyncErrorHandling(ee,W,8,[H.el,Z,H,K]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=H=>H.__isTeleport,isTeleportDisabled=H=>H&&(H.disabled||H.disabled===""),isTeleportDeferred=H=>H&&(H.defer||H.defer===""),isTargetSVG=H=>typeof SVGElement<"u"&&H instanceof SVGElement,isTargetMathML=H=>typeof MathMLElement=="function"&&H instanceof MathMLElement,resolveTarget=(H,K)=>{const W=H&&H.to;return isString$1(W)?K?K(W):null:W},TeleportImpl={name:"Teleport",__isTeleport:!0,process(H,K,W,G,U,X,Q,Z,ee,ne){const{mc:te,pc:oe,pbc:re,o:{insert:ae,querySelector:se,createText:ce,createComment:de}}=ne,le=isTeleportDisabled(K.props);let{shapeFlag:fe,children:pe,dynamicChildren:me}=K;if(H==null){const ue=K.el=ce(""),ge=K.anchor=ce("");ae(ue,W,G),ae(ge,W,G);const he=(ye,be)=>{fe&16&&(U&&U.isCE&&(U.ce._teleportTarget=ye),te(pe,ye,be,U,X,Q,Z,ee))},ve=()=>{const ye=K.target=resolveTarget(K.props,se),be=prepareAnchor(ye,K,ce,ae);ye&&(Q!=="svg"&&isTargetSVG(ye)?Q="svg":Q!=="mathml"&&isTargetMathML(ye)&&(Q="mathml"),le||(he(ye,be),updateCssVars(K,!1)))};le&&(he(W,ge),updateCssVars(K,!0)),isTeleportDeferred(K.props)?(K.el.__isMounted=!1,queuePostRenderEffect(()=>{ve(),delete K.el.__isMounted},X)):ve()}else{if(isTeleportDeferred(K.props)&&H.el.__isMounted===!1){queuePostRenderEffect(()=>{TeleportImpl.process(H,K,W,G,U,X,Q,Z,ee,ne)},X);return}K.el=H.el,K.targetStart=H.targetStart;const ue=K.anchor=H.anchor,ge=K.target=H.target,he=K.targetAnchor=H.targetAnchor,ve=isTeleportDisabled(H.props),ye=ve?W:ge,be=ve?ue:he;if(Q==="svg"||isTargetSVG(ge)?Q="svg":(Q==="mathml"||isTargetMathML(ge))&&(Q="mathml"),me?(re(H.dynamicChildren,me,ye,U,X,Q,Z),traverseStaticChildren(H,K,!0)):ee||oe(H,K,ye,be,U,X,Q,Z,!1),le)ve?K.props&&H.props&&K.props.to!==H.props.to&&(K.props.to=H.props.to):moveTeleport(K,W,ue,ne,1);else if((K.props&&K.props.to)!==(H.props&&H.props.to)){const Se=K.target=resolveTarget(K.props,se);Se&&moveTeleport(K,Se,null,ne,0)}else ve&&moveTeleport(K,ge,he,ne,1);updateCssVars(K,le)}},remove(H,K,W,{um:G,o:{remove:U}},X){const{shapeFlag:Q,children:Z,anchor:ee,targetStart:ne,targetAnchor:te,target:oe,props:re}=H;if(oe&&(U(ne),U(te)),X&&U(ee),Q&16){const ae=X||!isTeleportDisabled(re);for(let se=0;se<Z.length;se++){const ce=Z[se];G(ce,K,W,ae,!!ce.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(H,K,W,{o:{insert:G},m:U},X=2){X===0&&G(H.targetAnchor,K,W);const{el:Q,anchor:Z,shapeFlag:ee,children:ne,props:te}=H,oe=X===2;if(oe&&G(Q,K,W),(!oe||isTeleportDisabled(te))&&ee&16)for(let re=0;re<ne.length;re++)U(ne[re],K,W,2);oe&&G(Z,K,W)}function hydrateTeleport(H,K,W,G,U,X,{o:{nextSibling:Q,parentNode:Z,querySelector:ee,insert:ne,createText:te}},oe){const re=K.target=resolveTarget(K.props,ee);if(re){const ae=isTeleportDisabled(K.props),se=re._lpa||re.firstChild;if(K.shapeFlag&16)if(ae)K.anchor=oe(Q(H),K,Z(H),W,G,U,X),K.targetStart=se,K.targetAnchor=se&&Q(se);else{K.anchor=Q(H);let ce=se;for(;ce;){if(ce&&ce.nodeType===8){if(ce.data==="teleport start anchor")K.targetStart=ce;else if(ce.data==="teleport anchor"){K.targetAnchor=ce,re._lpa=K.targetAnchor&&Q(K.targetAnchor);break}}ce=Q(ce)}K.targetAnchor||prepareAnchor(re,K,te,ne),oe(se&&Q(se),K,re,W,G,U,X)}updateCssVars(K,ae)}return K.anchor&&Q(K.anchor)}const Teleport=TeleportImpl;function updateCssVars(H,K){const W=H.ctx;if(W&&W.ut){let G,U;for(K?(G=H.el,U=H.anchor):(G=H.targetStart,U=H.targetAnchor);G&&G!==U;)G.nodeType===1&&G.setAttribute("data-v-owner",W.uid),G=G.nextSibling;W.ut()}}function prepareAnchor(H,K,W,G){const U=K.targetStart=W(""),X=K.targetAnchor=W("");return U[TeleportEndKey]=X,H&&(G(U,H),G(X,H)),X}const leaveCbKey=Symbol("_leaveCb"),enterCbKey$1=Symbol("_enterCb");function useTransitionState(){const H={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{H.isMounted=!0}),onBeforeUnmount(()=>{H.isUnmounting=!0}),H}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},recursiveGetSubtree=H=>{const K=H.subTree;return K.component?recursiveGetSubtree(K.component):K},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(H,{slots:K}){const W=getCurrentInstance(),G=useTransitionState();return()=>{const U=K.default&&getTransitionRawChildren(K.default(),!0);if(!U||!U.length)return;const X=findNonCommentChild(U),Q=toRaw(H),{mode:Z}=Q;if(G.isLeaving)return emptyPlaceholder(X);const ee=getInnerChild$1(X);if(!ee)return emptyPlaceholder(X);let ne=resolveTransitionHooks(ee,Q,G,W,oe=>ne=oe);ee.type!==Comment&&setTransitionHooks(ee,ne);let te=W.subTree&&getInnerChild$1(W.subTree);if(te&&te.type!==Comment&&!isSameVNodeType(ee,te)&&recursiveGetSubtree(W).type!==Comment){let oe=resolveTransitionHooks(te,Q,G,W);if(setTransitionHooks(te,oe),Z==="out-in"&&ee.type!==Comment)return G.isLeaving=!0,oe.afterLeave=()=>{G.isLeaving=!1,W.job.flags&8||W.update(),delete oe.afterLeave,te=void 0},emptyPlaceholder(X);Z==="in-out"&&ee.type!==Comment?oe.delayLeave=(re,ae,se)=>{const ce=getLeavingNodesForType(G,te);ce[String(te.key)]=te,re[leaveCbKey]=()=>{ae(),re[leaveCbKey]=void 0,delete ne.delayedLeave,te=void 0},ne.delayedLeave=()=>{se(),delete ne.delayedLeave,te=void 0}}:te=void 0}else te&&(te=void 0);return X}}};function findNonCommentChild(H){let K=H[0];if(H.length>1){for(const W of H)if(W.type!==Comment){K=W;break}}return K}const BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(H,K){const{leavingVNodes:W}=H;let G=W.get(K.type);return G||(G=Object.create(null),W.set(K.type,G)),G}function resolveTransitionHooks(H,K,W,G,U){const{appear:X,mode:Q,persisted:Z=!1,onBeforeEnter:ee,onEnter:ne,onAfterEnter:te,onEnterCancelled:oe,onBeforeLeave:re,onLeave:ae,onAfterLeave:se,onLeaveCancelled:ce,onBeforeAppear:de,onAppear:le,onAfterAppear:fe,onAppearCancelled:pe}=K,me=String(H.key),ue=getLeavingNodesForType(W,H),ge=(ye,be)=>{ye&&callWithAsyncErrorHandling(ye,G,9,be)},he=(ye,be)=>{const Se=be[1];ge(ye,be),isArray$3(ye)?ye.every(Ce=>Ce.length<=1)&&Se():ye.length<=1&&Se()},ve={mode:Q,persisted:Z,beforeEnter(ye){let be=ee;if(!W.isMounted)if(X)be=de||ee;else return;ye[leaveCbKey]&&ye[leaveCbKey](!0);const Se=ue[me];Se&&isSameVNodeType(H,Se)&&Se.el[leaveCbKey]&&Se.el[leaveCbKey](),ge(be,[ye])},enter(ye){let be=ne,Se=te,Ce=oe;if(!W.isMounted)if(X)be=le||ne,Se=fe||te,Ce=pe||oe;else return;let xe=!1;const Ne=ye[enterCbKey$1]=$e=>{xe||(xe=!0,$e?ge(Ce,[ye]):ge(Se,[ye]),ve.delayedLeave&&ve.delayedLeave(),ye[enterCbKey$1]=void 0)};be?he(be,[ye,Ne]):Ne()},leave(ye,be){const Se=String(H.key);if(ye[enterCbKey$1]&&ye[enterCbKey$1](!0),W.isUnmounting)return be();ge(re,[ye]);let Ce=!1;const xe=ye[leaveCbKey]=Ne=>{Ce||(Ce=!0,be(),Ne?ge(ce,[ye]):ge(se,[ye]),ye[leaveCbKey]=void 0,ue[Se]===H&&delete ue[Se])};ue[Se]=H,ae?he(ae,[ye,xe]):xe()},clone(ye){const be=resolveTransitionHooks(ye,K,W,G,U);return U&&U(be),be}};return ve}function emptyPlaceholder(H){if(isKeepAlive(H))return H=cloneVNode(H),H.children=null,H}function getInnerChild$1(H){if(!isKeepAlive(H))return isTeleport(H.type)&&H.children?findNonCommentChild(H.children):H;if(H.component)return H.component.subTree;const{shapeFlag:K,children:W}=H;if(W){if(K&16)return W[0];if(K&32&&isFunction$2(W.default))return W.default()}}function setTransitionHooks(H,K){H.shapeFlag&6&&H.component?(H.transition=K,setTransitionHooks(H.component.subTree,K)):H.shapeFlag&128?(H.ssContent.transition=K.clone(H.ssContent),H.ssFallback.transition=K.clone(H.ssFallback)):H.transition=K}function getTransitionRawChildren(H,K=!1,W){let G=[],U=0;for(let X=0;X<H.length;X++){let Q=H[X];const Z=W==null?Q.key:String(W)+String(Q.key!=null?Q.key:X);Q.type===Fragment?(Q.patchFlag&128&&U++,G=G.concat(getTransitionRawChildren(Q.children,K,Z))):(K||Q.type!==Comment)&&G.push(Z!=null?cloneVNode(Q,{key:Z}):Q)}if(U>1)for(let X=0;X<G.length;X++)G[X].patchFlag=-2;return G}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(H,K){return isFunction$2(H)?extend({name:H.name},K,{setup:H}):H}function markAsyncBoundary(H){H.ids=[H.ids[0]+H.ids[2]+++"-",0,0]}function setRef(H,K,W,G,U=!1){if(isArray$3(H)){H.forEach((se,ce)=>setRef(se,K&&(isArray$3(K)?K[ce]:K),W,G,U));return}if(isAsyncWrapper(G)&&!U){G.shapeFlag&512&&G.type.__asyncResolved&&G.component.subTree.component&&setRef(H,K,W,G.component.subTree);return}const X=G.shapeFlag&4?getComponentPublicInstance(G.component):G.el,Q=U?null:X,{i:Z,r:ee}=H,ne=K&&K.r,te=Z.refs===EMPTY_OBJ?Z.refs={}:Z.refs,oe=Z.setupState,re=toRaw(oe),ae=oe===EMPTY_OBJ?()=>!1:se=>hasOwn$1(re,se);if(ne!=null&&ne!==ee&&(isString$1(ne)?(te[ne]=null,ae(ne)&&(oe[ne]=null)):isRef(ne)&&(ne.value=null)),isFunction$2(ee))callWithErrorHandling(ee,Z,12,[Q,te]);else{const se=isString$1(ee),ce=isRef(ee);if(se||ce){const de=()=>{if(H.f){const le=se?ae(ee)?oe[ee]:te[ee]:ee.value;U?isArray$3(le)&&remove$1(le,X):isArray$3(le)?le.includes(X)||le.push(X):se?(te[ee]=[X],ae(ee)&&(oe[ee]=te[ee])):(ee.value=[X],H.k&&(te[H.k]=ee.value))}else se?(te[ee]=Q,ae(ee)&&(oe[ee]=Q)):ce&&(ee.value=Q,H.k&&(te[H.k]=Q))};Q?(de.id=-1,queuePostRenderEffect(de,W)):de()}}}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=H=>!!H.type.__asyncLoader,isKeepAlive=H=>H.type.__isKeepAlive;function onActivated(H,K){registerKeepAliveHook(H,"a",K)}function onDeactivated(H,K){registerKeepAliveHook(H,"da",K)}function registerKeepAliveHook(H,K,W=currentInstance){const G=H.__wdc||(H.__wdc=()=>{let U=W;for(;U;){if(U.isDeactivated)return;U=U.parent}return H()});if(injectHook(K,G,W),W){let U=W.parent;for(;U&&U.parent;)isKeepAlive(U.parent.vnode)&&injectToKeepAliveRoot(G,K,W,U),U=U.parent}}function injectToKeepAliveRoot(H,K,W,G){const U=injectHook(K,H,G,!0);onUnmounted(()=>{remove$1(G[K],U)},W)}function injectHook(H,K,W=currentInstance,G=!1){if(W){const U=W[H]||(W[H]=[]),X=K.__weh||(K.__weh=(...Q)=>{pauseTracking();const Z=setCurrentInstance(W),ee=callWithAsyncErrorHandling(K,W,H,Q);return Z(),resetTracking(),ee});return G?U.unshift(X):U.push(X),X}}const createHook=H=>(K,W=currentInstance)=>{(!isInSSRComponentSetup||H==="sp")&&injectHook(H,(...G)=>K(...G),W)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(H,K=currentInstance){injectHook("ec",H,K)}const COMPONENTS="components",DIRECTIVES="directives",NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(H){return isString$1(H)?resolveAsset(COMPONENTS,H,!1)||H:H||NULL_DYNAMIC_COMPONENT}function resolveDirective(H){return resolveAsset(DIRECTIVES,H)}function resolveAsset(H,K,W=!0,G=!1){const U=currentRenderingInstance||currentInstance;if(U){const X=U.type;if(H===COMPONENTS){const Z=getComponentName(X,!1);if(Z&&(Z===K||Z===camelize$1(K)||Z===capitalize$1(camelize$1(K))))return X}const Q=resolve(U[H]||X[H],K)||resolve(U.appContext[H],K);return!Q&&G?X:Q}}function resolve(H,K){return H&&(H[K]||H[camelize$1(K)]||H[capitalize$1(camelize$1(K))])}function renderList(H,K,W,G){let U;const X=W,Q=isArray$3(H);if(Q||isString$1(H)){const Z=Q&&isReactive(H);let ee=!1,ne=!1;Z&&(ee=!isShallow(H),ne=isReadonly(H),H=shallowReadArray(H)),U=new Array(H.length);for(let te=0,oe=H.length;te<oe;te++)U[te]=K(ee?ne?toReadonly(toReactive$1(H[te])):toReactive$1(H[te]):H[te],te,void 0,X)}else if(typeof H=="number"){U=new Array(H);for(let Z=0;Z<H;Z++)U[Z]=K(Z+1,Z,void 0,X)}else if(isObject$3(H))if(H[Symbol.iterator])U=Array.from(H,(Z,ee)=>K(Z,ee,void 0,X));else{const Z=Object.keys(H);U=new Array(Z.length);for(let ee=0,ne=Z.length;ee<ne;ee++){const te=Z[ee];U[ee]=K(H[te],te,ee,X)}}else U=[];return U}function renderSlot(H,K,W={},G,U){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce)return K!=="default"&&(W.name=K),openBlock(),createBlock(Fragment,null,[createVNode("slot",W,G)],64);let X=H[K];X&&X._c&&(X._d=!1),openBlock();const Q=X&&ensureValidVNode$1(X(W)),Z=W.key||Q&&Q.key,ee=createBlock(Fragment,{key:(Z&&!isSymbol$1(Z)?Z:`_${K}`)+""},Q||[],Q&&H._===1?64:-2);return X&&X._c&&(X._d=!0),ee}function ensureValidVNode$1(H){return H.some(K=>isVNode(K)?!(K.type===Comment||K.type===Fragment&&!ensureValidVNode$1(K.children)):!0)?H:null}const getPublicInstance=H=>H?isStatefulComponent(H)?getComponentPublicInstance(H):getPublicInstance(H.parent):null,publicPropertiesMap=extend(Object.create(null),{$:H=>H,$el:H=>H.vnode.el,$data:H=>H.data,$props:H=>H.props,$attrs:H=>H.attrs,$slots:H=>H.slots,$refs:H=>H.refs,$parent:H=>getPublicInstance(H.parent),$root:H=>getPublicInstance(H.root),$host:H=>H.ce,$emit:H=>H.emit,$options:H=>resolveMergedOptions(H),$forceUpdate:H=>H.f||(H.f=()=>{queueJob(H.update)}),$nextTick:H=>H.n||(H.n=nextTick.bind(H.proxy)),$watch:H=>instanceWatch.bind(H)}),hasSetupBinding=(H,K)=>H!==EMPTY_OBJ&&!H.__isScriptSetup&&hasOwn$1(H,K),PublicInstanceProxyHandlers={get({_:H},K){if(K==="__v_skip")return!0;const{ctx:W,setupState:G,data:U,props:X,accessCache:Q,type:Z,appContext:ee}=H;let ne;if(K[0]!=="$"){const ae=Q[K];if(ae!==void 0)switch(ae){case 1:return G[K];case 2:return U[K];case 4:return W[K];case 3:return X[K]}else{if(hasSetupBinding(G,K))return Q[K]=1,G[K];if(U!==EMPTY_OBJ&&hasOwn$1(U,K))return Q[K]=2,U[K];if((ne=H.propsOptions[0])&&hasOwn$1(ne,K))return Q[K]=3,X[K];if(W!==EMPTY_OBJ&&hasOwn$1(W,K))return Q[K]=4,W[K];shouldCacheAccess&&(Q[K]=0)}}const te=publicPropertiesMap[K];let oe,re;if(te)return K==="$attrs"&&track(H.attrs,"get",""),te(H);if((oe=Z.__cssModules)&&(oe=oe[K]))return oe;if(W!==EMPTY_OBJ&&hasOwn$1(W,K))return Q[K]=4,W[K];if(re=ee.config.globalProperties,hasOwn$1(re,K))return re[K]},set({_:H},K,W){const{data:G,setupState:U,ctx:X}=H;return hasSetupBinding(U,K)?(U[K]=W,!0):G!==EMPTY_OBJ&&hasOwn$1(G,K)?(G[K]=W,!0):hasOwn$1(H.props,K)||K[0]==="$"&&K.slice(1)in H?!1:(X[K]=W,!0)},has({_:{data:H,setupState:K,accessCache:W,ctx:G,appContext:U,propsOptions:X}},Q){let Z;return!!W[Q]||H!==EMPTY_OBJ&&hasOwn$1(H,Q)||hasSetupBinding(K,Q)||(Z=X[0])&&hasOwn$1(Z,Q)||hasOwn$1(G,Q)||hasOwn$1(publicPropertiesMap,Q)||hasOwn$1(U.config.globalProperties,Q)},defineProperty(H,K,W){return W.get!=null?H._.accessCache[K]=0:hasOwn$1(W,"value")&&this.set(H,K,W.value,null),Reflect.defineProperty(H,K,W)}};function normalizePropsOrEmits(H){return isArray$3(H)?H.reduce((K,W)=>(K[W]=null,K),{}):H}let shouldCacheAccess=!0;function applyOptions(H){const K=resolveMergedOptions(H),W=H.proxy,G=H.ctx;shouldCacheAccess=!1,K.beforeCreate&&callHook$1(K.beforeCreate,H,"bc");const{data:U,computed:X,methods:Q,watch:Z,provide:ee,inject:ne,created:te,beforeMount:oe,mounted:re,beforeUpdate:ae,updated:se,activated:ce,deactivated:de,beforeDestroy:le,beforeUnmount:fe,destroyed:pe,unmounted:me,render:ue,renderTracked:ge,renderTriggered:he,errorCaptured:ve,serverPrefetch:ye,expose:be,inheritAttrs:Se,components:Ce,directives:xe,filters:Ne}=K;if(ne&&resolveInjections(ne,G,null),Q)for(const Te in Q){const Be=Q[Te];isFunction$2(Be)&&(G[Te]=Be.bind(W))}if(U){const Te=U.call(W,W);isObject$3(Te)&&(H.data=reactive(Te))}if(shouldCacheAccess=!0,X)for(const Te in X){const Be=X[Te],Ae=isFunction$2(Be)?Be.bind(W,W):isFunction$2(Be.get)?Be.get.bind(W,W):NOOP,ze=!isFunction$2(Be)&&isFunction$2(Be.set)?Be.set.bind(W):NOOP,We=computed({get:Ae,set:ze});Object.defineProperty(G,Te,{enumerable:!0,configurable:!0,get:()=>We.value,set:Le=>We.value=Le})}if(Z)for(const Te in Z)createWatcher(Z[Te],G,W,Te);if(ee){const Te=isFunction$2(ee)?ee.call(W):ee;Reflect.ownKeys(Te).forEach(Be=>{provide(Be,Te[Be])})}te&&callHook$1(te,H,"c");function Ee(Te,Be){isArray$3(Be)?Be.forEach(Ae=>Te(Ae.bind(W))):Be&&Te(Be.bind(W))}if(Ee(onBeforeMount,oe),Ee(onMounted,re),Ee(onBeforeUpdate,ae),Ee(onUpdated,se),Ee(onActivated,ce),Ee(onDeactivated,de),Ee(onErrorCaptured,ve),Ee(onRenderTracked,ge),Ee(onRenderTriggered,he),Ee(onBeforeUnmount,fe),Ee(onUnmounted,me),Ee(onServerPrefetch,ye),isArray$3(be))if(be.length){const Te=H.exposed||(H.exposed={});be.forEach(Be=>{Object.defineProperty(Te,Be,{get:()=>W[Be],set:Ae=>W[Be]=Ae})})}else H.exposed||(H.exposed={});ue&&H.render===NOOP&&(H.render=ue),Se!=null&&(H.inheritAttrs=Se),Ce&&(H.components=Ce),xe&&(H.directives=xe),ye&&markAsyncBoundary(H)}function resolveInjections(H,K,W=NOOP){isArray$3(H)&&(H=normalizeInject(H));for(const G in H){const U=H[G];let X;isObject$3(U)?"default"in U?X=inject(U.from||G,U.default,!0):X=inject(U.from||G):X=inject(U),isRef(X)?Object.defineProperty(K,G,{enumerable:!0,configurable:!0,get:()=>X.value,set:Q=>X.value=Q}):K[G]=X}}function callHook$1(H,K,W){callWithAsyncErrorHandling(isArray$3(H)?H.map(G=>G.bind(K.proxy)):H.bind(K.proxy),K,W)}function createWatcher(H,K,W,G){let U=G.includes(".")?createPathGetter(W,G):()=>W[G];if(isString$1(H)){const X=K[H];isFunction$2(X)&&watch(U,X)}else if(isFunction$2(H))watch(U,H.bind(W));else if(isObject$3(H))if(isArray$3(H))H.forEach(X=>createWatcher(X,K,W,G));else{const X=isFunction$2(H.handler)?H.handler.bind(W):K[H.handler];isFunction$2(X)&&watch(U,X,H)}}function resolveMergedOptions(H){const K=H.type,{mixins:W,extends:G}=K,{mixins:U,optionsCache:X,config:{optionMergeStrategies:Q}}=H.appContext,Z=X.get(K);let ee;return Z?ee=Z:!U.length&&!W&&!G?ee=K:(ee={},U.length&&U.forEach(ne=>mergeOptions$1(ee,ne,Q,!0)),mergeOptions$1(ee,K,Q)),isObject$3(K)&&X.set(K,ee),ee}function mergeOptions$1(H,K,W,G=!1){const{mixins:U,extends:X}=K;X&&mergeOptions$1(H,X,W,!0),U&&U.forEach(Q=>mergeOptions$1(H,Q,W,!0));for(const Q in K)if(!(G&&Q==="expose")){const Z=internalOptionMergeStrats[Q]||W&&W[Q];H[Q]=Z?Z(H[Q],K[Q]):K[Q]}return H}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(H,K){return K?H?function(){return extend(isFunction$2(H)?H.call(this,this):H,isFunction$2(K)?K.call(this,this):K)}:K:H}function mergeInject(H,K){return mergeObjectOptions(normalizeInject(H),normalizeInject(K))}function normalizeInject(H){if(isArray$3(H)){const K={};for(let W=0;W<H.length;W++)K[H[W]]=H[W];return K}return H}function mergeAsArray(H,K){return H?[...new Set([].concat(H,K))]:K}function mergeObjectOptions(H,K){return H?extend(Object.create(null),H,K):K}function mergeEmitsOrPropsOptions(H,K){return H?isArray$3(H)&&isArray$3(K)?[...new Set([...H,...K])]:extend(Object.create(null),normalizePropsOrEmits(H),normalizePropsOrEmits(K??{})):K}function mergeWatchOptions(H,K){if(!H)return K;if(!K)return H;const W=extend(Object.create(null),H);for(const G in K)W[G]=mergeAsArray(H[G],K[G]);return W}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(H,K){return function(G,U=null){isFunction$2(G)||(G=extend({},G)),U!=null&&!isObject$3(U)&&(U=null);const X=createAppContext(),Q=new WeakSet,Z=[];let ee=!1;const ne=X.app={_uid:uid$1++,_component:G,_props:U,_container:null,_context:X,_instance:null,version:version$1,get config(){return X.config},set config(te){},use(te,...oe){return Q.has(te)||(te&&isFunction$2(te.install)?(Q.add(te),te.install(ne,...oe)):isFunction$2(te)&&(Q.add(te),te(ne,...oe))),ne},mixin(te){return X.mixins.includes(te)||X.mixins.push(te),ne},component(te,oe){return oe?(X.components[te]=oe,ne):X.components[te]},directive(te,oe){return oe?(X.directives[te]=oe,ne):X.directives[te]},mount(te,oe,re){if(!ee){const ae=ne._ceVNode||createVNode(G,U);return ae.appContext=X,re===!0?re="svg":re===!1&&(re=void 0),H(ae,te,re),ee=!0,ne._container=te,te.__vue_app__=ne,getComponentPublicInstance(ae.component)}},onUnmount(te){Z.push(te)},unmount(){ee&&(callWithAsyncErrorHandling(Z,ne._instance,16),H(null,ne._container),delete ne._container.__vue_app__)},provide(te,oe){return X.provides[te]=oe,ne},runWithContext(te){const oe=currentApp;currentApp=ne;try{return te()}finally{currentApp=oe}}};return ne}}let currentApp=null;function provide(H,K){if(currentInstance){let W=currentInstance.provides;const G=currentInstance.parent&&currentInstance.parent.provides;G===W&&(W=currentInstance.provides=Object.create(G)),W[H]=K}}function inject(H,K,W=!1){const G=currentInstance||currentRenderingInstance;if(G||currentApp){let U=currentApp?currentApp._context.provides:G?G.parent==null||G.ce?G.vnode.appContext&&G.vnode.appContext.provides:G.parent.provides:void 0;if(U&&H in U)return U[H];if(arguments.length>1)return W&&isFunction$2(K)?K.call(G&&G.proxy):K}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=H=>Object.getPrototypeOf(H)===internalObjectProto;function initProps(H,K,W,G=!1){const U={},X=createInternalObject();H.propsDefaults=Object.create(null),setFullProps(H,K,U,X);for(const Q in H.propsOptions[0])Q in U||(U[Q]=void 0);W?H.props=G?U:shallowReactive(U):H.type.props?H.props=U:H.props=X,H.attrs=X}function updateProps(H,K,W,G){const{props:U,attrs:X,vnode:{patchFlag:Q}}=H,Z=toRaw(U),[ee]=H.propsOptions;let ne=!1;if((G||Q>0)&&!(Q&16)){if(Q&8){const te=H.vnode.dynamicProps;for(let oe=0;oe<te.length;oe++){let re=te[oe];if(isEmitListener(H.emitsOptions,re))continue;const ae=K[re];if(ee)if(hasOwn$1(X,re))ae!==X[re]&&(X[re]=ae,ne=!0);else{const se=camelize$1(re);U[se]=resolvePropValue$1(ee,Z,se,ae,H,!1)}else ae!==X[re]&&(X[re]=ae,ne=!0)}}}else{setFullProps(H,K,U,X)&&(ne=!0);let te;for(const oe in Z)(!K||!hasOwn$1(K,oe)&&((te=hyphenate$1(oe))===oe||!hasOwn$1(K,te)))&&(ee?W&&(W[oe]!==void 0||W[te]!==void 0)&&(U[oe]=resolvePropValue$1(ee,Z,oe,void 0,H,!0)):delete U[oe]);if(X!==Z)for(const oe in X)(!K||!hasOwn$1(K,oe))&&(delete X[oe],ne=!0)}ne&&trigger(H.attrs,"set","")}function setFullProps(H,K,W,G){const[U,X]=H.propsOptions;let Q=!1,Z;if(K)for(let ee in K){if(isReservedProp(ee))continue;const ne=K[ee];let te;U&&hasOwn$1(U,te=camelize$1(ee))?!X||!X.includes(te)?W[te]=ne:(Z||(Z={}))[te]=ne:isEmitListener(H.emitsOptions,ee)||(!(ee in G)||ne!==G[ee])&&(G[ee]=ne,Q=!0)}if(X){const ee=toRaw(W),ne=Z||EMPTY_OBJ;for(let te=0;te<X.length;te++){const oe=X[te];W[oe]=resolvePropValue$1(U,ee,oe,ne[oe],H,!hasOwn$1(ne,oe))}}return Q}function resolvePropValue$1(H,K,W,G,U,X){const Q=H[W];if(Q!=null){const Z=hasOwn$1(Q,"default");if(Z&&G===void 0){const ee=Q.default;if(Q.type!==Function&&!Q.skipFactory&&isFunction$2(ee)){const{propsDefaults:ne}=U;if(W in ne)G=ne[W];else{const te=setCurrentInstance(U);G=ne[W]=ee.call(null,K),te()}}else G=ee;U.ce&&U.ce._setProp(W,G)}Q[0]&&(X&&!Z?G=!1:Q[1]&&(G===""||G===hyphenate$1(W))&&(G=!0))}return G}const mixinPropsCache=new WeakMap;function normalizePropsOptions(H,K,W=!1){const G=W?mixinPropsCache:K.propsCache,U=G.get(H);if(U)return U;const X=H.props,Q={},Z=[];let ee=!1;if(!isFunction$2(H)){const te=oe=>{ee=!0;const[re,ae]=normalizePropsOptions(oe,K,!0);extend(Q,re),ae&&Z.push(...ae)};!W&&K.mixins.length&&K.mixins.forEach(te),H.extends&&te(H.extends),H.mixins&&H.mixins.forEach(te)}if(!X&&!ee)return isObject$3(H)&&G.set(H,EMPTY_ARR),EMPTY_ARR;if(isArray$3(X))for(let te=0;te<X.length;te++){const oe=camelize$1(X[te]);validatePropName(oe)&&(Q[oe]=EMPTY_OBJ)}else if(X)for(const te in X){const oe=camelize$1(te);if(validatePropName(oe)){const re=X[te],ae=Q[oe]=isArray$3(re)||isFunction$2(re)?{type:re}:extend({},re),se=ae.type;let ce=!1,de=!0;if(isArray$3(se))for(let le=0;le<se.length;++le){const fe=se[le],pe=isFunction$2(fe)&&fe.name;if(pe==="Boolean"){ce=!0;break}else pe==="String"&&(de=!1)}else ce=isFunction$2(se)&&se.name==="Boolean";ae[0]=ce,ae[1]=de,(ce||hasOwn$1(ae,"default"))&&Z.push(oe)}}const ne=[Q,Z];return isObject$3(H)&&G.set(H,ne),ne}function validatePropName(H){return H[0]!=="$"&&!isReservedProp(H)}const isInternalKey=H=>H[0]==="_"||H==="$stable",normalizeSlotValue=H=>isArray$3(H)?H.map(normalizeVNode):[normalizeVNode(H)],normalizeSlot$1=(H,K,W)=>{if(K._n)return K;const G=withCtx((...U)=>normalizeSlotValue(K(...U)),W);return G._c=!1,G},normalizeObjectSlots=(H,K,W)=>{const G=H._ctx;for(const U in H){if(isInternalKey(U))continue;const X=H[U];if(isFunction$2(X))K[U]=normalizeSlot$1(U,X,G);else if(X!=null){const Q=normalizeSlotValue(X);K[U]=()=>Q}}},normalizeVNodeSlots=(H,K)=>{const W=normalizeSlotValue(K);H.slots.default=()=>W},assignSlots=(H,K,W)=>{for(const G in K)(W||!isInternalKey(G))&&(H[G]=K[G])},initSlots=(H,K,W)=>{const G=H.slots=createInternalObject();if(H.vnode.shapeFlag&32){const U=K.__;U&&def(G,"__",U,!0);const X=K._;X?(assignSlots(G,K,W),W&&def(G,"_",X,!0)):normalizeObjectSlots(K,G)}else K&&normalizeVNodeSlots(H,K)},updateSlots=(H,K,W)=>{const{vnode:G,slots:U}=H;let X=!0,Q=EMPTY_OBJ;if(G.shapeFlag&32){const Z=K._;Z?W&&Z===1?X=!1:assignSlots(U,K,W):(X=!K.$stable,normalizeObjectSlots(K,U)),Q=K}else K&&(normalizeVNodeSlots(H,K),Q={default:1});if(X)for(const Z in U)!isInternalKey(Z)&&Q[Z]==null&&delete U[Z]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(H){return baseCreateRenderer(H)}function baseCreateRenderer(H,K){const W=getGlobalThis();W.__VUE__=!0;const{insert:G,remove:U,patchProp:X,createElement:Q,createText:Z,createComment:ee,setText:ne,setElementText:te,parentNode:oe,nextSibling:re,setScopeId:ae=NOOP,insertStaticContent:se}=H,ce=(Pe,ke,Ue,He=null,Me=null,Je=null,Fe=void 0,Oe=null,Qe=!!ke.dynamicChildren)=>{if(Pe===ke)return;Pe&&!isSameVNodeType(Pe,ke)&&(He=we(Pe),Le(Pe,Me,Je,!0),Pe=null),ke.patchFlag===-2&&(Qe=!1,ke.dynamicChildren=null);const{type:Ie,ref:De,shapeFlag:ot}=ke;switch(Ie){case Text$1:de(Pe,ke,Ue,He);break;case Comment:le(Pe,ke,Ue,He);break;case Static:Pe==null&&fe(ke,Ue,He,Fe);break;case Fragment:Ce(Pe,ke,Ue,He,Me,Je,Fe,Oe,Qe);break;default:ot&1?ue(Pe,ke,Ue,He,Me,Je,Fe,Oe,Qe):ot&6?xe(Pe,ke,Ue,He,Me,Je,Fe,Oe,Qe):(ot&64||ot&128)&&Ie.process(Pe,ke,Ue,He,Me,Je,Fe,Oe,Qe,je)}De!=null&&Me?setRef(De,Pe&&Pe.ref,Je,ke||Pe,!ke):De==null&&Pe&&Pe.ref!=null&&setRef(Pe.ref,null,Je,Pe,!0)},de=(Pe,ke,Ue,He)=>{if(Pe==null)G(ke.el=Z(ke.children),Ue,He);else{const Me=ke.el=Pe.el;ke.children!==Pe.children&&ne(Me,ke.children)}},le=(Pe,ke,Ue,He)=>{Pe==null?G(ke.el=ee(ke.children||""),Ue,He):ke.el=Pe.el},fe=(Pe,ke,Ue,He)=>{[Pe.el,Pe.anchor]=se(Pe.children,ke,Ue,He,Pe.el,Pe.anchor)},pe=({el:Pe,anchor:ke},Ue,He)=>{let Me;for(;Pe&&Pe!==ke;)Me=re(Pe),G(Pe,Ue,He),Pe=Me;G(ke,Ue,He)},me=({el:Pe,anchor:ke})=>{let Ue;for(;Pe&&Pe!==ke;)Ue=re(Pe),U(Pe),Pe=Ue;U(ke)},ue=(Pe,ke,Ue,He,Me,Je,Fe,Oe,Qe)=>{ke.type==="svg"?Fe="svg":ke.type==="math"&&(Fe="mathml"),Pe==null?ge(ke,Ue,He,Me,Je,Fe,Oe,Qe):ye(Pe,ke,Me,Je,Fe,Oe,Qe)},ge=(Pe,ke,Ue,He,Me,Je,Fe,Oe)=>{let Qe,Ie;const{props:De,shapeFlag:ot,transition:st,dirs:et}=Pe;if(Qe=Pe.el=Q(Pe.type,Je,De&&De.is,De),ot&8?te(Qe,Pe.children):ot&16&&ve(Pe.children,Qe,null,He,Me,resolveChildrenNamespace(Pe,Je),Fe,Oe),et&&invokeDirectiveHook(Pe,null,He,"created"),he(Qe,Pe,Pe.scopeId,Fe,He),De){for(const it in De)it!=="value"&&!isReservedProp(it)&&X(Qe,it,null,De[it],Je,He);"value"in De&&X(Qe,"value",null,De.value,Je),(Ie=De.onVnodeBeforeMount)&&invokeVNodeHook(Ie,He,Pe)}et&&invokeDirectiveHook(Pe,null,He,"beforeMount");const nt=needTransition(Me,st);nt&&st.beforeEnter(Qe),G(Qe,ke,Ue),((Ie=De&&De.onVnodeMounted)||nt||et)&&queuePostRenderEffect(()=>{Ie&&invokeVNodeHook(Ie,He,Pe),nt&&st.enter(Qe),et&&invokeDirectiveHook(Pe,null,He,"mounted")},Me)},he=(Pe,ke,Ue,He,Me)=>{if(Ue&&ae(Pe,Ue),He)for(let Je=0;Je<He.length;Je++)ae(Pe,He[Je]);if(Me){let Je=Me.subTree;if(ke===Je||isSuspense(Je.type)&&(Je.ssContent===ke||Je.ssFallback===ke)){const Fe=Me.vnode;he(Pe,Fe,Fe.scopeId,Fe.slotScopeIds,Me.parent)}}},ve=(Pe,ke,Ue,He,Me,Je,Fe,Oe,Qe=0)=>{for(let Ie=Qe;Ie<Pe.length;Ie++){const De=Pe[Ie]=Oe?cloneIfMounted(Pe[Ie]):normalizeVNode(Pe[Ie]);ce(null,De,ke,Ue,He,Me,Je,Fe,Oe)}},ye=(Pe,ke,Ue,He,Me,Je,Fe)=>{const Oe=ke.el=Pe.el;let{patchFlag:Qe,dynamicChildren:Ie,dirs:De}=ke;Qe|=Pe.patchFlag&16;const ot=Pe.props||EMPTY_OBJ,st=ke.props||EMPTY_OBJ;let et;if(Ue&&toggleRecurse(Ue,!1),(et=st.onVnodeBeforeUpdate)&&invokeVNodeHook(et,Ue,ke,Pe),De&&invokeDirectiveHook(ke,Pe,Ue,"beforeUpdate"),Ue&&toggleRecurse(Ue,!0),(ot.innerHTML&&st.innerHTML==null||ot.textContent&&st.textContent==null)&&te(Oe,""),Ie?be(Pe.dynamicChildren,Ie,Oe,Ue,He,resolveChildrenNamespace(ke,Me),Je):Fe||Be(Pe,ke,Oe,null,Ue,He,resolveChildrenNamespace(ke,Me),Je,!1),Qe>0){if(Qe&16)Se(Oe,ot,st,Ue,Me);else if(Qe&2&&ot.class!==st.class&&X(Oe,"class",null,st.class,Me),Qe&4&&X(Oe,"style",ot.style,st.style,Me),Qe&8){const nt=ke.dynamicProps;for(let it=0;it<nt.length;it++){const ct=nt[it],pt=ot[ct],ht=st[ct];(ht!==pt||ct==="value")&&X(Oe,ct,pt,ht,Me,Ue)}}Qe&1&&Pe.children!==ke.children&&te(Oe,ke.children)}else!Fe&&Ie==null&&Se(Oe,ot,st,Ue,Me);((et=st.onVnodeUpdated)||De)&&queuePostRenderEffect(()=>{et&&invokeVNodeHook(et,Ue,ke,Pe),De&&invokeDirectiveHook(ke,Pe,Ue,"updated")},He)},be=(Pe,ke,Ue,He,Me,Je,Fe)=>{for(let Oe=0;Oe<ke.length;Oe++){const Qe=Pe[Oe],Ie=ke[Oe],De=Qe.el&&(Qe.type===Fragment||!isSameVNodeType(Qe,Ie)||Qe.shapeFlag&198)?oe(Qe.el):Ue;ce(Qe,Ie,De,null,He,Me,Je,Fe,!0)}},Se=(Pe,ke,Ue,He,Me)=>{if(ke!==Ue){if(ke!==EMPTY_OBJ)for(const Je in ke)!isReservedProp(Je)&&!(Je in Ue)&&X(Pe,Je,ke[Je],null,Me,He);for(const Je in Ue){if(isReservedProp(Je))continue;const Fe=Ue[Je],Oe=ke[Je];Fe!==Oe&&Je!=="value"&&X(Pe,Je,Oe,Fe,Me,He)}"value"in Ue&&X(Pe,"value",ke.value,Ue.value,Me)}},Ce=(Pe,ke,Ue,He,Me,Je,Fe,Oe,Qe)=>{const Ie=ke.el=Pe?Pe.el:Z(""),De=ke.anchor=Pe?Pe.anchor:Z("");let{patchFlag:ot,dynamicChildren:st,slotScopeIds:et}=ke;et&&(Oe=Oe?Oe.concat(et):et),Pe==null?(G(Ie,Ue,He),G(De,Ue,He),ve(ke.children||[],Ue,De,Me,Je,Fe,Oe,Qe)):ot>0&&ot&64&&st&&Pe.dynamicChildren?(be(Pe.dynamicChildren,st,Ue,Me,Je,Fe,Oe),(ke.key!=null||Me&&ke===Me.subTree)&&traverseStaticChildren(Pe,ke,!0)):Be(Pe,ke,Ue,De,Me,Je,Fe,Oe,Qe)},xe=(Pe,ke,Ue,He,Me,Je,Fe,Oe,Qe)=>{ke.slotScopeIds=Oe,Pe==null?ke.shapeFlag&512?Me.ctx.activate(ke,Ue,He,Fe,Qe):Ne(ke,Ue,He,Me,Je,Fe,Qe):$e(Pe,ke,Qe)},Ne=(Pe,ke,Ue,He,Me,Je,Fe)=>{const Oe=Pe.component=createComponentInstance(Pe,He,Me);if(isKeepAlive(Pe)&&(Oe.ctx.renderer=je),setupComponent(Oe,!1,Fe),Oe.asyncDep){if(Me&&Me.registerDep(Oe,Ee,Fe),!Pe.el){const Qe=Oe.subTree=createVNode(Comment);le(null,Qe,ke,Ue)}}else Ee(Oe,Pe,ke,Ue,Me,Je,Fe)},$e=(Pe,ke,Ue)=>{const He=ke.component=Pe.component;if(shouldUpdateComponent(Pe,ke,Ue))if(He.asyncDep&&!He.asyncResolved){Te(He,ke,Ue);return}else He.next=ke,He.update();else ke.el=Pe.el,He.vnode=ke},Ee=(Pe,ke,Ue,He,Me,Je,Fe)=>{const Oe=()=>{if(Pe.isMounted){let{next:ot,bu:st,u:et,parent:nt,vnode:it}=Pe;{const Xe=locateNonHydratedAsyncRoot(Pe);if(Xe){ot&&(ot.el=it.el,Te(Pe,ot,Fe)),Xe.asyncDep.then(()=>{Pe.isUnmounted||Oe()});return}}let ct=ot,pt;toggleRecurse(Pe,!1),ot?(ot.el=it.el,Te(Pe,ot,Fe)):ot=it,st&&invokeArrayFns(st),(pt=ot.props&&ot.props.onVnodeBeforeUpdate)&&invokeVNodeHook(pt,nt,ot,it),toggleRecurse(Pe,!0);const ht=renderComponentRoot(Pe),Ge=Pe.subTree;Pe.subTree=ht,ce(Ge,ht,oe(Ge.el),we(Ge),Pe,Me,Je),ot.el=ht.el,ct===null&&updateHOCHostEl(Pe,ht.el),et&&queuePostRenderEffect(et,Me),(pt=ot.props&&ot.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(pt,nt,ot,it),Me)}else{let ot;const{el:st,props:et}=ke,{bm:nt,m:it,parent:ct,root:pt,type:ht}=Pe,Ge=isAsyncWrapper(ke);toggleRecurse(Pe,!1),nt&&invokeArrayFns(nt),!Ge&&(ot=et&&et.onVnodeBeforeMount)&&invokeVNodeHook(ot,ct,ke),toggleRecurse(Pe,!0);{pt.ce&&pt.ce._def.shadowRoot!==!1&&pt.ce._injectChildStyle(ht);const Xe=Pe.subTree=renderComponentRoot(Pe);ce(null,Xe,Ue,He,Pe,Me,Je),ke.el=Xe.el}if(it&&queuePostRenderEffect(it,Me),!Ge&&(ot=et&&et.onVnodeMounted)){const Xe=ke;queuePostRenderEffect(()=>invokeVNodeHook(ot,ct,Xe),Me)}(ke.shapeFlag&256||ct&&isAsyncWrapper(ct.vnode)&&ct.vnode.shapeFlag&256)&&Pe.a&&queuePostRenderEffect(Pe.a,Me),Pe.isMounted=!0,ke=Ue=He=null}};Pe.scope.on();const Qe=Pe.effect=new ReactiveEffect(Oe);Pe.scope.off();const Ie=Pe.update=Qe.run.bind(Qe),De=Pe.job=Qe.runIfDirty.bind(Qe);De.i=Pe,De.id=Pe.uid,Qe.scheduler=()=>queueJob(De),toggleRecurse(Pe,!0),Ie()},Te=(Pe,ke,Ue)=>{ke.component=Pe;const He=Pe.vnode.props;Pe.vnode=ke,Pe.next=null,updateProps(Pe,ke.props,He,Ue),updateSlots(Pe,ke.children,Ue),pauseTracking(),flushPreFlushCbs(Pe),resetTracking()},Be=(Pe,ke,Ue,He,Me,Je,Fe,Oe,Qe=!1)=>{const Ie=Pe&&Pe.children,De=Pe?Pe.shapeFlag:0,ot=ke.children,{patchFlag:st,shapeFlag:et}=ke;if(st>0){if(st&128){ze(Ie,ot,Ue,He,Me,Je,Fe,Oe,Qe);return}else if(st&256){Ae(Ie,ot,Ue,He,Me,Je,Fe,Oe,Qe);return}}et&8?(De&16&&Ke(Ie,Me,Je),ot!==Ie&&te(Ue,ot)):De&16?et&16?ze(Ie,ot,Ue,He,Me,Je,Fe,Oe,Qe):Ke(Ie,Me,Je,!0):(De&8&&te(Ue,""),et&16&&ve(ot,Ue,He,Me,Je,Fe,Oe,Qe))},Ae=(Pe,ke,Ue,He,Me,Je,Fe,Oe,Qe)=>{Pe=Pe||EMPTY_ARR,ke=ke||EMPTY_ARR;const Ie=Pe.length,De=ke.length,ot=Math.min(Ie,De);let st;for(st=0;st<ot;st++){const et=ke[st]=Qe?cloneIfMounted(ke[st]):normalizeVNode(ke[st]);ce(Pe[st],et,Ue,null,Me,Je,Fe,Oe,Qe)}Ie>De?Ke(Pe,Me,Je,!0,!1,ot):ve(ke,Ue,He,Me,Je,Fe,Oe,Qe,ot)},ze=(Pe,ke,Ue,He,Me,Je,Fe,Oe,Qe)=>{let Ie=0;const De=ke.length;let ot=Pe.length-1,st=De-1;for(;Ie<=ot&&Ie<=st;){const et=Pe[Ie],nt=ke[Ie]=Qe?cloneIfMounted(ke[Ie]):normalizeVNode(ke[Ie]);if(isSameVNodeType(et,nt))ce(et,nt,Ue,null,Me,Je,Fe,Oe,Qe);else break;Ie++}for(;Ie<=ot&&Ie<=st;){const et=Pe[ot],nt=ke[st]=Qe?cloneIfMounted(ke[st]):normalizeVNode(ke[st]);if(isSameVNodeType(et,nt))ce(et,nt,Ue,null,Me,Je,Fe,Oe,Qe);else break;ot--,st--}if(Ie>ot){if(Ie<=st){const et=st+1,nt=et<De?ke[et].el:He;for(;Ie<=st;)ce(null,ke[Ie]=Qe?cloneIfMounted(ke[Ie]):normalizeVNode(ke[Ie]),Ue,nt,Me,Je,Fe,Oe,Qe),Ie++}}else if(Ie>st)for(;Ie<=ot;)Le(Pe[Ie],Me,Je,!0),Ie++;else{const et=Ie,nt=Ie,it=new Map;for(Ie=nt;Ie<=st;Ie++){const lt=ke[Ie]=Qe?cloneIfMounted(ke[Ie]):normalizeVNode(ke[Ie]);lt.key!=null&&it.set(lt.key,Ie)}let ct,pt=0;const ht=st-nt+1;let Ge=!1,Xe=0;const rt=new Array(ht);for(Ie=0;Ie<ht;Ie++)rt[Ie]=0;for(Ie=et;Ie<=ot;Ie++){const lt=Pe[Ie];if(pt>=ht){Le(lt,Me,Je,!0);continue}let dt;if(lt.key!=null)dt=it.get(lt.key);else for(ct=nt;ct<=st;ct++)if(rt[ct-nt]===0&&isSameVNodeType(lt,ke[ct])){dt=ct;break}dt===void 0?Le(lt,Me,Je,!0):(rt[dt-nt]=Ie+1,dt>=Xe?Xe=dt:Ge=!0,ce(lt,ke[dt],Ue,null,Me,Je,Fe,Oe,Qe),pt++)}const at=Ge?getSequence(rt):EMPTY_ARR;for(ct=at.length-1,Ie=ht-1;Ie>=0;Ie--){const lt=nt+Ie,dt=ke[lt],ft=lt+1<De?ke[lt+1].el:He;rt[Ie]===0?ce(null,dt,Ue,ft,Me,Je,Fe,Oe,Qe):Ge&&(ct<0||Ie!==at[ct]?We(dt,Ue,ft,2):ct--)}}},We=(Pe,ke,Ue,He,Me=null)=>{const{el:Je,type:Fe,transition:Oe,children:Qe,shapeFlag:Ie}=Pe;if(Ie&6){We(Pe.component.subTree,ke,Ue,He);return}if(Ie&128){Pe.suspense.move(ke,Ue,He);return}if(Ie&64){Fe.move(Pe,ke,Ue,je);return}if(Fe===Fragment){G(Je,ke,Ue);for(let ot=0;ot<Qe.length;ot++)We(Qe[ot],ke,Ue,He);G(Pe.anchor,ke,Ue);return}if(Fe===Static){pe(Pe,ke,Ue);return}if(He!==2&&Ie&1&&Oe)if(He===0)Oe.beforeEnter(Je),G(Je,ke,Ue),queuePostRenderEffect(()=>Oe.enter(Je),Me);else{const{leave:ot,delayLeave:st,afterLeave:et}=Oe,nt=()=>{Pe.ctx.isUnmounted?U(Je):G(Je,ke,Ue)},it=()=>{ot(Je,()=>{nt(),et&&et()})};st?st(Je,nt,it):it()}else G(Je,ke,Ue)},Le=(Pe,ke,Ue,He=!1,Me=!1)=>{const{type:Je,props:Fe,ref:Oe,children:Qe,dynamicChildren:Ie,shapeFlag:De,patchFlag:ot,dirs:st,cacheIndex:et}=Pe;if(ot===-2&&(Me=!1),Oe!=null&&(pauseTracking(),setRef(Oe,null,Ue,Pe,!0),resetTracking()),et!=null&&(ke.renderCache[et]=void 0),De&256){ke.ctx.deactivate(Pe);return}const nt=De&1&&st,it=!isAsyncWrapper(Pe);let ct;if(it&&(ct=Fe&&Fe.onVnodeBeforeUnmount)&&invokeVNodeHook(ct,ke,Pe),De&6)Re(Pe.component,Ue,He);else{if(De&128){Pe.suspense.unmount(Ue,He);return}nt&&invokeDirectiveHook(Pe,null,ke,"beforeUnmount"),De&64?Pe.type.remove(Pe,ke,Ue,je,He):Ie&&!Ie.hasOnce&&(Je!==Fragment||ot>0&&ot&64)?Ke(Ie,ke,Ue,!1,!0):(Je===Fragment&&ot&384||!Me&&De&16)&&Ke(Qe,ke,Ue),He&&Ze(Pe)}(it&&(ct=Fe&&Fe.onVnodeUnmounted)||nt)&&queuePostRenderEffect(()=>{ct&&invokeVNodeHook(ct,ke,Pe),nt&&invokeDirectiveHook(Pe,null,ke,"unmounted")},Ue)},Ze=Pe=>{const{type:ke,el:Ue,anchor:He,transition:Me}=Pe;if(ke===Fragment){Ye(Ue,He);return}if(ke===Static){me(Pe);return}const Je=()=>{U(Ue),Me&&!Me.persisted&&Me.afterLeave&&Me.afterLeave()};if(Pe.shapeFlag&1&&Me&&!Me.persisted){const{leave:Fe,delayLeave:Oe}=Me,Qe=()=>Fe(Ue,Je);Oe?Oe(Pe.el,Je,Qe):Qe()}else Je()},Ye=(Pe,ke)=>{let Ue;for(;Pe!==ke;)Ue=re(Pe),U(Pe),Pe=Ue;U(ke)},Re=(Pe,ke,Ue)=>{const{bum:He,scope:Me,job:Je,subTree:Fe,um:Oe,m:Qe,a:Ie,parent:De,slots:{__:ot}}=Pe;invalidateMount(Qe),invalidateMount(Ie),He&&invokeArrayFns(He),De&&isArray$3(ot)&&ot.forEach(st=>{De.renderCache[st]=void 0}),Me.stop(),Je&&(Je.flags|=8,Le(Fe,Pe,ke,Ue)),Oe&&queuePostRenderEffect(Oe,ke),queuePostRenderEffect(()=>{Pe.isUnmounted=!0},ke),ke&&ke.pendingBranch&&!ke.isUnmounted&&Pe.asyncDep&&!Pe.asyncResolved&&Pe.suspenseId===ke.pendingId&&(ke.deps--,ke.deps===0&&ke.resolve())},Ke=(Pe,ke,Ue,He=!1,Me=!1,Je=0)=>{for(let Fe=Je;Fe<Pe.length;Fe++)Le(Pe[Fe],ke,Ue,He,Me)},we=Pe=>{if(Pe.shapeFlag&6)return we(Pe.component.subTree);if(Pe.shapeFlag&128)return Pe.suspense.next();const ke=re(Pe.anchor||Pe.el),Ue=ke&&ke[TeleportEndKey];return Ue?re(Ue):ke};let _e=!1;const Ve=(Pe,ke,Ue)=>{Pe==null?ke._vnode&&Le(ke._vnode,null,null,!0):ce(ke._vnode||null,Pe,ke,null,null,null,Ue),ke._vnode=Pe,_e||(_e=!0,flushPreFlushCbs(),flushPostFlushCbs(),_e=!1)},je={p:ce,um:Le,m:We,r:Ze,mt:Ne,mc:ve,pc:Be,pbc:be,n:we,o:H};return{render:Ve,hydrate:void 0,createApp:createAppAPI(Ve)}}function resolveChildrenNamespace({type:H,props:K},W){return W==="svg"&&H==="foreignObject"||W==="mathml"&&H==="annotation-xml"&&K&&K.encoding&&K.encoding.includes("html")?void 0:W}function toggleRecurse({effect:H,job:K},W){W?(H.flags|=32,K.flags|=4):(H.flags&=-33,K.flags&=-5)}function needTransition(H,K){return(!H||H&&!H.pendingBranch)&&K&&!K.persisted}function traverseStaticChildren(H,K,W=!1){const G=H.children,U=K.children;if(isArray$3(G)&&isArray$3(U))for(let X=0;X<G.length;X++){const Q=G[X];let Z=U[X];Z.shapeFlag&1&&!Z.dynamicChildren&&((Z.patchFlag<=0||Z.patchFlag===32)&&(Z=U[X]=cloneIfMounted(U[X]),Z.el=Q.el),!W&&Z.patchFlag!==-2&&traverseStaticChildren(Q,Z)),Z.type===Text$1&&(Z.el=Q.el),Z.type===Comment&&!Z.el&&(Z.el=Q.el)}}function getSequence(H){const K=H.slice(),W=[0];let G,U,X,Q,Z;const ee=H.length;for(G=0;G<ee;G++){const ne=H[G];if(ne!==0){if(U=W[W.length-1],H[U]<ne){K[G]=U,W.push(G);continue}for(X=0,Q=W.length-1;X<Q;)Z=X+Q>>1,H[W[Z]]<ne?X=Z+1:Q=Z;ne<H[W[X]]&&(X>0&&(K[G]=W[X-1]),W[X]=G)}}for(X=W.length,Q=W[X-1];X-- >0;)W[X]=Q,Q=K[Q];return W}function locateNonHydratedAsyncRoot(H){const K=H.subTree.component;if(K)return K.asyncDep&&!K.asyncResolved?K:locateNonHydratedAsyncRoot(K)}function invalidateMount(H){if(H)for(let K=0;K<H.length;K++)H[K].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watchEffect(H,K){return doWatch(H,null,K)}function watch(H,K,W){return doWatch(H,K,W)}function doWatch(H,K,W=EMPTY_OBJ){const{immediate:G,deep:U,flush:X,once:Q}=W,Z=extend({},W),ee=K&&G||!K&&X!=="post";let ne;if(isInSSRComponentSetup){if(X==="sync"){const ae=useSSRContext();ne=ae.__watcherHandles||(ae.__watcherHandles=[])}else if(!ee){const ae=()=>{};return ae.stop=NOOP,ae.resume=NOOP,ae.pause=NOOP,ae}}const te=currentInstance;Z.call=(ae,se,ce)=>callWithAsyncErrorHandling(ae,te,se,ce);let oe=!1;X==="post"?Z.scheduler=ae=>{queuePostRenderEffect(ae,te&&te.suspense)}:X!=="sync"&&(oe=!0,Z.scheduler=(ae,se)=>{se?ae():queueJob(ae)}),Z.augmentJob=ae=>{K&&(ae.flags|=4),oe&&(ae.flags|=2,te&&(ae.id=te.uid,ae.i=te))};const re=watch$1(H,K,Z);return isInSSRComponentSetup&&(ne?ne.push(re):ee&&re()),re}function instanceWatch(H,K,W){const G=this.proxy,U=isString$1(H)?H.includes(".")?createPathGetter(G,H):()=>G[H]:H.bind(G,G);let X;isFunction$2(K)?X=K:(X=K.handler,W=K);const Q=setCurrentInstance(this),Z=doWatch(U,X.bind(G),W);return Q(),Z}function createPathGetter(H,K){const W=K.split(".");return()=>{let G=H;for(let U=0;U<W.length&&G;U++)G=G[W[U]];return G}}const getModelModifiers=(H,K)=>K==="modelValue"||K==="model-value"?H.modelModifiers:H[`${K}Modifiers`]||H[`${camelize$1(K)}Modifiers`]||H[`${hyphenate$1(K)}Modifiers`];function emit(H,K,...W){if(H.isUnmounted)return;const G=H.vnode.props||EMPTY_OBJ;let U=W;const X=K.startsWith("update:"),Q=X&&getModelModifiers(G,K.slice(7));Q&&(Q.trim&&(U=W.map(te=>isString$1(te)?te.trim():te)),Q.number&&(U=W.map(looseToNumber)));let Z,ee=G[Z=toHandlerKey(K)]||G[Z=toHandlerKey(camelize$1(K))];!ee&&X&&(ee=G[Z=toHandlerKey(hyphenate$1(K))]),ee&&callWithAsyncErrorHandling(ee,H,6,U);const ne=G[Z+"Once"];if(ne){if(!H.emitted)H.emitted={};else if(H.emitted[Z])return;H.emitted[Z]=!0,callWithAsyncErrorHandling(ne,H,6,U)}}function normalizeEmitsOptions(H,K,W=!1){const G=K.emitsCache,U=G.get(H);if(U!==void 0)return U;const X=H.emits;let Q={},Z=!1;if(!isFunction$2(H)){const ee=ne=>{const te=normalizeEmitsOptions(ne,K,!0);te&&(Z=!0,extend(Q,te))};!W&&K.mixins.length&&K.mixins.forEach(ee),H.extends&&ee(H.extends),H.mixins&&H.mixins.forEach(ee)}return!X&&!Z?(isObject$3(H)&&G.set(H,null),null):(isArray$3(X)?X.forEach(ee=>Q[ee]=null):extend(Q,X),isObject$3(H)&&G.set(H,Q),Q)}function isEmitListener(H,K){return!H||!isOn$1(K)?!1:(K=K.slice(2).replace(/Once$/,""),hasOwn$1(H,K[0].toLowerCase()+K.slice(1))||hasOwn$1(H,hyphenate$1(K))||hasOwn$1(H,K))}function markAttrsAccessed(){}function renderComponentRoot(H){const{type:K,vnode:W,proxy:G,withProxy:U,propsOptions:[X],slots:Q,attrs:Z,emit:ee,render:ne,renderCache:te,props:oe,data:re,setupState:ae,ctx:se,inheritAttrs:ce}=H,de=setCurrentRenderingInstance(H);let le,fe;try{if(W.shapeFlag&4){const me=U||G,ue=me;le=normalizeVNode(ne.call(ue,me,te,oe,ae,re,se)),fe=Z}else{const me=K;le=normalizeVNode(me.length>1?me(oe,{attrs:Z,slots:Q,emit:ee}):me(oe,null)),fe=K.props?Z:getFunctionalFallthrough(Z)}}catch(me){blockStack.length=0,handleError(me,H,1),le=createVNode(Comment)}let pe=le;if(fe&&ce!==!1){const me=Object.keys(fe),{shapeFlag:ue}=pe;me.length&&ue&7&&(X&&me.some(isModelListener)&&(fe=filterModelListeners(fe,X)),pe=cloneVNode(pe,fe,!1,!0))}return W.dirs&&(pe=cloneVNode(pe,null,!1,!0),pe.dirs=pe.dirs?pe.dirs.concat(W.dirs):W.dirs),W.transition&&setTransitionHooks(pe,W.transition),le=pe,setCurrentRenderingInstance(de),le}const getFunctionalFallthrough=H=>{let K;for(const W in H)(W==="class"||W==="style"||isOn$1(W))&&((K||(K={}))[W]=H[W]);return K},filterModelListeners=(H,K)=>{const W={};for(const G in H)(!isModelListener(G)||!(G.slice(9)in K))&&(W[G]=H[G]);return W};function shouldUpdateComponent(H,K,W){const{props:G,children:U,component:X}=H,{props:Q,children:Z,patchFlag:ee}=K,ne=X.emitsOptions;if(K.dirs||K.transition)return!0;if(W&&ee>=0){if(ee&1024)return!0;if(ee&16)return G?hasPropsChanged(G,Q,ne):!!Q;if(ee&8){const te=K.dynamicProps;for(let oe=0;oe<te.length;oe++){const re=te[oe];if(Q[re]!==G[re]&&!isEmitListener(ne,re))return!0}}}else return(U||Z)&&(!Z||!Z.$stable)?!0:G===Q?!1:G?Q?hasPropsChanged(G,Q,ne):!0:!!Q;return!1}function hasPropsChanged(H,K,W){const G=Object.keys(K);if(G.length!==Object.keys(H).length)return!0;for(let U=0;U<G.length;U++){const X=G[U];if(K[X]!==H[X]&&!isEmitListener(W,X))return!0}return!1}function updateHOCHostEl({vnode:H,parent:K},W){for(;K;){const G=K.subTree;if(G.suspense&&G.suspense.activeBranch===H&&(G.el=H.el),G===H)(H=K.vnode).el=W,K=K.parent;else break}}const isSuspense=H=>H.__isSuspense;function queueEffectWithSuspense(H,K){K&&K.pendingBranch?isArray$3(H)?K.effects.push(...H):K.effects.push(H):queuePostFlushCb(H)}const Fragment=Symbol.for("v-fgt"),Text$1=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(H=!1){blockStack.push(currentBlock=H?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(H,K=!1){isBlockTreeEnabled+=H,H<0&&currentBlock&&K&&(currentBlock.hasOnce=!0)}function setupBlock(H){return H.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(H),H}function createElementBlock(H,K,W,G,U,X){return setupBlock(createBaseVNode(H,K,W,G,U,X,!0))}function createBlock(H,K,W,G,U){return setupBlock(createVNode(H,K,W,G,U,!0))}function isVNode(H){return H?H.__v_isVNode===!0:!1}function isSameVNodeType(H,K){return H.type===K.type&&H.key===K.key}const normalizeKey=({key:H})=>H??null,normalizeRef=({ref:H,ref_key:K,ref_for:W})=>(typeof H=="number"&&(H=""+H),H!=null?isString$1(H)||isRef(H)||isFunction$2(H)?{i:currentRenderingInstance,r:H,k:K,f:!!W}:H:null);function createBaseVNode(H,K=null,W=null,G=0,U=null,X=H===Fragment?0:1,Q=!1,Z=!1){const ee={__v_isVNode:!0,__v_skip:!0,type:H,props:K,key:K&&normalizeKey(K),ref:K&&normalizeRef(K),scopeId:currentScopeId,slotScopeIds:null,children:W,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:X,patchFlag:G,dynamicProps:U,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return Z?(normalizeChildren(ee,W),X&128&&H.normalize(ee)):W&&(ee.shapeFlag|=isString$1(W)?8:16),isBlockTreeEnabled>0&&!Q&&currentBlock&&(ee.patchFlag>0||X&6)&&ee.patchFlag!==32&&currentBlock.push(ee),ee}const createVNode=_createVNode;function _createVNode(H,K=null,W=null,G=0,U=null,X=!1){if((!H||H===NULL_DYNAMIC_COMPONENT)&&(H=Comment),isVNode(H)){const Z=cloneVNode(H,K,!0);return W&&normalizeChildren(Z,W),isBlockTreeEnabled>0&&!X&&currentBlock&&(Z.shapeFlag&6?currentBlock[currentBlock.indexOf(H)]=Z:currentBlock.push(Z)),Z.patchFlag=-2,Z}if(isClassComponent(H)&&(H=H.__vccOpts),K){K=guardReactiveProps(K);let{class:Z,style:ee}=K;Z&&!isString$1(Z)&&(K.class=normalizeClass(Z)),isObject$3(ee)&&(isProxy(ee)&&!isArray$3(ee)&&(ee=extend({},ee)),K.style=normalizeStyle$1(ee))}const Q=isString$1(H)?1:isSuspense(H)?128:isTeleport(H)?64:isObject$3(H)?4:isFunction$2(H)?2:0;return createBaseVNode(H,K,W,G,U,Q,X,!0)}function guardReactiveProps(H){return H?isProxy(H)||isInternalObject(H)?extend({},H):H:null}function cloneVNode(H,K,W=!1,G=!1){const{props:U,ref:X,patchFlag:Q,children:Z,transition:ee}=H,ne=K?mergeProps(U||{},K):U,te={__v_isVNode:!0,__v_skip:!0,type:H.type,props:ne,key:ne&&normalizeKey(ne),ref:K&&K.ref?W&&X?isArray$3(X)?X.concat(normalizeRef(K)):[X,normalizeRef(K)]:normalizeRef(K):X,scopeId:H.scopeId,slotScopeIds:H.slotScopeIds,children:Z,target:H.target,targetStart:H.targetStart,targetAnchor:H.targetAnchor,staticCount:H.staticCount,shapeFlag:H.shapeFlag,patchFlag:K&&H.type!==Fragment?Q===-1?16:Q|16:Q,dynamicProps:H.dynamicProps,dynamicChildren:H.dynamicChildren,appContext:H.appContext,dirs:H.dirs,transition:ee,component:H.component,suspense:H.suspense,ssContent:H.ssContent&&cloneVNode(H.ssContent),ssFallback:H.ssFallback&&cloneVNode(H.ssFallback),el:H.el,anchor:H.anchor,ctx:H.ctx,ce:H.ce};return ee&&G&&setTransitionHooks(te,ee.clone(te)),te}function createTextVNode(H=" ",K=0){return createVNode(Text$1,null,H,K)}function createStaticVNode(H,K){const W=createVNode(Static,null,H);return W.staticCount=K,W}function createCommentVNode(H="",K=!1){return K?(openBlock(),createBlock(Comment,null,H)):createVNode(Comment,null,H)}function normalizeVNode(H){return H==null||typeof H=="boolean"?createVNode(Comment):isArray$3(H)?createVNode(Fragment,null,H.slice()):isVNode(H)?cloneIfMounted(H):createVNode(Text$1,null,String(H))}function cloneIfMounted(H){return H.el===null&&H.patchFlag!==-1||H.memo?H:cloneVNode(H)}function normalizeChildren(H,K){let W=0;const{shapeFlag:G}=H;if(K==null)K=null;else if(isArray$3(K))W=16;else if(typeof K=="object")if(G&65){const U=K.default;U&&(U._c&&(U._d=!1),normalizeChildren(H,U()),U._c&&(U._d=!0));return}else{W=32;const U=K._;!U&&!isInternalObject(K)?K._ctx=currentRenderingInstance:U===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?K._=1:(K._=2,H.patchFlag|=1024))}else isFunction$2(K)?(K={default:K,_ctx:currentRenderingInstance},W=32):(K=String(K),G&64?(W=16,K=[createTextVNode(K)]):W=8);H.children=K,H.shapeFlag|=W}function mergeProps(...H){const K={};for(let W=0;W<H.length;W++){const G=H[W];for(const U in G)if(U==="class")K.class!==G.class&&(K.class=normalizeClass([K.class,G.class]));else if(U==="style")K.style=normalizeStyle$1([K.style,G.style]);else if(isOn$1(U)){const X=K[U],Q=G[U];Q&&X!==Q&&!(isArray$3(X)&&X.includes(Q))&&(K[U]=X?[].concat(X,Q):Q)}else U!==""&&(K[U]=G[U])}return K}function invokeVNodeHook(H,K,W,G=null){callWithAsyncErrorHandling(H,K,7,[W,G])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(H,K,W){const G=H.type,U=(K?K.appContext:H.appContext)||emptyAppContext,X={uid:uid++,vnode:H,type:G,parent:K,appContext:U,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:K?K.provides:Object.create(U.provides),ids:K?K.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(G,U),emitsOptions:normalizeEmitsOptions(G,U),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:G.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:W,suspenseId:W?W.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return X.ctx={_:X},X.root=K?K.root:X,X.emit=emit.bind(null,X),H.ce&&H.ce(X),X}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const H=getGlobalThis(),K=(W,G)=>{let U;return(U=H[W])||(U=H[W]=[]),U.push(G),X=>{U.length>1?U.forEach(Q=>Q(X)):U[0](X)}};internalSetCurrentInstance=K("__VUE_INSTANCE_SETTERS__",W=>currentInstance=W),setInSSRSetupState=K("__VUE_SSR_SETTERS__",W=>isInSSRComponentSetup=W)}const setCurrentInstance=H=>{const K=currentInstance;return internalSetCurrentInstance(H),H.scope.on(),()=>{H.scope.off(),internalSetCurrentInstance(K)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(H){return H.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(H,K=!1,W=!1){K&&setInSSRSetupState(K);const{props:G,children:U}=H.vnode,X=isStatefulComponent(H);initProps(H,G,X,K),initSlots(H,U,W||K);const Q=X?setupStatefulComponent(H,K):void 0;return K&&setInSSRSetupState(!1),Q}function setupStatefulComponent(H,K){const W=H.type;H.accessCache=Object.create(null),H.proxy=new Proxy(H.ctx,PublicInstanceProxyHandlers);const{setup:G}=W;if(G){pauseTracking();const U=H.setupContext=G.length>1?createSetupContext(H):null,X=setCurrentInstance(H),Q=callWithErrorHandling(G,H,0,[H.props,U]),Z=isPromise(Q);if(resetTracking(),X(),(Z||H.sp)&&!isAsyncWrapper(H)&&markAsyncBoundary(H),Z){if(Q.then(unsetCurrentInstance,unsetCurrentInstance),K)return Q.then(ee=>{handleSetupResult(H,ee)}).catch(ee=>{handleError(ee,H,0)});H.asyncDep=Q}else handleSetupResult(H,Q)}else finishComponentSetup(H)}function handleSetupResult(H,K,W){isFunction$2(K)?H.type.__ssrInlineRender?H.ssrRender=K:H.render=K:isObject$3(K)&&(H.setupState=proxyRefs(K)),finishComponentSetup(H)}function finishComponentSetup(H,K,W){const G=H.type;H.render||(H.render=G.render||NOOP);{const U=setCurrentInstance(H);pauseTracking();try{applyOptions(H)}finally{resetTracking(),U()}}}const attrsProxyHandlers={get(H,K){return track(H,"get",""),H[K]}};function createSetupContext(H){const K=W=>{H.exposed=W||{}};return{attrs:new Proxy(H.attrs,attrsProxyHandlers),slots:H.slots,emit:H.emit,expose:K}}function getComponentPublicInstance(H){return H.exposed?H.exposeProxy||(H.exposeProxy=new Proxy(proxyRefs(markRaw(H.exposed)),{get(K,W){if(W in K)return K[W];if(W in publicPropertiesMap)return publicPropertiesMap[W](H)},has(K,W){return W in K||W in publicPropertiesMap}})):H.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=H=>H.replace(classifyRE,K=>K.toUpperCase()).replace(/[-_]/g,"");function getComponentName(H,K=!0){return isFunction$2(H)?H.displayName||H.name:H.name||K&&H.__name}function formatComponentName(H,K,W=!1){let G=getComponentName(K);if(!G&&K.__file){const U=K.__file.match(/([^/\\]+)\.\w+$/);U&&(G=U[1])}if(!G&&H&&H.parent){const U=X=>{for(const Q in X)if(X[Q]===K)return Q};G=U(H.components||H.parent.type.components)||U(H.appContext.components)}return G?classify(G):W?"App":"Anonymous"}function isClassComponent(H){return isFunction$2(H)&&"__vccOpts"in H}const computed=(H,K)=>computed$1(H,K,isInSSRComponentSetup);function h$1(H,K,W){const G=arguments.length;return G===2?isObject$3(K)&&!isArray$3(K)?isVNode(K)?createVNode(H,null,[K]):createVNode(H,K):createVNode(H,null,K):(G>3?W=Array.prototype.slice.call(arguments,2):G===3&&isVNode(W)&&(W=[W]),createVNode(H,K,W))}const version$1="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:H=>H})}catch{}const unsafeToTrustedHTML=policy?H=>policy.createHTML(H):H=>H,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc$1=typeof document<"u"?document:null,templateContainer=doc$1&&doc$1.createElement("template"),nodeOps={insert:(H,K,W)=>{K.insertBefore(H,W||null)},remove:H=>{const K=H.parentNode;K&&K.removeChild(H)},createElement:(H,K,W,G)=>{const U=K==="svg"?doc$1.createElementNS(svgNS,H):K==="mathml"?doc$1.createElementNS(mathmlNS,H):W?doc$1.createElement(H,{is:W}):doc$1.createElement(H);return H==="select"&&G&&G.multiple!=null&&U.setAttribute("multiple",G.multiple),U},createText:H=>doc$1.createTextNode(H),createComment:H=>doc$1.createComment(H),setText:(H,K)=>{H.nodeValue=K},setElementText:(H,K)=>{H.textContent=K},parentNode:H=>H.parentNode,nextSibling:H=>H.nextSibling,querySelector:H=>doc$1.querySelector(H),setScopeId(H,K){H.setAttribute(K,"")},insertStaticContent(H,K,W,G,U,X){const Q=W?W.previousSibling:K.lastChild;if(U&&(U===X||U.nextSibling))for(;K.insertBefore(U.cloneNode(!0),W),!(U===X||!(U=U.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(G==="svg"?`<svg>${H}</svg>`:G==="mathml"?`<math>${H}</math>`:H);const Z=templateContainer.content;if(G==="svg"||G==="mathml"){const ee=Z.firstChild;for(;ee.firstChild;)Z.appendChild(ee.firstChild);Z.removeChild(ee)}K.insertBefore(Z,W)}return[Q?Q.nextSibling:K.firstChild,W?W.previousSibling:K.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),decorate$1=H=>(H.displayName="Transition",H.props=TransitionPropsValidators,H),Transition=decorate$1((H,{slots:K})=>h$1(BaseTransition,resolveTransitionProps(H),K)),callHook=(H,K=[])=>{isArray$3(H)?H.forEach(W=>W(...K)):H&&H(...K)},hasExplicitCallback=H=>H?isArray$3(H)?H.some(K=>K.length>1):H.length>1:!1;function resolveTransitionProps(H){const K={};for(const Ce in H)Ce in DOMTransitionPropsValidators||(K[Ce]=H[Ce]);if(H.css===!1)return K;const{name:W="v",type:G,duration:U,enterFromClass:X=`${W}-enter-from`,enterActiveClass:Q=`${W}-enter-active`,enterToClass:Z=`${W}-enter-to`,appearFromClass:ee=X,appearActiveClass:ne=Q,appearToClass:te=Z,leaveFromClass:oe=`${W}-leave-from`,leaveActiveClass:re=`${W}-leave-active`,leaveToClass:ae=`${W}-leave-to`}=H,se=normalizeDuration(U),ce=se&&se[0],de=se&&se[1],{onBeforeEnter:le,onEnter:fe,onEnterCancelled:pe,onLeave:me,onLeaveCancelled:ue,onBeforeAppear:ge=le,onAppear:he=fe,onAppearCancelled:ve=pe}=K,ye=(Ce,xe,Ne,$e)=>{Ce._enterCancelled=$e,removeTransitionClass(Ce,xe?te:Z),removeTransitionClass(Ce,xe?ne:Q),Ne&&Ne()},be=(Ce,xe)=>{Ce._isLeaving=!1,removeTransitionClass(Ce,oe),removeTransitionClass(Ce,ae),removeTransitionClass(Ce,re),xe&&xe()},Se=Ce=>(xe,Ne)=>{const $e=Ce?he:fe,Ee=()=>ye(xe,Ce,Ne);callHook($e,[xe,Ee]),nextFrame(()=>{removeTransitionClass(xe,Ce?ee:X),addTransitionClass(xe,Ce?te:Z),hasExplicitCallback($e)||whenTransitionEnds(xe,G,ce,Ee)})};return extend(K,{onBeforeEnter(Ce){callHook(le,[Ce]),addTransitionClass(Ce,X),addTransitionClass(Ce,Q)},onBeforeAppear(Ce){callHook(ge,[Ce]),addTransitionClass(Ce,ee),addTransitionClass(Ce,ne)},onEnter:Se(!1),onAppear:Se(!0),onLeave(Ce,xe){Ce._isLeaving=!0;const Ne=()=>be(Ce,xe);addTransitionClass(Ce,oe),Ce._enterCancelled?(addTransitionClass(Ce,re),forceReflow()):(forceReflow(),addTransitionClass(Ce,re)),nextFrame(()=>{Ce._isLeaving&&(removeTransitionClass(Ce,oe),addTransitionClass(Ce,ae),hasExplicitCallback(me)||whenTransitionEnds(Ce,G,de,Ne))}),callHook(me,[Ce,Ne])},onEnterCancelled(Ce){ye(Ce,!1,void 0,!0),callHook(pe,[Ce])},onAppearCancelled(Ce){ye(Ce,!0,void 0,!0),callHook(ve,[Ce])},onLeaveCancelled(Ce){be(Ce),callHook(ue,[Ce])}})}function normalizeDuration(H){if(H==null)return null;if(isObject$3(H))return[NumberOf(H.enter),NumberOf(H.leave)];{const K=NumberOf(H);return[K,K]}}function NumberOf(H){return toNumber$1(H)}function addTransitionClass(H,K){K.split(/\s+/).forEach(W=>W&&H.classList.add(W)),(H[vtcKey]||(H[vtcKey]=new Set)).add(K)}function removeTransitionClass(H,K){K.split(/\s+/).forEach(G=>G&&H.classList.remove(G));const W=H[vtcKey];W&&(W.delete(K),W.size||(H[vtcKey]=void 0))}function nextFrame(H){requestAnimationFrame(()=>{requestAnimationFrame(H)})}let endId=0;function whenTransitionEnds(H,K,W,G){const U=H._endId=++endId,X=()=>{U===H._endId&&G()};if(W!=null)return setTimeout(X,W);const{type:Q,timeout:Z,propCount:ee}=getTransitionInfo(H,K);if(!Q)return G();const ne=Q+"end";let te=0;const oe=()=>{H.removeEventListener(ne,re),X()},re=ae=>{ae.target===H&&++te>=ee&&oe()};setTimeout(()=>{te<ee&&oe()},Z+1),H.addEventListener(ne,re)}function getTransitionInfo(H,K){const W=window.getComputedStyle(H),G=se=>(W[se]||"").split(", "),U=G(`${TRANSITION}Delay`),X=G(`${TRANSITION}Duration`),Q=getTimeout(U,X),Z=G(`${ANIMATION}Delay`),ee=G(`${ANIMATION}Duration`),ne=getTimeout(Z,ee);let te=null,oe=0,re=0;K===TRANSITION?Q>0&&(te=TRANSITION,oe=Q,re=X.length):K===ANIMATION?ne>0&&(te=ANIMATION,oe=ne,re=ee.length):(oe=Math.max(Q,ne),te=oe>0?Q>ne?TRANSITION:ANIMATION:null,re=te?te===TRANSITION?X.length:ee.length:0);const ae=te===TRANSITION&&/\b(transform|all)(,|$)/.test(G(`${TRANSITION}Property`).toString());return{type:te,timeout:oe,propCount:re,hasTransform:ae}}function getTimeout(H,K){for(;H.length<K.length;)H=H.concat(H);return Math.max(...K.map((W,G)=>toMs(W)+toMs(H[G])))}function toMs(H){return H==="auto"?0:Number(H.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(H,K,W){const G=H[vtcKey];G&&(K=(K?[K,...G]:[...G]).join(" ")),K==null?H.removeAttribute("class"):W?H.setAttribute("class",K):H.className=K}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={beforeMount(H,{value:K},{transition:W}){H[vShowOriginalDisplay]=H.style.display==="none"?"":H.style.display,W&&K?W.beforeEnter(H):setDisplay(H,K)},mounted(H,{value:K},{transition:W}){W&&K&&W.enter(H)},updated(H,{value:K,oldValue:W},{transition:G}){!K!=!W&&(G?K?(G.beforeEnter(H),setDisplay(H,!0),G.enter(H)):G.leave(H,()=>{setDisplay(H,!1)}):setDisplay(H,K))},beforeUnmount(H,{value:K}){setDisplay(H,K)}};function setDisplay(H,K){H.style.display=K?H[vShowOriginalDisplay]:"none",H[vShowHidden]=!K}const CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(H,K,W){const G=H.style,U=isString$1(W);let X=!1;if(W&&!U){if(K)if(isString$1(K))for(const Q of K.split(";")){const Z=Q.slice(0,Q.indexOf(":")).trim();W[Z]==null&&setStyle(G,Z,"")}else for(const Q in K)W[Q]==null&&setStyle(G,Q,"");for(const Q in W)Q==="display"&&(X=!0),setStyle(G,Q,W[Q])}else if(U){if(K!==W){const Q=G[CSS_VAR_TEXT];Q&&(W+=";"+Q),G.cssText=W,X=displayRE.test(W)}}else K&&H.removeAttribute("style");vShowOriginalDisplay in H&&(H[vShowOriginalDisplay]=X?G.display:"",H[vShowHidden]&&(G.display="none"))}const importantRE=/\s*!important$/;function setStyle(H,K,W){if(isArray$3(W))W.forEach(G=>setStyle(H,K,G));else if(W==null&&(W=""),K.startsWith("--"))H.setProperty(K,W);else{const G=autoPrefix(H,K);importantRE.test(W)?H.setProperty(hyphenate$1(G),W.replace(importantRE,""),"important"):H[G]=W}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(H,K){const W=prefixCache[K];if(W)return W;let G=camelize$1(K);if(G!=="filter"&&G in H)return prefixCache[K]=G;G=capitalize$1(G);for(let U=0;U<prefixes.length;U++){const X=prefixes[U]+G;if(X in H)return prefixCache[K]=X}return K}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(H,K,W,G,U,X=isSpecialBooleanAttr(K)){G&&K.startsWith("xlink:")?W==null?H.removeAttributeNS(xlinkNS,K.slice(6,K.length)):H.setAttributeNS(xlinkNS,K,W):W==null||X&&!includeBooleanAttr(W)?H.removeAttribute(K):H.setAttribute(K,X?"":isSymbol$1(W)?String(W):W)}function patchDOMProp(H,K,W,G,U){if(K==="innerHTML"||K==="textContent"){W!=null&&(H[K]=K==="innerHTML"?unsafeToTrustedHTML(W):W);return}const X=H.tagName;if(K==="value"&&X!=="PROGRESS"&&!X.includes("-")){const Z=X==="OPTION"?H.getAttribute("value")||"":H.value,ee=W==null?H.type==="checkbox"?"on":"":String(W);(Z!==ee||!("_value"in H))&&(H.value=ee),W==null&&H.removeAttribute(K),H._value=W;return}let Q=!1;if(W===""||W==null){const Z=typeof H[K];Z==="boolean"?W=includeBooleanAttr(W):W==null&&Z==="string"?(W="",Q=!0):Z==="number"&&(W=0,Q=!0)}try{H[K]=W}catch{}Q&&H.removeAttribute(U||K)}function addEventListener(H,K,W,G){H.addEventListener(K,W,G)}function removeEventListener(H,K,W,G){H.removeEventListener(K,W,G)}const veiKey=Symbol("_vei");function patchEvent(H,K,W,G,U=null){const X=H[veiKey]||(H[veiKey]={}),Q=X[K];if(G&&Q)Q.value=G;else{const[Z,ee]=parseName(K);if(G){const ne=X[K]=createInvoker(G,U);addEventListener(H,Z,ne,ee)}else Q&&(removeEventListener(H,Z,Q,ee),X[K]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(H){let K;if(optionsModifierRE.test(H)){K={};let G;for(;G=H.match(optionsModifierRE);)H=H.slice(0,H.length-G[0].length),K[G[0].toLowerCase()]=!0}return[H[2]===":"?H.slice(3):hyphenate$1(H.slice(2)),K]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(H,K){const W=G=>{if(!G._vts)G._vts=Date.now();else if(G._vts<=W.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(G,W.value),K,5,[G])};return W.value=H,W.attached=getNow(),W}function patchStopImmediatePropagation(H,K){if(isArray$3(K)){const W=H.stopImmediatePropagation;return H.stopImmediatePropagation=()=>{W.call(H),H._stopped=!0},K.map(G=>U=>!U._stopped&&G&&G(U))}else return K}const isNativeOn=H=>H.charCodeAt(0)===111&&H.charCodeAt(1)===110&&H.charCodeAt(2)>96&&H.charCodeAt(2)<123,patchProp=(H,K,W,G,U,X)=>{const Q=U==="svg";K==="class"?patchClass(H,G,Q):K==="style"?patchStyle(H,W,G):isOn$1(K)?isModelListener(K)||patchEvent(H,K,W,G,X):(K[0]==="."?(K=K.slice(1),!0):K[0]==="^"?(K=K.slice(1),!1):shouldSetAsProp(H,K,G,Q))?(patchDOMProp(H,K,G),!H.tagName.includes("-")&&(K==="value"||K==="checked"||K==="selected")&&patchAttr(H,K,G,Q,X,K!=="value")):H._isVueCE&&(/[A-Z]/.test(K)||!isString$1(G))?patchDOMProp(H,camelize$1(K),G,X,K):(K==="true-value"?H._trueValue=G:K==="false-value"&&(H._falseValue=G),patchAttr(H,K,G,Q))};function shouldSetAsProp(H,K,W,G){if(G)return!!(K==="innerHTML"||K==="textContent"||K in H&&isNativeOn(K)&&isFunction$2(W));if(K==="spellcheck"||K==="draggable"||K==="translate"||K==="autocorrect"||K==="form"||K==="list"&&H.tagName==="INPUT"||K==="type"&&H.tagName==="TEXTAREA")return!1;if(K==="width"||K==="height"){const U=H.tagName;if(U==="IMG"||U==="VIDEO"||U==="CANVAS"||U==="SOURCE")return!1}return isNativeOn(K)&&isString$1(W)?!1:K in H}const positionMap=new WeakMap,newPositionMap=new WeakMap,moveCbKey=Symbol("_moveCb"),enterCbKey=Symbol("_enterCb"),decorate=H=>(delete H.props.mode,H),TransitionGroupImpl=decorate({name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(H,{slots:K}){const W=getCurrentInstance(),G=useTransitionState();let U,X;return onUpdated(()=>{if(!U.length)return;const Q=H.moveClass||`${H.name||"v"}-move`;if(!hasCSSTransform(U[0].el,W.vnode.el,Q)){U=[];return}U.forEach(callPendingCbs),U.forEach(recordPosition);const Z=U.filter(applyTranslation);forceReflow(),Z.forEach(ee=>{const ne=ee.el,te=ne.style;addTransitionClass(ne,Q),te.transform=te.webkitTransform=te.transitionDuration="";const oe=ne[moveCbKey]=re=>{re&&re.target!==ne||(!re||/transform$/.test(re.propertyName))&&(ne.removeEventListener("transitionend",oe),ne[moveCbKey]=null,removeTransitionClass(ne,Q))};ne.addEventListener("transitionend",oe)}),U=[]}),()=>{const Q=toRaw(H),Z=resolveTransitionProps(Q);let ee=Q.tag||Fragment;if(U=[],X)for(let ne=0;ne<X.length;ne++){const te=X[ne];te.el&&te.el instanceof Element&&(U.push(te),setTransitionHooks(te,resolveTransitionHooks(te,Z,G,W)),positionMap.set(te,te.el.getBoundingClientRect()))}X=K.default?getTransitionRawChildren(K.default()):[];for(let ne=0;ne<X.length;ne++){const te=X[ne];te.key!=null&&setTransitionHooks(te,resolveTransitionHooks(te,Z,G,W))}return createVNode(ee,null,X)}}}),TransitionGroup=TransitionGroupImpl;function callPendingCbs(H){const K=H.el;K[moveCbKey]&&K[moveCbKey](),K[enterCbKey]&&K[enterCbKey]()}function recordPosition(H){newPositionMap.set(H,H.el.getBoundingClientRect())}function applyTranslation(H){const K=positionMap.get(H),W=newPositionMap.get(H),G=K.left-W.left,U=K.top-W.top;if(G||U){const X=H.el.style;return X.transform=X.webkitTransform=`translate(${G}px,${U}px)`,X.transitionDuration="0s",H}}function hasCSSTransform(H,K,W){const G=H.cloneNode(),U=H[vtcKey];U&&U.forEach(Z=>{Z.split(/\s+/).forEach(ee=>ee&&G.classList.remove(ee))}),W.split(/\s+/).forEach(Z=>Z&&G.classList.add(Z)),G.style.display="none";const X=K.nodeType===1?K:K.parentNode;X.appendChild(G);const{hasTransform:Q}=getTransitionInfo(G);return X.removeChild(G),Q}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:H=>H.stopPropagation(),prevent:H=>H.preventDefault(),self:H=>H.target!==H.currentTarget,ctrl:H=>!H.ctrlKey,shift:H=>!H.shiftKey,alt:H=>!H.altKey,meta:H=>!H.metaKey,left:H=>"button"in H&&H.button!==0,middle:H=>"button"in H&&H.button!==1,right:H=>"button"in H&&H.button!==2,exact:(H,K)=>systemModifiers.some(W=>H[`${W}Key`]&&!K.includes(W))},withModifiers=(H,K)=>{const W=H._withMods||(H._withMods={}),G=K.join(".");return W[G]||(W[G]=(U,...X)=>{for(let Q=0;Q<K.length;Q++){const Z=modifierGuards[K[Q]];if(Z&&Z(U,K))return}return H(U,...X)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(H,K)=>{const W=H._withKeys||(H._withKeys={}),G=K.join(".");return W[G]||(W[G]=U=>{if(!("key"in U))return;const X=hyphenate$1(U.key);if(K.some(Q=>Q===X||keyNames[Q]===X))return H(U)})},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render=(...H)=>{ensureRenderer().render(...H)},createApp=(...H)=>{const K=ensureRenderer().createApp(...H),{mount:W}=K;return K.mount=G=>{const U=normalizeContainer(G);if(!U)return;const X=K._component;!isFunction$2(X)&&!X.render&&!X.template&&(X.template=U.innerHTML),U.nodeType===1&&(U.textContent="");const Q=W(U,!1,resolveRootNamespace(U));return U instanceof Element&&(U.removeAttribute("v-cloak"),U.setAttribute("data-v-app","")),Q},K};function resolveRootNamespace(H){if(H instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&H instanceof MathMLElement)return"mathml"}function normalizeContainer(H){return isString$1(H)?document.querySelector(H):H}function _typeof$1(H){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},_typeof$1(H)}function toPrimitive(H,K){if(_typeof$1(H)!="object"||!H)return H;var W=H[Symbol.toPrimitive];if(W!==void 0){var G=W.call(H,K);if(_typeof$1(G)!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)(H)}function toPropertyKey(H){var K=toPrimitive(H,"string");return _typeof$1(K)=="symbol"?K:K+""}function _defineProperty$S(H,K,W){return(K=toPropertyKey(K))in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}function ownKeys$1(H,K){var W=Object.keys(H);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(H);K&&(G=G.filter(function(U){return Object.getOwnPropertyDescriptor(H,U).enumerable})),W.push.apply(W,G)}return W}function _objectSpread2$1(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?arguments[K]:{};K%2?ownKeys$1(Object(W),!0).forEach(function(G){_defineProperty$S(H,G,W[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(W)):ownKeys$1(Object(W)).forEach(function(G){Object.defineProperty(H,G,Object.getOwnPropertyDescriptor(W,G))})}return H}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(H){for(var K=1;K<arguments.length;K++){var W=arguments[K];for(var G in W)({}).hasOwnProperty.call(W,G)&&(H[G]=W[G])}return H},_extends$1.apply(null,arguments)}const isFunction$1=H=>typeof H=="function",isArray$2=Array.isArray,isString=H=>typeof H=="string",isObject$2=H=>H!==null&&typeof H=="object",onRE=/^on[^a-z]/,isOn=H=>onRE.test(H),cacheStringFunction=H=>{const K=Object.create(null);return W=>K[W]||(K[W]=H(W))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(H=>H.replace(camelizeRE,(K,W)=>W?W.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(H=>H.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(H=>H.charAt(0).toUpperCase()+H.slice(1)),hasOwnProperty$e=Object.prototype.hasOwnProperty,hasOwn=(H,K)=>hasOwnProperty$e.call(H,K);function resolvePropValue(H,K,W,G){const U=H[W];if(U!=null){const X=hasOwn(U,"default");if(X&&G===void 0){const Q=U.default;G=U.type!==Function&&isFunction$1(Q)?Q():Q}U.type===Boolean&&(!hasOwn(K,W)&&!X?G=!1:G===""&&(G=!0))}return G}function getDataAndAriaProps(H){return Object.keys(H).reduce((K,W)=>((W.startsWith("data-")||W.startsWith("aria-"))&&(K[W]=H[W]),K),{})}function toPx(H){return typeof H=="number"?`${H}px`:H}function renderHelper(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=arguments.length>2?arguments[2]:void 0;return typeof H=="function"?H(K):H??W}function wrapPromiseFn(H){let K;const W=new Promise(U=>{K=H(()=>{U(!0)})}),G=()=>{K?.()};return G.then=(U,X)=>W.then(U,X),G.promise=W,G}function classNames(){const H=[];for(let K=0;K<arguments.length;K++){const W=K<0||arguments.length<=K?void 0:arguments[K];if(W){if(isString(W))H.push(W);else if(isArray$2(W))for(let G=0;G<W.length;G++){const U=classNames(W[G]);U&&H.push(U)}else if(isObject$2(W))for(const G in W)W[G]&&H.push(G)}}return H.join(" ")}var MapShim=function(){if(typeof Map<"u")return Map;function H(K,W){var G=-1;return K.some(function(U,X){return U[0]===W?(G=X,!0):!1}),G}return function(){function K(){this.__entries__=[]}return Object.defineProperty(K.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),K.prototype.get=function(W){var G=H(this.__entries__,W),U=this.__entries__[G];return U&&U[1]},K.prototype.set=function(W,G){var U=H(this.__entries__,W);~U?this.__entries__[U][1]=G:this.__entries__.push([W,G])},K.prototype.delete=function(W){var G=this.__entries__,U=H(G,W);~U&&G.splice(U,1)},K.prototype.has=function(W){return!!~H(this.__entries__,W)},K.prototype.clear=function(){this.__entries__.splice(0)},K.prototype.forEach=function(W,G){G===void 0&&(G=null);for(var U=0,X=this.__entries__;U<X.length;U++){var Q=X[U];W.call(G,Q[1],Q[0])}},K}()}(),isBrowser$1=typeof window<"u"&&typeof document<"u"&&window.document===document,global$1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),requestAnimationFrame$1=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(global$1):function(H){return setTimeout(function(){return H(Date.now())},1e3/60)}}(),trailingTimeout=2;function throttle$2(H,K){var W=!1,G=!1,U=0;function X(){W&&(W=!1,H()),G&&Z()}function Q(){requestAnimationFrame$1(X)}function Z(){var ee=Date.now();if(W){if(ee-U<trailingTimeout)return;G=!0}else W=!0,G=!1,setTimeout(Q,K);U=ee}return Z}var REFRESH_DELAY=20,transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported=typeof MutationObserver<"u",ResizeObserverController=function(){function H(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=throttle$2(this.refresh.bind(this),REFRESH_DELAY)}return H.prototype.addObserver=function(K){~this.observers_.indexOf(K)||this.observers_.push(K),this.connected_||this.connect_()},H.prototype.removeObserver=function(K){var W=this.observers_,G=W.indexOf(K);~G&&W.splice(G,1),!W.length&&this.connected_&&this.disconnect_()},H.prototype.refresh=function(){var K=this.updateObservers_();K&&this.refresh()},H.prototype.updateObservers_=function(){var K=this.observers_.filter(function(W){return W.gatherActive(),W.hasActive()});return K.forEach(function(W){return W.broadcastActive()}),K.length>0},H.prototype.connect_=function(){!isBrowser$1||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},H.prototype.disconnect_=function(){!isBrowser$1||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},H.prototype.onTransitionEnd_=function(K){var W=K.propertyName,G=W===void 0?"":W,U=transitionKeys.some(function(X){return!!~G.indexOf(X)});U&&this.refresh()},H.getInstance=function(){return this.instance_||(this.instance_=new H),this.instance_},H.instance_=null,H}(),defineConfigurable=function(H,K){for(var W=0,G=Object.keys(K);W<G.length;W++){var U=G[W];Object.defineProperty(H,U,{value:K[U],enumerable:!1,writable:!1,configurable:!0})}return H},getWindowOf=function(H){var K=H&&H.ownerDocument&&H.ownerDocument.defaultView;return K||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(H){return parseFloat(H)||0}function getBordersSize(H){for(var K=[],W=1;W<arguments.length;W++)K[W-1]=arguments[W];return K.reduce(function(G,U){var X=H["border-"+U+"-width"];return G+toFloat(X)},0)}function getPaddings(H){for(var K=["top","right","bottom","left"],W={},G=0,U=K;G<U.length;G++){var X=U[G],Q=H["padding-"+X];W[X]=toFloat(Q)}return W}function getSVGContentRect(H){var K=H.getBBox();return createRectInit(0,0,K.width,K.height)}function getHTMLElementContentRect(H){var K=H.clientWidth,W=H.clientHeight;if(!K&&!W)return emptyRect;var G=getWindowOf(H).getComputedStyle(H),U=getPaddings(G),X=U.left+U.right,Q=U.top+U.bottom,Z=toFloat(G.width),ee=toFloat(G.height);if(G.boxSizing==="border-box"&&(Math.round(Z+X)!==K&&(Z-=getBordersSize(G,"left","right")+X),Math.round(ee+Q)!==W&&(ee-=getBordersSize(G,"top","bottom")+Q)),!isDocumentElement(H)){var ne=Math.round(Z+X)-K,te=Math.round(ee+Q)-W;Math.abs(ne)!==1&&(Z-=ne),Math.abs(te)!==1&&(ee-=te)}return createRectInit(U.left,U.top,Z,ee)}var isSVGGraphicsElement=function(){return typeof SVGGraphicsElement<"u"?function(H){return H instanceof getWindowOf(H).SVGGraphicsElement}:function(H){return H instanceof getWindowOf(H).SVGElement&&typeof H.getBBox=="function"}}();function isDocumentElement(H){return H===getWindowOf(H).document.documentElement}function getContentRect(H){return isBrowser$1?isSVGGraphicsElement(H)?getSVGContentRect(H):getHTMLElementContentRect(H):emptyRect}function createReadOnlyRect(H){var K=H.x,W=H.y,G=H.width,U=H.height,X=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,Q=Object.create(X.prototype);return defineConfigurable(Q,{x:K,y:W,width:G,height:U,top:W,right:K+G,bottom:U+W,left:K}),Q}function createRectInit(H,K,W,G){return{x:H,y:K,width:W,height:G}}var ResizeObservation=function(){function H(K){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=K}return H.prototype.isActive=function(){var K=getContentRect(this.target);return this.contentRect_=K,K.width!==this.broadcastWidth||K.height!==this.broadcastHeight},H.prototype.broadcastRect=function(){var K=this.contentRect_;return this.broadcastWidth=K.width,this.broadcastHeight=K.height,K},H}(),ResizeObserverEntry=function(){function H(K,W){var G=createReadOnlyRect(W);defineConfigurable(this,{target:K,contentRect:G})}return H}(),ResizeObserverSPI=function(){function H(K,W,G){if(this.activeObservations_=[],this.observations_=new MapShim,typeof K!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=K,this.controller_=W,this.callbackCtx_=G}return H.prototype.observe=function(K){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(K instanceof getWindowOf(K).Element))throw new TypeError('parameter 1 is not of type "Element".');var W=this.observations_;W.has(K)||(W.set(K,new ResizeObservation(K)),this.controller_.addObserver(this),this.controller_.refresh())}},H.prototype.unobserve=function(K){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(K instanceof getWindowOf(K).Element))throw new TypeError('parameter 1 is not of type "Element".');var W=this.observations_;W.has(K)&&(W.delete(K),W.size||this.controller_.removeObserver(this))}},H.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},H.prototype.gatherActive=function(){var K=this;this.clearActive(),this.observations_.forEach(function(W){W.isActive()&&K.activeObservations_.push(W)})},H.prototype.broadcastActive=function(){if(this.hasActive()){var K=this.callbackCtx_,W=this.activeObservations_.map(function(G){return new ResizeObserverEntry(G.target,G.broadcastRect())});this.callback_.call(K,W,K),this.clearActive()}},H.prototype.clearActive=function(){this.activeObservations_.splice(0)},H.prototype.hasActive=function(){return this.activeObservations_.length>0},H}(),observers$1=typeof WeakMap<"u"?new WeakMap:new MapShim,ResizeObserver$2=function(){function H(K){if(!(this instanceof H))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var W=ResizeObserverController.getInstance(),G=new ResizeObserverSPI(K,W,this);observers$1.set(this,G)}return H}();["observe","unobserve","disconnect"].forEach(function(H){ResizeObserver$2.prototype[H]=function(){var K;return(K=observers$1.get(this))[H].apply(K,arguments)}});var index$1=function(){return typeof global$1.ResizeObserver<"u"?global$1.ResizeObserver:ResizeObserver$2}();const isValid$2=H=>H!=null&&H!=="",initDefaultProps=(H,K)=>{const W=_extends$1({},H);return Object.keys(K).forEach(G=>{const U=W[G];if(U)U.type||U.default?U.default=K[G]:U.def?U.def(K[G]):W[G]={type:U,default:K[G]};else throw new Error(`not have ${G} prop`)}),W},splitAttrs=H=>{const K=Object.keys(H),W={},G={},U={};for(let X=0,Q=K.length;X<Q;X++){const Z=K[X];isOn(Z)?(W[Z[2].toLowerCase()+Z.slice(3)]=H[Z],G[Z]=H[Z]):U[Z]=H[Z]}return{onEvents:G,events:W,extraAttrs:U}},parseStyleText=function(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const W={},G=/;(?![^(]*\))/g,U=/:(.+)/;return typeof H=="object"?H:(H.split(G).forEach(function(X){if(X){const Q=X.split(U);if(Q.length>1){const Z=K?camelize(Q[0].trim()):Q[0].trim();W[Z]=Q[1].trim()}}}),W)},hasProp=(H,K)=>H[K]!==void 0,skipFlattenKey=Symbol("skipFlatten"),flattenChildren=function(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const W=Array.isArray(H)?H:[H],G=[];return W.forEach(U=>{Array.isArray(U)?G.push(...flattenChildren(U,K)):U&&U.type===Fragment?U.key===skipFlattenKey?G.push(U):G.push(...flattenChildren(U.children,K)):U&&isVNode(U)?K&&!isEmptyElement(U)?G.push(U):K||G.push(U):isValid$2(U)&&G.push(U)}),G},getSlot=function(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(isVNode(H))return H.type===Fragment?K==="default"?flattenChildren(H.children):[]:H.children&&H.children[K]?flattenChildren(H.children[K](W)):[];{const G=H.$slots[K]&&H.$slots[K](W);return flattenChildren(G)}},findDOMNode=H=>{var K;let W=((K=H?.vnode)===null||K===void 0?void 0:K.el)||H&&(H.$el||H);for(;W&&!W.tagName;)W=W.nextSibling;return W},getOptionProps=H=>{const K={};if(H.$&&H.$.vnode){const W=H.$.vnode.props||{};Object.keys(H.$props).forEach(G=>{const U=H.$props[G],X=hyphenate(G);(U!==void 0||X in W)&&(K[G]=U)})}else if(isVNode(H)&&typeof H.type=="object"){const W=H.props||{},G={};Object.keys(W).forEach(X=>{G[camelize(X)]=W[X]});const U=H.type.props||{};Object.keys(U).forEach(X=>{const Q=resolvePropValue(U,G,X,G[X]);(Q!==void 0||X in G)&&(K[X]=Q)})}return K},getComponent=function(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:H,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,U;if(H.$){const X=H[K];if(X!==void 0)return typeof X=="function"&&G?X(W):X;U=H.$slots[K],U=G&&U?U(W):U}else if(isVNode(H)){const X=H.props&&H.props[K];if(X!==void 0&&H.props!==null)return typeof X=="function"&&G?X(W):X;H.type===Fragment?U=H.children:H.children&&H.children[K]&&(U=H.children[K],U=G&&U?U(W):U)}return Array.isArray(U)&&(U=flattenChildren(U),U=U.length===1?U[0]:U,U=U.length===0?void 0:U),U};function getEvents(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,W={};return H.$?W=_extends$1(_extends$1({},W),H.$attrs):W=_extends$1(_extends$1({},W),H.props),splitAttrs(W)[K?"onEvents":"events"]}function getStyle$2(H,K){let G=((isVNode(H)?H.props:H.$attrs)||{}).style||{};return typeof G=="string"&&(G=parseStyleText(G,K)),G}function isFragment(H){return H.length===1&&H[0].type===Fragment}function isEmptyElement(H){return H&&(H.type===Comment||H.type===Fragment&&H.children.length===0||H.type===Text$1&&H.children.trim()==="")}function isStringElement(H){return H&&H.type===Text$1}function filterEmpty(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const K=[];return H.forEach(W=>{Array.isArray(W)?K.push(...W):W?.type===Fragment?K.push(...filterEmpty(W.children)):K.push(W)}),K.filter(W=>!isEmptyElement(W))}function filterEmptyWithUndefined(H){if(H){const K=filterEmpty(H);return K.length?K:void 0}else return H}function isValidElement(H){return Array.isArray(H)&&H.length===1&&(H=H[0]),H&&H.__v_isVNode&&typeof H.type!="symbol"}function getPropsSlot(H,K){let W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";var G,U;return(G=K[W])!==null&&G!==void 0?G:(U=H[W])===null||U===void 0?void 0:U.call(H)}const ResizeObserver$1=defineComponent({compatConfig:{MODE:3},name:"ResizeObserver",props:{disabled:Boolean,onResize:Function},emits:["resize"],setup(H,K){let{slots:W}=K;const G=reactive({width:0,height:0,offsetHeight:0,offsetWidth:0});let U=null,X=null;const Q=()=>{X&&(X.disconnect(),X=null)},Z=te=>{const{onResize:oe}=H,re=te[0].target,{width:ae,height:se}=re.getBoundingClientRect(),{offsetWidth:ce,offsetHeight:de}=re,le=Math.floor(ae),fe=Math.floor(se);if(G.width!==le||G.height!==fe||G.offsetWidth!==ce||G.offsetHeight!==de){const pe={width:le,height:fe,offsetWidth:ce,offsetHeight:de};_extends$1(G,pe),oe&&Promise.resolve().then(()=>{oe(_extends$1(_extends$1({},pe),{offsetWidth:ce,offsetHeight:de}),re)})}},ee=getCurrentInstance(),ne=()=>{const{disabled:te}=H;if(te){Q();return}const oe=findDOMNode(ee);oe!==U&&(Q(),U=oe),!X&&oe&&(X=new index$1(Z),X.observe(oe))};return onMounted(()=>{ne()}),onUpdated(()=>{ne()}),onUnmounted(()=>{Q()}),watch(()=>H.disabled,()=>{ne()},{flush:"post"}),()=>{var te;return(te=W.default)===null||te===void 0?void 0:te.call(W)[0]}}});let raf=H=>setTimeout(H,16),caf=H=>clearTimeout(H);typeof window<"u"&&"requestAnimationFrame"in window&&(raf=H=>window.requestAnimationFrame(H),caf=H=>window.cancelAnimationFrame(H));let rafUUID=0;const rafIds=new Map;function cleanup(H){rafIds.delete(H)}function wrapperRaf(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;rafUUID+=1;const W=rafUUID;function G(U){if(U===0)cleanup(W),H();else{const X=raf(()=>{G(U-1)});rafIds.set(W,X)}}return G(K),W}wrapperRaf.cancel=H=>{const K=rafIds.get(H);return cleanup(K),caf(K)};const tuple=function(){for(var H=arguments.length,K=new Array(H),W=0;W<H;W++)K[W]=arguments[W];return K},withInstall=H=>{const K=H;return K.install=function(W){W.component(K.displayName||K.name,H)},H};function eventType(){return{type:[Function,Array]}}function objectType(H){return{type:Object,default:H}}function booleanType(H){return{type:Boolean,default:H}}function functionType(H){return{type:Function,default:H}}function anyType(H,K){const W={validator:()=>!0,default:H};return W}function vNodeType(){return{validator:()=>!0}}function arrayType(H){return{type:Array,default:H}}function stringType(H){return{type:String,default:H}}function someType(H,K){return H?{type:H,default:K}:anyType(K)}let supportsPassive=!1;try{const H=Object.defineProperty({},"passive",{get(){supportsPassive=!0}});window.addEventListener("testPassive",null,H),window.removeEventListener("testPassive",null,H)}catch{}function addEventListenerWrap(H,K,W,G){if(H&&H.addEventListener){let U=G;U===void 0&&supportsPassive&&(K==="touchstart"||K==="touchmove"||K==="wheel")&&(U={passive:!1}),H.addEventListener(K,W,U)}return{remove:()=>{H&&H.removeEventListener&&H.removeEventListener(K,W)}}}const defaultIconPrefixCls="anticon",GlobalFormContextKey=Symbol("GlobalFormContextKey"),useProvideGlobalForm=H=>{provide(GlobalFormContextKey,H)},useInjectGlobalForm=()=>inject(GlobalFormContextKey,{validateMessages:computed(()=>{})}),configProviderProps=()=>({iconPrefixCls:String,getTargetContainer:{type:Function},getPopupContainer:{type:Function},prefixCls:String,getPrefixCls:{type:Function},renderEmpty:{type:Function},transformCellText:{type:Function},csp:objectType(),input:objectType(),autoInsertSpaceInButton:{type:Boolean,default:void 0},locale:objectType(),pageHeader:objectType(),componentSize:{type:String},componentDisabled:{type:Boolean,default:void 0},direction:{type:String,default:"ltr"},space:objectType(),virtual:{type:Boolean,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},form:objectType(),pagination:objectType(),theme:objectType(),select:objectType(),wave:objectType()}),configProviderKey=Symbol("configProvider"),defaultConfigProvider={getPrefixCls:(H,K)=>K||(H?`ant-${H}`:"ant"),iconPrefixCls:computed(()=>defaultIconPrefixCls),getPopupContainer:computed(()=>()=>document.body),direction:computed(()=>"ltr")},useConfigContextInject=()=>inject(configProviderKey,defaultConfigProvider),useConfigContextProvider=H=>provide(configProviderKey,H),DisabledContextKey=Symbol("DisabledContextKey"),useInjectDisabled=()=>inject(DisabledContextKey,ref(void 0)),useProviderDisabled=H=>{const K=useInjectDisabled();return provide(DisabledContextKey,computed(()=>{var W;return(W=H.value)!==null&&W!==void 0?W:K.value})),H},enUS={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},locale$3={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},locale$2={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},locale$1={lang:_extends$1({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},locale$3),timePickerLocale:_extends$1({},locale$2)},typeTemplate$1="${label} is not a valid ${type}",localeValues={locale:"en",Pagination:enUS,DatePicker:locale$1,TimePicker:locale$2,Calendar:locale$1,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:typeTemplate$1,method:typeTemplate$1,array:typeTemplate$1,object:typeTemplate$1,number:typeTemplate$1,date:typeTemplate$1,boolean:typeTemplate$1,integer:typeTemplate$1,float:typeTemplate$1,regexp:typeTemplate$1,email:typeTemplate$1,url:typeTemplate$1,hex:typeTemplate$1},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"}},LocaleReceiver=defineComponent({compatConfig:{MODE:3},name:"LocaleReceiver",props:{componentName:String,defaultLocale:{type:[Object,Function]},children:{type:Function}},setup(H,K){let{slots:W}=K;const G=inject("localeData",{}),U=computed(()=>{const{componentName:Q="global",defaultLocale:Z}=H,ee=Z||localeValues[Q||"global"],{antLocale:ne}=G,te=Q&&ne?ne[Q]:{};return _extends$1(_extends$1({},typeof ee=="function"?ee():ee),te||{})}),X=computed(()=>{const{antLocale:Q}=G,Z=Q&&Q.locale;return Q&&Q.exist&&!Z?localeValues.locale:Z});return()=>{const Q=H.children||W.default,{antLocale:Z}=G;return Q?.(U.value,X.value,Z)}}});function useLocaleReceiver(H,K,W){const G=inject("localeData",{});return[computed(()=>{const{antLocale:X}=G,Q=unref(K)||localeValues[H||"global"],Z=H&&X?X[H]:{};return _extends$1(_extends$1(_extends$1({},typeof Q=="function"?Q():Q),Z||{}),unref(W)||{})})]}function murmur2(H){for(var K=0,W,G=0,U=H.length;U>=4;++G,U-=4)W=H.charCodeAt(G)&255|(H.charCodeAt(++G)&255)<<8|(H.charCodeAt(++G)&255)<<16|(H.charCodeAt(++G)&255)<<24,W=(W&65535)*1540483477+((W>>>16)*59797<<16),W^=W>>>24,K=(W&65535)*1540483477+((W>>>16)*59797<<16)^(K&65535)*1540483477+((K>>>16)*59797<<16);switch(U){case 3:K^=(H.charCodeAt(G+2)&255)<<16;case 2:K^=(H.charCodeAt(G+1)&255)<<8;case 1:K^=H.charCodeAt(G)&255,K=(K&65535)*1540483477+((K>>>16)*59797<<16)}return K^=K>>>13,K=(K&65535)*1540483477+((K>>>16)*59797<<16),((K^K>>>15)>>>0).toString(36)}const SPLIT="%";class Entity{constructor(K){this.cache=new Map,this.instanceId=K}get(K){return this.cache.get(Array.isArray(K)?K.join(SPLIT):K)||null}update(K,W){const G=Array.isArray(K)?K.join(SPLIT):K,U=this.cache.get(G),X=W(U);X===null?this.cache.delete(G):this.cache.set(G,X)}}const ATTR_TOKEN="data-token-hash",ATTR_MARK="data-css-hash",CSS_IN_JS_INSTANCE="__cssinjs_instance__";function createCache(){const H=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){const K=document.body.querySelectorAll(`style[${ATTR_MARK}]`)||[],{firstChild:W}=document.head;Array.from(K).forEach(U=>{U[CSS_IN_JS_INSTANCE]=U[CSS_IN_JS_INSTANCE]||H,U[CSS_IN_JS_INSTANCE]===H&&document.head.insertBefore(U,W)});const G={};Array.from(document.querySelectorAll(`style[${ATTR_MARK}]`)).forEach(U=>{var X;const Q=U.getAttribute(ATTR_MARK);G[Q]?U[CSS_IN_JS_INSTANCE]===H&&((X=U.parentNode)===null||X===void 0||X.removeChild(U)):G[Q]=!0})}return new Entity(H)}const StyleContextKey=Symbol("StyleContextKey"),getCache=()=>{var H,K,W;const G=getCurrentInstance();let U;if(G&&G.appContext){const X=(W=(K=(H=G.appContext)===null||H===void 0?void 0:H.config)===null||K===void 0?void 0:K.globalProperties)===null||W===void 0?void 0:W.__ANTDV_CSSINJS_CACHE__;X?U=X:(U=createCache(),G.appContext.config.globalProperties&&(G.appContext.config.globalProperties.__ANTDV_CSSINJS_CACHE__=U))}else U=createCache();return U},defaultStyleContext={cache:createCache(),defaultCache:!0,hashPriority:"low"},useStyleInject=()=>{const H=getCache();return inject(StyleContextKey,shallowRef(_extends$1(_extends$1({},defaultStyleContext),{cache:H})))},useStyleProvider=H=>{const K=useStyleInject(),W=shallowRef(_extends$1(_extends$1({},defaultStyleContext),{cache:createCache()}));return watch([()=>unref(H),K],()=>{const G=_extends$1({},K.value),U=unref(H);Object.keys(U).forEach(Q=>{const Z=U[Q];U[Q]!==void 0&&(G[Q]=Z)});const{cache:X}=U;G.cache=G.cache||createCache(),G.defaultCache=!X&&K.value.defaultCache,W.value=G},{immediate:!0}),provide(StyleContextKey,W),W},styleProviderProps=()=>({autoClear:booleanType(),mock:stringType(),cache:objectType(),defaultCache:booleanType(),hashPriority:stringType(),container:someType(),ssrInline:booleanType(),transformers:arrayType(),linters:arrayType()});withInstall(defineComponent({name:"AStyleProvider",inheritAttrs:!1,props:styleProviderProps(),setup(H,K){let{slots:W}=K;return useStyleProvider(H),()=>{var G;return(G=W.default)===null||G===void 0?void 0:G.call(W)}}}));function useClientCache(H,K,W,G){const U=useStyleInject(),X=shallowRef(""),Q=shallowRef();watchEffect(()=>{X.value=[H,...K.value].join("%")});const Z=ee=>{U.value.cache.update(ee,ne=>{const[te=0,oe]=ne||[];return te-1===0?(G?.(oe,!1),null):[te-1,oe]})};return watch(X,(ee,ne)=>{ne&&Z(ne),U.value.cache.update(ee,te=>{const[oe=0,re]=te||[],se=re||W();return[oe+1,se]}),Q.value=U.value.cache.get(X.value)[1]},{immediate:!0}),onBeforeUnmount(()=>{Z(X.value)}),Q}function canUseDom$1(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function contains$2(H,K){return H&&H.contains?H.contains(K):!1}const APPEND_ORDER$1="data-vc-order",MARK_KEY$1="vc-util-key",containerCache$1=new Map;function getMark$1(){let{mark:H}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return H?H.startsWith("data-")?H:`data-${H}`:MARK_KEY$1}function getContainer$2(H){return H.attachTo?H.attachTo:document.querySelector("head")||document.body}function getOrder$1(H){return H==="queue"?"prependQueue":H?"prepend":"append"}function findStyles$1(H){return Array.from((containerCache$1.get(H)||H).children).filter(K=>K.tagName==="STYLE")}function injectCSS$1(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!canUseDom$1())return null;const{csp:W,prepend:G}=K,U=document.createElement("style");U.setAttribute(APPEND_ORDER$1,getOrder$1(G)),W?.nonce&&(U.nonce=W?.nonce),U.innerHTML=H;const X=getContainer$2(K),{firstChild:Q}=X;if(G){if(G==="queue"){const Z=findStyles$1(X).filter(ee=>["prepend","prependQueue"].includes(ee.getAttribute(APPEND_ORDER$1)));if(Z.length)return X.insertBefore(U,Z[Z.length-1].nextSibling),U}X.insertBefore(U,Q)}else X.appendChild(U);return U}function findExistNode$1(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const W=getContainer$2(K);return findStyles$1(W).find(G=>G.getAttribute(getMark$1(K))===H)}function removeCSS(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const W=findExistNode$1(H,K);W&&getContainer$2(K).removeChild(W)}function syncRealContainer$1(H,K){const W=containerCache$1.get(H);if(!W||!contains$2(document,W)){const G=injectCSS$1("",K),{parentNode:U}=G;containerCache$1.set(H,U),H.removeChild(G)}}function updateCSS$1(H,K){let W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var G,U,X;const Q=getContainer$2(W);syncRealContainer$1(Q,W);const Z=findExistNode$1(K,W);if(Z)return!((G=W.csp)===null||G===void 0)&&G.nonce&&Z.nonce!==((U=W.csp)===null||U===void 0?void 0:U.nonce)&&(Z.nonce=(X=W.csp)===null||X===void 0?void 0:X.nonce),Z.innerHTML!==H&&(Z.innerHTML=H),Z;const ee=injectCSS$1(H,W);return ee.setAttribute(getMark$1(W),K),ee}function sameDerivativeOption(H,K){if(H.length!==K.length)return!1;for(let W=0;W<H.length;W++)if(H[W]!==K[W])return!1;return!0}class ThemeCache{constructor(){this.cache=new Map,this.keys=[],this.cacheCallTimes=0}size(){return this.keys.length}internalGet(K){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,G={map:this.cache};return K.forEach(U=>{var X;G?G=(X=G?.map)===null||X===void 0?void 0:X.get(U):G=void 0}),G?.value&&W&&(G.value[1]=this.cacheCallTimes++),G?.value}get(K){var W;return(W=this.internalGet(K,!0))===null||W===void 0?void 0:W[0]}has(K){return!!this.internalGet(K)}set(K,W){if(!this.has(K)){if(this.size()+1>ThemeCache.MAX_CACHE_SIZE+ThemeCache.MAX_CACHE_OFFSET){const[U]=this.keys.reduce((X,Q)=>{const[,Z]=X;return this.internalGet(Q)[1]<Z?[Q,this.internalGet(Q)[1]]:X},[this.keys[0],this.cacheCallTimes]);this.delete(U)}this.keys.push(K)}let G=this.cache;K.forEach((U,X)=>{if(X===K.length-1)G.set(U,{value:[W,this.cacheCallTimes++]});else{const Q=G.get(U);Q?Q.map||(Q.map=new Map):G.set(U,{map:new Map}),G=G.get(U).map}})}deleteByPath(K,W){var G;const U=K.get(W[0]);if(W.length===1)return U.map?K.set(W[0],{map:U.map}):K.delete(W[0]),(G=U.value)===null||G===void 0?void 0:G[0];const X=this.deleteByPath(U.map,W.slice(1));return(!U.map||U.map.size===0)&&!U.value&&K.delete(W[0]),X}delete(K){if(this.has(K))return this.keys=this.keys.filter(W=>!sameDerivativeOption(W,K)),this.deleteByPath(this.cache,K)}}ThemeCache.MAX_CACHE_SIZE=20;ThemeCache.MAX_CACHE_OFFSET=5;let warned$1={};function warning$3(H,K){}function call(H,K,W){!K&&!warned$1[W]&&(warned$1[W]=!0)}function warningOnce(H,K){call(warning$3,H,K)}function noop$6(){}let warning$2=noop$6,uuid$5=0;class Theme{constructor(K){this.derivatives=Array.isArray(K)?K:[K],this.id=uuid$5,K.length===0&&warning$2(K.length>0),uuid$5+=1}getDerivativeToken(K){return this.derivatives.reduce((W,G)=>G(K,W),void 0)}}const cacheThemes=new ThemeCache;function createTheme(H){const K=Array.isArray(H)?H:[H];return cacheThemes.has(K)||cacheThemes.set(K,new Theme(K)),cacheThemes.get(K)}const flattenTokenCache=new WeakMap;function flattenToken(H){let K=flattenTokenCache.get(H)||"";return K||(Object.keys(H).forEach(W=>{const G=H[W];K+=W,G instanceof Theme?K+=G.id:G&&typeof G=="object"?K+=flattenToken(G):K+=G}),flattenTokenCache.set(H,K)),K}function token2key(H,K){return murmur2(`${K}_${flattenToken(H)}`)}const randomSelectorKey=`random-${Date.now()}-${Math.random()}`.replace(/\./g,""),checkContent="_bAmBoO_";function supportSelector(H,K,W){var G,U;if(canUseDom$1()){updateCSS$1(H,randomSelectorKey);const X=document.createElement("div");X.style.position="fixed",X.style.left="0",X.style.top="0",K?.(X),document.body.appendChild(X);const Q=W?W(X):(G=getComputedStyle(X).content)===null||G===void 0?void 0:G.includes(checkContent);return(U=X.parentNode)===null||U===void 0||U.removeChild(X),removeCSS(randomSelectorKey),Q}return!1}let canLayer;function supportLayer(){return canLayer===void 0&&(canLayer=supportSelector(`@layer ${randomSelectorKey} { .${randomSelectorKey} { content: "${checkContent}"!important; } }`,H=>{H.className=randomSelectorKey})),canLayer}const EMPTY_OVERRIDE={},hashPrefix="css",tokenKeys=new Map;function recordCleanToken(H){tokenKeys.set(H,(tokenKeys.get(H)||0)+1)}function removeStyleTags(H,K){typeof document<"u"&&document.querySelectorAll(`style[${ATTR_TOKEN}="${H}"]`).forEach(G=>{var U;G[CSS_IN_JS_INSTANCE]===K&&((U=G.parentNode)===null||U===void 0||U.removeChild(G))})}const TOKEN_THRESHOLD=0;function cleanTokenStyle(H,K){tokenKeys.set(H,(tokenKeys.get(H)||0)-1);const W=Array.from(tokenKeys.keys()),G=W.filter(U=>(tokenKeys.get(U)||0)<=0);W.length-G.length>TOKEN_THRESHOLD&&G.forEach(U=>{removeStyleTags(U,K),tokenKeys.delete(U)})}const getComputedToken=(H,K,W,G)=>{const U=W.getDerivativeToken(H);let X=_extends$1(_extends$1({},U),K);return G&&(X=G(X)),X};function useCacheToken(H,K){let W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ref({});const G=useStyleInject(),U=computed(()=>_extends$1({},...K.value)),X=computed(()=>flattenToken(U.value)),Q=computed(()=>flattenToken(W.value.override||EMPTY_OVERRIDE));return useClientCache("token",computed(()=>[W.value.salt||"",H.value.id,X.value,Q.value]),()=>{const{salt:ee="",override:ne=EMPTY_OVERRIDE,formatToken:te,getComputedToken:oe}=W.value,re=oe?oe(U.value,ne,H.value):getComputedToken(U.value,ne,H.value,te),ae=token2key(re,ee);re._tokenKey=ae,recordCleanToken(ae);const se=`${hashPrefix}-${murmur2(ae)}`;return re._hashId=se,[re,se]},ee=>{var ne;cleanTokenStyle(ee[0]._tokenKey,(ne=G.value)===null||ne===void 0?void 0:ne.cache.instanceId)})}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",NAMESPACE="@namespace",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode;function trim(H){return H.trim()}function replace$1(H,K,W){return H.replace(K,W)}function indexof(H,K,W){return H.indexOf(K,W)}function charat(H,K){return H.charCodeAt(K)|0}function substr(H,K,W){return H.slice(K,W)}function strlen(H){return H.length}function sizeof(H){return H.length}function append(H,K){return K.push(H),H}var line=1,column=1,length=0,position=0,character=0,characters="";function node(H,K,W,G,U,X,Q,Z){return{value:H,root:K,parent:W,type:G,props:U,children:X,line,column,length:Q,return:"",siblings:Z}}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(H,K){return substr(characters,H,K)}function token(H){switch(H){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(H){return line=column=1,length=strlen(characters=H),position=0,[]}function dealloc(H){return characters="",H}function delimit(H){return trim(slice(position-1,delimiter(H===91?H+2:H===40?H+1:H)))}function whitespace$1(H){for(;(character=peek())&&character<33;)next();return token(H)>2||token(character)>3?"":" "}function escaping(H,K){for(;--K&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(H,caret()+(K<6&&peek()==32&&next()==32))}function delimiter(H){for(;next();)switch(character){case H:return position;case 34:case 39:H!==34&&H!==39&&delimiter(character);break;case 40:H===41&&delimiter(H);break;case 92:next();break}return position}function commenter(H,K){for(;next()&&H+character!==57;)if(H+character===84&&peek()===47)break;return"/*"+slice(K,position-1)+"*"+from(H===47?H:next())}function identifier(H){for(;!token(peek());)next();return slice(H,position)}function compile(H){return dealloc(parse("",null,null,null,[""],H=alloc(H),0,[0],H))}function parse(H,K,W,G,U,X,Q,Z,ee){for(var ne=0,te=0,oe=Q,re=0,ae=0,se=0,ce=1,de=1,le=1,fe=0,pe="",me=U,ue=X,ge=G,he=pe;de;)switch(se=fe,fe=next()){case 40:if(se!=108&&charat(he,oe-1)==58){indexof(he+=replace$1(delimit(fe),"&","&\f"),"&\f",abs(ne?Z[ne-1]:0))!=-1&&(le=-1);break}case 34:case 39:case 91:he+=delimit(fe);break;case 9:case 10:case 13:case 32:he+=whitespace$1(se);break;case 92:he+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment$1(commenter(next(),caret()),K,W,ee),ee),(token(se||1)==5||token(peek()||1)==5)&&strlen(he)&&substr(he,-1,void 0)!==" "&&(he+=" ");break;default:he+="/"}break;case 123*ce:Z[ne++]=strlen(he)*le;case 125*ce:case 59:case 0:switch(fe){case 0:case 125:de=0;case 59+te:le==-1&&(he=replace$1(he,/\f/g,"")),ae>0&&(strlen(he)-oe||ce===0&&se===47)&&append(ae>32?declaration(he+";",G,W,oe-1,ee):declaration(replace$1(he," ","")+";",G,W,oe-2,ee),ee);break;case 59:he+=";";default:if(append(ge=ruleset(he,K,W,ne,te,U,Z,pe,me=[],ue=[],oe,X),X),fe===123)if(te===0)parse(he,K,ge,ge,me,X,oe,Z,ue);else{switch(re){case 99:if(charat(he,3)===110)break;case 108:if(charat(he,2)===97)break;default:te=0;case 100:case 109:case 115:}te?parse(H,ge,ge,G&&append(ruleset(H,ge,ge,0,0,U,Z,pe,U,me=[],oe,ue),ue),U,ue,oe,Z,G?me:ue):parse(he,ge,ge,ge,[""],ue,0,Z,ue)}}ne=te=ae=0,ce=le=1,pe=he="",oe=Q;break;case 58:oe=1+strlen(he),ae=se;default:if(ce<1){if(fe==123)--ce;else if(fe==125&&ce++==0&&prev()==125)continue}switch(he+=from(fe),fe*ce){case 38:le=te>0?1:(he+="\f",-1);break;case 44:Z[ne++]=(strlen(he)-1)*le,le=1;break;case 64:peek()===45&&(he+=delimit(next())),re=peek(),te=oe=strlen(pe=he+=identifier(caret())),fe++;break;case 45:se===45&&strlen(he)==2&&(ce=0)}}return X}function ruleset(H,K,W,G,U,X,Q,Z,ee,ne,te,oe){for(var re=U-1,ae=U===0?X:[""],se=sizeof(ae),ce=0,de=0,le=0;ce<G;++ce)for(var fe=0,pe=substr(H,re+1,re=abs(de=Q[ce])),me=H;fe<se;++fe)(me=trim(de>0?ae[fe]+" "+pe:replace$1(pe,/&\f/g,ae[fe])))&&(ee[le++]=me);return node(H,K,W,U===0?RULESET:Z,ee,ne,te,oe)}function comment$1(H,K,W,G){return node(H,K,W,COMMENT,from(char()),substr(H,2,-2),0,G)}function declaration(H,K,W,G,U){return node(H,K,W,DECLARATION,substr(H,0,G),substr(H,G+1,-1),G,U)}function serialize(H,K){for(var W="",G=0;G<H.length;G++)W+=K(H[G],G,H,K)||"";return W}function stringify(H,K,W,G){switch(H.type){case LAYER:if(H.children.length)break;case IMPORT:case NAMESPACE:case DECLARATION:return H.return=H.return||H.value;case COMMENT:return"";case KEYFRAMES:return H.return=H.value+"{"+serialize(H.children,G)+"}";case RULESET:if(!strlen(H.value=H.props.join(",")))return""}return strlen(W=serialize(H.children,G))?H.return=H.value+"{"+W+"}":""}const ATTR_CACHE_MAP="data-ant-cssinjs-cache-path",CSS_FILE_STYLE="_FILE_STYLE__";let cachePathMap,fromCSSFile=!0;function prepare(){var H;if(!cachePathMap&&(cachePathMap={},canUseDom$1())){const K=document.createElement("div");K.className=ATTR_CACHE_MAP,K.style.position="fixed",K.style.visibility="hidden",K.style.top="-9999px",document.body.appendChild(K);let W=getComputedStyle(K).content||"";W=W.replace(/^"/,"").replace(/"$/,""),W.split(";").forEach(U=>{const[X,Q]=U.split(":");cachePathMap[X]=Q});const G=document.querySelector(`style[${ATTR_CACHE_MAP}]`);G&&(fromCSSFile=!1,(H=G.parentNode)===null||H===void 0||H.removeChild(G)),document.body.removeChild(K)}}function existPath(H){return prepare(),!!cachePathMap[H]}function getStyleAndHash(H){const K=cachePathMap[H];let W=null;if(K&&canUseDom$1())if(fromCSSFile)W=CSS_FILE_STYLE;else{const G=document.querySelector(`style[${ATTR_MARK}="${cachePathMap[H]}"]`);G?W=G.innerHTML:delete cachePathMap[H]}return[W,K]}const isClientSide=canUseDom$1(),SKIP_CHECK="_skip_check_",MULTI_VALUE="_multi_value_";function normalizeStyle(H){return serialize(compile(H),stringify).replace(/\{%%%\:[^;];}/g,";")}function isCompoundCSSProperty(H){return typeof H=="object"&&H&&(SKIP_CHECK in H||MULTI_VALUE in H)}function injectSelectorHash(H,K,W){if(!K)return H;const G=`.${K}`,U=W==="low"?`:where(${G})`:G;return H.split(",").map(Q=>{var Z;const ee=Q.trim().split(/\s+/);let ne=ee[0]||"";const te=((Z=ne.match(/^\w+/))===null||Z===void 0?void 0:Z[0])||"";return ne=`${te}${U}${ne.slice(te.length)}`,[ne,...ee.slice(1)].join(" ")}).join(",")}const globalEffectStyleKeys=new Set,parseStyle=function(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{root:W,injectHash:G,parentSelectors:U}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]};const{hashId:X,layer:Q,path:Z,hashPriority:ee,transformers:ne=[],linters:te=[]}=K;let oe="",re={};function ae(de){const le=de.getName(X);if(!re[le]){const[fe]=parseStyle(de.style,K,{root:!1,parentSelectors:U});re[le]=`@keyframes ${de.getName(X)}${fe}`}}function se(de){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return de.forEach(fe=>{Array.isArray(fe)?se(fe,le):fe&&le.push(fe)}),le}if(se(Array.isArray(H)?H:[H]).forEach(de=>{const le=typeof de=="string"&&!W?{}:de;if(typeof le=="string")oe+=`${le}
`;else if(le._keyframe)ae(le);else{const fe=ne.reduce((pe,me)=>{var ue;return((ue=me?.visit)===null||ue===void 0?void 0:ue.call(me,pe))||pe},le);Object.keys(fe).forEach(pe=>{var me;const ue=fe[pe];if(typeof ue=="object"&&ue&&(pe!=="animationName"||!ue._keyframe)&&!isCompoundCSSProperty(ue)){let ge=!1,he=pe.trim(),ve=!1;(W||G)&&X?he.startsWith("@")?ge=!0:he=injectSelectorHash(pe,X,ee):W&&!X&&(he==="&"||he==="")&&(he="",ve=!0);const[ye,be]=parseStyle(ue,K,{root:ve,injectHash:ge,parentSelectors:[...U,he]});re=_extends$1(_extends$1({},re),be),oe+=`${he}${ye}`}else{let ge=function(ve,ye){const be=ve.replace(/[A-Z]/g,Ce=>`-${Ce.toLowerCase()}`);let Se=ye;!unitlessKeys[ve]&&typeof Se=="number"&&Se!==0&&(Se=`${Se}px`),ve==="animationName"&&ye?._keyframe&&(ae(ye),Se=ye.getName(X)),oe+=`${be}:${Se};`};const he=(me=ue?.value)!==null&&me!==void 0?me:ue;typeof ue=="object"&&ue?.[MULTI_VALUE]&&Array.isArray(he)?he.forEach(ve=>{ge(pe,ve)}):ge(pe,he)}})}}),!W)oe=`{${oe}}`;else if(Q&&supportLayer()){const de=Q.split(",");oe=`@layer ${de[de.length-1].trim()} {${oe}}`,de.length>1&&(oe=`@layer ${Q}{%%%:%}${oe}`)}return[oe,re]};function uniqueHash(H,K){return murmur2(`${H.join("%")}${K}`)}function useStyleRegister(H,K){const W=useStyleInject(),G=computed(()=>H.value.token._tokenKey),U=computed(()=>[G.value,...H.value.path]);let X=isClientSide;return useClientCache("style",U,()=>{const{path:Q,hashId:Z,layer:ee,nonce:ne,clientOnly:te,order:oe=0}=H.value,re=U.value.join("|");if(existPath(re)){const[he,ve]=getStyleAndHash(re);if(he)return[he,G.value,ve,{},te,oe]}const ae=K(),{hashPriority:se,container:ce,transformers:de,linters:le,cache:fe}=W.value,[pe,me]=parseStyle(ae,{hashId:Z,hashPriority:se,layer:ee,path:Q.join("-"),transformers:de,linters:le}),ue=normalizeStyle(pe),ge=uniqueHash(U.value,ue);if(X){const he={mark:ATTR_MARK,prepend:"queue",attachTo:ce,priority:oe},ve=typeof ne=="function"?ne():ne;ve&&(he.csp={nonce:ve});const ye=updateCSS$1(ue,ge,he);ye[CSS_IN_JS_INSTANCE]=fe.instanceId,ye.setAttribute(ATTR_TOKEN,G.value),Object.keys(me).forEach(be=>{globalEffectStyleKeys.has(be)||(globalEffectStyleKeys.add(be),updateCSS$1(normalizeStyle(me[be]),`_effect-${be}`,{mark:ATTR_MARK,prepend:"queue",attachTo:ce}))})}return[ue,G.value,ge,me,te,oe]},(Q,Z)=>{let[,,ee]=Q;(Z||W.value.autoClear)&&isClientSide&&removeCSS(ee,{mark:ATTR_MARK})}),Q=>Q}class Keyframe{constructor(K,W){this._keyframe=!0,this.name=K,this.style=W}getName(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return K?`${K}-${this.name}`:this.name}}function noSplit(H){return H.notSplit=!0,H}noSplit(["borderTop","borderBottom"]),noSplit(["borderTop"]),noSplit(["borderBottom"]),noSplit(["borderLeft","borderRight"]),noSplit(["borderLeft"]),noSplit(["borderRight"]);const version="4.2.6",PresetColors=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function bound01(H,K){isOnePointZero(H)&&(H="100%");var W=isPercentage(H);return H=K===360?H:Math.min(K,Math.max(0,parseFloat(H))),W&&(H=parseInt(String(H*K),10)/100),Math.abs(H-K)<1e-6?1:(K===360?H=(H<0?H%K+K:H%K)/parseFloat(String(K)):H=H%K/parseFloat(String(K)),H)}function clamp01(H){return Math.min(1,Math.max(0,H))}function isOnePointZero(H){return typeof H=="string"&&H.indexOf(".")!==-1&&parseFloat(H)===1}function isPercentage(H){return typeof H=="string"&&H.indexOf("%")!==-1}function boundAlpha(H){return H=parseFloat(H),(isNaN(H)||H<0||H>1)&&(H=1),H}function convertToPercentage(H){return H<=1?"".concat(Number(H)*100,"%"):H}function pad2(H){return H.length===1?"0"+H:String(H)}function rgbToRgb(H,K,W){return{r:bound01(H,255)*255,g:bound01(K,255)*255,b:bound01(W,255)*255}}function rgbToHsl(H,K,W){H=bound01(H,255),K=bound01(K,255),W=bound01(W,255);var G=Math.max(H,K,W),U=Math.min(H,K,W),X=0,Q=0,Z=(G+U)/2;if(G===U)Q=0,X=0;else{var ee=G-U;switch(Q=Z>.5?ee/(2-G-U):ee/(G+U),G){case H:X=(K-W)/ee+(K<W?6:0);break;case K:X=(W-H)/ee+2;break;case W:X=(H-K)/ee+4;break}X/=6}return{h:X,s:Q,l:Z}}function hue2rgb(H,K,W){return W<0&&(W+=1),W>1&&(W-=1),W<1/6?H+(K-H)*(6*W):W<1/2?K:W<2/3?H+(K-H)*(2/3-W)*6:H}function hslToRgb(H,K,W){var G,U,X;if(H=bound01(H,360),K=bound01(K,100),W=bound01(W,100),K===0)U=W,X=W,G=W;else{var Q=W<.5?W*(1+K):W+K-W*K,Z=2*W-Q;G=hue2rgb(Z,Q,H+1/3),U=hue2rgb(Z,Q,H),X=hue2rgb(Z,Q,H-1/3)}return{r:G*255,g:U*255,b:X*255}}function rgbToHsv(H,K,W){H=bound01(H,255),K=bound01(K,255),W=bound01(W,255);var G=Math.max(H,K,W),U=Math.min(H,K,W),X=0,Q=G,Z=G-U,ee=G===0?0:Z/G;if(G===U)X=0;else{switch(G){case H:X=(K-W)/Z+(K<W?6:0);break;case K:X=(W-H)/Z+2;break;case W:X=(H-K)/Z+4;break}X/=6}return{h:X,s:ee,v:Q}}function hsvToRgb(H,K,W){H=bound01(H,360)*6,K=bound01(K,100),W=bound01(W,100);var G=Math.floor(H),U=H-G,X=W*(1-K),Q=W*(1-U*K),Z=W*(1-(1-U)*K),ee=G%6,ne=[W,Q,X,X,Z,W][ee],te=[Z,W,W,Q,X,X][ee],oe=[X,X,Z,W,W,Q][ee];return{r:ne*255,g:te*255,b:oe*255}}function rgbToHex(H,K,W,G){var U=[pad2(Math.round(H).toString(16)),pad2(Math.round(K).toString(16)),pad2(Math.round(W).toString(16))];return G&&U[0].startsWith(U[0].charAt(1))&&U[1].startsWith(U[1].charAt(1))&&U[2].startsWith(U[2].charAt(1))?U[0].charAt(0)+U[1].charAt(0)+U[2].charAt(0):U.join("")}function rgbaToHex(H,K,W,G,U){var X=[pad2(Math.round(H).toString(16)),pad2(Math.round(K).toString(16)),pad2(Math.round(W).toString(16)),pad2(convertDecimalToHex(G))];return U&&X[0].startsWith(X[0].charAt(1))&&X[1].startsWith(X[1].charAt(1))&&X[2].startsWith(X[2].charAt(1))&&X[3].startsWith(X[3].charAt(1))?X[0].charAt(0)+X[1].charAt(0)+X[2].charAt(0)+X[3].charAt(0):X.join("")}function convertDecimalToHex(H){return Math.round(parseFloat(H)*255).toString(16)}function convertHexToDecimal(H){return parseIntFromHex(H)/255}function parseIntFromHex(H){return parseInt(H,16)}function numberInputToObject(H){return{r:H>>16,g:(H&65280)>>8,b:H&255}}var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(H){var K={r:0,g:0,b:0},W=1,G=null,U=null,X=null,Q=!1,Z=!1;return typeof H=="string"&&(H=stringInputToObject(H)),typeof H=="object"&&(isValidCSSUnit(H.r)&&isValidCSSUnit(H.g)&&isValidCSSUnit(H.b)?(K=rgbToRgb(H.r,H.g,H.b),Q=!0,Z=String(H.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(H.h)&&isValidCSSUnit(H.s)&&isValidCSSUnit(H.v)?(G=convertToPercentage(H.s),U=convertToPercentage(H.v),K=hsvToRgb(H.h,G,U),Q=!0,Z="hsv"):isValidCSSUnit(H.h)&&isValidCSSUnit(H.s)&&isValidCSSUnit(H.l)&&(G=convertToPercentage(H.s),X=convertToPercentage(H.l),K=hslToRgb(H.h,G,X),Q=!0,Z="hsl"),Object.prototype.hasOwnProperty.call(H,"a")&&(W=H.a)),W=boundAlpha(W),{ok:Q,format:H.format||Z,r:Math.min(255,Math.max(K.r,0)),g:Math.min(255,Math.max(K.g,0)),b:Math.min(255,Math.max(K.b,0)),a:W}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(H){if(H=H.trim().toLowerCase(),H.length===0)return!1;var K=!1;if(names[H])H=names[H],K=!0;else if(H==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var W=matchers.rgb.exec(H);return W?{r:W[1],g:W[2],b:W[3]}:(W=matchers.rgba.exec(H),W?{r:W[1],g:W[2],b:W[3],a:W[4]}:(W=matchers.hsl.exec(H),W?{h:W[1],s:W[2],l:W[3]}:(W=matchers.hsla.exec(H),W?{h:W[1],s:W[2],l:W[3],a:W[4]}:(W=matchers.hsv.exec(H),W?{h:W[1],s:W[2],v:W[3]}:(W=matchers.hsva.exec(H),W?{h:W[1],s:W[2],v:W[3],a:W[4]}:(W=matchers.hex8.exec(H),W?{r:parseIntFromHex(W[1]),g:parseIntFromHex(W[2]),b:parseIntFromHex(W[3]),a:convertHexToDecimal(W[4]),format:K?"name":"hex8"}:(W=matchers.hex6.exec(H),W?{r:parseIntFromHex(W[1]),g:parseIntFromHex(W[2]),b:parseIntFromHex(W[3]),format:K?"name":"hex"}:(W=matchers.hex4.exec(H),W?{r:parseIntFromHex(W[1]+W[1]),g:parseIntFromHex(W[2]+W[2]),b:parseIntFromHex(W[3]+W[3]),a:convertHexToDecimal(W[4]+W[4]),format:K?"name":"hex8"}:(W=matchers.hex3.exec(H),W?{r:parseIntFromHex(W[1]+W[1]),g:parseIntFromHex(W[2]+W[2]),b:parseIntFromHex(W[3]+W[3]),format:K?"name":"hex"}:!1)))))))))}function isValidCSSUnit(H){return!!matchers.CSS_UNIT.exec(String(H))}var TinyColor=function(){function H(K,W){K===void 0&&(K=""),W===void 0&&(W={});var G;if(K instanceof H)return K;typeof K=="number"&&(K=numberInputToObject(K)),this.originalInput=K;var U=inputToRGB(K);this.originalInput=K,this.r=U.r,this.g=U.g,this.b=U.b,this.a=U.a,this.roundA=Math.round(100*this.a)/100,this.format=(G=W.format)!==null&&G!==void 0?G:U.format,this.gradientType=W.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=U.ok}return H.prototype.isDark=function(){return this.getBrightness()<128},H.prototype.isLight=function(){return!this.isDark()},H.prototype.getBrightness=function(){var K=this.toRgb();return(K.r*299+K.g*587+K.b*114)/1e3},H.prototype.getLuminance=function(){var K=this.toRgb(),W,G,U,X=K.r/255,Q=K.g/255,Z=K.b/255;return X<=.03928?W=X/12.92:W=Math.pow((X+.055)/1.055,2.4),Q<=.03928?G=Q/12.92:G=Math.pow((Q+.055)/1.055,2.4),Z<=.03928?U=Z/12.92:U=Math.pow((Z+.055)/1.055,2.4),.2126*W+.7152*G+.0722*U},H.prototype.getAlpha=function(){return this.a},H.prototype.setAlpha=function(K){return this.a=boundAlpha(K),this.roundA=Math.round(100*this.a)/100,this},H.prototype.isMonochrome=function(){var K=this.toHsl().s;return K===0},H.prototype.toHsv=function(){var K=rgbToHsv(this.r,this.g,this.b);return{h:K.h*360,s:K.s,v:K.v,a:this.a}},H.prototype.toHsvString=function(){var K=rgbToHsv(this.r,this.g,this.b),W=Math.round(K.h*360),G=Math.round(K.s*100),U=Math.round(K.v*100);return this.a===1?"hsv(".concat(W,", ").concat(G,"%, ").concat(U,"%)"):"hsva(".concat(W,", ").concat(G,"%, ").concat(U,"%, ").concat(this.roundA,")")},H.prototype.toHsl=function(){var K=rgbToHsl(this.r,this.g,this.b);return{h:K.h*360,s:K.s,l:K.l,a:this.a}},H.prototype.toHslString=function(){var K=rgbToHsl(this.r,this.g,this.b),W=Math.round(K.h*360),G=Math.round(K.s*100),U=Math.round(K.l*100);return this.a===1?"hsl(".concat(W,", ").concat(G,"%, ").concat(U,"%)"):"hsla(".concat(W,", ").concat(G,"%, ").concat(U,"%, ").concat(this.roundA,")")},H.prototype.toHex=function(K){return K===void 0&&(K=!1),rgbToHex(this.r,this.g,this.b,K)},H.prototype.toHexString=function(K){return K===void 0&&(K=!1),"#"+this.toHex(K)},H.prototype.toHex8=function(K){return K===void 0&&(K=!1),rgbaToHex(this.r,this.g,this.b,this.a,K)},H.prototype.toHex8String=function(K){return K===void 0&&(K=!1),"#"+this.toHex8(K)},H.prototype.toHexShortString=function(K){return K===void 0&&(K=!1),this.a===1?this.toHexString(K):this.toHex8String(K)},H.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},H.prototype.toRgbString=function(){var K=Math.round(this.r),W=Math.round(this.g),G=Math.round(this.b);return this.a===1?"rgb(".concat(K,", ").concat(W,", ").concat(G,")"):"rgba(".concat(K,", ").concat(W,", ").concat(G,", ").concat(this.roundA,")")},H.prototype.toPercentageRgb=function(){var K=function(W){return"".concat(Math.round(bound01(W,255)*100),"%")};return{r:K(this.r),g:K(this.g),b:K(this.b),a:this.a}},H.prototype.toPercentageRgbString=function(){var K=function(W){return Math.round(bound01(W,255)*100)};return this.a===1?"rgb(".concat(K(this.r),"%, ").concat(K(this.g),"%, ").concat(K(this.b),"%)"):"rgba(".concat(K(this.r),"%, ").concat(K(this.g),"%, ").concat(K(this.b),"%, ").concat(this.roundA,")")},H.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var K="#"+rgbToHex(this.r,this.g,this.b,!1),W=0,G=Object.entries(names);W<G.length;W++){var U=G[W],X=U[0],Q=U[1];if(K===Q)return X}return!1},H.prototype.toString=function(K){var W=!!K;K=K??this.format;var G=!1,U=this.a<1&&this.a>=0,X=!W&&U&&(K.startsWith("hex")||K==="name");return X?K==="name"&&this.a===0?this.toName():this.toRgbString():(K==="rgb"&&(G=this.toRgbString()),K==="prgb"&&(G=this.toPercentageRgbString()),(K==="hex"||K==="hex6")&&(G=this.toHexString()),K==="hex3"&&(G=this.toHexString(!0)),K==="hex4"&&(G=this.toHex8String(!0)),K==="hex8"&&(G=this.toHex8String()),K==="name"&&(G=this.toName()),K==="hsl"&&(G=this.toHslString()),K==="hsv"&&(G=this.toHsvString()),G||this.toHexString())},H.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},H.prototype.clone=function(){return new H(this.toString())},H.prototype.lighten=function(K){K===void 0&&(K=10);var W=this.toHsl();return W.l+=K/100,W.l=clamp01(W.l),new H(W)},H.prototype.brighten=function(K){K===void 0&&(K=10);var W=this.toRgb();return W.r=Math.max(0,Math.min(255,W.r-Math.round(255*-(K/100)))),W.g=Math.max(0,Math.min(255,W.g-Math.round(255*-(K/100)))),W.b=Math.max(0,Math.min(255,W.b-Math.round(255*-(K/100)))),new H(W)},H.prototype.darken=function(K){K===void 0&&(K=10);var W=this.toHsl();return W.l-=K/100,W.l=clamp01(W.l),new H(W)},H.prototype.tint=function(K){return K===void 0&&(K=10),this.mix("white",K)},H.prototype.shade=function(K){return K===void 0&&(K=10),this.mix("black",K)},H.prototype.desaturate=function(K){K===void 0&&(K=10);var W=this.toHsl();return W.s-=K/100,W.s=clamp01(W.s),new H(W)},H.prototype.saturate=function(K){K===void 0&&(K=10);var W=this.toHsl();return W.s+=K/100,W.s=clamp01(W.s),new H(W)},H.prototype.greyscale=function(){return this.desaturate(100)},H.prototype.spin=function(K){var W=this.toHsl(),G=(W.h+K)%360;return W.h=G<0?360+G:G,new H(W)},H.prototype.mix=function(K,W){W===void 0&&(W=50);var G=this.toRgb(),U=new H(K).toRgb(),X=W/100,Q={r:(U.r-G.r)*X+G.r,g:(U.g-G.g)*X+G.g,b:(U.b-G.b)*X+G.b,a:(U.a-G.a)*X+G.a};return new H(Q)},H.prototype.analogous=function(K,W){K===void 0&&(K=6),W===void 0&&(W=30);var G=this.toHsl(),U=360/W,X=[this];for(G.h=(G.h-(U*K>>1)+720)%360;--K;)G.h=(G.h+U)%360,X.push(new H(G));return X},H.prototype.complement=function(){var K=this.toHsl();return K.h=(K.h+180)%360,new H(K)},H.prototype.monochromatic=function(K){K===void 0&&(K=6);for(var W=this.toHsv(),G=W.h,U=W.s,X=W.v,Q=[],Z=1/K;K--;)Q.push(new H({h:G,s:U,v:X})),X=(X+Z)%1;return Q},H.prototype.splitcomplement=function(){var K=this.toHsl(),W=K.h;return[this,new H({h:(W+72)%360,s:K.s,l:K.l}),new H({h:(W+216)%360,s:K.s,l:K.l})]},H.prototype.onBackground=function(K){var W=this.toRgb(),G=new H(K).toRgb(),U=W.a+G.a*(1-W.a);return new H({r:(W.r*W.a+G.r*G.a*(1-W.a))/U,g:(W.g*W.a+G.g*G.a*(1-W.a))/U,b:(W.b*W.a+G.b*G.a*(1-W.a))/U,a:U})},H.prototype.triad=function(){return this.polyad(3)},H.prototype.tetrad=function(){return this.polyad(4)},H.prototype.polyad=function(K){for(var W=this.toHsl(),G=W.h,U=[this],X=360/K,Q=1;Q<K;Q++)U.push(new H({h:(G+Q*X)%360,s:W.s,l:W.l}));return U},H.prototype.equals=function(K){return this.toRgbString()===new H(K).toRgbString()},H}(),hueStep=2,saturationStep=.16,saturationStep2=.05,brightnessStep1=.05,brightnessStep2=.15,lightColorCount=5,darkColorCount=4,darkColorMap=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function toHsv(H){var K=H.r,W=H.g,G=H.b,U=rgbToHsv(K,W,G);return{h:U.h*360,s:U.s,v:U.v}}function toHex(H){var K=H.r,W=H.g,G=H.b;return"#".concat(rgbToHex(K,W,G,!1))}function mix$1(H,K,W){var G=W/100,U={r:(K.r-H.r)*G+H.r,g:(K.g-H.g)*G+H.g,b:(K.b-H.b)*G+H.b};return U}function getHue(H,K,W){var G;return Math.round(H.h)>=60&&Math.round(H.h)<=240?G=W?Math.round(H.h)-hueStep*K:Math.round(H.h)+hueStep*K:G=W?Math.round(H.h)+hueStep*K:Math.round(H.h)-hueStep*K,G<0?G+=360:G>=360&&(G-=360),G}function getSaturation(H,K,W){if(H.h===0&&H.s===0)return H.s;var G;return W?G=H.s-saturationStep*K:K===darkColorCount?G=H.s+saturationStep:G=H.s+saturationStep2*K,G>1&&(G=1),W&&K===lightColorCount&&G>.1&&(G=.1),G<.06&&(G=.06),Number(G.toFixed(2))}function getValue$3(H,K,W){var G;return W?G=H.v+brightnessStep1*K:G=H.v-brightnessStep2*K,G>1&&(G=1),Number(G.toFixed(2))}function generate$1(H){for(var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=[],G=inputToRGB(H),U=lightColorCount;U>0;U-=1){var X=toHsv(G),Q=toHex(inputToRGB({h:getHue(X,U,!0),s:getSaturation(X,U,!0),v:getValue$3(X,U,!0)}));W.push(Q)}W.push(toHex(G));for(var Z=1;Z<=darkColorCount;Z+=1){var ee=toHsv(G),ne=toHex(inputToRGB({h:getHue(ee,Z),s:getSaturation(ee,Z),v:getValue$3(ee,Z)}));W.push(ne)}return K.theme==="dark"?darkColorMap.map(function(te){var oe=te.index,re=te.opacity,ae=toHex(mix$1(inputToRGB(K.backgroundColor||"#141414"),inputToRGB(W[oe]),re*100));return ae}):W}var presetPrimaryColors={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},presetPalettes={},presetDarkPalettes={};Object.keys(presetPrimaryColors).forEach(function(H){presetPalettes[H]=generate$1(presetPrimaryColors[H]),presetPalettes[H].primary=presetPalettes[H][5],presetDarkPalettes[H]=generate$1(presetPrimaryColors[H],{theme:"dark",backgroundColor:"#141414"}),presetDarkPalettes[H].primary=presetDarkPalettes[H][5]});var blue=presetPalettes.blue;const genControlHeight=H=>{const{controlHeight:K}=H;return{controlHeightSM:K*.75,controlHeightXS:K*.5,controlHeightLG:K*1.25}};function genSizeMapToken(H){const{sizeUnit:K,sizeStep:W}=H;return{sizeXXL:K*(W+8),sizeXL:K*(W+4),sizeLG:K*(W+2),sizeMD:K*(W+1),sizeMS:K*W,size:K*W,sizeSM:K*(W-1),sizeXS:K*(W-2),sizeXXS:K*(W-3)}}const defaultPresetColors={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},seedToken=_extends$1(_extends$1({},defaultPresetColors),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1});function genColorMapToken(H,K){let{generateColorPalettes:W,generateNeutralColorPalettes:G}=K;const{colorSuccess:U,colorWarning:X,colorError:Q,colorInfo:Z,colorPrimary:ee,colorBgBase:ne,colorTextBase:te}=H,oe=W(ee),re=W(U),ae=W(X),se=W(Q),ce=W(Z),de=G(ne,te);return _extends$1(_extends$1({},de),{colorPrimaryBg:oe[1],colorPrimaryBgHover:oe[2],colorPrimaryBorder:oe[3],colorPrimaryBorderHover:oe[4],colorPrimaryHover:oe[5],colorPrimary:oe[6],colorPrimaryActive:oe[7],colorPrimaryTextHover:oe[8],colorPrimaryText:oe[9],colorPrimaryTextActive:oe[10],colorSuccessBg:re[1],colorSuccessBgHover:re[2],colorSuccessBorder:re[3],colorSuccessBorderHover:re[4],colorSuccessHover:re[4],colorSuccess:re[6],colorSuccessActive:re[7],colorSuccessTextHover:re[8],colorSuccessText:re[9],colorSuccessTextActive:re[10],colorErrorBg:se[1],colorErrorBgHover:se[2],colorErrorBorder:se[3],colorErrorBorderHover:se[4],colorErrorHover:se[5],colorError:se[6],colorErrorActive:se[7],colorErrorTextHover:se[8],colorErrorText:se[9],colorErrorTextActive:se[10],colorWarningBg:ae[1],colorWarningBgHover:ae[2],colorWarningBorder:ae[3],colorWarningBorderHover:ae[4],colorWarningHover:ae[4],colorWarning:ae[6],colorWarningActive:ae[7],colorWarningTextHover:ae[8],colorWarningText:ae[9],colorWarningTextActive:ae[10],colorInfoBg:ce[1],colorInfoBgHover:ce[2],colorInfoBorder:ce[3],colorInfoBorderHover:ce[4],colorInfoHover:ce[4],colorInfo:ce[6],colorInfoActive:ce[7],colorInfoTextHover:ce[8],colorInfoText:ce[9],colorInfoTextActive:ce[10],colorBgMask:new TinyColor("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const genRadius=H=>{let K=H,W=H,G=H,U=H;return H<6&&H>=5?K=H+1:H<16&&H>=6?K=H+2:H>=16&&(K=16),H<7&&H>=5?W=4:H<8&&H>=7?W=5:H<14&&H>=8?W=6:H<16&&H>=14?W=7:H>=16&&(W=8),H<6&&H>=2?G=1:H>=6&&(G=2),H>4&&H<8?U=4:H>=8&&(U=6),{borderRadius:H>16?16:H,borderRadiusXS:G,borderRadiusSM:W,borderRadiusLG:K,borderRadiusOuter:U}};function genCommonMapToken(H){const{motionUnit:K,motionBase:W,borderRadius:G,lineWidth:U}=H;return _extends$1({motionDurationFast:`${(W+K).toFixed(1)}s`,motionDurationMid:`${(W+K*2).toFixed(1)}s`,motionDurationSlow:`${(W+K*3).toFixed(1)}s`,lineWidthBold:U+1},genRadius(G))}const getAlphaColor$1=(H,K)=>new TinyColor(H).setAlpha(K).toRgbString(),getSolidColor=(H,K)=>new TinyColor(H).darken(K).toHexString(),generateColorPalettes=H=>{const K=generate$1(H);return{1:K[0],2:K[1],3:K[2],4:K[3],5:K[4],6:K[5],7:K[6],8:K[4],9:K[5],10:K[6]}},generateNeutralColorPalettes=(H,K)=>{const W=H||"#fff",G=K||"#000";return{colorBgBase:W,colorTextBase:G,colorText:getAlphaColor$1(G,.88),colorTextSecondary:getAlphaColor$1(G,.65),colorTextTertiary:getAlphaColor$1(G,.45),colorTextQuaternary:getAlphaColor$1(G,.25),colorFill:getAlphaColor$1(G,.15),colorFillSecondary:getAlphaColor$1(G,.06),colorFillTertiary:getAlphaColor$1(G,.04),colorFillQuaternary:getAlphaColor$1(G,.02),colorBgLayout:getSolidColor(W,4),colorBgContainer:getSolidColor(W,0),colorBgElevated:getSolidColor(W,0),colorBgSpotlight:getAlphaColor$1(G,.85),colorBorder:getSolidColor(W,15),colorBorderSecondary:getSolidColor(W,6)}};function getFontSizes(H){const K=new Array(10).fill(null).map((W,G)=>{const U=G-1,X=H*Math.pow(2.71828,U/5),Q=G>1?Math.floor(X):Math.ceil(X);return Math.floor(Q/2)*2});return K[1]=H,K.map(W=>{const G=W+8;return{size:W,lineHeight:G/W}})}const genFontMapToken=H=>{const K=getFontSizes(H),W=K.map(U=>U.size),G=K.map(U=>U.lineHeight);return{fontSizeSM:W[0],fontSize:W[1],fontSizeLG:W[2],fontSizeXL:W[3],fontSizeHeading1:W[6],fontSizeHeading2:W[5],fontSizeHeading3:W[4],fontSizeHeading4:W[3],fontSizeHeading5:W[2],lineHeight:G[1],lineHeightLG:G[2],lineHeightSM:G[0],lineHeightHeading1:G[6],lineHeightHeading2:G[5],lineHeightHeading3:G[4],lineHeightHeading4:G[3],lineHeightHeading5:G[2]}};function derivative(H){const K=Object.keys(defaultPresetColors).map(W=>{const G=generate$1(H[W]);return new Array(10).fill(1).reduce((U,X,Q)=>(U[`${W}-${Q+1}`]=G[Q],U),{})}).reduce((W,G)=>(W=_extends$1(_extends$1({},W),G),W),{});return _extends$1(_extends$1(_extends$1(_extends$1(_extends$1(_extends$1(_extends$1({},H),K),genColorMapToken(H,{generateColorPalettes,generateNeutralColorPalettes})),genFontMapToken(H.fontSize)),genSizeMapToken(H)),genControlHeight(H)),genCommonMapToken(H))}function isStableColor(H){return H>=0&&H<=255}function getAlphaColor(H,K){const{r:W,g:G,b:U,a:X}=new TinyColor(H).toRgb();if(X<1)return H;const{r:Q,g:Z,b:ee}=new TinyColor(K).toRgb();for(let ne=.01;ne<=1;ne+=.01){const te=Math.round((W-Q*(1-ne))/ne),oe=Math.round((G-Z*(1-ne))/ne),re=Math.round((U-ee*(1-ne))/ne);if(isStableColor(te)&&isStableColor(oe)&&isStableColor(re))return new TinyColor({r:te,g:oe,b:re,a:Math.round(ne*100)/100}).toRgbString()}return new TinyColor({r:W,g:G,b:U,a:1}).toRgbString()}var __rest$N=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};function formatToken(H){const{override:K}=H,W=__rest$N(H,["override"]),G=_extends$1({},K);Object.keys(seedToken).forEach(ae=>{delete G[ae]});const U=_extends$1(_extends$1({},W),G),X=480,Q=576,Z=768,ee=992,ne=1200,te=1600,oe=2e3;return _extends$1(_extends$1(_extends$1({},U),{colorLink:U.colorInfoText,colorLinkHover:U.colorInfoHover,colorLinkActive:U.colorInfoActive,colorFillContent:U.colorFillSecondary,colorFillContentHover:U.colorFill,colorFillAlter:U.colorFillQuaternary,colorBgContainerDisabled:U.colorFillTertiary,colorBorderBg:U.colorBgContainer,colorSplit:getAlphaColor(U.colorBorderSecondary,U.colorBgContainer),colorTextPlaceholder:U.colorTextQuaternary,colorTextDisabled:U.colorTextQuaternary,colorTextHeading:U.colorText,colorTextLabel:U.colorTextSecondary,colorTextDescription:U.colorTextTertiary,colorTextLightSolid:U.colorWhite,colorHighlight:U.colorError,colorBgTextHover:U.colorFillSecondary,colorBgTextActive:U.colorFill,colorIcon:U.colorTextTertiary,colorIconHover:U.colorText,colorErrorOutline:getAlphaColor(U.colorErrorBg,U.colorBgContainer),colorWarningOutline:getAlphaColor(U.colorWarningBg,U.colorBgContainer),fontSizeIcon:U.fontSizeSM,lineWidth:U.lineWidth,controlOutlineWidth:U.lineWidth*2,controlInteractiveSize:U.controlHeight/2,controlItemBgHover:U.colorFillTertiary,controlItemBgActive:U.colorPrimaryBg,controlItemBgActiveHover:U.colorPrimaryBgHover,controlItemBgActiveDisabled:U.colorFill,controlTmpOutline:U.colorFillQuaternary,controlOutline:getAlphaColor(U.colorPrimaryBg,U.colorBgContainer),lineType:U.lineType,borderRadius:U.borderRadius,borderRadiusXS:U.borderRadiusXS,borderRadiusSM:U.borderRadiusSM,borderRadiusLG:U.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:U.sizeXXS,paddingXS:U.sizeXS,paddingSM:U.sizeSM,padding:U.size,paddingMD:U.sizeMD,paddingLG:U.sizeLG,paddingXL:U.sizeXL,paddingContentHorizontalLG:U.sizeLG,paddingContentVerticalLG:U.sizeMS,paddingContentHorizontal:U.sizeMS,paddingContentVertical:U.sizeSM,paddingContentHorizontalSM:U.size,paddingContentVerticalSM:U.sizeXS,marginXXS:U.sizeXXS,marginXS:U.sizeXS,marginSM:U.sizeSM,margin:U.size,marginMD:U.sizeMD,marginLG:U.sizeLG,marginXL:U.sizeXL,marginXXL:U.sizeXXL,boxShadow:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:X,screenXSMin:X,screenXSMax:Q-1,screenSM:Q,screenSMMin:Q,screenSMMax:Z-1,screenMD:Z,screenMDMin:Z,screenMDMax:ee-1,screenLG:ee,screenLGMin:ee,screenLGMax:ne-1,screenXL:ne,screenXLMin:ne,screenXLMax:te-1,screenXXL:te,screenXXLMin:te,screenXXLMax:oe-1,screenXXXL:oe,screenXXXLMin:oe,boxShadowPopoverArrow:"3px 3px 7px rgba(0, 0, 0, 0.1)",boxShadowCard:`
      0 1px 2px -2px ${new TinyColor("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new TinyColor("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new TinyColor("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),G)}const operationUnit=H=>({color:H.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:`color ${H.motionDurationSlow}`,"&:focus, &:hover":{color:H.colorLinkHover},"&:active":{color:H.colorLinkActive}}),roundedArrow=(H,K,W,G,U)=>{const X=H/2,Q=0,Z=X,ee=W*1/Math.sqrt(2),ne=X-W*(1-1/Math.sqrt(2)),te=X-K*(1/Math.sqrt(2)),oe=W*(Math.sqrt(2)-1)+K*(1/Math.sqrt(2)),re=2*X-te,ae=oe,se=2*X-ee,ce=ne,de=2*X-Q,le=Z,fe=X*Math.sqrt(2)+W*(Math.sqrt(2)-2),pe=W*(Math.sqrt(2)-1);return{pointerEvents:"none",width:H,height:H,overflow:"hidden","&::after":{content:'""',position:"absolute",width:fe,height:fe,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${K}px 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:U,zIndex:0,background:"transparent"},"&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:H,height:H/2,background:G,clipPath:{_multi_value_:!0,value:[`polygon(${pe}px 100%, 50% ${pe}px, ${2*X-pe}px 100%, ${pe}px 100%)`,`path('M ${Q} ${Z} A ${W} ${W} 0 0 0 ${ee} ${ne} L ${te} ${oe} A ${K} ${K} 0 0 1 ${re} ${ae} L ${se} ${ce} A ${W} ${W} 0 0 0 ${de} ${le} Z')`]},content:'""'}}};function genPresetColor(H,K){return PresetColors.reduce((W,G)=>{const U=H[`${G}-1`],X=H[`${G}-3`],Q=H[`${G}-6`],Z=H[`${G}-7`];return _extends$1(_extends$1({},W),K(G,{lightColor:U,lightBorderColor:X,darkColor:Q,textColor:Z}))},{})}const textEllipsis={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},resetComponent=H=>({boxSizing:"border-box",margin:0,padding:0,color:H.colorText,fontSize:H.fontSize,lineHeight:H.lineHeight,listStyle:"none",fontFamily:H.fontFamily}),resetIcon=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),clearFix=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),genLinkStyle=H=>({a:{color:H.colorLink,textDecoration:H.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${H.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:H.colorLinkHover},"&:active":{color:H.colorLinkActive},"&:active,\n  &:hover":{textDecoration:H.linkHoverDecoration,outline:0},"&:focus":{textDecoration:H.linkFocusDecoration,outline:0},"&[disabled]":{color:H.colorTextDisabled,cursor:"not-allowed"}}}),genCommonStyle=(H,K)=>{const{fontFamily:W,fontSize:G}=H,U=`[class^="${K}"], [class*=" ${K}"]`;return{[U]:{fontFamily:W,fontSize:G,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[U]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},genFocusOutline=H=>({outline:`${H.lineWidthBold}px solid ${H.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),genFocusStyle=H=>({"&:focus-visible":_extends$1({},genFocusOutline(H))});function genComponentStyleHook(H,K,W){return G=>{const U=computed(()=>G?.value),[X,Q,Z]=useToken(),{getPrefixCls:ee,iconPrefixCls:ne}=useConfigContextInject(),te=computed(()=>ee()),oe=computed(()=>({theme:X.value,token:Q.value,hashId:Z.value,path:["Shared",te.value]}));useStyleRegister(oe,()=>[{"&":genLinkStyle(Q.value)}]);const re=computed(()=>({theme:X.value,token:Q.value,hashId:Z.value,path:[H,U.value,ne.value]}));return[useStyleRegister(re,()=>{const{token:ae,flush:se}=statisticToken(Q.value),ce=typeof W=="function"?W(ae):W,de=_extends$1(_extends$1({},ce),Q.value[H]),le=`.${U.value}`,fe=merge(ae,{componentCls:le,prefixCls:U.value,iconCls:`.${ne.value}`,antCls:`.${te.value}`},de),pe=K(fe,{hashId:Z.value,prefixCls:U.value,rootPrefixCls:te.value,iconPrefixCls:ne.value,overrideComponentToken:Q.value[H]});return se(H,de),[genCommonStyle(Q.value,U.value),pe]}),Z]}}const enableStatistic=typeof CSSINJS_STATISTIC<"u";let recording=!0;function merge(){for(var H=arguments.length,K=new Array(H),W=0;W<H;W++)K[W]=arguments[W];if(!enableStatistic)return _extends$1({},...K);recording=!1;const G={};return K.forEach(U=>{Object.keys(U).forEach(Q=>{Object.defineProperty(G,Q,{configurable:!0,enumerable:!0,get:()=>U[Q]})})}),recording=!0,G}function noop$5(){}function statisticToken(H){let K,W=H,G=noop$5;return enableStatistic&&(K=new Set,W=new Proxy(H,{get(U,X){return recording&&K.add(X),U[X]}}),G=(U,X)=>{Array.from(K)}),{token:W,keys:K,flush:G}}const defaultTheme$1=createTheme(derivative),defaultConfig$1={token:seedToken,hashed:!0},DesignTokenContextKey=Symbol("DesignTokenContext"),globalDesignTokenApi=shallowRef(),useDesignTokenProvider=H=>{provide(DesignTokenContextKey,H),watch(H,()=>{globalDesignTokenApi.value=unref(H),triggerRef(globalDesignTokenApi)},{immediate:!0,deep:!0})},DesignTokenProvider=defineComponent({props:{value:objectType()},setup(H,K){let{slots:W}=K;return useDesignTokenProvider(computed(()=>H.value)),()=>{var G;return(G=W.default)===null||G===void 0?void 0:G.call(W)}}});function useToken(){const H=inject(DesignTokenContextKey,computed(()=>globalDesignTokenApi.value||defaultConfig$1)),K=computed(()=>`${version}-${H.value.hashed||""}`),W=computed(()=>H.value.theme||defaultTheme$1),G=useCacheToken(W,computed(()=>[seedToken,H.value.token]),computed(()=>({salt:K.value,override:_extends$1({override:H.value.token},H.value.components),formatToken})));return[W,computed(()=>G.value[0]),computed(()=>H.value.hashed?G.value[1]:"")]}const Empty$2=defineComponent({compatConfig:{MODE:3},setup(){const[,H]=useToken(),K=computed(()=>new TinyColor(H.value.colorBgBase).toHsl().l<.5?{opacity:.65}:{});return()=>createVNode("svg",{style:K.value,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},[createVNode("g",{fill:"none","fill-rule":"evenodd"},[createVNode("g",{transform:"translate(24 31.67)"},[createVNode("ellipse",{"fill-opacity":".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},null),createVNode("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"},null),createVNode("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"},null),createVNode("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"},null),createVNode("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"},null)]),createVNode("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"},null),createVNode("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},[createVNode("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},null),createVNode("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},null)])])])}});Empty$2.PRESENTED_IMAGE_DEFAULT=!0;const Simple=defineComponent({compatConfig:{MODE:3},setup(){const[,H]=useToken(),K=computed(()=>{const{colorFill:W,colorFillTertiary:G,colorFillQuaternary:U,colorBgContainer:X}=H.value;return{borderColor:new TinyColor(W).onBackground(X).toHexString(),shadowColor:new TinyColor(G).onBackground(X).toHexString(),contentColor:new TinyColor(U).onBackground(X).toHexString()}});return()=>createVNode("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},[createVNode("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd"},[createVNode("ellipse",{fill:K.value.shadowColor,cx:"32",cy:"33",rx:"32",ry:"7"},null),createVNode("g",{"fill-rule":"nonzero",stroke:K.value.borderColor},[createVNode("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"},null),createVNode("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:K.value.contentColor},null)])])])}});Simple.PRESENTED_IMAGE_SIMPLE=!0;const genSharedEmptyStyle=H=>{const{componentCls:K,margin:W,marginXS:G,marginXL:U,fontSize:X,lineHeight:Q}=H;return{[K]:{marginInline:G,fontSize:X,lineHeight:Q,textAlign:"center",[`${K}-image`]:{height:H.emptyImgHeight,marginBottom:G,opacity:H.opacityImage,img:{height:"100%"},svg:{height:"100%",margin:"auto"}},[`${K}-footer`]:{marginTop:W},"&-normal":{marginBlock:U,color:H.colorTextDisabled,[`${K}-image`]:{height:H.emptyImgHeightMD}},"&-small":{marginBlock:G,color:H.colorTextDisabled,[`${K}-image`]:{height:H.emptyImgHeightSM}}}}},useStyle$w=genComponentStyleHook("Empty",H=>{const{componentCls:K,controlHeightLG:W}=H,G=merge(H,{emptyImgCls:`${K}-img`,emptyImgHeight:W*2.5,emptyImgHeightMD:W,emptyImgHeightSM:W*.875});return[genSharedEmptyStyle(G)]});var __rest$M=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const emptyProps=()=>({prefixCls:String,imageStyle:objectType(),image:anyType(),description:anyType()}),Empty=defineComponent({name:"AEmpty",compatConfig:{MODE:3},inheritAttrs:!1,props:emptyProps(),setup(H,K){let{slots:W={},attrs:G}=K;const{direction:U,prefixCls:X}=useConfigInject("empty",H),[Q,Z]=useStyle$w(X);return()=>{var ee,ne;const te=X.value,oe=_extends$1(_extends$1({},H),G),{image:re=((ee=W.image)===null||ee===void 0?void 0:ee.call(W))||h$1(Empty$2),description:ae=((ne=W.description)===null||ne===void 0?void 0:ne.call(W))||void 0,imageStyle:se,class:ce=""}=oe,de=__rest$M(oe,["image","description","imageStyle","class"]),le=typeof re=="function"?re():re,fe=typeof le=="object"&&"type"in le&&le.type.PRESENTED_IMAGE_SIMPLE;return Q(createVNode(LocaleReceiver,{componentName:"Empty",children:pe=>{const me=typeof ae<"u"?ae:pe.description,ue=typeof me=="string"?me:"empty";let ge=null;return typeof le=="string"?ge=createVNode("img",{alt:ue,src:le},null):ge=le,createVNode("div",_objectSpread2$1({class:classNames(te,ce,Z.value,{[`${te}-normal`]:fe,[`${te}-rtl`]:U.value==="rtl"})},de),[createVNode("div",{class:`${te}-image`,style:se},[ge]),me&&createVNode("p",{class:`${te}-description`},[me]),W.default&&createVNode("div",{class:`${te}-footer`},[filterEmpty(W.default())])])}},null))}}});Empty.PRESENTED_IMAGE_DEFAULT=()=>h$1(Empty$2);Empty.PRESENTED_IMAGE_SIMPLE=()=>h$1(Simple);const Empty$1=withInstall(Empty),DefaultRenderEmpty=H=>{const{prefixCls:K}=useConfigInject("empty",H);return(G=>{switch(G){case"Table":case"List":return createVNode(Empty$1,{image:Empty$1.PRESENTED_IMAGE_SIMPLE},null);case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return createVNode(Empty$1,{image:Empty$1.PRESENTED_IMAGE_SIMPLE,class:`${K.value}-small`},null);default:return createVNode(Empty$1,null,null)}})(H.componentName)};function renderEmpty(H){return createVNode(DefaultRenderEmpty,{componentName:H},null)}const SizeContextKey=Symbol("SizeContextKey"),useInjectSize=()=>inject(SizeContextKey,ref(void 0)),useProviderSize=H=>{const K=useInjectSize();return provide(SizeContextKey,computed(()=>H.value||K.value)),H},useConfigInject=(H,K)=>{const W=useInjectSize(),G=useInjectDisabled(),U=inject(configProviderKey,_extends$1(_extends$1({},defaultConfigProvider),{renderEmpty:he=>h$1(DefaultRenderEmpty,{componentName:he})})),X=computed(()=>U.getPrefixCls(H,K.prefixCls)),Q=computed(()=>{var he,ve;return(he=K.direction)!==null&&he!==void 0?he:(ve=U.direction)===null||ve===void 0?void 0:ve.value}),Z=computed(()=>{var he;return(he=K.iconPrefixCls)!==null&&he!==void 0?he:U.iconPrefixCls.value}),ee=computed(()=>U.getPrefixCls()),ne=computed(()=>{var he;return(he=U.autoInsertSpaceInButton)===null||he===void 0?void 0:he.value}),te=U.renderEmpty,oe=U.space,re=U.pageHeader,ae=U.form,se=computed(()=>{var he,ve;return(he=K.getTargetContainer)!==null&&he!==void 0?he:(ve=U.getTargetContainer)===null||ve===void 0?void 0:ve.value}),ce=computed(()=>{var he,ve,ye;return(ve=(he=K.getContainer)!==null&&he!==void 0?he:K.getPopupContainer)!==null&&ve!==void 0?ve:(ye=U.getPopupContainer)===null||ye===void 0?void 0:ye.value}),de=computed(()=>{var he,ve;return(he=K.dropdownMatchSelectWidth)!==null&&he!==void 0?he:(ve=U.dropdownMatchSelectWidth)===null||ve===void 0?void 0:ve.value}),le=computed(()=>{var he;return(K.virtual===void 0?((he=U.virtual)===null||he===void 0?void 0:he.value)!==!1:K.virtual!==!1)&&de.value!==!1}),fe=computed(()=>K.size||W.value),pe=computed(()=>{var he,ve,ye;return(he=K.autocomplete)!==null&&he!==void 0?he:(ye=(ve=U.input)===null||ve===void 0?void 0:ve.value)===null||ye===void 0?void 0:ye.autocomplete}),me=computed(()=>{var he;return(he=K.disabled)!==null&&he!==void 0?he:G.value}),ue=computed(()=>{var he;return(he=K.csp)!==null&&he!==void 0?he:U.csp}),ge=computed(()=>{var he,ve;return(he=K.wave)!==null&&he!==void 0?he:(ve=U.wave)===null||ve===void 0?void 0:ve.value});return{configProvider:U,prefixCls:X,direction:Q,size:fe,getTargetContainer:se,getPopupContainer:ce,space:oe,pageHeader:re,form:ae,autoInsertSpaceInButton:ne,renderEmpty:te,virtual:le,dropdownMatchSelectWidth:de,rootPrefixCls:ee,getPrefixCls:U.getPrefixCls,autocomplete:pe,csp:ue,iconPrefixCls:Z,disabled:me,select:U.select,wave:ge}};function omit$1(H,K){const W=_extends$1({},H);for(let G=0;G<K.length;G+=1){const U=K[G];delete W[U]}return W}function t$2(H){return typeof H=="object"&&H!=null&&H.nodeType===1}function e$1(H,K){return(!K||H!=="hidden")&&H!=="visible"&&H!=="clip"}function n$1(H,K){if(H.clientHeight<H.scrollHeight||H.clientWidth<H.scrollWidth){var W=getComputedStyle(H,null);return e$1(W.overflowY,K)||e$1(W.overflowX,K)||function(G){var U=function(X){if(!X.ownerDocument||!X.ownerDocument.defaultView)return null;try{return X.ownerDocument.defaultView.frameElement}catch{return null}}(G);return!!U&&(U.clientHeight<G.scrollHeight||U.clientWidth<G.scrollWidth)}(H)}return!1}function r$1(H,K,W,G,U,X,Q,Z){return X<H&&Q>K||X>H&&Q<K?0:X<=H&&Z<=W||Q>=K&&Z>=W?X-H-G:Q>K&&Z<W||X<H&&Z>W?Q-K+U:0}var i$2=function(H,K){var W=window,G=K.scrollMode,U=K.block,X=K.inline,Q=K.boundary,Z=K.skipOverflowHiddenElements,ee=typeof Q=="function"?Q:function(Ue){return Ue!==Q};if(!t$2(H))throw new TypeError("Invalid target");for(var ne,te,oe=document.scrollingElement||document.documentElement,re=[],ae=H;t$2(ae)&&ee(ae);){if((ae=(te=(ne=ae).parentElement)==null?ne.getRootNode().host||null:te)===oe){re.push(ae);break}ae!=null&&ae===document.body&&n$1(ae)&&!n$1(document.documentElement)||ae!=null&&n$1(ae,Z)&&re.push(ae)}for(var se=W.visualViewport?W.visualViewport.width:innerWidth,ce=W.visualViewport?W.visualViewport.height:innerHeight,de=window.scrollX||pageXOffset,le=window.scrollY||pageYOffset,fe=H.getBoundingClientRect(),pe=fe.height,me=fe.width,ue=fe.top,ge=fe.right,he=fe.bottom,ve=fe.left,ye=U==="start"||U==="nearest"?ue:U==="end"?he:ue+pe/2,be=X==="center"?ve+me/2:X==="end"?ge:ve,Se=[],Ce=0;Ce<re.length;Ce++){var xe=re[Ce],Ne=xe.getBoundingClientRect(),$e=Ne.height,Ee=Ne.width,Te=Ne.top,Be=Ne.right,Ae=Ne.bottom,ze=Ne.left;if(G==="if-needed"&&ue>=0&&ve>=0&&he<=ce&&ge<=se&&ue>=Te&&he<=Ae&&ve>=ze&&ge<=Be)return Se;var We=getComputedStyle(xe),Le=parseInt(We.borderLeftWidth,10),Ze=parseInt(We.borderTopWidth,10),Ye=parseInt(We.borderRightWidth,10),Re=parseInt(We.borderBottomWidth,10),Ke=0,we=0,_e="offsetWidth"in xe?xe.offsetWidth-xe.clientWidth-Le-Ye:0,Ve="offsetHeight"in xe?xe.offsetHeight-xe.clientHeight-Ze-Re:0,je="offsetWidth"in xe?xe.offsetWidth===0?0:Ee/xe.offsetWidth:0,qe="offsetHeight"in xe?xe.offsetHeight===0?0:$e/xe.offsetHeight:0;if(oe===xe)Ke=U==="start"?ye:U==="end"?ye-ce:U==="nearest"?r$1(le,le+ce,ce,Ze,Re,le+ye,le+ye+pe,pe):ye-ce/2,we=X==="start"?be:X==="center"?be-se/2:X==="end"?be-se:r$1(de,de+se,se,Le,Ye,de+be,de+be+me,me),Ke=Math.max(0,Ke+le),we=Math.max(0,we+de);else{Ke=U==="start"?ye-Te-Ze:U==="end"?ye-Ae+Re+Ve:U==="nearest"?r$1(Te,Ae,$e,Ze,Re+Ve,ye,ye+pe,pe):ye-(Te+$e/2)+Ve/2,we=X==="start"?be-ze-Le:X==="center"?be-(ze+Ee/2)+_e/2:X==="end"?be-Be+Ye+_e:r$1(ze,Be,Ee,Le,Ye+_e,be,be+me,me);var Pe=xe.scrollLeft,ke=xe.scrollTop;ye+=ke-(Ke=Math.max(0,Math.min(ke+Ke/qe,xe.scrollHeight-$e/qe+Ve))),be+=Pe-(we=Math.max(0,Math.min(Pe+we/je,xe.scrollWidth-Ee/je+_e)))}Se.push({el:xe,top:Ke,left:we})}return Se};function isOptionsObject(H){return H===Object(H)&&Object.keys(H).length!==0}function defaultBehavior(H,K){K===void 0&&(K="auto");var W="scrollBehavior"in document.body.style;H.forEach(function(G){var U=G.el,X=G.top,Q=G.left;U.scroll&&W?U.scroll({top:X,left:Q,behavior:K}):(U.scrollTop=X,U.scrollLeft=Q)})}function getOptions(H){return H===!1?{block:"end",inline:"nearest"}:isOptionsObject(H)?H:{block:"start",inline:"nearest"}}function scrollIntoView$2(H,K){var W=H.isConnected||H.ownerDocument.documentElement.contains(H);if(isOptionsObject(K)&&typeof K.behavior=="function")return K.behavior(W?i$2(H,K):[]);if(W){var G=getOptions(K);return defaultBehavior(i$2(H,G),G.behavior)}}function easeInOutCubic(H,K,W,G){const U=W-K;return H/=G/2,H<1?U/2*H*H*H+K:U/2*((H-=2)*H*H+2)+K}function isWindow$1(H){return H!=null&&H===H.window}function getScroll$2(H,K){var W,G;if(typeof window>"u")return 0;const U="scrollTop";let X=0;return isWindow$1(H)?X=H.scrollY:H instanceof Document?X=H.documentElement[U]:(H instanceof HTMLElement||H)&&(X=H[U]),H&&!isWindow$1(H)&&typeof X!="number"&&(X=(G=((W=H.ownerDocument)!==null&&W!==void 0?W:H).documentElement)===null||G===void 0?void 0:G[U]),X}function scrollTo(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:W=()=>window,callback:G,duration:U=450}=K,X=W(),Q=getScroll$2(X),Z=Date.now(),ee=()=>{const te=Date.now()-Z,oe=easeInOutCubic(te>U?U:te,Q,H,U);isWindow$1(X)?X.scrollTo(window.scrollX,oe):X instanceof Document?X.documentElement.scrollTop=oe:X.scrollTop=oe,te<U?wrapperRaf(ee):typeof G=="function"&&G()};wrapperRaf(ee)}function e(H,K){for(var W=0;W<K.length;W++){var G=K[W];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(H,G.key,G)}}function t$1(H,K,W){return W&&e(H,W),H}function n(){return(n=Object.assign||function(H){for(var K=1;K<arguments.length;K++){var W=arguments[K];for(var G in W)Object.prototype.hasOwnProperty.call(W,G)&&(H[G]=W[G])}return H}).apply(this,arguments)}function r(H,K){H.prototype=Object.create(K.prototype),H.prototype.constructor=H,H.__proto__=K}function i$1(H,K){if(H==null)return{};var W,G,U={},X=Object.keys(H);for(G=0;G<X.length;G++)K.indexOf(W=X[G])>=0||(U[W]=H[W]);return U}function o(H){return((K=H)!=null&&typeof K=="object"&&Array.isArray(K)===!1)==1&&Object.prototype.toString.call(H)==="[object Object]";var K}var u=Object.prototype,a=u.toString,f=u.hasOwnProperty,c=/^\s*function (\w+)/;function l(H){var K,W=(K=H?.type)!==null&&K!==void 0?K:H;if(W){var G=W.toString().match(c);return G?G[1]:""}return""}var s=function(H){var K,W;return o(H)!==!1&&typeof(K=H.constructor)=="function"&&o(W=K.prototype)!==!1&&W.hasOwnProperty("isPrototypeOf")!==!1},v=function(H){return H},y=v,d=function(H,K){return f.call(H,K)},h=Number.isInteger||function(H){return typeof H=="number"&&isFinite(H)&&Math.floor(H)===H},b=Array.isArray||function(H){return a.call(H)==="[object Array]"},O=function(H){return a.call(H)==="[object Function]"},g=function(H){return s(H)&&d(H,"_vueTypes_name")},m=function(H){return s(H)&&(d(H,"type")||["_vueTypes_name","validator","default","required"].some(function(K){return d(H,K)}))};function j(H,K){return Object.defineProperty(H.bind(K),"__original",{value:H})}function _(H,K,W){var G,U=!0,X="";G=s(H)?H:{type:H};var Q=g(G)?G._vueTypes_name+" - ":"";if(m(G)&&G.type!==null){if(G.type===void 0||G.type===!0||!G.required&&K===void 0)return U;b(G.type)?(U=G.type.some(function(oe){return _(oe,K)===!0}),X=G.type.map(function(oe){return l(oe)}).join(" or ")):U=(X=l(G))==="Array"?b(K):X==="Object"?s(K):X==="String"||X==="Number"||X==="Boolean"||X==="Function"?function(oe){if(oe==null)return"";var re=oe.constructor.toString().match(c);return re?re[1]:""}(K)===X:K instanceof G.type}if(!U){var Z=Q+'value "'+K+'" should be of type "'+X+'"';return Z}if(d(G,"validator")&&O(G.validator)){var ee=y,ne=[];if(y=function(oe){ne.push(oe)},U=G.validator(K),y=ee,!U){var te=(ne.length>1?"* ":"")+ne.join(`
* `);return ne.length=0,te}}return U}function T(H,K){var W=Object.defineProperties(K,{_vueTypes_name:{value:H,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(U){return U!==void 0||this.default?O(U)||_(this,U)===!0?(this.default=b(U)?function(){return[].concat(U)}:s(U)?function(){return Object.assign({},U)}:U,this):(y(this._vueTypes_name+' - invalid default value: "'+U+'"'),this):this}}}),G=W.validator;return O(G)&&(W.validator=j(G,W)),W}function w(H,K){var W=T(H,K);return Object.defineProperty(W,"validate",{value:function(G){return O(this.validator)&&y(this._vueTypes_name+` - calling .validate() will overwrite the current custom validator function. Validator info:
`+JSON.stringify(this)),this.validator=j(G,this),this}})}function k(H,K,W){var G,U,X=(G=K,U={},Object.getOwnPropertyNames(G).forEach(function(oe){U[oe]=Object.getOwnPropertyDescriptor(G,oe)}),Object.defineProperties({},U));if(X._vueTypes_name=H,!s(W))return X;var Q,Z,ee=W.validator,ne=i$1(W,["validator"]);if(O(ee)){var te=X.validator;te&&(te=(Z=(Q=te).__original)!==null&&Z!==void 0?Z:Q),X.validator=j(te?function(oe){return te.call(this,oe)&&ee.call(this,oe)}:ee,X)}return Object.assign(X,ne)}function P(H){return H.replace(/^(?!\s*$)/gm,"  ")}var x=function(){return w("any",{})},A=function(){return w("function",{type:Function})},E=function(){return w("boolean",{type:Boolean})},N=function(){return w("string",{type:String})},q=function(){return w("number",{type:Number})},S=function(){return w("array",{type:Array})},V=function(){return w("object",{type:Object})},F=function(){return T("integer",{type:Number,validator:function(H){return h(H)}})},D=function(){return T("symbol",{validator:function(H){return typeof H=="symbol"}})};function L(H,K){if(K===void 0&&(K="custom validation failed"),typeof H!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return T(H.name||"<<anonymous function>>",{validator:function(W){var G=H(W);return G||y(this._vueTypes_name+" - "+K),G}})}function Y(H){if(!b(H))throw new TypeError("[VueTypes error]: You must provide an array as argument.");var K='oneOf - value should be one of "'+H.join('", "')+'".',W=H.reduce(function(G,U){if(U!=null){var X=U.constructor;G.indexOf(X)===-1&&G.push(X)}return G},[]);return T("oneOf",{type:W.length>0?W:void 0,validator:function(G){var U=H.indexOf(G)!==-1;return U||y(K),U}})}function B(H){if(!b(H))throw new TypeError("[VueTypes error]: You must provide an array as argument");for(var K=!1,W=[],G=0;G<H.length;G+=1){var U=H[G];if(m(U)){if(g(U)&&U._vueTypes_name==="oneOf"){W=W.concat(U.type);continue}if(O(U.validator)&&(K=!0),U.type!==!0&&U.type){W=W.concat(U.type);continue}}W.push(U)}return W=W.filter(function(X,Q){return W.indexOf(X)===Q}),T("oneOfType",K?{type:W,validator:function(X){var Q=[],Z=H.some(function(ee){var ne=_(g(ee)&&ee._vueTypes_name==="oneOf"?ee.type||null:ee,X);return typeof ne=="string"&&Q.push(ne),ne===!0});return Z||y("oneOfType - provided value does not match any of the "+Q.length+` passed-in validators:
`+P(Q.join(`
`))),Z}}:{type:W})}function I(H){return T("arrayOf",{type:Array,validator:function(K){var W,G=K.every(function(U){return(W=_(H,U))===!0});return G||y(`arrayOf - value validation error:
`+P(W)),G}})}function J(H){return T("instanceOf",{type:H})}function M(H){return T("objectOf",{type:Object,validator:function(K){var W,G=Object.keys(K).every(function(U){return(W=_(H,K[U]))===!0});return G||y(`objectOf - value validation error:
`+P(W)),G}})}function R(H){var K=Object.keys(H),W=K.filter(function(U){var X;return!!(!((X=H[U])===null||X===void 0)&&X.required)}),G=T("shape",{type:Object,validator:function(U){var X=this;if(!s(U))return!1;var Q=Object.keys(U);if(W.length>0&&W.some(function(ee){return Q.indexOf(ee)===-1})){var Z=W.filter(function(ee){return Q.indexOf(ee)===-1});return y(Z.length===1?'shape - required property "'+Z[0]+'" is not defined.':'shape - required properties "'+Z.join('", "')+'" are not defined.'),!1}return Q.every(function(ee){if(K.indexOf(ee)===-1)return X._vueTypes_isLoose===!0||(y('shape - shape definition does not include a "'+ee+'" property. Allowed keys: "'+K.join('", "')+'".'),!1);var ne=_(H[ee],U[ee]);return typeof ne=="string"&&y('shape - "'+ee+`" property validation error:
 `+P(ne)),ne===!0})}});return Object.defineProperty(G,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(G,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),G}var $=function(){function H(){}return H.extend=function(K){var W=this;if(b(K))return K.forEach(function(oe){return W.extend(oe)}),this;var G=K.name,U=K.validate,X=U!==void 0&&U,Q=K.getter,Z=Q!==void 0&&Q,ee=i$1(K,["name","validate","getter"]);if(d(this,G))throw new TypeError('[VueTypes error]: Type "'+G+'" already defined');var ne,te=ee.type;return g(te)?(delete ee.type,Object.defineProperty(this,G,Z?{get:function(){return k(G,te,ee)}}:{value:function(){var oe,re=k(G,te,ee);return re.validator&&(re.validator=(oe=re.validator).bind.apply(oe,[re].concat([].slice.call(arguments)))),re}})):(ne=Z?{get:function(){var oe=Object.assign({},ee);return X?w(G,oe):T(G,oe)},enumerable:!0}:{value:function(){var oe,re,ae=Object.assign({},ee);return oe=X?w(G,ae):T(G,ae),ae.validator&&(oe.validator=(re=ae.validator).bind.apply(re,[oe].concat([].slice.call(arguments)))),oe},enumerable:!0},Object.defineProperty(this,G,ne))},t$1(H,null,[{key:"any",get:function(){return x()}},{key:"func",get:function(){return A().def(this.defaults.func)}},{key:"bool",get:function(){return E().def(this.defaults.bool)}},{key:"string",get:function(){return N().def(this.defaults.string)}},{key:"number",get:function(){return q().def(this.defaults.number)}},{key:"array",get:function(){return S().def(this.defaults.array)}},{key:"object",get:function(){return V().def(this.defaults.object)}},{key:"integer",get:function(){return F().def(this.defaults.integer)}},{key:"symbol",get:function(){return D()}}]),H}();function z(H){var K;return H===void 0&&(H={func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}),(K=function(W){function G(){return W.apply(this,arguments)||this}return r(G,W),t$1(G,null,[{key:"sensibleDefaults",get:function(){return n({},this.defaults)},set:function(U){this.defaults=U!==!1?n({},U!==!0?U:H):{}}}]),G}($)).defaults=n({},H),K}$.defaults={},$.custom=L,$.oneOf=Y,$.instanceOf=J,$.oneOfType=B,$.arrayOf=I,$.objectOf=M,$.shape=R,$.utils={validate:function(H,K){return _(K,H)===!0},toType:function(H,K,W){return W===void 0&&(W=!1),W?w(H,K):T(H,K)}};(function(H){function K(){return H.apply(this,arguments)||this}return r(K,H),K})(z());const PropTypes=z({func:void 0,bool:void 0,string:void 0,number:void 0,array:void 0,object:void 0,integer:void 0});PropTypes.extend([{name:"looseBool",getter:!0,type:Boolean,default:void 0},{name:"style",getter:!0,type:[String,Object],default:void 0},{name:"VueNode",getter:!0,type:null}]);const devWarning=(H,K,W)=>{warningOnce(H,`[ant-design-vue: ${K}] ${W}`)};function getKey$1(H,K){const{key:W}=H;let G;return"value"in H&&({value:G}=H),W??(G!==void 0?G:`rc-index-key-${K}`)}function fillFieldNames$1(H,K){const{label:W,value:G,options:U}=H||{};return{label:W||(K?"children":"label"),value:G||"value",options:U||"options"}}function flattenOptions(H){let{fieldNames:K,childrenAsData:W}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const G=[],{label:U,value:X,options:Q}=fillFieldNames$1(K,!1);function Z(ee,ne){ee.forEach(te=>{const oe=te[U];if(ne||!(Q in te)){const re=te[X];G.push({key:getKey$1(te,G.length),groupOption:ne,data:te,label:oe,value:re})}else{let re=oe;re===void 0&&W&&(re=te.label),G.push({key:getKey$1(te,G.length),group:!0,data:te,label:re}),Z(te[Q],!0)}})}return Z(H,!1),G}function injectPropsWithOption(H){const K=_extends$1({},H);return"props"in K||Object.defineProperty(K,"props",{get(){return K}}),K}function getSeparatedContent(H,K){if(!K||!K.length)return null;let W=!1;function G(X,Q){let[Z,...ee]=Q;if(!Z)return[X];const ne=X.split(Z);return W=W||ne.length>1,ne.reduce((te,oe)=>[...te,...G(oe,ee)],[]).filter(te=>te)}const U=G(H,K);return W?U:null}function returnEmptyString(){return""}function returnDocument(H){return H?H.ownerDocument:window.document}function noop$4(){}const triggerProps=()=>({action:PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]).def([]),showAction:PropTypes.any.def([]),hideAction:PropTypes.any.def([]),getPopupClassNameFromAlign:PropTypes.any.def(returnEmptyString),onPopupVisibleChange:Function,afterPopupVisibleChange:PropTypes.func.def(noop$4),popup:PropTypes.any,arrow:PropTypes.bool.def(!0),popupStyle:{type:Object,default:void 0},prefixCls:PropTypes.string.def("rc-trigger-popup"),popupClassName:PropTypes.string.def(""),popupPlacement:String,builtinPlacements:PropTypes.object,popupTransitionName:String,popupAnimation:PropTypes.any,mouseEnterDelay:PropTypes.number.def(0),mouseLeaveDelay:PropTypes.number.def(.1),zIndex:Number,focusDelay:PropTypes.number.def(0),blurDelay:PropTypes.number.def(.15),getPopupContainer:Function,getDocument:PropTypes.func.def(returnDocument),forceRender:{type:Boolean,default:void 0},destroyPopupOnHide:{type:Boolean,default:!1},mask:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},popupAlign:PropTypes.object.def(()=>({})),popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},maskTransitionName:String,maskAnimation:String,stretch:String,alignPoint:{type:Boolean,default:void 0},autoDestroy:{type:Boolean,default:!1},mobile:Object,getTriggerDOMNode:Function}),innerProps={visible:Boolean,prefixCls:String,zIndex:Number,destroyPopupOnHide:Boolean,forceRender:Boolean,arrow:{type:Boolean,default:!0},animation:[String,Object],transitionName:String,stretch:{type:String},align:{type:Object},point:{type:Object},getRootDomNode:{type:Function},getClassNameFromAlign:{type:Function},onAlign:{type:Function},onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function},onTouchstart:{type:Function}},mobileProps=_extends$1(_extends$1({},innerProps),{mobile:{type:Object}}),popupProps=_extends$1(_extends$1({},innerProps),{mask:Boolean,mobile:{type:Object},maskAnimation:String,maskTransitionName:String});function getMotion$1(H){let{prefixCls:K,animation:W,transitionName:G}=H;return W?{name:`${K}-${W}`}:G?{name:G}:{}}function Mask$1(H){const{prefixCls:K,visible:W,zIndex:G,mask:U,maskAnimation:X,maskTransitionName:Q}=H;if(!U)return null;let Z={};return(Q||X)&&(Z=getMotion$1({prefixCls:K,transitionName:Q,animation:X})),createVNode(Transition,_objectSpread2$1({appear:!0},Z),{default:()=>[withDirectives(createVNode("div",{style:{zIndex:G},class:`${K}-mask`},null),[[resolveDirective("if"),W]])]})}Mask$1.displayName="Mask";const MobilePopupInner=defineComponent({compatConfig:{MODE:3},name:"MobilePopupInner",inheritAttrs:!1,props:mobileProps,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(H,K){let{expose:W,slots:G}=K;const U=ref();return W({forceAlign:()=>{},getElement:()=>U.value}),()=>{var X;const{zIndex:Q,visible:Z,prefixCls:ee,mobile:{popupClassName:ne,popupStyle:te,popupMotion:oe={},popupRender:re}={}}=H,ae=_extends$1({zIndex:Q},te);let se=flattenChildren((X=G.default)===null||X===void 0?void 0:X.call(G));se.length>1&&(se=createVNode("div",{class:`${ee}-content`},[se])),re&&(se=re(se));const ce=classNames(ee,ne);return createVNode(Transition,_objectSpread2$1({ref:U},oe),{default:()=>[Z?createVNode("div",{class:ce,style:ae},[se]):null]})}}});var __awaiter$1=function(H,K,W,G){function U(X){return X instanceof W?X:new W(function(Q){Q(X)})}return new(W||(W=Promise))(function(X,Q){function Z(te){try{ne(G.next(te))}catch(oe){Q(oe)}}function ee(te){try{ne(G.throw(te))}catch(oe){Q(oe)}}function ne(te){te.done?X(te.value):U(te.value).then(Z,ee)}ne((G=G.apply(H,K||[])).next())})};const StatusQueue=["measure","align",null,"motion"],useVisibleStatus=(H,K)=>{const W=shallowRef(null),G=shallowRef(),U=shallowRef(!1);function X(ee){U.value||(W.value=ee)}function Q(){wrapperRaf.cancel(G.value)}function Z(ee){Q(),G.value=wrapperRaf(()=>{let ne=W.value;switch(W.value){case"align":ne="motion";break;case"motion":ne="stable";break}X(ne),ee?.()})}return watch(H,()=>{X("measure")},{immediate:!0,flush:"post"}),onMounted(()=>{watch(W,()=>{switch(W.value){case"measure":K();break}W.value&&(G.value=wrapperRaf(()=>__awaiter$1(void 0,void 0,void 0,function*(){const ee=StatusQueue.indexOf(W.value),ne=StatusQueue[ee+1];ne&&ee!==-1&&X(ne)})))},{immediate:!0,flush:"post"})}),onBeforeUnmount(()=>{U.value=!0,Q()}),[W,Z]},useStretchStyle=H=>{const K=shallowRef({width:0,height:0});function W(U){K.value={width:U.offsetWidth,height:U.offsetHeight}}return[computed(()=>{const U={};if(H.value){const{width:X,height:Q}=K.value;H.value.indexOf("height")!==-1&&Q?U.height=`${Q}px`:H.value.indexOf("minHeight")!==-1&&Q&&(U.minHeight=`${Q}px`),H.value.indexOf("width")!==-1&&X?U.width=`${X}px`:H.value.indexOf("minWidth")!==-1&&X&&(U.minWidth=`${X}px`)}return U}),W]};function ownKeys(H,K){var W=Object.keys(H);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(H);K&&(G=G.filter(function(U){return Object.getOwnPropertyDescriptor(H,U).enumerable})),W.push.apply(W,G)}return W}function _objectSpread2(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?arguments[K]:{};K%2?ownKeys(Object(W),!0).forEach(function(G){_defineProperty$R(H,G,W[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(W)):ownKeys(Object(W)).forEach(function(G){Object.defineProperty(H,G,Object.getOwnPropertyDescriptor(W,G))})}return H}function _typeof(H){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},_typeof(H)}function _defineProperty$R(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var vendorPrefix,jsCssMap={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function getVendorPrefix(){if(vendorPrefix!==void 0)return vendorPrefix;vendorPrefix="";var H=document.createElement("p").style,K="Transform";for(var W in jsCssMap)W+K in H&&(vendorPrefix=W);return vendorPrefix}function getTransitionName$1(){return getVendorPrefix()?"".concat(getVendorPrefix(),"TransitionProperty"):"transitionProperty"}function getTransformName(){return getVendorPrefix()?"".concat(getVendorPrefix(),"Transform"):"transform"}function setTransitionProperty(H,K){var W=getTransitionName$1();W&&(H.style[W]=K,W!=="transitionProperty"&&(H.style.transitionProperty=K))}function setTransform(H,K){var W=getTransformName();W&&(H.style[W]=K,W!=="transform"&&(H.style.transform=K))}function getTransitionProperty(H){return H.style.transitionProperty||H.style[getTransitionName$1()]}function getTransformXY(H){var K=window.getComputedStyle(H,null),W=K.getPropertyValue("transform")||K.getPropertyValue(getTransformName());if(W&&W!=="none"){var G=W.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(G[12]||G[4],0),y:parseFloat(G[13]||G[5],0)}}return{x:0,y:0}}var matrix2d=/matrix\((.*)\)/,matrix3d=/matrix3d\((.*)\)/;function setTransformXY(H,K){var W=window.getComputedStyle(H,null),G=W.getPropertyValue("transform")||W.getPropertyValue(getTransformName());if(G&&G!=="none"){var U,X=G.match(matrix2d);if(X)X=X[1],U=X.split(",").map(function(Z){return parseFloat(Z,10)}),U[4]=K.x,U[5]=K.y,setTransform(H,"matrix(".concat(U.join(","),")"));else{var Q=G.match(matrix3d)[1];U=Q.split(",").map(function(Z){return parseFloat(Z,10)}),U[12]=K.x,U[13]=K.y,setTransform(H,"matrix3d(".concat(U.join(","),")"))}}else setTransform(H,"translateX(".concat(K.x,"px) translateY(").concat(K.y,"px) translateZ(0)"))}var RE_NUM=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,getComputedStyleX;function forceRelayout(H){var K=H.style.display;H.style.display="none",H.offsetHeight,H.style.display=K}function css(H,K,W){var G=W;if(_typeof(K)==="object"){for(var U in K)K.hasOwnProperty(U)&&css(H,U,K[U]);return}if(typeof G<"u"){typeof G=="number"&&(G="".concat(G,"px")),H.style[K]=G;return}return getComputedStyleX(H,K)}function getClientPosition(H){var K,W,G,U=H.ownerDocument,X=U.body,Q=U&&U.documentElement;return K=H.getBoundingClientRect(),W=Math.floor(K.left),G=Math.floor(K.top),W-=Q.clientLeft||X.clientLeft||0,G-=Q.clientTop||X.clientTop||0,{left:W,top:G}}function getScroll$1(H,K){var W=H["page".concat(K?"Y":"X","Offset")],G="scroll".concat(K?"Top":"Left");if(typeof W!="number"){var U=H.document;W=U.documentElement[G],typeof W!="number"&&(W=U.body[G])}return W}function getScrollLeft(H){return getScroll$1(H)}function getScrollTop(H){return getScroll$1(H,!0)}function getOffset$2(H){var K=getClientPosition(H),W=H.ownerDocument,G=W.defaultView||W.parentWindow;return K.left+=getScrollLeft(G),K.top+=getScrollTop(G),K}function isWindow(H){return H!=null&&H==H.window}function getDocument(H){return isWindow(H)?H.document:H.nodeType===9?H:H.ownerDocument}function _getComputedStyle(H,K,W){var G=W,U="",X=getDocument(H);return G=G||X.defaultView.getComputedStyle(H,null),G&&(U=G.getPropertyValue(K)||G[K]),U}var _RE_NUM_NO_PX=new RegExp("^(".concat(RE_NUM,")(?!px)[a-z%]+$"),"i"),RE_POS=/^(top|right|bottom|left)$/,CURRENT_STYLE="currentStyle",RUNTIME_STYLE="runtimeStyle",LEFT="left",PX="px";function _getComputedStyleIE(H,K){var W=H[CURRENT_STYLE]&&H[CURRENT_STYLE][K];if(_RE_NUM_NO_PX.test(W)&&!RE_POS.test(K)){var G=H.style,U=G[LEFT],X=H[RUNTIME_STYLE][LEFT];H[RUNTIME_STYLE][LEFT]=H[CURRENT_STYLE][LEFT],G[LEFT]=K==="fontSize"?"1em":W||0,W=G.pixelLeft+PX,G[LEFT]=U,H[RUNTIME_STYLE][LEFT]=X}return W===""?"auto":W}typeof window<"u"&&(getComputedStyleX=window.getComputedStyle?_getComputedStyle:_getComputedStyleIE);function getOffsetDirection(H,K){return H==="left"?K.useCssRight?"right":H:K.useCssBottom?"bottom":H}function oppositeOffsetDirection(H){if(H==="left")return"right";if(H==="right")return"left";if(H==="top")return"bottom";if(H==="bottom")return"top"}function setLeftTop(H,K,W){css(H,"position")==="static"&&(H.style.position="relative");var G=-999,U=-999,X=getOffsetDirection("left",W),Q=getOffsetDirection("top",W),Z=oppositeOffsetDirection(X),ee=oppositeOffsetDirection(Q);X!=="left"&&(G=999),Q!=="top"&&(U=999);var ne="",te=getOffset$2(H);("left"in K||"top"in K)&&(ne=getTransitionProperty(H)||"",setTransitionProperty(H,"none")),"left"in K&&(H.style[Z]="",H.style[X]="".concat(G,"px")),"top"in K&&(H.style[ee]="",H.style[Q]="".concat(U,"px")),forceRelayout(H);var oe=getOffset$2(H),re={};for(var ae in K)if(K.hasOwnProperty(ae)){var se=getOffsetDirection(ae,W),ce=ae==="left"?G:U,de=te[ae]-oe[ae];se===ae?re[se]=ce+de:re[se]=ce-de}css(H,re),forceRelayout(H),("left"in K||"top"in K)&&setTransitionProperty(H,ne);var le={};for(var fe in K)if(K.hasOwnProperty(fe)){var pe=getOffsetDirection(fe,W),me=K[fe]-te[fe];fe===pe?le[pe]=re[pe]+me:le[pe]=re[pe]-me}css(H,le)}function setTransform$1(H,K){var W=getOffset$2(H),G=getTransformXY(H),U={x:G.x,y:G.y};"left"in K&&(U.x=G.x+K.left-W.left),"top"in K&&(U.y=G.y+K.top-W.top),setTransformXY(H,U)}function setOffset(H,K,W){if(W.ignoreShake){var G=getOffset$2(H),U=G.left.toFixed(0),X=G.top.toFixed(0),Q=K.left.toFixed(0),Z=K.top.toFixed(0);if(U===Q&&X===Z)return}W.useCssRight||W.useCssBottom?setLeftTop(H,K,W):W.useCssTransform&&getTransformName()in document.body.style?setTransform$1(H,K):setLeftTop(H,K,W)}function each(H,K){for(var W=0;W<H.length;W++)K(H[W])}function isBorderBoxFn(H){return getComputedStyleX(H,"boxSizing")==="border-box"}var BOX_MODELS=["margin","border","padding"],CONTENT_INDEX=-1,PADDING_INDEX=2,BORDER_INDEX=1,MARGIN_INDEX=0;function swap(H,K,W){var G={},U=H.style,X;for(X in K)K.hasOwnProperty(X)&&(G[X]=U[X],U[X]=K[X]);W.call(H);for(X in K)K.hasOwnProperty(X)&&(U[X]=G[X])}function getPBMWidth(H,K,W){var G=0,U,X,Q;for(X=0;X<K.length;X++)if(U=K[X],U)for(Q=0;Q<W.length;Q++){var Z=void 0;U==="border"?Z="".concat(U).concat(W[Q],"Width"):Z=U+W[Q],G+=parseFloat(getComputedStyleX(H,Z))||0}return G}var domUtils={getParent:function(K){var W=K;do W.nodeType===11&&W.host?W=W.host:W=W.parentNode;while(W&&W.nodeType!==1&&W.nodeType!==9);return W}};each(["Width","Height"],function(H){domUtils["doc".concat(H)]=function(K){var W=K.document;return Math.max(W.documentElement["scroll".concat(H)],W.body["scroll".concat(H)],domUtils["viewport".concat(H)](W))},domUtils["viewport".concat(H)]=function(K){var W="client".concat(H),G=K.document,U=G.body,X=G.documentElement,Q=X[W];return G.compatMode==="CSS1Compat"&&Q||U&&U[W]||Q}});function getWH(H,K,W){var G=W;if(isWindow(H))return K==="width"?domUtils.viewportWidth(H):domUtils.viewportHeight(H);if(H.nodeType===9)return K==="width"?domUtils.docWidth(H):domUtils.docHeight(H);var U=K==="width"?["Left","Right"]:["Top","Bottom"],X=Math.floor(K==="width"?H.getBoundingClientRect().width:H.getBoundingClientRect().height),Q=isBorderBoxFn(H),Z=0;(X==null||X<=0)&&(X=void 0,Z=getComputedStyleX(H,K),(Z==null||Number(Z)<0)&&(Z=H.style[K]||0),Z=Math.floor(parseFloat(Z))||0),G===void 0&&(G=Q?BORDER_INDEX:CONTENT_INDEX);var ee=X!==void 0||Q,ne=X||Z;return G===CONTENT_INDEX?ee?ne-getPBMWidth(H,["border","padding"],U):Z:ee?G===BORDER_INDEX?ne:ne+(G===PADDING_INDEX?-getPBMWidth(H,["border"],U):getPBMWidth(H,["margin"],U)):Z+getPBMWidth(H,BOX_MODELS.slice(G),U)}var cssShow={position:"absolute",visibility:"hidden",display:"block"};function getWHIgnoreDisplay(){for(var H=arguments.length,K=new Array(H),W=0;W<H;W++)K[W]=arguments[W];var G,U=K[0];return U.offsetWidth!==0?G=getWH.apply(void 0,K):swap(U,cssShow,function(){G=getWH.apply(void 0,K)}),G}each(["width","height"],function(H){var K=H.charAt(0).toUpperCase()+H.slice(1);domUtils["outer".concat(K)]=function(G,U){return G&&getWHIgnoreDisplay(G,H,U?MARGIN_INDEX:BORDER_INDEX)};var W=H==="width"?["Left","Right"]:["Top","Bottom"];domUtils[H]=function(G,U){var X=U;if(X!==void 0){if(G){var Q=isBorderBoxFn(G);return Q&&(X+=getPBMWidth(G,["padding","border"],W)),css(G,H,X)}return}return G&&getWHIgnoreDisplay(G,H,CONTENT_INDEX)}});function mix(H,K){for(var W in K)K.hasOwnProperty(W)&&(H[W]=K[W]);return H}var utils={getWindow:function(K){if(K&&K.document&&K.setTimeout)return K;var W=K.ownerDocument||K;return W.defaultView||W.parentWindow},getDocument,offset:function(K,W,G){if(typeof W<"u")setOffset(K,W,G||{});else return getOffset$2(K)},isWindow,each,css,clone:function(K){var W,G={};for(W in K)K.hasOwnProperty(W)&&(G[W]=K[W]);var U=K.overflow;if(U)for(W in K)K.hasOwnProperty(W)&&(G.overflow[W]=K.overflow[W]);return G},mix,getWindowScrollLeft:function(K){return getScrollLeft(K)},getWindowScrollTop:function(K){return getScrollTop(K)},merge:function(){for(var K={},W=0;W<arguments.length;W++)utils.mix(K,W<0||arguments.length<=W?void 0:arguments[W]);return K},viewportWidth:0,viewportHeight:0};mix(utils,domUtils);var getParent$1=utils.getParent;function getOffsetParent(H){if(utils.isWindow(H)||H.nodeType===9)return null;var K=utils.getDocument(H),W=K.body,G,U=utils.css(H,"position"),X=U==="fixed"||U==="absolute";if(!X)return H.nodeName.toLowerCase()==="html"?null:getParent$1(H);for(G=getParent$1(H);G&&G!==W&&G.nodeType!==9;G=getParent$1(G))if(U=utils.css(G,"position"),U!=="static")return G;return null}var getParent$1$1=utils.getParent;function isAncestorFixed(H){if(utils.isWindow(H)||H.nodeType===9)return!1;var K=utils.getDocument(H),W=K.body,G=null;for(G=getParent$1$1(H);G&&G!==W&&G!==K;G=getParent$1$1(G)){var U=utils.css(G,"position");if(U==="fixed")return!0}return!1}function getVisibleRectForElement(H,K){for(var W={left:0,right:1/0,top:0,bottom:1/0},G=getOffsetParent(H),U=utils.getDocument(H),X=U.defaultView||U.parentWindow,Q=U.body,Z=U.documentElement;G;){if((navigator.userAgent.indexOf("MSIE")===-1||G.clientWidth!==0)&&G!==Q&&G!==Z&&utils.css(G,"overflow")!=="visible"){var ee=utils.offset(G);ee.left+=G.clientLeft,ee.top+=G.clientTop,W.top=Math.max(W.top,ee.top),W.right=Math.min(W.right,ee.left+G.clientWidth),W.bottom=Math.min(W.bottom,ee.top+G.clientHeight),W.left=Math.max(W.left,ee.left)}else if(G===Q||G===Z)break;G=getOffsetParent(G)}var ne=null;if(!utils.isWindow(H)&&H.nodeType!==9){ne=H.style.position;var te=utils.css(H,"position");te==="absolute"&&(H.style.position="fixed")}var oe=utils.getWindowScrollLeft(X),re=utils.getWindowScrollTop(X),ae=utils.viewportWidth(X),se=utils.viewportHeight(X),ce=Z.scrollWidth,de=Z.scrollHeight,le=window.getComputedStyle(Q);if(le.overflowX==="hidden"&&(ce=X.innerWidth),le.overflowY==="hidden"&&(de=X.innerHeight),H.style&&(H.style.position=ne),K||isAncestorFixed(H))W.left=Math.max(W.left,oe),W.top=Math.max(W.top,re),W.right=Math.min(W.right,oe+ae),W.bottom=Math.min(W.bottom,re+se);else{var fe=Math.max(ce,oe+ae);W.right=Math.min(W.right,fe);var pe=Math.max(de,re+se);W.bottom=Math.min(W.bottom,pe)}return W.top>=0&&W.left>=0&&W.bottom>W.top&&W.right>W.left?W:null}function adjustForViewport(H,K,W,G){var U=utils.clone(H),X={width:K.width,height:K.height};return G.adjustX&&U.left<W.left&&(U.left=W.left),G.resizeWidth&&U.left>=W.left&&U.left+X.width>W.right&&(X.width-=U.left+X.width-W.right),G.adjustX&&U.left+X.width>W.right&&(U.left=Math.max(W.right-X.width,W.left)),G.adjustY&&U.top<W.top&&(U.top=W.top),G.resizeHeight&&U.top>=W.top&&U.top+X.height>W.bottom&&(X.height-=U.top+X.height-W.bottom),G.adjustY&&U.top+X.height>W.bottom&&(U.top=Math.max(W.bottom-X.height,W.top)),utils.mix(U,X)}function getRegion(H){var K,W,G;if(!utils.isWindow(H)&&H.nodeType!==9)K=utils.offset(H),W=utils.outerWidth(H),G=utils.outerHeight(H);else{var U=utils.getWindow(H);K={left:utils.getWindowScrollLeft(U),top:utils.getWindowScrollTop(U)},W=utils.viewportWidth(U),G=utils.viewportHeight(U)}return K.width=W,K.height=G,K}function getAlignOffset(H,K){var W=K.charAt(0),G=K.charAt(1),U=H.width,X=H.height,Q=H.left,Z=H.top;return W==="c"?Z+=X/2:W==="b"&&(Z+=X),G==="c"?Q+=U/2:G==="r"&&(Q+=U),{left:Q,top:Z}}function getElFuturePos(H,K,W,G,U){var X=getAlignOffset(K,W[1]),Q=getAlignOffset(H,W[0]),Z=[Q.left-X.left,Q.top-X.top];return{left:Math.round(H.left-Z[0]+G[0]-U[0]),top:Math.round(H.top-Z[1]+G[1]-U[1])}}function isFailX(H,K,W){return H.left<W.left||H.left+K.width>W.right}function isFailY(H,K,W){return H.top<W.top||H.top+K.height>W.bottom}function isCompleteFailX(H,K,W){return H.left>W.right||H.left+K.width<W.left}function isCompleteFailY(H,K,W){return H.top>W.bottom||H.top+K.height<W.top}function flip(H,K,W){var G=[];return utils.each(H,function(U){G.push(U.replace(K,function(X){return W[X]}))}),G}function flipOffset(H,K){return H[K]=-H[K],H}function convertOffset(H,K){var W;return/%$/.test(H)?W=parseInt(H.substring(0,H.length-1),10)/100*K:W=parseInt(H,10),W||0}function normalizeOffset(H,K){H[0]=convertOffset(H[0],K.width),H[1]=convertOffset(H[1],K.height)}function doAlign(H,K,W,G){var U=W.points,X=W.offset||[0,0],Q=W.targetOffset||[0,0],Z=W.overflow,ee=W.source||H;X=[].concat(X),Q=[].concat(Q),Z=Z||{};var ne={},te=0,oe=!!(Z&&Z.alwaysByViewport),re=getVisibleRectForElement(ee,oe),ae=getRegion(ee);normalizeOffset(X,ae),normalizeOffset(Q,K);var se=getElFuturePos(ae,K,U,X,Q),ce=utils.merge(ae,se);if(re&&(Z.adjustX||Z.adjustY)&&G){if(Z.adjustX&&isFailX(se,ae,re)){var de=flip(U,/[lr]/gi,{l:"r",r:"l"}),le=flipOffset(X,0),fe=flipOffset(Q,0),pe=getElFuturePos(ae,K,de,le,fe);isCompleteFailX(pe,ae,re)||(te=1,U=de,X=le,Q=fe)}if(Z.adjustY&&isFailY(se,ae,re)){var me=flip(U,/[tb]/gi,{t:"b",b:"t"}),ue=flipOffset(X,1),ge=flipOffset(Q,1),he=getElFuturePos(ae,K,me,ue,ge);isCompleteFailY(he,ae,re)||(te=1,U=me,X=ue,Q=ge)}te&&(se=getElFuturePos(ae,K,U,X,Q),utils.mix(ce,se));var ve=isFailX(se,ae,re),ye=isFailY(se,ae,re);if(ve||ye){var be=U;ve&&(be=flip(U,/[lr]/gi,{l:"r",r:"l"})),ye&&(be=flip(U,/[tb]/gi,{t:"b",b:"t"})),U=be,X=W.offset||[0,0],Q=W.targetOffset||[0,0]}ne.adjustX=Z.adjustX&&ve,ne.adjustY=Z.adjustY&&ye,(ne.adjustX||ne.adjustY)&&(ce=adjustForViewport(se,ae,re,ne))}return ce.width!==ae.width&&utils.css(ee,"width",utils.width(ee)+ce.width-ae.width),ce.height!==ae.height&&utils.css(ee,"height",utils.height(ee)+ce.height-ae.height),utils.offset(ee,{left:ce.left,top:ce.top},{useCssRight:W.useCssRight,useCssBottom:W.useCssBottom,useCssTransform:W.useCssTransform,ignoreShake:W.ignoreShake}),{points:U,offset:X,targetOffset:Q,overflow:ne}}function isOutOfVisibleRect(H,K){var W=getVisibleRectForElement(H,K),G=getRegion(H);return!W||G.left+G.width<=W.left||G.top+G.height<=W.top||G.left>=W.right||G.top>=W.bottom}function alignElement(H,K,W){var G=W.target||K,U=getRegion(G),X=!isOutOfVisibleRect(G,W.overflow&&W.overflow.alwaysByViewport);return doAlign(H,U,W,X)}alignElement.__getOffsetParent=getOffsetParent;alignElement.__getVisibleRectForElement=getVisibleRectForElement;function alignPoint(H,K,W){var G,U,X=utils.getDocument(H),Q=X.defaultView||X.parentWindow,Z=utils.getWindowScrollLeft(Q),ee=utils.getWindowScrollTop(Q),ne=utils.viewportWidth(Q),te=utils.viewportHeight(Q);"pageX"in K?G=K.pageX:G=Z+K.clientX,"pageY"in K?U=K.pageY:U=ee+K.clientY;var oe={left:G,top:U,width:0,height:0},re=G>=0&&G<=Z+ne&&U>=0&&U<=ee+te,ae=[W.points[0],"cc"];return doAlign(H,oe,_objectSpread2(_objectSpread2({},W),{},{points:ae}),re)}function cloneElement(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,U=H;if(Array.isArray(H)&&(U=filterEmpty(H)[0]),!U)return null;const X=cloneVNode(U,K,G);return X.props=W?_extends$1(_extends$1({},X.props),K):X.props,warning$2(typeof X.props.class!="object"),X}function triggerVNodeUpdate(H,K,W){render(cloneVNode(H,_extends$1({},K)),W)}const ensureValidVNode=H=>(H||[]).some(K=>isVNode(K)?!(K.type===Comment||K.type===Fragment&&!ensureValidVNode(K.children)):!0)?H:null;function customRenderSlot(H,K,W,G){var U;const X=(U=H[K])===null||U===void 0?void 0:U.call(H,W);return ensureValidVNode(X)?X:G?.()}const isVisible=H=>{if(!H)return!1;if(H.offsetParent)return!0;if(H.getBBox){const K=H.getBBox();if(K.width||K.height)return!0}if(H.getBoundingClientRect){const K=H.getBoundingClientRect();if(K.width||K.height)return!0}return!1};function isSamePoint(H,K){return H===K?!0:!H||!K?!1:"pageX"in K&&"pageY"in K?H.pageX===K.pageX&&H.pageY===K.pageY:"clientX"in K&&"clientY"in K?H.clientX===K.clientX&&H.clientY===K.clientY:!1}function restoreFocus(H,K){H!==document.activeElement&&contains$2(K,H)&&typeof H.focus=="function"&&H.focus()}function monitorResize(H,K){let W=null,G=null;function U(Q){let[{target:Z}]=Q;if(!document.documentElement.contains(Z))return;const{width:ee,height:ne}=Z.getBoundingClientRect(),te=Math.floor(ee),oe=Math.floor(ne);(W!==te||G!==oe)&&Promise.resolve().then(()=>{K({width:te,height:oe})}),W=te,G=oe}const X=new index$1(U);return H&&X.observe(H),()=>{X.disconnect()}}const useBuffer=(H,K)=>{let W=!1,G=null;function U(){clearTimeout(G)}function X(Q){if(!W||Q===!0){if(H()===!1)return;W=!0,U(),G=setTimeout(()=>{W=!1},K.value)}else U(),G=setTimeout(()=>{W=!1,X()},K.value)}return[X,()=>{W=!1,U()}]};function listCacheClear(){this.__data__=[],this.size=0}function eq(H,K){return H===K||H!==H&&K!==K}function assocIndexOf(H,K){for(var W=H.length;W--;)if(eq(H[W][0],K))return W;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(H){var K=this.__data__,W=assocIndexOf(K,H);if(W<0)return!1;var G=K.length-1;return W==G?K.pop():splice.call(K,W,1),--this.size,!0}function listCacheGet(H){var K=this.__data__,W=assocIndexOf(K,H);return W<0?void 0:K[W][1]}function listCacheHas(H){return assocIndexOf(this.__data__,H)>-1}function listCacheSet(H,K){var W=this.__data__,G=assocIndexOf(W,H);return G<0?(++this.size,W.push([H,K])):W[G][1]=K,this}function ListCache(H){var K=-1,W=H==null?0:H.length;for(this.clear();++K<W;){var G=H[K];this.set(G[0],G[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(H){var K=this.__data__,W=K.delete(H);return this.size=K.size,W}function stackGet(H){return this.__data__.get(H)}function stackHas(H){return this.__data__.has(H)}var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$g=Object.prototype,hasOwnProperty$d=objectProto$g.hasOwnProperty,nativeObjectToString$1=objectProto$g.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(H){var K=hasOwnProperty$d.call(H,symToStringTag$1),W=H[symToStringTag$1];try{H[symToStringTag$1]=void 0;var G=!0}catch{}var U=nativeObjectToString$1.call(H);return G&&(K?H[symToStringTag$1]=W:delete H[symToStringTag$1]),U}var objectProto$f=Object.prototype,nativeObjectToString=objectProto$f.toString;function objectToString(H){return nativeObjectToString.call(H)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(H){return H==null?H===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(H)?getRawTag(H):objectToString(H)}function isObject$1(H){var K=typeof H;return H!=null&&(K=="object"||K=="function")}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(H){if(!isObject$1(H))return!1;var K=baseGetTag(H);return K==funcTag$2||K==genTag$1||K==asyncTag||K==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var H=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return H?"Symbol(src)_1."+H:""}();function isMasked(H){return!!maskSrcKey&&maskSrcKey in H}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(H){if(H!=null){try{return funcToString$2.call(H)}catch{}try{return H+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$e=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$c=objectProto$e.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$c).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(H){if(!isObject$1(H)||isMasked(H))return!1;var K=isFunction(H)?reIsNative:reIsHostCtor;return K.test(toSource(H))}function getValue$2(H,K){return H?.[K]}function getNative(H,K){var W=getValue$2(H,K);return baseIsNative(W)?W:void 0}var Map$1=getNative(root,"Map"),nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(H){var K=this.has(H)&&delete this.__data__[H];return this.size-=K?1:0,K}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$d=Object.prototype,hasOwnProperty$b=objectProto$d.hasOwnProperty;function hashGet(H){var K=this.__data__;if(nativeCreate){var W=K[H];return W===HASH_UNDEFINED$2?void 0:W}return hasOwnProperty$b.call(K,H)?K[H]:void 0}var objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty;function hashHas(H){var K=this.__data__;return nativeCreate?K[H]!==void 0:hasOwnProperty$a.call(K,H)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(H,K){var W=this.__data__;return this.size+=this.has(H)?0:1,W[H]=nativeCreate&&K===void 0?HASH_UNDEFINED$1:K,this}function Hash(H){var K=-1,W=H==null?0:H.length;for(this.clear();++K<W;){var G=H[K];this.set(G[0],G[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(H){var K=typeof H;return K=="string"||K=="number"||K=="symbol"||K=="boolean"?H!=="__proto__":H===null}function getMapData(H,K){var W=H.__data__;return isKeyable(K)?W[typeof K=="string"?"string":"hash"]:W.map}function mapCacheDelete(H){var K=getMapData(this,H).delete(H);return this.size-=K?1:0,K}function mapCacheGet(H){return getMapData(this,H).get(H)}function mapCacheHas(H){return getMapData(this,H).has(H)}function mapCacheSet(H,K){var W=getMapData(this,H),G=W.size;return W.set(H,K),this.size+=W.size==G?0:1,this}function MapCache(H){var K=-1,W=H==null?0:H.length;for(this.clear();++K<W;){var G=H[K];this.set(G[0],G[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var LARGE_ARRAY_SIZE$1=200;function stackSet(H,K){var W=this.__data__;if(W instanceof ListCache){var G=W.__data__;if(!Map$1||G.length<LARGE_ARRAY_SIZE$1-1)return G.push([H,K]),this.size=++W.size,this;W=this.__data__=new MapCache(G)}return W.set(H,K),this.size=W.size,this}function Stack(H){var K=this.__data__=new ListCache(H);this.size=K.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(H){return this.__data__.set(H,HASH_UNDEFINED),this}function setCacheHas(H){return this.__data__.has(H)}function SetCache(H){var K=-1,W=H==null?0:H.length;for(this.__data__=new MapCache;++K<W;)this.add(H[K])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(H,K){for(var W=-1,G=H==null?0:H.length;++W<G;)if(K(H[W],W,H))return!0;return!1}function cacheHas(H,K){return H.has(K)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(H,K,W,G,U,X){var Q=W&COMPARE_PARTIAL_FLAG$5,Z=H.length,ee=K.length;if(Z!=ee&&!(Q&&ee>Z))return!1;var ne=X.get(H),te=X.get(K);if(ne&&te)return ne==K&&te==H;var oe=-1,re=!0,ae=W&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(X.set(H,K),X.set(K,H);++oe<Z;){var se=H[oe],ce=K[oe];if(G)var de=Q?G(ce,se,oe,K,H,X):G(se,ce,oe,H,K,X);if(de!==void 0){if(de)continue;re=!1;break}if(ae){if(!arraySome(K,function(le,fe){if(!cacheHas(ae,fe)&&(se===le||U(se,le,W,G,X)))return ae.push(fe)})){re=!1;break}}else if(!(se===ce||U(se,ce,W,G,X))){re=!1;break}}return X.delete(H),X.delete(K),re}var Uint8Array=root.Uint8Array;function mapToArray(H){var K=-1,W=Array(H.size);return H.forEach(function(G,U){W[++K]=[U,G]}),W}function setToArray(H){var K=-1,W=Array(H.size);return H.forEach(function(G){W[++K]=G}),W}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",mapTag$6="[object Map]",numberTag$3="[object Number]",regexpTag$3="[object RegExp]",setTag$6="[object Set]",stringTag$3="[object String]",symbolTag$3="[object Symbol]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",symbolProto$2=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf$1=symbolProto$2?symbolProto$2.valueOf:void 0;function equalByTag(H,K,W,G,U,X,Q){switch(W){case dataViewTag$4:if(H.byteLength!=K.byteLength||H.byteOffset!=K.byteOffset)return!1;H=H.buffer,K=K.buffer;case arrayBufferTag$3:return!(H.byteLength!=K.byteLength||!X(new Uint8Array(H),new Uint8Array(K)));case boolTag$3:case dateTag$3:case numberTag$3:return eq(+H,+K);case errorTag$2:return H.name==K.name&&H.message==K.message;case regexpTag$3:case stringTag$3:return H==K+"";case mapTag$6:var Z=mapToArray;case setTag$6:var ee=G&COMPARE_PARTIAL_FLAG$4;if(Z||(Z=setToArray),H.size!=K.size&&!ee)return!1;var ne=Q.get(H);if(ne)return ne==K;G|=COMPARE_UNORDERED_FLAG$2,Q.set(H,K);var te=equalArrays(Z(H),Z(K),G,U,X,Q);return Q.delete(H),te;case symbolTag$3:if(symbolValueOf$1)return symbolValueOf$1.call(H)==symbolValueOf$1.call(K)}return!1}function arrayPush(H,K){for(var W=-1,G=K.length,U=H.length;++W<G;)H[U+W]=K[W];return H}var isArray$1=Array.isArray;function baseGetAllKeys(H,K,W){var G=K(H);return isArray$1(H)?G:arrayPush(G,W(H))}function arrayFilter(H,K){for(var W=-1,G=H==null?0:H.length,U=0,X=[];++W<G;){var Q=H[W];K(Q,W,H)&&(X[U++]=Q)}return X}function stubArray(){return[]}var objectProto$b=Object.prototype,propertyIsEnumerable$1=objectProto$b.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(H){return H==null?[]:(H=Object(H),arrayFilter(nativeGetSymbols$1(H),function(K){return propertyIsEnumerable$1.call(H,K)}))}:stubArray;function baseTimes(H,K){for(var W=-1,G=Array(H);++W<H;)G[W]=K(W);return G}function isObjectLike(H){return H!=null&&typeof H=="object"}var argsTag$3="[object Arguments]";function baseIsArguments(H){return isObjectLike(H)&&baseGetTag(H)==argsTag$3}var objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty,propertyIsEnumerable=objectProto$a.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(H){return isObjectLike(H)&&hasOwnProperty$9.call(H,"callee")&&!propertyIsEnumerable.call(H,"callee")};function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(H,K){var W=typeof H;return K=K??MAX_SAFE_INTEGER$1,!!K&&(W=="number"||W!="symbol"&&reIsUint.test(H))&&H>-1&&H%1==0&&H<K}var MAX_SAFE_INTEGER=9007199254740991;function isLength(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=MAX_SAFE_INTEGER}var argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",funcTag$1="[object Function]",mapTag$5="[object Map]",numberTag$2="[object Number]",objectTag$4="[object Object]",regexpTag$2="[object RegExp]",setTag$5="[object Set]",stringTag$2="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$2]=typedArrayTags[boolTag$2]=typedArrayTags[dataViewTag$3]=typedArrayTags[dateTag$2]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$2]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$2]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$2]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(H){return isObjectLike(H)&&isLength(H.length)&&!!typedArrayTags[baseGetTag(H)]}function baseUnary(H){return function(K){return H(K)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=function(){try{var H=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return H||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function arrayLikeKeys(H,K){var W=isArray$1(H),G=!W&&isArguments(H),U=!W&&!G&&isBuffer(H),X=!W&&!G&&!U&&isTypedArray(H),Q=W||G||U||X,Z=Q?baseTimes(H.length,String):[],ee=Z.length;for(var ne in H)(K||hasOwnProperty$8.call(H,ne))&&!(Q&&(ne=="length"||U&&(ne=="offset"||ne=="parent")||X&&(ne=="buffer"||ne=="byteLength"||ne=="byteOffset")||isIndex(ne,ee)))&&Z.push(ne);return Z}var objectProto$8=Object.prototype;function isPrototype(H){var K=H&&H.constructor,W=typeof K=="function"&&K.prototype||objectProto$8;return H===W}function overArg(H,K){return function(W){return H(K(W))}}var nativeKeys=overArg(Object.keys,Object),objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty;function baseKeys(H){if(!isPrototype(H))return nativeKeys(H);var K=[];for(var W in Object(H))hasOwnProperty$7.call(H,W)&&W!="constructor"&&K.push(W);return K}function isArrayLike(H){return H!=null&&isLength(H.length)&&!isFunction(H)}function keys$1(H){return isArrayLike(H)?arrayLikeKeys(H):baseKeys(H)}function getAllKeys(H){return baseGetAllKeys(H,keys$1,getSymbols)}var COMPARE_PARTIAL_FLAG$3=1,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty;function equalObjects(H,K,W,G,U,X){var Q=W&COMPARE_PARTIAL_FLAG$3,Z=getAllKeys(H),ee=Z.length,ne=getAllKeys(K),te=ne.length;if(ee!=te&&!Q)return!1;for(var oe=ee;oe--;){var re=Z[oe];if(!(Q?re in K:hasOwnProperty$6.call(K,re)))return!1}var ae=X.get(H),se=X.get(K);if(ae&&se)return ae==K&&se==H;var ce=!0;X.set(H,K),X.set(K,H);for(var de=Q;++oe<ee;){re=Z[oe];var le=H[re],fe=K[re];if(G)var pe=Q?G(fe,le,re,K,H,X):G(le,fe,re,H,K,X);if(!(pe===void 0?le===fe||U(le,fe,W,G,X):pe)){ce=!1;break}de||(de=re=="constructor")}if(ce&&!de){var me=H.constructor,ue=K.constructor;me!=ue&&"constructor"in H&&"constructor"in K&&!(typeof me=="function"&&me instanceof me&&typeof ue=="function"&&ue instanceof ue)&&(ce=!1)}return X.delete(H),X.delete(K),ce}var DataView=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),WeakMap$1=getNative(root,"WeakMap"),mapTag$4="[object Map]",objectTag$3="[object Object]",promiseTag="[object Promise]",setTag$4="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag$2||Map$1&&getTag(new Map$1)!=mapTag$4||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$4||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag$1)&&(getTag=function(H){var K=baseGetTag(H),W=K==objectTag$3?H.constructor:void 0,G=W?toSource(W):"";if(G)switch(G){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$4;case promiseCtorString:return promiseTag;case setCtorString:return setTag$4;case weakMapCtorString:return weakMapTag$1}return K});var COMPARE_PARTIAL_FLAG$2=1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",objectTag$2="[object Object]",objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function baseIsEqualDeep(H,K,W,G,U,X){var Q=isArray$1(H),Z=isArray$1(K),ee=Q?arrayTag$1:getTag(H),ne=Z?arrayTag$1:getTag(K);ee=ee==argsTag$1?objectTag$2:ee,ne=ne==argsTag$1?objectTag$2:ne;var te=ee==objectTag$2,oe=ne==objectTag$2,re=ee==ne;if(re&&isBuffer(H)){if(!isBuffer(K))return!1;Q=!0,te=!1}if(re&&!te)return X||(X=new Stack),Q||isTypedArray(H)?equalArrays(H,K,W,G,U,X):equalByTag(H,K,ee,W,G,U,X);if(!(W&COMPARE_PARTIAL_FLAG$2)){var ae=te&&hasOwnProperty$5.call(H,"__wrapped__"),se=oe&&hasOwnProperty$5.call(K,"__wrapped__");if(ae||se){var ce=ae?H.value():H,de=se?K.value():K;return X||(X=new Stack),U(ce,de,W,G,X)}}return re?(X||(X=new Stack),equalObjects(H,K,W,G,U,X)):!1}function baseIsEqual(H,K,W,G,U){return H===K?!0:H==null||K==null||!isObjectLike(H)&&!isObjectLike(K)?H!==H&&K!==K:baseIsEqualDeep(H,K,W,G,baseIsEqual,U)}function isEqual$1(H,K){return baseIsEqual(H,K)}const alignProps={align:Object,target:[Object,Function],onAlign:Function,monitorBufferTime:Number,monitorWindowResize:Boolean,disabled:Boolean};function getElement(H){return typeof H!="function"?null:H()}function getPoint(H){return typeof H!="object"||!H?null:H}const Align=defineComponent({compatConfig:{MODE:3},name:"Align",props:alignProps,emits:["align"],setup(H,K){let{expose:W,slots:G}=K;const U=ref({}),X=ref(),[Q,Z]=useBuffer(()=>{const{disabled:re,target:ae,align:se,onAlign:ce}=H;if(!re&&ae&&X.value){const de=X.value;let le;const fe=getElement(ae),pe=getPoint(ae);U.value.element=fe,U.value.point=pe,U.value.align=se;const{activeElement:me}=document;return fe&&isVisible(fe)?le=alignElement(de,fe,se):pe&&(le=alignPoint(de,pe,se)),restoreFocus(me,de),ce&&le&&ce(de,le),!0}return!1},computed(()=>H.monitorBufferTime)),ee=ref({cancel:()=>{}}),ne=ref({cancel:()=>{}}),te=()=>{const re=H.target,ae=getElement(re),se=getPoint(re);X.value!==ne.value.element&&(ne.value.cancel(),ne.value.element=X.value,ne.value.cancel=monitorResize(X.value,Q)),(U.value.element!==ae||!isSamePoint(U.value.point,se)||!isEqual$1(U.value.align,H.align))&&(Q(),ee.value.element!==ae&&(ee.value.cancel(),ee.value.element=ae,ee.value.cancel=monitorResize(ae,Q)))};onMounted(()=>{nextTick(()=>{te()})}),onUpdated(()=>{nextTick(()=>{te()})}),watch(()=>H.disabled,re=>{re?Z():Q()},{immediate:!0,flush:"post"});const oe=ref(null);return watch(()=>H.monitorWindowResize,re=>{re?oe.value||(oe.value=addEventListenerWrap(window,"resize",Q)):oe.value&&(oe.value.remove(),oe.value=null)},{flush:"post"}),onUnmounted(()=>{ee.value.cancel(),ne.value.cancel(),oe.value&&oe.value.remove(),Z()}),W({forceAlign:()=>Q(!0)}),()=>{const re=G?.default();return re?cloneElement(re[0],{ref:X},!0,!0):null}}});tuple("bottomLeft","bottomRight","topLeft","topRight");const getTransitionDirection=H=>H!==void 0&&(H==="topLeft"||H==="topRight")?"slide-down":"slide-up",getTransitionProps=function(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _extends$1(H?{name:H,appear:!0,enterFromClass:`${H}-enter ${H}-enter-prepare ${H}-enter-start`,enterActiveClass:`${H}-enter ${H}-enter-prepare`,enterToClass:`${H}-enter ${H}-enter-active`,leaveFromClass:` ${H}-leave`,leaveActiveClass:`${H}-leave ${H}-leave-active`,leaveToClass:`${H}-leave ${H}-leave-active`}:{css:!1},K)},getTransitionGroupProps=function(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _extends$1(H?{name:H,appear:!0,appearActiveClass:`${H}`,appearToClass:`${H}-appear ${H}-appear-active`,enterFromClass:`${H}-appear ${H}-enter ${H}-appear-prepare ${H}-enter-prepare`,enterActiveClass:`${H}`,enterToClass:`${H}-enter ${H}-appear ${H}-appear-active ${H}-enter-active`,leaveActiveClass:`${H} ${H}-leave`,leaveToClass:`${H}-leave-active`}:{css:!1},K)},getTransitionName=(H,K,W)=>W!==void 0?W:`${H}-${K}`,PopupInner=defineComponent({compatConfig:{MODE:3},name:"PopupInner",inheritAttrs:!1,props:innerProps,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(H,K){let{expose:W,attrs:G,slots:U}=K;const X=shallowRef(),Q=shallowRef(),Z=shallowRef(),[ee,ne]=useStretchStyle(toRef(H,"stretch")),te=()=>{H.stretch&&ne(H.getRootDomNode())},oe=shallowRef(!1);let re;watch(()=>H.visible,ge=>{clearTimeout(re),ge?re=setTimeout(()=>{oe.value=H.visible}):oe.value=!1},{immediate:!0});const[ae,se]=useVisibleStatus(oe,te),ce=shallowRef(),de=()=>H.point?H.point:H.getRootDomNode,le=()=>{var ge;(ge=X.value)===null||ge===void 0||ge.forceAlign()},fe=(ge,he)=>{var ve;const ye=H.getClassNameFromAlign(he),be=Z.value;Z.value!==ye&&(Z.value=ye),ae.value==="align"&&(be!==ye?Promise.resolve().then(()=>{le()}):se(()=>{var Se;(Se=ce.value)===null||Se===void 0||Se.call(ce)}),(ve=H.onAlign)===null||ve===void 0||ve.call(H,ge,he))},pe=computed(()=>{const ge=typeof H.animation=="object"?H.animation:getMotion$1(H);return["onAfterEnter","onAfterLeave"].forEach(he=>{const ve=ge[he];ge[he]=ye=>{se(),ae.value="stable",ve?.(ye)}}),ge}),me=()=>new Promise(ge=>{ce.value=ge});watch([pe,ae],()=>{!pe.value&&ae.value==="motion"&&se()},{immediate:!0}),W({forceAlign:le,getElement:()=>Q.value.$el||Q.value});const ue=computed(()=>{var ge;return!(!((ge=H.align)===null||ge===void 0)&&ge.points&&(ae.value==="align"||ae.value==="stable"))});return()=>{var ge;const{zIndex:he,align:ve,prefixCls:ye,destroyPopupOnHide:be,onMouseenter:Se,onMouseleave:Ce,onTouchstart:xe=()=>{},onMousedown:Ne}=H,$e=ae.value,Ee=[_extends$1(_extends$1({},ee.value),{zIndex:he,opacity:$e==="motion"||$e==="stable"||!oe.value?null:0,pointerEvents:!oe.value&&$e!=="stable"?"none":null}),G.style];let Te=flattenChildren((ge=U.default)===null||ge===void 0?void 0:ge.call(U,{visible:H.visible}));Te.length>1&&(Te=createVNode("div",{class:`${ye}-content`},[Te]));const Be=classNames(ye,G.class,Z.value,!H.arrow&&`${ye}-arrow-hidden`),ze=oe.value||!H.visible?getTransitionProps(pe.value.name,pe.value):{};return createVNode(Transition,_objectSpread2$1(_objectSpread2$1({ref:Q},ze),{},{onBeforeEnter:me}),{default:()=>!be||H.visible?withDirectives(createVNode(Align,{target:de(),key:"popup",ref:X,monitorWindowResize:!0,disabled:ue.value,align:ve,onAlign:fe},{default:()=>createVNode("div",{class:Be,onMouseenter:Se,onMouseleave:Ce,onMousedown:withModifiers(Ne,["capture"]),[supportsPassive?"onTouchstartPassive":"onTouchstart"]:withModifiers(xe,["capture"]),style:Ee},[Te])}),[[vShow,oe.value]]):null})}}}),Popup=defineComponent({compatConfig:{MODE:3},name:"Popup",inheritAttrs:!1,props:popupProps,setup(H,K){let{attrs:W,slots:G,expose:U}=K;const X=shallowRef(!1),Q=shallowRef(!1),Z=shallowRef(),ee=shallowRef();return watch([()=>H.visible,()=>H.mobile],()=>{X.value=H.visible,H.visible&&H.mobile&&(Q.value=!0)},{immediate:!0,flush:"post"}),U({forceAlign:()=>{var ne;(ne=Z.value)===null||ne===void 0||ne.forceAlign()},getElement:()=>{var ne;return(ne=Z.value)===null||ne===void 0?void 0:ne.getElement()}}),()=>{const ne=_extends$1(_extends$1(_extends$1({},H),W),{visible:X.value}),te=Q.value?createVNode(MobilePopupInner,_objectSpread2$1(_objectSpread2$1({},ne),{},{mobile:H.mobile,ref:Z}),{default:G.default}):createVNode(PopupInner,_objectSpread2$1(_objectSpread2$1({},ne),{},{ref:Z}),{default:G.default});return createVNode("div",{ref:ee},[createVNode(Mask$1,ne,null),te])}}});function isPointsEq(H,K,W){return W?H[0]===K[0]:H[0]===K[0]&&H[1]===K[1]}function getAlignFromPlacement(H,K,W){const G=H[K]||{};return _extends$1(_extends$1({},G),W)}function getAlignPopupClassName(H,K,W,G){const{points:U}=W,X=Object.keys(H);for(let Q=0;Q<X.length;Q+=1){const Z=X[Q];if(isPointsEq(H[Z].points,U,G))return`${K}-placement-${Z}`}return""}const BaseMixin={methods:{setState(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=arguments.length>1?arguments[1]:void 0,W=typeof H=="function"?H(this.$data,this.$props):H;if(this.getDerivedStateFromProps){const G=this.getDerivedStateFromProps(getOptionProps(this),_extends$1(_extends$1({},this.$data),W));if(G===null)return;W=_extends$1(_extends$1({},W),G||{})}_extends$1(this.$data,W),this._.isMounted&&this.$forceUpdate(),nextTick(()=>{K&&K()})},__emit(){const H=[].slice.call(arguments,0);let K=H[0];K=`on${K[0].toUpperCase()}${K.substring(1)}`;const W=this.$props[K]||this.$attrs[K];if(H.length&&W)if(Array.isArray(W))for(let G=0,U=W.length;G<U;G++)W[G](...H.slice(1));else W(...H.slice(1))}}},PortalContextKey=Symbol("PortalContextKey"),useProvidePortal=function(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inTriggerContext:!0};provide(PortalContextKey,{inTriggerContext:K.inTriggerContext,shouldRender:computed(()=>{const{sPopupVisible:W,popupRef:G,forceRender:U,autoDestroy:X}=H||{};let Q=!1;return(W||G||U)&&(Q=!0),!W&&X&&(Q=!1),Q})})},useInjectPortal=()=>{useProvidePortal({},{inTriggerContext:!1});const H=inject(PortalContextKey,{shouldRender:computed(()=>!1),inTriggerContext:!1});return{shouldRender:computed(()=>H.shouldRender.value||H.inTriggerContext===!1)}},Portal$1=defineComponent({compatConfig:{MODE:3},name:"Portal",inheritAttrs:!1,props:{getContainer:PropTypes.func.isRequired,didUpdate:Function},setup(H,K){let{slots:W}=K,G=!0,U;const{shouldRender:X}=useInjectPortal();function Q(){X.value&&(U=H.getContainer())}onBeforeMount(()=>{G=!1,Q()}),onMounted(()=>{U||Q()});const Z=watch(X,()=>{X.value&&!U&&(U=H.getContainer()),U&&Z()});return onUpdated(()=>{nextTick(()=>{var ee;X.value&&((ee=H.didUpdate)===null||ee===void 0||ee.call(H,H))})}),()=>{var ee;return X.value?G?(ee=W.default)===null||ee===void 0?void 0:ee.call(W):U?createVNode(Teleport,{to:U},W):null:null}}});let cached;function getScrollBarSize(H){if(typeof document>"u")return 0;if(cached===void 0){const K=document.createElement("div");K.style.width="100%",K.style.height="200px";const W=document.createElement("div"),G=W.style;G.position="absolute",G.top="0",G.left="0",G.pointerEvents="none",G.visibility="hidden",G.width="200px",G.height="150px",G.overflow="hidden",W.appendChild(K),document.body.appendChild(W);const U=K.offsetWidth;W.style.overflow="scroll";let X=K.offsetWidth;U===X&&(X=W.clientWidth),document.body.removeChild(W),cached=U-X}return cached}function ensureSize(H){const K=H.match(/^(.*)px$/),W=Number(K?.[1]);return Number.isNaN(W)?getScrollBarSize():W}function getTargetScrollBarSize(H){if(typeof document>"u"||!H||!(H instanceof Element))return{width:0,height:0};const{width:K,height:W}=getComputedStyle(H,"::-webkit-scrollbar");return{width:ensureSize(K),height:ensureSize(W)}}const UNIQUE_ID=`vc-util-locker-${Date.now()}`;let uuid$4=0;function isBodyOverflowing(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}function useScrollLocker(H){const K=computed(()=>!!H&&!!H.value);uuid$4+=1;const W=`${UNIQUE_ID}_${uuid$4}`;watchEffect(G=>{if(canUseDom$1()){if(K.value){const U=getScrollBarSize(),X=isBodyOverflowing();updateCSS$1(`
html body {
  overflow-y: hidden;
  ${X?`width: calc(100% - ${U}px);`:""}
}`,W)}else removeCSS(W);G(()=>{removeCSS(W)})}},{flush:"post"})}let openCount=0;const supportDom=canUseDom$1(),getParent=H=>{if(!supportDom)return null;if(H){if(typeof H=="string")return document.querySelectorAll(H)[0];if(typeof H=="function")return H();if(typeof H=="object"&&H instanceof window.HTMLElement)return H}return document.body},Portal=defineComponent({compatConfig:{MODE:3},name:"PortalWrapper",inheritAttrs:!1,props:{wrapperClassName:String,forceRender:{type:Boolean,default:void 0},getContainer:PropTypes.any,visible:{type:Boolean,default:void 0},autoLock:booleanType(),didUpdate:Function},setup(H,K){let{slots:W}=K;const G=shallowRef(),U=shallowRef(),X=shallowRef(),Q=shallowRef(1),Z=canUseDom$1()&&document.createElement("div"),ee=()=>{var ae,se;G.value===Z&&((se=(ae=G.value)===null||ae===void 0?void 0:ae.parentNode)===null||se===void 0||se.removeChild(G.value)),G.value=null};let ne=null;const te=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)||G.value&&!G.value.parentNode?(ne=getParent(H.getContainer),ne?(ne.appendChild(G.value),!0):!1):!0},oe=()=>supportDom?(G.value||(G.value=Z,te(!0)),re(),G.value):null,re=()=>{const{wrapperClassName:ae}=H;G.value&&ae&&ae!==G.value.className&&(G.value.className=ae)};return onUpdated(()=>{re(),te()}),useScrollLocker(computed(()=>H.autoLock&&H.visible&&canUseDom$1()&&(G.value===document.body||G.value===Z))),onMounted(()=>{let ae=!1;watch([()=>H.visible,()=>H.getContainer],(se,ce)=>{let[de,le]=se,[fe,pe]=ce;supportDom&&(ne=getParent(H.getContainer),ne===document.body&&(de&&!fe?openCount+=1:ae&&(openCount-=1))),ae&&(typeof le=="function"&&typeof pe=="function"?le.toString()!==pe.toString():le!==pe)&&ee(),ae=!0},{immediate:!0,flush:"post"}),nextTick(()=>{te()||(X.value=wrapperRaf(()=>{Q.value+=1}))})}),onBeforeUnmount(()=>{const{visible:ae}=H;supportDom&&ne===document.body&&(openCount=ae&&openCount?openCount-1:openCount),ee(),wrapperRaf.cancel(X.value)}),()=>{const{forceRender:ae,visible:se}=H;let ce=null;const de={getOpenCount:()=>openCount,getContainer:oe};return Q.value&&(ae||se||U.value)&&(ce=createVNode(Portal$1,{getContainer:oe,ref:U,didUpdate:H.didUpdate},{default:()=>{var le;return(le=W.default)===null||le===void 0?void 0:le.call(W,de)}})),ce}}}),ALL_HANDLERS=["onClick","onMousedown","onTouchstart","onMouseenter","onMouseleave","onFocus","onBlur","onContextmenu"],Trigger=defineComponent({compatConfig:{MODE:3},name:"Trigger",mixins:[BaseMixin],inheritAttrs:!1,props:triggerProps(),setup(H){const K=computed(()=>{const{popupPlacement:U,popupAlign:X,builtinPlacements:Q}=H;return U&&Q?getAlignFromPlacement(Q,U,X):X}),W=shallowRef(null),G=U=>{W.value=U};return{vcTriggerContext:inject("vcTriggerContext",{}),popupRef:W,setPopupRef:G,triggerRef:shallowRef(null),align:K,focusTime:null,clickOutsideHandler:null,contextmenuOutsideHandler1:null,contextmenuOutsideHandler2:null,touchOutsideHandler:null,attachId:null,delayTimer:null,hasPopupMouseDown:!1,preClickTime:null,preTouchTime:null,mouseDownTimeout:null,childOriginEvents:{}}},data(){const H=this.$props;let K;return this.popupVisible!==void 0?K=!!H.popupVisible:K=!!H.defaultPopupVisible,ALL_HANDLERS.forEach(W=>{this[`fire${W}`]=G=>{this.fireEvents(W,G)}}),{prevPopupVisible:K,sPopupVisible:K,point:null}},watch:{popupVisible(H){H!==void 0&&(this.prevPopupVisible=this.sPopupVisible,this.sPopupVisible=H)}},created(){provide("vcTriggerContext",{onPopupMouseDown:this.onPopupMouseDown,onPopupMouseenter:this.onPopupMouseenter,onPopupMouseleave:this.onPopupMouseleave}),useProvidePortal(this)},deactivated(){this.setPopupVisible(!1)},mounted(){this.$nextTick(()=>{this.updatedCal()})},updated(){this.$nextTick(()=>{this.updatedCal()})},beforeUnmount(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),wrapperRaf.cancel(this.attachId)},methods:{updatedCal(){const H=this.$props;if(this.$data.sPopupVisible){let W;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextmenuToShow())&&(W=H.getDocument(this.getRootDomNode()),this.clickOutsideHandler=addEventListenerWrap(W,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(W=W||H.getDocument(this.getRootDomNode()),this.touchOutsideHandler=addEventListenerWrap(W,"touchstart",this.onDocumentClick,supportsPassive?{passive:!1}:!1)),!this.contextmenuOutsideHandler1&&this.isContextmenuToShow()&&(W=W||H.getDocument(this.getRootDomNode()),this.contextmenuOutsideHandler1=addEventListenerWrap(W,"scroll",this.onContextmenuClose)),!this.contextmenuOutsideHandler2&&this.isContextmenuToShow()&&(this.contextmenuOutsideHandler2=addEventListenerWrap(window,"blur",this.onContextmenuClose))}else this.clearOutsideHandler()},onMouseenter(H){const{mouseEnterDelay:K}=this.$props;this.fireEvents("onMouseenter",H),this.delaySetPopupVisible(!0,K,K?null:H)},onMouseMove(H){this.fireEvents("onMousemove",H),this.setPoint(H)},onMouseleave(H){this.fireEvents("onMouseleave",H),this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onPopupMouseenter(){const{vcTriggerContext:H={}}=this;H.onPopupMouseenter&&H.onPopupMouseenter(),this.clearDelayTimer()},onPopupMouseleave(H){var K;if(H&&H.relatedTarget&&!H.relatedTarget.setTimeout&&contains$2((K=this.popupRef)===null||K===void 0?void 0:K.getElement(),H.relatedTarget))return;this.isMouseLeaveToHide()&&this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay);const{vcTriggerContext:W={}}=this;W.onPopupMouseleave&&W.onPopupMouseleave(H)},onFocus(H){this.fireEvents("onFocus",H),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.$props.focusDelay))},onMousedown(H){this.fireEvents("onMousedown",H),this.preClickTime=Date.now()},onTouchstart(H){this.fireEvents("onTouchstart",H),this.preTouchTime=Date.now()},onBlur(H){contains$2(H.target,H.relatedTarget||document.activeElement)||(this.fireEvents("onBlur",H),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.$props.blurDelay))},onContextmenu(H){H.preventDefault(),this.fireEvents("onContextmenu",H),this.setPopupVisible(!0,H)},onContextmenuClose(){this.isContextmenuToShow()&&this.close()},onClick(H){if(this.fireEvents("onClick",H),this.focusTime){let W;if(this.preClickTime&&this.preTouchTime?W=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?W=this.preClickTime:this.preTouchTime&&(W=this.preTouchTime),Math.abs(W-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,this.isClickToShow()&&(this.isClickToHide()||this.isBlurToHide())&&H&&H.preventDefault&&H.preventDefault(),H&&H.domEvent&&H.domEvent.preventDefault();const K=!this.$data.sPopupVisible;(this.isClickToHide()&&!K||K&&this.isClickToShow())&&this.setPopupVisible(!this.$data.sPopupVisible,H)},onPopupMouseDown(){const{vcTriggerContext:H={}}=this;this.hasPopupMouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout(()=>{this.hasPopupMouseDown=!1},0),H.onPopupMouseDown&&H.onPopupMouseDown(...arguments)},onDocumentClick(H){if(this.$props.mask&&!this.$props.maskClosable)return;const K=H.target,W=this.getRootDomNode(),G=this.getPopupDomNode();(!contains$2(W,K)||this.isContextMenuOnly())&&!contains$2(G,K)&&!this.hasPopupMouseDown&&this.delaySetPopupVisible(!1,.1)},getPopupDomNode(){var H;return((H=this.popupRef)===null||H===void 0?void 0:H.getElement())||null},getRootDomNode(){var H,K,W,G;const{getTriggerDOMNode:U}=this.$props;if(U){const X=((K=(H=this.triggerRef)===null||H===void 0?void 0:H.$el)===null||K===void 0?void 0:K.nodeName)==="#comment"?null:findDOMNode(this.triggerRef);return findDOMNode(U(X))}try{const X=((G=(W=this.triggerRef)===null||W===void 0?void 0:W.$el)===null||G===void 0?void 0:G.nodeName)==="#comment"?null:findDOMNode(this.triggerRef);if(X)return X}catch{}return findDOMNode(this)},handleGetPopupClassFromAlign(H){const K=[],W=this.$props,{popupPlacement:G,builtinPlacements:U,prefixCls:X,alignPoint:Q,getPopupClassNameFromAlign:Z}=W;return G&&U&&K.push(getAlignPopupClassName(U,X,H,Q)),Z&&K.push(Z(H)),K.join(" ")},getPopupAlign(){const H=this.$props,{popupPlacement:K,popupAlign:W,builtinPlacements:G}=H;return K&&G?getAlignFromPlacement(G,K,W):W},getComponent(){const H={};this.isMouseEnterToShow()&&(H.onMouseenter=this.onPopupMouseenter),this.isMouseLeaveToHide()&&(H.onMouseleave=this.onPopupMouseleave),H.onMousedown=this.onPopupMouseDown,H[supportsPassive?"onTouchstartPassive":"onTouchstart"]=this.onPopupMouseDown;const{handleGetPopupClassFromAlign:K,getRootDomNode:W,$attrs:G}=this,{prefixCls:U,destroyPopupOnHide:X,popupClassName:Q,popupAnimation:Z,popupTransitionName:ee,popupStyle:ne,mask:te,maskAnimation:oe,maskTransitionName:re,zIndex:ae,stretch:se,alignPoint:ce,mobile:de,arrow:le,forceRender:fe}=this.$props,{sPopupVisible:pe,point:me}=this.$data,ue=_extends$1(_extends$1({prefixCls:U,arrow:le,destroyPopupOnHide:X,visible:pe,point:ce?me:null,align:this.align,animation:Z,getClassNameFromAlign:K,stretch:se,getRootDomNode:W,mask:te,zIndex:ae,transitionName:ee,maskAnimation:oe,maskTransitionName:re,class:Q,style:ne,onAlign:G.onPopupAlign||noop$4},H),{ref:this.setPopupRef,mobile:de,forceRender:fe});return createVNode(Popup,ue,{default:this.$slots.popup||(()=>getComponent(this,"popup"))})},attachParent(H){wrapperRaf.cancel(this.attachId);const{getPopupContainer:K,getDocument:W}=this.$props,G=this.getRootDomNode();let U;K?(G||K.length===0)&&(U=K(G)):U=W(this.getRootDomNode()).body,U?U.appendChild(H):this.attachId=wrapperRaf(()=>{this.attachParent(H)})},getContainer(){const{$props:H}=this,{getDocument:K}=H,W=K(this.getRootDomNode()).createElement("div");return W.style.position="absolute",W.style.top="0",W.style.left="0",W.style.width="100%",this.attachParent(W),W},setPopupVisible(H,K){const{alignPoint:W,sPopupVisible:G,onPopupVisibleChange:U}=this;this.clearDelayTimer(),G!==H&&(hasProp(this,"popupVisible")||this.setState({sPopupVisible:H,prevPopupVisible:G}),U&&U(H)),W&&K&&H&&this.setPoint(K)},setPoint(H){const{alignPoint:K}=this.$props;!K||!H||this.setState({point:{pageX:H.pageX,pageY:H.pageY}})},handlePortalUpdate(){this.prevPopupVisible!==this.sPopupVisible&&this.afterPopupVisibleChange(this.sPopupVisible)},delaySetPopupVisible(H,K,W){const G=K*1e3;if(this.clearDelayTimer(),G){const U=W?{pageX:W.pageX,pageY:W.pageY}:null;this.delayTimer=setTimeout(()=>{this.setPopupVisible(H,U),this.clearDelayTimer()},G)}else this.setPopupVisible(H,W)},clearDelayTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},clearOutsideHandler(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextmenuOutsideHandler1&&(this.contextmenuOutsideHandler1.remove(),this.contextmenuOutsideHandler1=null),this.contextmenuOutsideHandler2&&(this.contextmenuOutsideHandler2.remove(),this.contextmenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains(H){let K=()=>{};const W=getEvents(this);return this.childOriginEvents[H]&&W[H]?this[`fire${H}`]:(K=this.childOriginEvents[H]||W[H]||K,K)},isClickToShow(){const{action:H,showAction:K}=this.$props;return H.indexOf("click")!==-1||K.indexOf("click")!==-1},isContextMenuOnly(){const{action:H}=this.$props;return H==="contextmenu"||H.length===1&&H[0]==="contextmenu"},isContextmenuToShow(){const{action:H,showAction:K}=this.$props;return H.indexOf("contextmenu")!==-1||K.indexOf("contextmenu")!==-1},isClickToHide(){const{action:H,hideAction:K}=this.$props;return H.indexOf("click")!==-1||K.indexOf("click")!==-1},isMouseEnterToShow(){const{action:H,showAction:K}=this.$props;return H.indexOf("hover")!==-1||K.indexOf("mouseenter")!==-1},isMouseLeaveToHide(){const{action:H,hideAction:K}=this.$props;return H.indexOf("hover")!==-1||K.indexOf("mouseleave")!==-1},isFocusToShow(){const{action:H,showAction:K}=this.$props;return H.indexOf("focus")!==-1||K.indexOf("focus")!==-1},isBlurToHide(){const{action:H,hideAction:K}=this.$props;return H.indexOf("focus")!==-1||K.indexOf("blur")!==-1},forcePopupAlign(){var H;this.$data.sPopupVisible&&((H=this.popupRef)===null||H===void 0||H.forceAlign())},fireEvents(H,K){this.childOriginEvents[H]&&this.childOriginEvents[H](K);const W=this.$props[H]||this.$attrs[H];W&&W(K)},close(){this.setPopupVisible(!1)}},render(){const{$attrs:H}=this,K=filterEmpty(getSlot(this)),{alignPoint:W,getPopupContainer:G}=this.$props,U=K[0];this.childOriginEvents=getEvents(U);const X={key:"trigger"};this.isContextmenuToShow()?X.onContextmenu=this.onContextmenu:X.onContextmenu=this.createTwoChains("onContextmenu"),this.isClickToHide()||this.isClickToShow()?(X.onClick=this.onClick,X.onMousedown=this.onMousedown,X[supportsPassive?"onTouchstartPassive":"onTouchstart"]=this.onTouchstart):(X.onClick=this.createTwoChains("onClick"),X.onMousedown=this.createTwoChains("onMousedown"),X[supportsPassive?"onTouchstartPassive":"onTouchstart"]=this.createTwoChains("onTouchstart")),this.isMouseEnterToShow()?(X.onMouseenter=this.onMouseenter,W&&(X.onMousemove=this.onMouseMove)):X.onMouseenter=this.createTwoChains("onMouseenter"),this.isMouseLeaveToHide()?X.onMouseleave=this.onMouseleave:X.onMouseleave=this.createTwoChains("onMouseleave"),this.isFocusToShow()||this.isBlurToHide()?(X.onFocus=this.onFocus,X.onBlur=this.onBlur):(X.onFocus=this.createTwoChains("onFocus"),X.onBlur=ne=>{ne&&(!ne.relatedTarget||!contains$2(ne.target,ne.relatedTarget))&&this.createTwoChains("onBlur")(ne)});const Q=classNames(U&&U.props&&U.props.class,H.class);Q&&(X.class=Q);const Z=cloneElement(U,_extends$1(_extends$1({},X),{ref:"triggerRef"}),!0,!0),ee=createVNode(Portal,{key:"portal",getContainer:G&&(()=>G(this.getRootDomNode())),didUpdate:this.handlePortalUpdate,visible:this.$data.sPopupVisible},{default:this.getComponent});return createVNode(Fragment,null,[Z,ee])}});var __rest$L=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const getBuiltInPlacements=H=>{const K=H===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:K,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:K,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:K,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:K,adjustY:1}}}},SelectTrigger=defineComponent({name:"SelectTrigger",inheritAttrs:!1,props:{dropdownAlign:Object,visible:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},dropdownClassName:String,dropdownStyle:PropTypes.object,placement:String,empty:{type:Boolean,default:void 0},prefixCls:String,popupClassName:String,animation:String,transitionName:String,getPopupContainer:Function,dropdownRender:Function,containerWidth:Number,dropdownMatchSelectWidth:PropTypes.oneOfType([Number,Boolean]).def(!0),popupElement:PropTypes.any,direction:String,getTriggerDOMNode:Function,onPopupVisibleChange:Function,onPopupMouseEnter:Function,onPopupFocusin:Function,onPopupFocusout:Function},setup(H,K){let{slots:W,attrs:G,expose:U}=K;const X=computed(()=>{const{dropdownMatchSelectWidth:Z}=H;return getBuiltInPlacements(Z)}),Q=ref();return U({getPopupElement:()=>Q.value}),()=>{const Z=_extends$1(_extends$1({},H),G),{empty:ee=!1}=Z,ne=__rest$L(Z,["empty"]),{visible:te,dropdownAlign:oe,prefixCls:re,popupElement:ae,dropdownClassName:se,dropdownStyle:ce,direction:de="ltr",placement:le,dropdownMatchSelectWidth:fe,containerWidth:pe,dropdownRender:me,animation:ue,transitionName:ge,getPopupContainer:he,getTriggerDOMNode:ve,onPopupVisibleChange:ye,onPopupMouseEnter:be,onPopupFocusin:Se,onPopupFocusout:Ce}=ne,xe=`${re}-dropdown`;let Ne=ae;me&&(Ne=me({menuNode:ae,props:H}));const $e=ue?`${xe}-${ue}`:ge,Ee=_extends$1({minWidth:`${pe}px`},ce);return typeof fe=="number"?Ee.width=`${fe}px`:fe&&(Ee.width=`${pe}px`),createVNode(Trigger,_objectSpread2$1(_objectSpread2$1({},H),{},{showAction:ye?["click"]:[],hideAction:ye?["click"]:[],popupPlacement:le||(de==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:X.value,prefixCls:xe,popupTransitionName:$e,popupAlign:oe,popupVisible:te,getPopupContainer:he,popupClassName:classNames(se,{[`${xe}-empty`]:ee}),popupStyle:Ee,getTriggerDOMNode:ve,onPopupVisibleChange:ye}),{default:W.default,popup:()=>createVNode("div",{ref:Q,onMouseenter:be,onFocusin:Se,onFocusout:Ce},[Ne])})}}}),KeyCode={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,N:78,P:80,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,EQUALS:187,WIN_KEY:224},TransBtn=(H,K)=>{let{slots:W}=K;var G;const{class:U,customizeIcon:X,customizeIconProps:Q,onMousedown:Z,onClick:ee}=H;let ne;return typeof X=="function"?ne=X(Q):ne=isVNode(X)?cloneVNode(X):X,createVNode("span",{class:U,onMousedown:te=>{te.preventDefault(),Z&&Z(te)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:ee,"aria-hidden":!0},[ne!==void 0?ne:createVNode("span",{class:U.split(/\s+/).map(te=>`${te}-icon`)},[(G=W.default)===null||G===void 0?void 0:G.call(W)])])};TransBtn.inheritAttrs=!1;TransBtn.displayName="TransBtn";TransBtn.props={class:String,customizeIcon:PropTypes.any,customizeIconProps:PropTypes.any,onMousedown:Function,onClick:Function};var __rest$K=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const BaseInputInner=defineComponent({compatConfig:{MODE:3},props:{disabled:PropTypes.looseBool,type:PropTypes.string,value:PropTypes.any,tag:{type:String,default:"input"},size:PropTypes.string,onChange:Function,onInput:Function,onBlur:Function,onFocus:Function,onKeydown:Function,onCompositionstart:Function,onCompositionend:Function,onKeyup:Function,onPaste:Function,onMousedown:Function},emits:["change","input","blur","keydown","focus","compositionstart","compositionend","keyup","paste","mousedown"],setup(H,K){let{expose:W}=K;const G=shallowRef(null);return W({focus:()=>{G.value&&G.value.focus()},blur:()=>{G.value&&G.value.blur()},input:G,setSelectionRange:(ee,ne,te)=>{var oe;(oe=G.value)===null||oe===void 0||oe.setSelectionRange(ee,ne,te)},select:()=>{var ee;(ee=G.value)===null||ee===void 0||ee.select()},getSelectionStart:()=>{var ee;return(ee=G.value)===null||ee===void 0?void 0:ee.selectionStart},getSelectionEnd:()=>{var ee;return(ee=G.value)===null||ee===void 0?void 0:ee.selectionEnd},getScrollTop:()=>{var ee;return(ee=G.value)===null||ee===void 0?void 0:ee.scrollTop}}),()=>{const{tag:ee,value:ne}=H,te=__rest$K(H,["tag","value"]);return createVNode(ee,_objectSpread2$1(_objectSpread2$1({},te),{},{ref:G,value:ne}),null)}}});function getOffset$1(H){const K=H.getBoundingClientRect(),W=document.documentElement;return{left:K.left+(window.scrollX||W.scrollLeft)-(W.clientLeft||document.body.clientLeft||0),top:K.top+(window.scrollY||W.scrollTop)-(W.clientTop||document.body.clientTop||0)}}function styleObjectToString(H){return Object.keys(H).reduce((K,W)=>{const G=H[W];return typeof G>"u"||G===null||(K+=`${W}: ${H[W]};`),K},"")}var __rest$J=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const BaseInput$1=defineComponent({compatConfig:{MODE:3},inheritAttrs:!1,props:{disabled:PropTypes.looseBool,type:PropTypes.string,value:PropTypes.any,lazy:PropTypes.bool.def(!0),tag:{type:String,default:"input"},size:PropTypes.string,style:PropTypes.oneOfType([String,Object]),class:PropTypes.string},emits:["change","input","blur","keydown","focus","compositionstart","compositionend","keyup","paste","mousedown"],setup(H,K){let{emit:W,attrs:G,expose:U}=K;const X=shallowRef(null),Q=ref(),Z=ref(!1);watch([()=>H.value,Z],()=>{Z.value||(Q.value=H.value)},{immediate:!0});const ee=he=>{W("change",he)},ne=he=>{Z.value=!0,he.target.composing=!0,W("compositionstart",he)},te=he=>{Z.value=!1,he.target.composing=!1,W("compositionend",he);const ve=document.createEvent("HTMLEvents");ve.initEvent("input",!0,!0),he.target.dispatchEvent(ve),ee(he)},oe=he=>{if(Z.value&&H.lazy){Q.value=he.target.value;return}W("input",he)},re=he=>{W("blur",he)},ae=he=>{W("focus",he)},se=()=>{X.value&&X.value.focus()},ce=()=>{X.value&&X.value.blur()},de=he=>{W("keydown",he)},le=he=>{W("keyup",he)},fe=(he,ve,ye)=>{var be;(be=X.value)===null||be===void 0||be.setSelectionRange(he,ve,ye)},pe=()=>{var he;(he=X.value)===null||he===void 0||he.select()};U({focus:se,blur:ce,input:computed(()=>{var he;return(he=X.value)===null||he===void 0?void 0:he.input}),setSelectionRange:fe,select:pe,getSelectionStart:()=>{var he;return(he=X.value)===null||he===void 0?void 0:he.getSelectionStart()},getSelectionEnd:()=>{var he;return(he=X.value)===null||he===void 0?void 0:he.getSelectionEnd()},getScrollTop:()=>{var he;return(he=X.value)===null||he===void 0?void 0:he.getScrollTop()}});const me=he=>{W("mousedown",he)},ue=he=>{W("paste",he)},ge=computed(()=>H.style&&typeof H.style!="string"?styleObjectToString(H.style):H.style);return()=>{const{style:he,lazy:ve}=H,ye=__rest$J(H,["style","lazy"]);return createVNode(BaseInputInner,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},ye),G),{},{style:ge.value,onInput:oe,onChange:ee,onBlur:re,onFocus:ae,ref:X,value:Q.value,onCompositionstart:ne,onCompositionend:te,onKeyup:le,onKeydown:de,onPaste:ue,onMousedown:me}),null)}}}),inputProps$2={inputRef:PropTypes.any,prefixCls:String,id:String,inputElement:PropTypes.VueNode,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,editable:{type:Boolean,default:void 0},activeDescendantId:String,value:String,open:{type:Boolean,default:void 0},tabindex:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),attrs:PropTypes.object,onKeydown:{type:Function},onMousedown:{type:Function},onChange:{type:Function},onPaste:{type:Function},onCompositionstart:{type:Function},onCompositionend:{type:Function},onFocus:{type:Function},onBlur:{type:Function}},Input$1=defineComponent({compatConfig:{MODE:3},name:"SelectInput",inheritAttrs:!1,props:inputProps$2,setup(H){let K=null;const W=inject("VCSelectContainerEvent");return()=>{var G;const{prefixCls:U,id:X,inputElement:Q,disabled:Z,tabindex:ee,autofocus:ne,autocomplete:te,editable:oe,activeDescendantId:re,value:ae,onKeydown:se,onMousedown:ce,onChange:de,onPaste:le,onCompositionstart:fe,onCompositionend:pe,onFocus:me,onBlur:ue,open:ge,inputRef:he,attrs:ve}=H;let ye=Q||createVNode(BaseInput$1,null,null);const be=ye.props||{},{onKeydown:Se,onInput:Ce,onFocus:xe,onBlur:Ne,onMousedown:$e,onCompositionstart:Ee,onCompositionend:Te,style:Be}=be;return ye=cloneElement(ye,_extends$1(_extends$1(_extends$1(_extends$1(_extends$1({type:"search"},be),{id:X,ref:he,disabled:Z,tabindex:ee,lazy:!1,autocomplete:te||"off",autofocus:ne,class:classNames(`${U}-selection-search-input`,(G=ye?.props)===null||G===void 0?void 0:G.class),role:"combobox","aria-expanded":ge,"aria-haspopup":"listbox","aria-owns":`${X}_list`,"aria-autocomplete":"list","aria-controls":`${X}_list`,"aria-activedescendant":re}),ve),{value:oe?ae:"",readonly:!oe,unselectable:oe?null:"on",style:_extends$1(_extends$1({},Be),{opacity:oe?null:0}),onKeydown:Ae=>{se(Ae),Se&&Se(Ae)},onMousedown:Ae=>{ce(Ae),$e&&$e(Ae)},onInput:Ae=>{de(Ae),Ce&&Ce(Ae)},onCompositionstart(Ae){fe(Ae),Ee&&Ee(Ae)},onCompositionend(Ae){pe(Ae),Te&&Te(Ae)},onPaste:le,onFocus:function(){clearTimeout(K),xe&&xe(arguments.length<=0?void 0:arguments[0]),me&&me(arguments.length<=0?void 0:arguments[0]),W?.focus(arguments.length<=0?void 0:arguments[0])},onBlur:function(){for(var Ae=arguments.length,ze=new Array(Ae),We=0;We<Ae;We++)ze[We]=arguments[We];K=setTimeout(()=>{Ne&&Ne(ze[0]),ue&&ue(ze[0]),W?.blur(ze[0])},100)}}),ye.type==="textarea"?{}:{type:"search"}),!0,!0),ye}}}),attributes=`accept acceptcharset accesskey action allowfullscreen allowtransparency
alt async autocomplete autofocus autoplay capture cellpadding cellspacing challenge
charset checked classid classname colspan cols content contenteditable contextmenu
controls coords crossorigin data datetime default defer dir disabled download draggable
enctype form formaction formenctype formmethod formnovalidate formtarget frameborder
headers height hidden high href hreflang htmlfor for httpequiv icon id inputmode integrity
is keyparams keytype kind label lang list loop low manifest marginheight marginwidth max maxlength media
mediagroup method min minlength multiple muted name novalidate nonce open
optimum pattern placeholder poster preload radiogroup readonly rel required
reversed role rowspan rows sandbox scope scoped scrolling seamless selected
shape size sizes span spellcheck src srcdoc srclang srcset start step style
summary tabindex target title type usemap value width wmode wrap`,eventsName=`onCopy onCut onPaste onCompositionend onCompositionstart onCompositionupdate onKeydown
    onKeypress onKeyup onFocus onBlur onChange onInput onSubmit onClick onContextmenu onDoubleclick onDblclick
    onDrag onDragend onDragenter onDragexit onDragleave onDragover onDragstart onDrop onMousedown
    onMouseenter onMouseleave onMousemove onMouseout onMouseover onMouseup onSelect onTouchcancel
    onTouchend onTouchmove onTouchstart onTouchstartPassive onTouchmovePassive onScroll onWheel onAbort onCanplay onCanplaythrough
    onDurationchange onEmptied onEncrypted onEnded onError onLoadeddata onLoadedmetadata
    onLoadstart onPause onPlay onPlaying onProgress onRatechange onSeeked onSeeking onStalled onSuspend onTimeupdate onVolumechange onWaiting onLoad onError`,propList=`${attributes} ${eventsName}`.split(/[\s\n]+/),ariaPrefix="aria-",dataPrefix="data-";function match(H,K){return H.indexOf(K)===0}function pickAttrs(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,W;K===!1?W={aria:!0,data:!0,attr:!0}:K===!0?W={aria:!0}:W=_extends$1({},K);const G={};return Object.keys(H).forEach(U=>{(W.aria&&(U==="role"||match(U,ariaPrefix))||W.data&&match(U,dataPrefix)||W.attr&&(propList.includes(U)||propList.includes(U.toLowerCase())))&&(G[U]=H[U])}),G}const OverflowContextProviderKey=Symbol("OverflowContextProviderKey"),OverflowContextProvider=defineComponent({compatConfig:{MODE:3},name:"OverflowContextProvider",inheritAttrs:!1,props:{value:{type:Object}},setup(H,K){let{slots:W}=K;return provide(OverflowContextProviderKey,computed(()=>H.value)),()=>{var G;return(G=W.default)===null||G===void 0?void 0:G.call(W)}}}),useInjectOverflowContext=()=>inject(OverflowContextProviderKey,computed(()=>null));var __rest$I=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const UNDEFINED=void 0,Item$1=defineComponent({compatConfig:{MODE:3},name:"Item",props:{prefixCls:String,item:PropTypes.any,renderItem:Function,responsive:Boolean,itemKey:{type:[String,Number]},registerSize:Function,display:Boolean,order:Number,component:PropTypes.any,invalidate:Boolean},setup(H,K){let{slots:W,expose:G}=K;const U=computed(()=>H.responsive&&!H.display),X=ref();G({itemNodeRef:X});function Q(Z){H.registerSize(H.itemKey,Z)}return onUnmounted(()=>{Q(null)}),()=>{var Z;const{prefixCls:ee,invalidate:ne,item:te,renderItem:oe,responsive:re,registerSize:ae,itemKey:se,display:ce,order:de,component:le="div"}=H,fe=__rest$I(H,["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","display","order","component"]),pe=(Z=W.default)===null||Z===void 0?void 0:Z.call(W),me=oe&&te!==UNDEFINED?oe(te):pe;let ue;ne||(ue={opacity:U.value?0:1,height:U.value?0:UNDEFINED,overflowY:U.value?"hidden":UNDEFINED,order:re?de:UNDEFINED,pointerEvents:U.value?"none":UNDEFINED,position:U.value?"absolute":UNDEFINED});const ge={};return U.value&&(ge["aria-hidden"]=!0),createVNode(ResizeObserver$1,{disabled:!re,onResize:he=>{let{offsetWidth:ve}=he;Q(ve)}},{default:()=>createVNode(le,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({class:classNames(!ne&&ee),style:ue},ge),fe),{},{ref:X}),{default:()=>[me]})})}}});var __rest$H=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const RawItem=defineComponent({compatConfig:{MODE:3},name:"RawItem",inheritAttrs:!1,props:{component:PropTypes.any,title:PropTypes.any,id:String,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},role:String,tabindex:Number},setup(H,K){let{slots:W,attrs:G}=K;const U=useInjectOverflowContext();return()=>{var X;if(!U.value){const{component:oe="div"}=H,re=__rest$H(H,["component"]);return createVNode(oe,_objectSpread2$1(_objectSpread2$1({},re),G),{default:()=>[(X=W.default)===null||X===void 0?void 0:X.call(W)]})}const Q=U.value,{className:Z}=Q,ee=__rest$H(Q,["className"]),{class:ne}=G,te=__rest$H(G,["class"]);return createVNode(OverflowContextProvider,{value:null},{default:()=>[createVNode(Item$1,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({class:classNames(Z,ne)},ee),te),H),W)]})}}});var __rest$G=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const RESPONSIVE="responsive",INVALIDATE="invalidate";function defaultRenderRest(H){return`+ ${H.length} ...`}const overflowProps=()=>({id:String,prefixCls:String,data:Array,itemKey:[String,Number,Function],itemWidth:{type:Number,default:10},renderItem:Function,renderRawItem:Function,maxCount:[Number,String],renderRest:Function,renderRawRest:Function,suffix:PropTypes.any,component:String,itemComponent:PropTypes.any,onVisibleChange:Function,ssr:String,onMousedown:Function,role:String}),Overflow=defineComponent({name:"Overflow",inheritAttrs:!1,props:overflowProps(),emits:["visibleChange"],setup(H,K){let{attrs:W,emit:G,slots:U}=K;const X=computed(()=>H.ssr==="full"),Q=shallowRef(null),Z=computed(()=>Q.value||0),ee=shallowRef(new Map),ne=shallowRef(0),te=shallowRef(0),oe=shallowRef(0),re=shallowRef(null),ae=shallowRef(null),se=computed(()=>ae.value===null&&X.value?Number.MAX_SAFE_INTEGER:ae.value||0),ce=shallowRef(!1),de=computed(()=>`${H.prefixCls}-item`),le=computed(()=>Math.max(ne.value,te.value)),fe=computed(()=>!!(H.data.length&&H.maxCount===RESPONSIVE)),pe=computed(()=>H.maxCount===INVALIDATE),me=computed(()=>fe.value||typeof H.maxCount=="number"&&H.data.length>H.maxCount),ue=computed(()=>{let $e=H.data;return fe.value?Q.value===null&&X.value?$e=H.data:$e=H.data.slice(0,Math.min(H.data.length,Z.value/H.itemWidth)):typeof H.maxCount=="number"&&($e=H.data.slice(0,H.maxCount)),$e}),ge=computed(()=>fe.value?H.data.slice(se.value+1):H.data.slice(ue.value.length)),he=($e,Ee)=>{var Te;return typeof H.itemKey=="function"?H.itemKey($e):(Te=H.itemKey&&$e?.[H.itemKey])!==null&&Te!==void 0?Te:Ee},ve=computed(()=>H.renderItem||($e=>$e)),ye=($e,Ee)=>{ae.value=$e,Ee||(ce.value=$e<H.data.length-1,G("visibleChange",$e))},be=($e,Ee)=>{Q.value=Ee.clientWidth},Se=($e,Ee)=>{const Te=new Map(ee.value);Ee===null?Te.delete($e):Te.set($e,Ee),ee.value=Te},Ce=($e,Ee)=>{ne.value=te.value,te.value=Ee},xe=($e,Ee)=>{oe.value=Ee},Ne=$e=>ee.value.get(he(ue.value[$e],$e));return watch([Z,ee,te,oe,()=>H.itemKey,ue],()=>{if(Z.value&&le.value&&ue.value){let $e=oe.value;const Ee=ue.value.length,Te=Ee-1;if(!Ee){ye(0),re.value=null;return}for(let Be=0;Be<Ee;Be+=1){const Ae=Ne(Be);if(Ae===void 0){ye(Be-1,!0);break}if($e+=Ae,Te===0&&$e<=Z.value||Be===Te-1&&$e+Ne(Te)<=Z.value){ye(Te),re.value=null;break}else if($e+le.value>Z.value){ye(Be-1),re.value=$e-Ae-oe.value+te.value;break}}H.suffix&&Ne(0)+oe.value>Z.value&&(re.value=null)}}),()=>{const $e=ce.value&&!!ge.value.length,{itemComponent:Ee,renderRawItem:Te,renderRawRest:Be,renderRest:Ae,prefixCls:ze="rc-overflow",suffix:We,component:Le="div",id:Ze,onMousedown:Ye}=H,{class:Re,style:Ke}=W,we=__rest$G(W,["class","style"]);let _e={};re.value!==null&&fe.value&&(_e={position:"absolute",left:`${re.value}px`,top:0});const Ve={prefixCls:de.value,responsive:fe.value,component:Ee,invalidate:pe.value},je=Te?(Ue,He)=>{const Me=he(Ue,He);return createVNode(OverflowContextProvider,{key:Me,value:_extends$1(_extends$1({},Ve),{order:He,item:Ue,itemKey:Me,registerSize:Se,display:He<=se.value})},{default:()=>[Te(Ue,He)]})}:(Ue,He)=>{const Me=he(Ue,He);return createVNode(Item$1,_objectSpread2$1(_objectSpread2$1({},Ve),{},{order:He,key:Me,item:Ue,renderItem:ve.value,itemKey:Me,registerSize:Se,display:He<=se.value}),null)};let qe=()=>null;const Pe={order:$e?se.value:Number.MAX_SAFE_INTEGER,className:`${de.value} ${de.value}-rest`,registerSize:Ce,display:$e};if(Be)Be&&(qe=()=>createVNode(OverflowContextProvider,{value:_extends$1(_extends$1({},Ve),Pe)},{default:()=>[Be(ge.value)]}));else{const Ue=Ae||defaultRenderRest;qe=()=>createVNode(Item$1,_objectSpread2$1(_objectSpread2$1({},Ve),Pe),{default:()=>typeof Ue=="function"?Ue(ge.value):Ue})}const ke=()=>{var Ue;return createVNode(Le,_objectSpread2$1({id:Ze,class:classNames(!pe.value&&ze,Re),style:Ke,onMousedown:Ye,role:H.role},we),{default:()=>[ue.value.map(je),me.value?qe():null,We&&createVNode(Item$1,_objectSpread2$1(_objectSpread2$1({},Ve),{},{order:se.value,class:`${de.value}-suffix`,registerSize:xe,display:!0,style:_e}),{default:()=>We}),(Ue=U.default)===null||Ue===void 0?void 0:Ue.call(U)]})};return createVNode(ResizeObserver$1,{disabled:!fe.value,onResize:be},{default:ke})}}});Overflow.Item=RawItem;Overflow.RESPONSIVE=RESPONSIVE;Overflow.INVALIDATE=INVALIDATE;const TreeSelectLegacyContextPropsKey=Symbol("TreeSelectLegacyContextPropsKey");function useInjectLegacySelectContext(){return inject(TreeSelectLegacyContextPropsKey,{})}const props$1={id:String,prefixCls:String,values:PropTypes.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:PropTypes.any,placeholder:PropTypes.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),compositionStatus:Boolean,removeIcon:PropTypes.any,choiceTransitionName:String,maxTagCount:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),maxTagTextLength:Number,maxTagPlaceholder:PropTypes.any.def(()=>H=>`+ ${H.length} ...`),tagRender:Function,onToggleOpen:{type:Function},onRemove:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},onPreventMouseDown=H=>{H.preventDefault(),H.stopPropagation()},SelectSelector=defineComponent({name:"MultipleSelectSelector",inheritAttrs:!1,props:props$1,setup(H){const K=shallowRef(),W=shallowRef(0),G=shallowRef(!1),U=useInjectLegacySelectContext(),X=computed(()=>`${H.prefixCls}-selection`),Q=computed(()=>H.open||H.mode==="tags"?H.searchValue:""),Z=computed(()=>H.mode==="tags"||H.showSearch&&(H.open||G.value)),ee=ref("");watchEffect(()=>{ee.value=Q.value}),onMounted(()=>{watch(ee,()=>{W.value=K.value.scrollWidth},{flush:"post",immediate:!0})});function ne(se,ce,de,le,fe){return createVNode("span",{class:classNames(`${X.value}-item`,{[`${X.value}-item-disabled`]:de}),title:typeof se=="string"||typeof se=="number"?se.toString():void 0},[createVNode("span",{class:`${X.value}-item-content`},[ce]),le&&createVNode(TransBtn,{class:`${X.value}-item-remove`,onMousedown:onPreventMouseDown,onClick:fe,customizeIcon:H.removeIcon},{default:()=>[createTextVNode("")]})])}function te(se,ce,de,le,fe,pe){var me;const ue=he=>{onPreventMouseDown(he),H.onToggleOpen(!open)};let ge=pe;return U.keyEntities&&(ge=((me=U.keyEntities[se])===null||me===void 0?void 0:me.node)||{}),createVNode("span",{key:se,onMousedown:ue},[H.tagRender({label:ce,value:se,disabled:de,closable:le,onClose:fe,option:ge})])}function oe(se){const{disabled:ce,label:de,value:le,option:fe}=se,pe=!H.disabled&&!ce;let me=de;if(typeof H.maxTagTextLength=="number"&&(typeof de=="string"||typeof de=="number")){const ge=String(me);ge.length>H.maxTagTextLength&&(me=`${ge.slice(0,H.maxTagTextLength)}...`)}const ue=ge=>{var he;ge&&ge.stopPropagation(),(he=H.onRemove)===null||he===void 0||he.call(H,se)};return typeof H.tagRender=="function"?te(le,me,ce,pe,ue,fe):ne(de,me,ce,pe,ue)}function re(se){const{maxTagPlaceholder:ce=le=>`+ ${le.length} ...`}=H,de=typeof ce=="function"?ce(se):ce;return ne(de,de,!1)}const ae=se=>{const ce=se.target.composing;ee.value=se.target.value,ce||H.onInputChange(se)};return()=>{const{id:se,prefixCls:ce,values:de,open:le,inputRef:fe,placeholder:pe,disabled:me,autofocus:ue,autocomplete:ge,activeDescendantId:he,tabindex:ve,compositionStatus:ye,onInputPaste:be,onInputKeyDown:Se,onInputMouseDown:Ce,onInputCompositionStart:xe,onInputCompositionEnd:Ne}=H,$e=createVNode("div",{class:`${X.value}-search`,style:{width:W.value+"px"},key:"input"},[createVNode(Input$1,{inputRef:fe,open:le,prefixCls:ce,id:se,inputElement:null,disabled:me,autofocus:ue,autocomplete:ge,editable:Z.value,activeDescendantId:he,value:ee.value,onKeydown:Se,onMousedown:Ce,onChange:ae,onPaste:be,onCompositionstart:xe,onCompositionend:Ne,tabindex:ve,attrs:pickAttrs(H,!0),onFocus:()=>G.value=!0,onBlur:()=>G.value=!1},null),createVNode("span",{ref:K,class:`${X.value}-search-mirror`,"aria-hidden":!0},[ee.value,createTextVNode("")])]),Ee=createVNode(Overflow,{prefixCls:`${X.value}-overflow`,data:de,renderItem:oe,renderRest:re,suffix:$e,itemKey:"key",maxCount:H.maxTagCount,key:"overflow"},null);return createVNode(Fragment,null,[Ee,!de.length&&!Q.value&&!ye&&createVNode("span",{class:`${X.value}-placeholder`},[pe])])}}}),props={inputElement:PropTypes.any,id:String,prefixCls:String,values:PropTypes.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:PropTypes.any,placeholder:PropTypes.any,compositionStatus:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),activeValue:String,backfill:{type:Boolean,default:void 0},optionLabelRender:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},SingleSelector=defineComponent({name:"SingleSelector",setup(H){const K=shallowRef(!1),W=computed(()=>H.mode==="combobox"),G=computed(()=>W.value||H.showSearch),U=computed(()=>{let te=H.searchValue||"";return W.value&&H.activeValue&&!K.value&&(te=H.activeValue),te}),X=useInjectLegacySelectContext();watch([W,()=>H.activeValue],()=>{W.value&&(K.value=!1)},{immediate:!0});const Q=computed(()=>H.mode!=="combobox"&&!H.open&&!H.showSearch?!1:!!U.value||H.compositionStatus),Z=computed(()=>{const te=H.values[0];return te&&(typeof te.label=="string"||typeof te.label=="number")?te.label.toString():void 0}),ee=()=>{if(H.values[0])return null;const te=Q.value?{visibility:"hidden"}:void 0;return createVNode("span",{class:`${H.prefixCls}-selection-placeholder`,style:te},[H.placeholder])},ne=te=>{te.target.composing||(K.value=!0,H.onInputChange(te))};return()=>{var te,oe,re,ae;const{inputElement:se,prefixCls:ce,id:de,values:le,inputRef:fe,disabled:pe,autofocus:me,autocomplete:ue,activeDescendantId:ge,open:he,tabindex:ve,optionLabelRender:ye,onInputKeyDown:be,onInputMouseDown:Se,onInputPaste:Ce,onInputCompositionStart:xe,onInputCompositionEnd:Ne}=H,$e=le[0];let Ee=null;if($e&&X.customSlots){const Te=(te=$e.key)!==null&&te!==void 0?te:$e.value,Be=((oe=X.keyEntities[Te])===null||oe===void 0?void 0:oe.node)||{};Ee=X.customSlots[(re=Be.slots)===null||re===void 0?void 0:re.title]||X.customSlots.title||$e.label,typeof Ee=="function"&&(Ee=Ee(Be))}else Ee=ye&&$e?ye($e.option):$e?.label;return createVNode(Fragment,null,[createVNode("span",{class:`${ce}-selection-search`},[createVNode(Input$1,{inputRef:fe,prefixCls:ce,id:de,open:he,inputElement:se,disabled:pe,autofocus:me,autocomplete:ue,editable:G.value,activeDescendantId:ge,value:U.value,onKeydown:be,onMousedown:Se,onChange:ne,onPaste:Ce,onCompositionstart:xe,onCompositionend:Ne,tabindex:ve,attrs:pickAttrs(H,!0)},null)]),!W.value&&$e&&!Q.value&&createVNode("span",{class:`${ce}-selection-item`,title:Z.value},[createVNode(Fragment,{key:(ae=$e.key)!==null&&ae!==void 0?ae:$e.value},[Ee])]),ee()])}}});SingleSelector.props=props;SingleSelector.inheritAttrs=!1;function isValidateOpenKey(H){return![KeyCode.ESC,KeyCode.SHIFT,KeyCode.BACKSPACE,KeyCode.TAB,KeyCode.WIN_KEY,KeyCode.ALT,KeyCode.META,KeyCode.WIN_KEY_RIGHT,KeyCode.CTRL,KeyCode.SEMICOLON,KeyCode.EQUALS,KeyCode.CAPS_LOCK,KeyCode.CONTEXT_MENU,KeyCode.F1,KeyCode.F2,KeyCode.F3,KeyCode.F4,KeyCode.F5,KeyCode.F6,KeyCode.F7,KeyCode.F8,KeyCode.F9,KeyCode.F10,KeyCode.F11,KeyCode.F12].includes(H)}function useLock(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,K=null,W;onBeforeUnmount(()=>{clearTimeout(W)});function G(U){(U||K===null)&&(K=U),clearTimeout(W),W=setTimeout(()=>{K=null},H)}return[()=>K,G]}function createRef(){const H=K=>{H.current=K};return H}const Selector=defineComponent({name:"Selector",inheritAttrs:!1,props:{id:String,prefixCls:String,showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},values:PropTypes.array,multiple:{type:Boolean,default:void 0},mode:String,searchValue:String,activeValue:String,inputElement:PropTypes.any,autofocus:{type:Boolean,default:void 0},activeDescendantId:String,tabindex:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),disabled:{type:Boolean,default:void 0},placeholder:PropTypes.any,removeIcon:PropTypes.any,maxTagCount:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),maxTagTextLength:Number,maxTagPlaceholder:PropTypes.any,tagRender:Function,optionLabelRender:Function,tokenWithEnter:{type:Boolean,default:void 0},choiceTransitionName:String,onToggleOpen:{type:Function},onSearch:Function,onSearchSubmit:Function,onRemove:Function,onInputKeyDown:{type:Function},domRef:Function},setup(H,K){let{expose:W}=K;const G=createRef(),U=ref(!1),[X,Q]=useLock(0),Z=le=>{const{which:fe}=le;(fe===KeyCode.UP||fe===KeyCode.DOWN)&&le.preventDefault(),H.onInputKeyDown&&H.onInputKeyDown(le),fe===KeyCode.ENTER&&H.mode==="tags"&&!U.value&&!H.open&&H.onSearchSubmit(le.target.value),isValidateOpenKey(fe)&&H.onToggleOpen(!0)},ee=()=>{Q(!0)};let ne=null;const te=le=>{H.onSearch(le,!0,U.value)!==!1&&H.onToggleOpen(!0)},oe=()=>{U.value=!0},re=le=>{U.value=!1,H.mode!=="combobox"&&te(le.target.value)},ae=le=>{let{target:{value:fe}}=le;if(H.tokenWithEnter&&ne&&/[\r\n]/.test(ne)){const pe=ne.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");fe=fe.replace(pe,ne)}ne=null,te(fe)},se=le=>{const{clipboardData:fe}=le;ne=fe.getData("text")},ce=le=>{let{target:fe}=le;fe!==G.current&&(document.body.style.msTouchAction!==void 0?setTimeout(()=>{G.current.focus()}):G.current.focus())},de=le=>{const fe=X();le.target!==G.current&&!fe&&le.preventDefault(),(H.mode!=="combobox"&&(!H.showSearch||!fe)||!H.open)&&(H.open&&H.onSearch("",!0,!1),H.onToggleOpen())};return W({focus:()=>{G.current.focus()},blur:()=>{G.current.blur()}}),()=>{const{prefixCls:le,domRef:fe,mode:pe}=H,me={inputRef:G,onInputKeyDown:Z,onInputMouseDown:ee,onInputChange:ae,onInputPaste:se,compositionStatus:U.value,onInputCompositionStart:oe,onInputCompositionEnd:re},ue=pe==="multiple"||pe==="tags"?createVNode(SelectSelector,_objectSpread2$1(_objectSpread2$1({},H),me),null):createVNode(SingleSelector,_objectSpread2$1(_objectSpread2$1({},H),me),null);return createVNode("div",{ref:fe,class:`${le}-selector`,onClick:ce,onMousedown:de},[ue])}}});function useSelectTriggerControl(H,K,W){function G(U){var X,Q,Z;let ee=U.target;ee.shadowRoot&&U.composed&&(ee=U.composedPath()[0]||ee);const ne=[(X=H[0])===null||X===void 0?void 0:X.value,(Z=(Q=H[1])===null||Q===void 0?void 0:Q.value)===null||Z===void 0?void 0:Z.getPopupElement()];K.value&&ne.every(te=>te&&!te.contains(ee)&&te!==ee)&&W(!1)}onMounted(()=>{window.addEventListener("mousedown",G)}),onBeforeUnmount(()=>{window.removeEventListener("mousedown",G)})}function useDelayReset(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;const K=shallowRef(!1);let W;const G=()=>{clearTimeout(W)};return onMounted(()=>{G()}),[K,(X,Q)=>{G(),W=setTimeout(()=>{K.value=X,Q&&Q()},H)},G]}const BaseSelectContextKey=Symbol("BaseSelectContextKey");function useProvideBaseSelectProps(H){return provide(BaseSelectContextKey,H)}function useBaseProps(){return inject(BaseSelectContextKey,{})}const isMobile=()=>{if(typeof navigator>"u"||typeof window>"u")return!1;const H=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(H)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(H?.substring(0,4))};function toReactive(H){if(!isRef(H))return reactive(H);const K=new Proxy({},{get(W,G,U){return Reflect.get(H.value,G,U)},set(W,G,U){return H.value[G]=U,!0},deleteProperty(W,G){return Reflect.deleteProperty(H.value,G)},has(W,G){return Reflect.has(H.value,G)},ownKeys(){return Object.keys(H.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return reactive(K)}var __rest$F=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const DEFAULT_OMIT_PROPS=["value","onChange","removeIcon","placeholder","autofocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabindex","OptionList","notFoundContent"],baseSelectPrivateProps=()=>({prefixCls:String,id:String,omitDomProps:Array,displayValues:Array,onDisplayValuesChange:Function,activeValue:String,activeDescendantId:String,onActiveValueChange:Function,searchValue:String,onSearch:Function,onSearchSplit:Function,maxLength:Number,OptionList:PropTypes.any,emptyOptions:Boolean}),baseSelectPropsWithoutPrivate=()=>({showSearch:{type:Boolean,default:void 0},tagRender:{type:Function},optionLabelRender:{type:Function},direction:{type:String},tabindex:Number,autofocus:Boolean,notFoundContent:PropTypes.any,placeholder:PropTypes.any,onClear:Function,choiceTransitionName:String,mode:String,disabled:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},onDropdownVisibleChange:{type:Function},getInputElement:{type:Function},getRawInputElement:{type:Function},maxTagTextLength:Number,maxTagCount:{type:[String,Number]},maxTagPlaceholder:PropTypes.any,tokenSeparators:{type:Array},allowClear:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:void 0},inputIcon:PropTypes.any,clearIcon:PropTypes.any,removeIcon:PropTypes.any,animation:String,transitionName:String,dropdownStyle:{type:Object},dropdownClassName:String,dropdownMatchSelectWidth:{type:[Boolean,Number],default:void 0},dropdownRender:{type:Function},dropdownAlign:Object,placement:{type:String},getPopupContainer:{type:Function},showAction:{type:Array},onBlur:{type:Function},onFocus:{type:Function},onKeyup:Function,onKeydown:Function,onMousedown:Function,onPopupScroll:Function,onInputKeyDown:Function,onMouseenter:Function,onMouseleave:Function,onClick:Function}),baseSelectProps=()=>_extends$1(_extends$1({},baseSelectPrivateProps()),baseSelectPropsWithoutPrivate());function isMultiple(H){return H==="tags"||H==="multiple"}const BaseSelect=defineComponent({compatConfig:{MODE:3},name:"BaseSelect",inheritAttrs:!1,props:initDefaultProps(baseSelectProps(),{showAction:[],notFoundContent:"Not Found"}),setup(H,K){let{attrs:W,expose:G,slots:U}=K;const X=computed(()=>isMultiple(H.mode)),Q=computed(()=>H.showSearch!==void 0?H.showSearch:X.value||H.mode==="combobox"),Z=shallowRef(!1);onMounted(()=>{Z.value=isMobile()});const ee=useInjectLegacySelectContext(),ne=shallowRef(null),te=createRef(),oe=shallowRef(null),re=shallowRef(null),ae=shallowRef(null),se=ref(!1),[ce,de,le]=useDelayReset();G({focus:()=>{var je;(je=re.value)===null||je===void 0||je.focus()},blur:()=>{var je;(je=re.value)===null||je===void 0||je.blur()},scrollTo:je=>{var qe;return(qe=ae.value)===null||qe===void 0?void 0:qe.scrollTo(je)}});const me=computed(()=>{var je;if(H.mode!=="combobox")return H.searchValue;const qe=(je=H.displayValues[0])===null||je===void 0?void 0:je.value;return typeof qe=="string"||typeof qe=="number"?String(qe):""}),ue=H.open!==void 0?H.open:H.defaultOpen,ge=shallowRef(ue),he=shallowRef(ue),ve=je=>{ge.value=H.open!==void 0?H.open:je,he.value=ge.value};watch(()=>H.open,()=>{ve(H.open)});const ye=computed(()=>!H.notFoundContent&&H.emptyOptions);watchEffect(()=>{he.value=ge.value,(H.disabled||ye.value&&he.value&&H.mode==="combobox")&&(he.value=!1)});const be=computed(()=>ye.value?!1:he.value),Se=je=>{const qe=je!==void 0?je:!he.value;he.value!==qe&&!H.disabled&&(ve(qe),H.onDropdownVisibleChange&&H.onDropdownVisibleChange(qe),!qe&&Le.value&&(Le.value=!1,de(!1,()=>{ze.value=!1,se.value=!1})))},Ce=computed(()=>(H.tokenSeparators||[]).some(je=>[`
`,`\r
`].includes(je))),xe=(je,qe,Pe)=>{var ke,Ue;let He=!0,Me=je;(ke=H.onActiveValueChange)===null||ke===void 0||ke.call(H,null);const Je=Pe?null:getSeparatedContent(je,H.tokenSeparators);return H.mode!=="combobox"&&Je&&(Me="",(Ue=H.onSearchSplit)===null||Ue===void 0||Ue.call(H,Je),Se(!1),He=!1),H.onSearch&&me.value!==Me&&H.onSearch(Me,{source:qe?"typing":"effect"}),He},Ne=je=>{var qe;!je||!je.trim()||(qe=H.onSearch)===null||qe===void 0||qe.call(H,je,{source:"submit"})};watch(he,()=>{!he.value&&!X.value&&H.mode!=="combobox"&&xe("",!1,!1)},{immediate:!0,flush:"post"}),watch(()=>H.disabled,()=>{ge.value&&H.disabled&&ve(!1),H.disabled&&!se.value&&de(!1)},{immediate:!0});const[$e,Ee]=useLock(),Te=function(je){var qe;const Pe=$e(),{which:ke}=je;if(ke===KeyCode.ENTER&&(H.mode!=="combobox"&&je.preventDefault(),he.value||Se(!0)),Ee(!!me.value),ke===KeyCode.BACKSPACE&&!Pe&&X.value&&!me.value&&H.displayValues.length){const Je=[...H.displayValues];let Fe=null;for(let Oe=Je.length-1;Oe>=0;Oe-=1){const Qe=Je[Oe];if(!Qe.disabled){Je.splice(Oe,1),Fe=Qe;break}}Fe&&H.onDisplayValuesChange(Je,{type:"remove",values:[Fe]})}for(var Ue=arguments.length,He=new Array(Ue>1?Ue-1:0),Me=1;Me<Ue;Me++)He[Me-1]=arguments[Me];he.value&&ae.value&&ae.value.onKeydown(je,...He),(qe=H.onKeydown)===null||qe===void 0||qe.call(H,je,...He)},Be=function(je){for(var qe=arguments.length,Pe=new Array(qe>1?qe-1:0),ke=1;ke<qe;ke++)Pe[ke-1]=arguments[ke];he.value&&ae.value&&ae.value.onKeyup(je,...Pe),H.onKeyup&&H.onKeyup(je,...Pe)},Ae=je=>{const qe=H.displayValues.filter(Pe=>Pe!==je);H.onDisplayValuesChange(qe,{type:"remove",values:[je]})},ze=shallowRef(!1),We=function(){de(!0),H.disabled||(H.onFocus&&!ze.value&&H.onFocus(...arguments),H.showAction&&H.showAction.includes("focus")&&Se(!0)),ze.value=!0},Le=ref(!1),Ze=function(){if(Le.value||(se.value=!0,de(!1,()=>{ze.value=!1,se.value=!1,Se(!1)}),H.disabled))return;const je=me.value;je&&(H.mode==="tags"?H.onSearch(je,{source:"submit"}):H.mode==="multiple"&&H.onSearch("",{source:"blur"})),H.onBlur&&H.onBlur(...arguments)},Ye=()=>{Le.value=!0},Re=()=>{Le.value=!1};provide("VCSelectContainerEvent",{focus:We,blur:Ze});const Ke=[];onMounted(()=>{Ke.forEach(je=>clearTimeout(je)),Ke.splice(0,Ke.length)}),onBeforeUnmount(()=>{Ke.forEach(je=>clearTimeout(je)),Ke.splice(0,Ke.length)});const we=function(je){var qe,Pe;const{target:ke}=je,Ue=(qe=oe.value)===null||qe===void 0?void 0:qe.getPopupElement();if(Ue&&Ue.contains(ke)){const Fe=setTimeout(()=>{var Oe;const Qe=Ke.indexOf(Fe);Qe!==-1&&Ke.splice(Qe,1),le(),!Z.value&&!Ue.contains(document.activeElement)&&((Oe=re.value)===null||Oe===void 0||Oe.focus())});Ke.push(Fe)}for(var He=arguments.length,Me=new Array(He>1?He-1:0),Je=1;Je<He;Je++)Me[Je-1]=arguments[Je];(Pe=H.onMousedown)===null||Pe===void 0||Pe.call(H,je,...Me)},_e=shallowRef(null),Ve=()=>{};return onMounted(()=>{watch(be,()=>{var je;if(be.value){const qe=Math.ceil((je=ne.value)===null||je===void 0?void 0:je.offsetWidth);_e.value!==qe&&!Number.isNaN(qe)&&(_e.value=qe)}},{immediate:!0,flush:"post"})}),useSelectTriggerControl([ne,oe],be,Se),useProvideBaseSelectProps(toReactive(_extends$1(_extends$1({},toRefs(H)),{open:he,triggerOpen:be,showSearch:Q,multiple:X,toggleOpen:Se}))),()=>{const je=_extends$1(_extends$1({},H),W),{prefixCls:qe,id:Pe,open:ke,defaultOpen:Ue,mode:He,showSearch:Me,searchValue:Je,onSearch:Fe,allowClear:Oe,clearIcon:Qe,showArrow:Ie,inputIcon:De,disabled:ot,loading:st,getInputElement:et,getPopupContainer:nt,placement:it,animation:ct,transitionName:pt,dropdownStyle:ht,dropdownClassName:Ge,dropdownMatchSelectWidth:Xe,dropdownRender:rt,dropdownAlign:at,showAction:lt,direction:dt,tokenSeparators:ft,tagRender:gt,optionLabelRender:ut,onPopupScroll:mt,onDropdownVisibleChange:vt,onFocus:yt,onBlur:bt,onKeyup:St,onKeydown:$t,onMousedown:xt,onClear:Ct,omitDomProps:wt,getRawInputElement:_t,displayValues:Et,onDisplayValuesChange:Tt,emptyOptions:At,activeDescendantId:It,activeValue:Pt,OptionList:Ft}=je,zt=__rest$F(je,["prefixCls","id","open","defaultOpen","mode","showSearch","searchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","disabled","loading","getInputElement","getPopupContainer","placement","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","optionLabelRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyup","onKeydown","onMousedown","onClear","omitDomProps","getRawInputElement","displayValues","onDisplayValuesChange","emptyOptions","activeDescendantId","activeValue","OptionList"]),Rt=He==="combobox"&&et&&et()||null,Nt=typeof _t=="function"&&_t(),Mt=_extends$1({},zt);let Bt;Nt&&(Bt=kt=>{Se(kt)}),DEFAULT_OMIT_PROPS.forEach(kt=>{delete Mt[kt]}),wt?.forEach(kt=>{delete Mt[kt]});const Dt=Ie!==void 0?Ie:st||!X.value&&He!=="combobox";let Vt;Dt&&(Vt=createVNode(TransBtn,{class:classNames(`${qe}-arrow`,{[`${qe}-arrow-loading`]:st}),customizeIcon:De,customizeIconProps:{loading:st,searchValue:me.value,open:he.value,focused:ce.value,showSearch:Q.value}},null));let Lt;const Ot=()=>{Ct?.(),Tt([],{type:"clear",values:Et}),xe("",!1,!1)};!ot&&Oe&&(Et.length||me.value)&&(Lt=createVNode(TransBtn,{class:`${qe}-clear`,onMousedown:Ot,customizeIcon:Qe},{default:()=>[createTextVNode("")]}));const Gt=createVNode(Ft,{ref:ae},_extends$1(_extends$1({},ee.customSlots),{option:U.option})),Ut=classNames(qe,W.class,{[`${qe}-focused`]:ce.value,[`${qe}-multiple`]:X.value,[`${qe}-single`]:!X.value,[`${qe}-allow-clear`]:Oe,[`${qe}-show-arrow`]:Dt,[`${qe}-disabled`]:ot,[`${qe}-loading`]:st,[`${qe}-open`]:he.value,[`${qe}-customize-input`]:Rt,[`${qe}-show-search`]:Q.value}),Ht=createVNode(SelectTrigger,{ref:oe,disabled:ot,prefixCls:qe,visible:be.value,popupElement:Gt,containerWidth:_e.value,animation:ct,transitionName:pt,dropdownStyle:ht,dropdownClassName:Ge,direction:dt,dropdownMatchSelectWidth:Xe,dropdownRender:rt,dropdownAlign:at,placement:it,getPopupContainer:nt,empty:At,getTriggerDOMNode:()=>te.current,onPopupVisibleChange:Bt,onPopupMouseEnter:Ve,onPopupFocusin:Ye,onPopupFocusout:Re},{default:()=>Nt?isValidElement(Nt)&&cloneElement(Nt,{ref:te},!1,!0):createVNode(Selector,_objectSpread2$1(_objectSpread2$1({},H),{},{domRef:te,prefixCls:qe,inputElement:Rt,ref:re,id:Pe,showSearch:Q.value,mode:He,activeDescendantId:It,tagRender:gt,optionLabelRender:ut,values:Et,open:he.value,onToggleOpen:Se,activeValue:Pt,searchValue:me.value,onSearch:xe,onSearchSubmit:Ne,onRemove:Ae,tokenWithEnter:Ce.value}),null)});let jt;return Nt?jt=Ht:jt=createVNode("div",_objectSpread2$1(_objectSpread2$1({},Mt),{},{class:Ut,ref:ne,onMousedown:we,onKeydown:Te,onKeyup:Be}),[ce.value&&!he.value&&createVNode("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},[`${Et.map(kt=>{let{label:Kt,value:qt}=kt;return["number","string"].includes(typeof Kt)?Kt:qt}).join(", ")}`]),Ht,Vt,Lt]),jt}}}),Filter=(H,K)=>{let{height:W,offset:G,prefixCls:U,onInnerResize:X}=H,{slots:Q}=K;var Z;let ee={},ne={display:"flex",flexDirection:"column"};return G!==void 0&&(ee={height:`${W}px`,position:"relative",overflow:"hidden"},ne=_extends$1(_extends$1({},ne),{transform:`translateY(${G}px)`,position:"absolute",left:0,right:0,top:0})),createVNode("div",{style:ee},[createVNode(ResizeObserver$1,{onResize:te=>{let{offsetHeight:oe}=te;oe&&X&&X()}},{default:()=>[createVNode("div",{style:ne,class:classNames({[`${U}-holder-inner`]:U})},[(Z=Q.default)===null||Z===void 0?void 0:Z.call(Q)])]})])};Filter.displayName="Filter";Filter.inheritAttrs=!1;Filter.props={prefixCls:String,height:Number,offset:Number,onInnerResize:Function};const Item=(H,K)=>{let{setRef:W}=H,{slots:G}=K;var U;const X=flattenChildren((U=G.default)===null||U===void 0?void 0:U.call(G));return X&&X.length?cloneVNode(X[0],{ref:W}):X};Item.props={setRef:{type:Function,default:()=>{}}};const MIN_SIZE=20;function getPageY(H){return"touches"in H?H.touches[0].pageY:H.pageY}const ScrollBar=defineComponent({compatConfig:{MODE:3},name:"ScrollBar",inheritAttrs:!1,props:{prefixCls:String,scrollTop:Number,scrollHeight:Number,height:Number,count:Number,onScroll:{type:Function},onStartMove:{type:Function},onStopMove:{type:Function}},setup(){return{moveRaf:null,scrollbarRef:createRef(),thumbRef:createRef(),visibleTimeout:null,state:reactive({dragging:!1,pageY:null,startTop:null,visible:!1})}},watch:{scrollTop:{handler(){this.delayHidden()},flush:"post"}},mounted(){var H,K;(H=this.scrollbarRef.current)===null||H===void 0||H.addEventListener("touchstart",this.onScrollbarTouchStart,supportsPassive?{passive:!1}:!1),(K=this.thumbRef.current)===null||K===void 0||K.addEventListener("touchstart",this.onMouseDown,supportsPassive?{passive:!1}:!1)},beforeUnmount(){this.removeEvents(),clearTimeout(this.visibleTimeout)},methods:{delayHidden(){clearTimeout(this.visibleTimeout),this.state.visible=!0,this.visibleTimeout=setTimeout(()=>{this.state.visible=!1},2e3)},onScrollbarTouchStart(H){H.preventDefault()},onContainerMouseDown(H){H.stopPropagation(),H.preventDefault()},patchEvents(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this.thumbRef.current.addEventListener("touchmove",this.onMouseMove,supportsPassive?{passive:!1}:!1),this.thumbRef.current.addEventListener("touchend",this.onMouseUp)},removeEvents(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.scrollbarRef.current.removeEventListener("touchstart",this.onScrollbarTouchStart,supportsPassive?{passive:!1}:!1),this.thumbRef.current&&(this.thumbRef.current.removeEventListener("touchstart",this.onMouseDown,supportsPassive?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchmove",this.onMouseMove,supportsPassive?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchend",this.onMouseUp)),wrapperRaf.cancel(this.moveRaf)},onMouseDown(H){const{onStartMove:K}=this.$props;_extends$1(this.state,{dragging:!0,pageY:getPageY(H),startTop:this.getTop()}),K(),this.patchEvents(),H.stopPropagation(),H.preventDefault()},onMouseMove(H){const{dragging:K,pageY:W,startTop:G}=this.state,{onScroll:U}=this.$props;if(wrapperRaf.cancel(this.moveRaf),K){const X=getPageY(H)-W,Q=G+X,Z=this.getEnableScrollRange(),ee=this.getEnableHeightRange(),ne=ee?Q/ee:0,te=Math.ceil(ne*Z);this.moveRaf=wrapperRaf(()=>{U(te)})}},onMouseUp(){const{onStopMove:H}=this.$props;this.state.dragging=!1,H(),this.removeEvents()},getSpinHeight(){const{height:H,scrollHeight:K}=this.$props;let W=H/K*100;return W=Math.max(W,MIN_SIZE),W=Math.min(W,H/2),Math.floor(W)},getEnableScrollRange(){const{scrollHeight:H,height:K}=this.$props;return H-K||0},getEnableHeightRange(){const{height:H}=this.$props,K=this.getSpinHeight();return H-K||0},getTop(){const{scrollTop:H}=this.$props,K=this.getEnableScrollRange(),W=this.getEnableHeightRange();return H===0||K===0?0:H/K*W},showScroll(){const{height:H,scrollHeight:K}=this.$props;return K>H}},render(){const{dragging:H,visible:K}=this.state,{prefixCls:W}=this.$props,G=this.getSpinHeight()+"px",U=this.getTop()+"px",X=this.showScroll(),Q=X&&K;return createVNode("div",{ref:this.scrollbarRef,class:classNames(`${W}-scrollbar`,{[`${W}-scrollbar-show`]:X}),style:{width:"8px",top:0,bottom:0,right:0,position:"absolute",display:Q?void 0:"none"},onMousedown:this.onContainerMouseDown,onMousemove:this.delayHidden},[createVNode("div",{ref:this.thumbRef,class:classNames(`${W}-scrollbar-thumb`,{[`${W}-scrollbar-thumb-moving`]:H}),style:{width:"100%",height:G,top:U,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:"99px",cursor:"pointer",userSelect:"none"},onMousedown:this.onMouseDown},null)])}});function useHeights(H,K,W,G){const U=new Map,X=new Map,Q=ref(Symbol("update"));watch(H,()=>{Q.value=Symbol("update")});let Z;function ee(){wrapperRaf.cancel(Z)}function ne(){ee(),Z=wrapperRaf(()=>{U.forEach((oe,re)=>{if(oe&&oe.offsetParent){const{offsetHeight:ae}=oe;X.get(re)!==ae&&(Q.value=Symbol("update"),X.set(re,oe.offsetHeight))}})})}function te(oe,re){const ae=K(oe);U.get(ae),re?(U.set(ae,re.$el||re),ne()):U.delete(ae)}return onUnmounted(()=>{ee()}),[te,ne,X,Q]}function useScrollTo(H,K,W,G,U,X,Q,Z){let ee;return ne=>{if(ne==null){Z();return}wrapperRaf.cancel(ee);const te=K.value,oe=G.itemHeight;if(typeof ne=="number")Q(ne);else if(ne&&typeof ne=="object"){let re;const{align:ae}=ne;"index"in ne?{index:re}=ne:re=te.findIndex(de=>U(de)===ne.key);const{offset:se=0}=ne,ce=(de,le)=>{if(de<0||!H.value)return;const fe=H.value.clientHeight;let pe=!1,me=le;if(fe){const ue=le||ae;let ge=0,he=0,ve=0;const ye=Math.min(te.length,re);for(let Ce=0;Ce<=ye;Ce+=1){const xe=U(te[Ce]);he=ge;const Ne=W.get(xe);ve=he+(Ne===void 0?oe:Ne),ge=ve,Ce===re&&Ne===void 0&&(pe=!0)}const be=H.value.scrollTop;let Se=null;switch(ue){case"top":Se=he-se;break;case"bottom":Se=ve-fe+se;break;default:{const Ce=be+fe;he<be?me="top":ve>Ce&&(me="bottom")}}Se!==null&&Se!==be&&Q(Se)}ee=wrapperRaf(()=>{pe&&X(),ce(de-1,me)},2)};ce(5)}}}const isFF=typeof navigator=="object"&&/Firefox/i.test(navigator.userAgent),useOriginScroll=(H,K)=>{let W=!1,G=null;function U(){clearTimeout(G),W=!0,G=setTimeout(()=>{W=!1},50)}return function(X){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const Z=X<0&&H.value||X>0&&K.value;return Q&&Z?(clearTimeout(G),W=!1):(!Z||W)&&U(),!W&&Z}};function useFrameWheel(H,K,W,G){let U=0,X=null,Q=null,Z=!1;const ee=useOriginScroll(K,W);function ne(oe){if(!H.value)return;wrapperRaf.cancel(X);const{deltaY:re}=oe;U+=re,Q=re,!ee(re)&&(isFF||oe.preventDefault(),X=wrapperRaf(()=>{G(U*(Z?10:1)),U=0}))}function te(oe){H.value&&(Z=oe.detail===Q)}return[ne,te]}const SMOOTH_PTG=14/15;function useMobileTouchMove(H,K,W){let G=!1,U=0,X=null,Q=null;const Z=()=>{X&&(X.removeEventListener("touchmove",ee),X.removeEventListener("touchend",ne))},ee=re=>{if(G){const ae=Math.ceil(re.touches[0].pageY);let se=U-ae;U=ae,W(se)&&re.preventDefault(),clearInterval(Q),Q=setInterval(()=>{se*=SMOOTH_PTG,(!W(se,!0)||Math.abs(se)<=.1)&&clearInterval(Q)},16)}},ne=()=>{G=!1,Z()},te=re=>{Z(),re.touches.length===1&&!G&&(G=!0,U=Math.ceil(re.touches[0].pageY),X=re.target,X.addEventListener("touchmove",ee,{passive:!1}),X.addEventListener("touchend",ne))},oe=()=>{};onMounted(()=>{document.addEventListener("touchmove",oe,{passive:!1}),watch(H,re=>{K.value.removeEventListener("touchstart",te),Z(),clearInterval(Q),re&&K.value.addEventListener("touchstart",te,{passive:!1})},{immediate:!0})}),onBeforeUnmount(()=>{document.removeEventListener("touchmove",oe)})}var __rest$E=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const EMPTY_DATA$1=[],ScrollStyle={overflowY:"auto",overflowAnchor:"none"};function renderChildren(H,K,W,G,U,X){let{getKey:Q}=X;return H.slice(K,W+1).map((Z,ee)=>{const ne=K+ee,te=U(Z,ne,{}),oe=Q(Z);return createVNode(Item,{key:oe,setRef:re=>G(Z,re)},{default:()=>[te]})})}const List$1=defineComponent({compatConfig:{MODE:3},name:"List",inheritAttrs:!1,props:{prefixCls:String,data:PropTypes.array,height:Number,itemHeight:Number,fullHeight:{type:Boolean,default:void 0},itemKey:{type:[String,Number,Function],required:!0},component:{type:[String,Object]},virtual:{type:Boolean,default:void 0},children:Function,onScroll:Function,onMousedown:Function,onMouseenter:Function,onVisibleChange:Function},setup(H,K){let{expose:W}=K;const G=computed(()=>{const{height:Ae,itemHeight:ze,virtual:We}=H;return!!(We!==!1&&Ae&&ze)}),U=computed(()=>{const{height:Ae,itemHeight:ze,data:We}=H;return G.value&&We&&ze*We.length>Ae}),X=reactive({scrollTop:0,scrollMoving:!1}),Q=computed(()=>H.data||EMPTY_DATA$1),Z=shallowRef([]);watch(Q,()=>{Z.value=toRaw(Q.value).slice()},{immediate:!0});const ee=shallowRef(Ae=>{});watch(()=>H.itemKey,Ae=>{typeof Ae=="function"?ee.value=Ae:ee.value=ze=>ze?.[Ae]},{immediate:!0});const ne=shallowRef(),te=shallowRef(),oe=shallowRef(),re=Ae=>ee.value(Ae),ae={getKey:re};function se(Ae){let ze;typeof Ae=="function"?ze=Ae(X.scrollTop):ze=Ae;const We=ge(ze);ne.value&&(ne.value.scrollTop=We),X.scrollTop=We}const[ce,de,le,fe]=useHeights(Z,re),pe=reactive({scrollHeight:void 0,start:0,end:0,offset:void 0}),me=shallowRef(0);onMounted(()=>{nextTick(()=>{var Ae;me.value=((Ae=te.value)===null||Ae===void 0?void 0:Ae.offsetHeight)||0})}),onUpdated(()=>{nextTick(()=>{var Ae;me.value=((Ae=te.value)===null||Ae===void 0?void 0:Ae.offsetHeight)||0})}),watch([G,Z],()=>{G.value||_extends$1(pe,{scrollHeight:void 0,start:0,end:Z.value.length-1,offset:void 0})},{immediate:!0}),watch([G,Z,me,U],()=>{G.value&&!U.value&&_extends$1(pe,{scrollHeight:me.value,start:0,end:Z.value.length-1,offset:void 0}),ne.value&&(X.scrollTop=ne.value.scrollTop)},{immediate:!0}),watch([U,G,()=>X.scrollTop,Z,fe,()=>H.height,me],()=>{if(!G.value||!U.value)return;let Ae=0,ze,We,Le;const Ze=Z.value.length,Ye=Z.value,Re=X.scrollTop,{itemHeight:Ke,height:we}=H,_e=Re+we;for(let Ve=0;Ve<Ze;Ve+=1){const je=Ye[Ve],qe=re(je);let Pe=le.get(qe);Pe===void 0&&(Pe=Ke);const ke=Ae+Pe;ze===void 0&&ke>=Re&&(ze=Ve,We=Ae),Le===void 0&&ke>_e&&(Le=Ve),Ae=ke}ze===void 0&&(ze=0,We=0,Le=Math.ceil(we/Ke)),Le===void 0&&(Le=Ze-1),Le=Math.min(Le+1,Ze),_extends$1(pe,{scrollHeight:Ae,start:ze,end:Le,offset:We})},{immediate:!0});const ue=computed(()=>pe.scrollHeight-H.height);function ge(Ae){let ze=Ae;return Number.isNaN(ue.value)||(ze=Math.min(ze,ue.value)),ze=Math.max(ze,0),ze}const he=computed(()=>X.scrollTop<=0),ve=computed(()=>X.scrollTop>=ue.value),ye=useOriginScroll(he,ve);function be(Ae){se(Ae)}function Se(Ae){var ze;const{scrollTop:We}=Ae.currentTarget;We!==X.scrollTop&&se(We),(ze=H.onScroll)===null||ze===void 0||ze.call(H,Ae)}const[Ce,xe]=useFrameWheel(G,he,ve,Ae=>{se(ze=>ze+Ae)});useMobileTouchMove(G,ne,(Ae,ze)=>ye(Ae,ze)?!1:(Ce({preventDefault(){},deltaY:Ae}),!0));function Ne(Ae){G.value&&Ae.preventDefault()}const $e=()=>{ne.value&&(ne.value.removeEventListener("wheel",Ce,supportsPassive?{passive:!1}:!1),ne.value.removeEventListener("DOMMouseScroll",xe),ne.value.removeEventListener("MozMousePixelScroll",Ne))};watchEffect(()=>{nextTick(()=>{ne.value&&($e(),ne.value.addEventListener("wheel",Ce,supportsPassive?{passive:!1}:!1),ne.value.addEventListener("DOMMouseScroll",xe),ne.value.addEventListener("MozMousePixelScroll",Ne))})}),onBeforeUnmount(()=>{$e()});const Ee=useScrollTo(ne,Z,le,H,re,de,se,()=>{var Ae;(Ae=oe.value)===null||Ae===void 0||Ae.delayHidden()});W({scrollTo:Ee});const Te=computed(()=>{let Ae=null;return H.height&&(Ae=_extends$1({[H.fullHeight?"height":"maxHeight"]:H.height+"px"},ScrollStyle),G.value&&(Ae.overflowY="hidden",X.scrollMoving&&(Ae.pointerEvents="none"))),Ae});return watch([()=>pe.start,()=>pe.end,Z],()=>{if(H.onVisibleChange){const Ae=Z.value.slice(pe.start,pe.end+1);H.onVisibleChange(Ae,Z.value)}},{flush:"post"}),{state:X,mergedData:Z,componentStyle:Te,onFallbackScroll:Se,onScrollBar:be,componentRef:ne,useVirtual:G,calRes:pe,collectHeight:de,setInstance:ce,sharedConfig:ae,scrollBarRef:oe,fillerInnerRef:te,delayHideScrollBar:()=>{var Ae;(Ae=oe.value)===null||Ae===void 0||Ae.delayHidden()}}},render(){const H=_extends$1(_extends$1({},this.$props),this.$attrs),{prefixCls:K="rc-virtual-list",height:W,itemHeight:G,fullHeight:U,data:X,itemKey:Q,virtual:Z,component:ee="div",onScroll:ne,children:te=this.$slots.default,style:oe,class:re}=H,ae=__rest$E(H,["prefixCls","height","itemHeight","fullHeight","data","itemKey","virtual","component","onScroll","children","style","class"]),se=classNames(K,re),{scrollTop:ce}=this.state,{scrollHeight:de,offset:le,start:fe,end:pe}=this.calRes,{componentStyle:me,onFallbackScroll:ue,onScrollBar:ge,useVirtual:he,collectHeight:ve,sharedConfig:ye,setInstance:be,mergedData:Se,delayHideScrollBar:Ce}=this;return createVNode("div",_objectSpread2$1({style:_extends$1(_extends$1({},oe),{position:"relative"}),class:se},ae),[createVNode(ee,{class:`${K}-holder`,style:me,ref:"componentRef",onScroll:ue,onMouseenter:Ce},{default:()=>[createVNode(Filter,{prefixCls:K,height:de,offset:le,onInnerResize:ve,ref:"fillerInnerRef"},{default:()=>renderChildren(Se,fe,pe,be,te,ye)})]}),he&&createVNode(ScrollBar,{ref:"scrollBarRef",prefixCls:K,scrollTop:ce,height:W,scrollHeight:de,count:Se.length,onScroll:ge,onStartMove:()=>{this.state.scrollMoving=!0},onStopMove:()=>{this.state.scrollMoving=!1}},null)])}});function useMemo(H,K,W){const G=ref(H());return watch(K,(U,X)=>{W?W(U,X)&&(G.value=H()):G.value=H()}),G}function isPlatformMac(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}const SelectContextKey=Symbol("SelectContextKey");function useProvideSelectProps(H){return provide(SelectContextKey,H)}function useSelectProps(){return inject(SelectContextKey,{})}var __rest$D=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};function isTitleType(H){return typeof H=="string"||typeof H=="number"}const OptionList=defineComponent({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,setup(H,K){let{expose:W,slots:G}=K;const U=useBaseProps(),X=useSelectProps(),Q=computed(()=>`${U.prefixCls}-item`),Z=useMemo(()=>X.flattenOptions,[()=>U.open,()=>X.flattenOptions],ue=>ue[0]),ee=createRef(),ne=ue=>{ue.preventDefault()},te=ue=>{ee.current&&ee.current.scrollTo(typeof ue=="number"?{index:ue}:ue)},oe=function(ue){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const he=Z.value.length;for(let ve=0;ve<he;ve+=1){const ye=(ue+ve*ge+he)%he,{group:be,data:Se}=Z.value[ye];if(!be&&!Se.disabled)return ye}return-1},re=reactive({activeIndex:oe(0)}),ae=function(ue){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;re.activeIndex=ue;const he={source:ge?"keyboard":"mouse"},ve=Z.value[ue];if(!ve){X.onActiveValue(null,-1,he);return}X.onActiveValue(ve.value,ue,he)};watch([()=>Z.value.length,()=>U.searchValue],()=>{ae(X.defaultActiveFirstOption!==!1?oe(0):-1)},{immediate:!0});const se=ue=>X.rawValues.has(ue)&&U.mode!=="combobox";watch([()=>U.open,()=>U.searchValue],()=>{if(!U.multiple&&U.open&&X.rawValues.size===1){const ue=Array.from(X.rawValues)[0],ge=toRaw(Z.value).findIndex(he=>{let{data:ve}=he;return ve[X.fieldNames.value]===ue});ge!==-1&&(ae(ge),nextTick(()=>{te(ge)}))}U.open&&nextTick(()=>{var ue;(ue=ee.current)===null||ue===void 0||ue.scrollTo(void 0)})},{immediate:!0,flush:"post"});const ce=ue=>{ue!==void 0&&X.onSelect(ue,{selected:!X.rawValues.has(ue)}),U.multiple||U.toggleOpen(!1)},de=ue=>typeof ue.label=="function"?ue.label():ue.label;function le(ue){const ge=Z.value[ue];if(!ge)return null;const he=ge.data||{},{value:ve}=he,{group:ye}=ge,be=pickAttrs(he,!0),Se=de(ge);return ge?createVNode("div",_objectSpread2$1(_objectSpread2$1({"aria-label":typeof Se=="string"&&!ye?Se:null},be),{},{key:ue,role:ye?"presentation":"option",id:`${U.id}_list_${ue}`,"aria-selected":se(ve)}),[ve]):null}return W({onKeydown:ue=>{const{which:ge,ctrlKey:he}=ue;switch(ge){case KeyCode.N:case KeyCode.P:case KeyCode.UP:case KeyCode.DOWN:{let ve=0;if(ge===KeyCode.UP?ve=-1:ge===KeyCode.DOWN?ve=1:isPlatformMac()&&he&&(ge===KeyCode.N?ve=1:ge===KeyCode.P&&(ve=-1)),ve!==0){const ye=oe(re.activeIndex+ve,ve);te(ye),ae(ye,!0)}break}case KeyCode.ENTER:{const ve=Z.value[re.activeIndex];ve&&!ve.data.disabled?ce(ve.value):ce(void 0),U.open&&ue.preventDefault();break}case KeyCode.ESC:U.toggleOpen(!1),U.open&&ue.stopPropagation()}},onKeyup:()=>{},scrollTo:ue=>{te(ue)}}),()=>{const{id:ue,notFoundContent:ge,onPopupScroll:he}=U,{menuItemSelectedIcon:ve,fieldNames:ye,virtual:be,listHeight:Se,listItemHeight:Ce}=X,xe=G.option,{activeIndex:Ne}=re,$e=Object.keys(ye).map(Ee=>ye[Ee]);return Z.value.length===0?createVNode("div",{role:"listbox",id:`${ue}_list`,class:`${Q.value}-empty`,onMousedown:ne},[ge]):createVNode(Fragment,null,[createVNode("div",{role:"listbox",id:`${ue}_list`,style:{height:0,width:0,overflow:"hidden"}},[le(Ne-1),le(Ne),le(Ne+1)]),createVNode(List$1,{itemKey:"key",ref:ee,data:Z.value,height:Se,itemHeight:Ce,fullHeight:!1,onMousedown:ne,onScroll:he,virtual:be},{default:(Ee,Te)=>{var Be;const{group:Ae,groupOption:ze,data:We,value:Le}=Ee,{key:Ze}=We,Ye=typeof Ee.label=="function"?Ee.label():Ee.label;if(Ae){const Qe=(Be=We.title)!==null&&Be!==void 0?Be:isTitleType(Ye)&&Ye;return createVNode("div",{class:classNames(Q.value,`${Q.value}-group`),title:Qe},[xe?xe(We):Ye!==void 0?Ye:Ze])}const{disabled:Re,title:Ke,children:we,style:_e,class:Ve,className:je}=We,qe=__rest$D(We,["disabled","title","children","style","class","className"]),Pe=omit$1(qe,$e),ke=se(Le),Ue=`${Q.value}-option`,He=classNames(Q.value,Ue,Ve,je,{[`${Ue}-grouped`]:ze,[`${Ue}-active`]:Ne===Te&&!Re,[`${Ue}-disabled`]:Re,[`${Ue}-selected`]:ke}),Me=de(Ee),Je=!ve||typeof ve=="function"||ke,Fe=typeof Me=="number"?Me:Me||Le;let Oe=isTitleType(Fe)?Fe.toString():void 0;return Ke!==void 0&&(Oe=Ke),createVNode("div",_objectSpread2$1(_objectSpread2$1({},Pe),{},{"aria-selected":ke,class:He,title:Oe,onMousemove:Qe=>{qe.onMousemove&&qe.onMousemove(Qe),!(Ne===Te||Re)&&ae(Te)},onClick:Qe=>{Re||ce(Le),qe.onClick&&qe.onClick(Qe)},style:_e}),[createVNode("div",{class:`${Ue}-content`},[xe?xe(We):Fe]),isValidElement(ve)||ke,Je&&createVNode(TransBtn,{class:`${Q.value}-option-state`,customizeIcon:ve,customizeIconProps:{isSelected:ke}},{default:()=>[ke?"":null]})])}})])}}});var __rest$C=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};function convertNodeToOption(H){const K=H,{key:W,children:G}=K,U=K.props,{value:X,disabled:Q}=U,Z=__rest$C(U,["value","disabled"]),ee=G?.default;return _extends$1({key:W,value:X!==void 0?X:W,children:ee,disabled:Q||Q===""},Z)}function convertChildrenToData(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return flattenChildren(H).map((G,U)=>{var X;if(!isValidElement(G)||!G.type)return null;const{type:{isSelectOptGroup:Q},key:Z,children:ee,props:ne}=G;if(K||!Q)return convertNodeToOption(G);const te=ee&&ee.default?ee.default():void 0,oe=ne?.label||((X=ee.label)===null||X===void 0?void 0:X.call(ee))||Z;return _extends$1(_extends$1({key:`__RC_SELECT_GRP__${Z===null?U:String(Z)}__`},ne),{label:oe,options:convertChildrenToData(te||[])})}).filter(G=>G)}function useOptions(H,K,W){const G=shallowRef(),U=shallowRef(),X=shallowRef(),Q=shallowRef([]);return watch([H,K],()=>{H.value?Q.value=toRaw(H.value).slice():Q.value=convertChildrenToData(K.value)},{immediate:!0,deep:!0}),watchEffect(()=>{const Z=Q.value,ee=new Map,ne=new Map,te=W.value;function oe(re){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(let se=0;se<re.length;se+=1){const ce=re[se];!ce[te.options]||ae?(ee.set(ce[te.value],ce),ne.set(ce[te.label],ce)):oe(ce[te.options],!0)}}oe(Z),G.value=Z,U.value=ee,X.value=ne}),{options:G,valueOptions:U,labelOptions:X}}let uuid$3=0;const isBrowserClient=canUseDom$1();function getUUID$1(){let H;return isBrowserClient?(H=uuid$3,uuid$3+=1):H="TEST_OR_SSR",H}function useId(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ref("");const K=`rc_select_${getUUID$1()}`;return H.value||K}function toArray$4(H){return Array.isArray(H)?H:H!==void 0?[H]:[]}function includes(H,K){return toArray$4(H).join("").toUpperCase().includes(K)}const useFilterOptions=(H,K,W,G,U)=>computed(()=>{const X=W.value,Q=U?.value,Z=G?.value;if(!X||Z===!1)return H.value;const{options:ee,label:ne,value:te}=K.value,oe=[],re=typeof Z=="function",ae=X.toUpperCase(),se=re?Z:(de,le)=>Q?includes(le[Q],ae):le[ee]?includes(le[ne!=="children"?ne:"label"],ae):includes(le[te],ae),ce=re?de=>injectPropsWithOption(de):de=>de;return H.value.forEach(de=>{if(de[ee]){if(se(X,ce(de)))oe.push(de);else{const fe=de[ee].filter(pe=>se(X,ce(pe)));fe.length&&oe.push(_extends$1(_extends$1({},de),{[ee]:fe}))}return}se(X,ce(de))&&oe.push(de)}),oe}),useCache=(H,K)=>{const W=shallowRef({values:new Map,options:new Map});return[computed(()=>{const{values:X,options:Q}=W.value,Z=H.value.map(te=>{var oe;return te.label===void 0?_extends$1(_extends$1({},te),{label:(oe=X.get(te.value))===null||oe===void 0?void 0:oe.label}):te}),ee=new Map,ne=new Map;return Z.forEach(te=>{ee.set(te.value,te),ne.set(te.value,K.value.get(te.value)||Q.get(te.value))}),W.value.values=ee,W.value.options=ne,Z}),X=>K.value.get(X)||W.value.options.get(X)]};function useMergedState(H,K){const{defaultValue:W,value:G=ref()}=K||{};let U=typeof H=="function"?H():H;G.value!==void 0&&(U=unref(G)),W!==void 0&&(U=typeof W=="function"?W():W);const X=ref(U),Q=ref(U);watchEffect(()=>{let ee=G.value!==void 0?G.value:X.value;K.postState&&(ee=K.postState(ee)),Q.value=ee});function Z(ee){const ne=Q.value;X.value=ee,toRaw(Q.value)!==ee&&K.onChange&&K.onChange(ee,ne)}return watch(G,()=>{X.value=G.value}),[Q,Z]}function useState(H){const K=typeof H=="function"?H():H,W=ref(K);function G(U){W.value=U}return[W,G]}const OMIT_DOM_PROPS=["inputValue"];function selectProps$1(){return _extends$1(_extends$1({},baseSelectPropsWithoutPrivate()),{prefixCls:String,id:String,backfill:{type:Boolean,default:void 0},fieldNames:Object,inputValue:String,searchValue:String,onSearch:Function,autoClearSearchValue:{type:Boolean,default:void 0},onSelect:Function,onDeselect:Function,filterOption:{type:[Boolean,Function],default:void 0},filterSort:Function,optionFilterProp:String,optionLabelProp:String,options:Array,defaultActiveFirstOption:{type:Boolean,default:void 0},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,menuItemSelectedIcon:PropTypes.any,mode:String,labelInValue:{type:Boolean,default:void 0},value:PropTypes.any,defaultValue:PropTypes.any,onChange:Function,children:Array})}function isRawValue(H){return!H||typeof H!="object"}const Select$1=defineComponent({compatConfig:{MODE:3},name:"VcSelect",inheritAttrs:!1,props:initDefaultProps(selectProps$1(),{prefixCls:"vc-select",autoClearSearchValue:!0,listHeight:200,listItemHeight:20,dropdownMatchSelectWidth:!0}),setup(H,K){let{expose:W,attrs:G,slots:U}=K;const X=useId(toRef(H,"id")),Q=computed(()=>isMultiple(H.mode)),Z=computed(()=>!!(!H.options&&H.children)),ee=computed(()=>H.filterOption===void 0&&H.mode==="combobox"?!1:H.filterOption),ne=computed(()=>fillFieldNames$1(H.fieldNames,Z.value)),[te,oe]=useMergedState("",{value:computed(()=>H.searchValue!==void 0?H.searchValue:H.inputValue),postState:Ve=>Ve||""}),re=useOptions(toRef(H,"options"),toRef(H,"children"),ne),{valueOptions:ae,labelOptions:se,options:ce}=re,de=Ve=>toArray$4(Ve).map(qe=>{var Pe,ke;let Ue,He,Me,Je;isRawValue(qe)?Ue=qe:(Me=qe.key,He=qe.label,Ue=(Pe=qe.value)!==null&&Pe!==void 0?Pe:Me);const Fe=ae.value.get(Ue);return Fe&&(He===void 0&&(He=Fe?.[H.optionLabelProp||ne.value.label]),Me===void 0&&(Me=(ke=Fe?.key)!==null&&ke!==void 0?ke:Ue),Je=Fe?.disabled),{label:He,value:Ue,key:Me,disabled:Je,option:Fe}}),[le,fe]=useMergedState(H.defaultValue,{value:toRef(H,"value")}),pe=computed(()=>{var Ve;const je=de(le.value);return H.mode==="combobox"&&!(!((Ve=je[0])===null||Ve===void 0)&&Ve.value)?[]:je}),[me,ue]=useCache(pe,ae),ge=computed(()=>{if(!H.mode&&me.value.length===1){const Ve=me.value[0];if(Ve.value===null&&(Ve.label===null||Ve.label===void 0))return[]}return me.value.map(Ve=>{var je;return _extends$1(_extends$1({},Ve),{label:(je=typeof Ve.label=="function"?Ve.label():Ve.label)!==null&&je!==void 0?je:Ve.value})})}),he=computed(()=>new Set(me.value.map(Ve=>Ve.value)));watchEffect(()=>{var Ve;if(H.mode==="combobox"){const je=(Ve=me.value[0])===null||Ve===void 0?void 0:Ve.value;je!=null&&oe(String(je))}},{flush:"post"});const ve=(Ve,je)=>{const qe=je??Ve;return{[ne.value.value]:Ve,[ne.value.label]:qe}},ye=shallowRef();watchEffect(()=>{if(H.mode!=="tags"){ye.value=ce.value;return}const Ve=ce.value.slice(),je=qe=>ae.value.has(qe);[...me.value].sort((qe,Pe)=>qe.value<Pe.value?-1:1).forEach(qe=>{const Pe=qe.value;je(Pe)||Ve.push(ve(Pe,qe.label))}),ye.value=Ve});const be=useFilterOptions(ye,ne,te,ee,toRef(H,"optionFilterProp")),Se=computed(()=>H.mode!=="tags"||!te.value||be.value.some(Ve=>Ve[H.optionFilterProp||"value"]===te.value)?be.value:[ve(te.value),...be.value]),Ce=computed(()=>H.filterSort?[...Se.value].sort((Ve,je)=>H.filterSort(Ve,je)):Se.value),xe=computed(()=>flattenOptions(Ce.value,{fieldNames:ne.value,childrenAsData:Z.value})),Ne=Ve=>{const je=de(Ve);if(fe(je),H.onChange&&(je.length!==me.value.length||je.some((qe,Pe)=>{var ke;return((ke=me.value[Pe])===null||ke===void 0?void 0:ke.value)!==qe?.value}))){const qe=H.labelInValue?je.map(ke=>_extends$1(_extends$1({},ke),{originLabel:ke.label,label:typeof ke.label=="function"?ke.label():ke.label})):je.map(ke=>ke.value),Pe=je.map(ke=>injectPropsWithOption(ue(ke.value)));H.onChange(Q.value?qe:qe[0],Q.value?Pe:Pe[0])}},[$e,Ee]=useState(null),[Te,Be]=useState(0),Ae=computed(()=>H.defaultActiveFirstOption!==void 0?H.defaultActiveFirstOption:H.mode!=="combobox"),ze=function(Ve,je){let{source:qe="keyboard"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Be(je),H.backfill&&H.mode==="combobox"&&Ve!==null&&qe==="keyboard"&&Ee(String(Ve))},We=(Ve,je)=>{const qe=()=>{var Pe;const ke=ue(Ve),Ue=ke?.[ne.value.label];return[H.labelInValue?{label:typeof Ue=="function"?Ue():Ue,originLabel:Ue,value:Ve,key:(Pe=ke?.key)!==null&&Pe!==void 0?Pe:Ve}:Ve,injectPropsWithOption(ke)]};if(je&&H.onSelect){const[Pe,ke]=qe();H.onSelect(Pe,ke)}else if(!je&&H.onDeselect){const[Pe,ke]=qe();H.onDeselect(Pe,ke)}},Le=(Ve,je)=>{let qe;const Pe=Q.value?je.selected:!0;Pe?qe=Q.value?[...me.value,Ve]:[Ve]:qe=me.value.filter(ke=>ke.value!==Ve),Ne(qe),We(Ve,Pe),H.mode==="combobox"?Ee(""):(!Q.value||H.autoClearSearchValue)&&(oe(""),Ee(""))},Ze=(Ve,je)=>{Ne(Ve),(je.type==="remove"||je.type==="clear")&&je.values.forEach(qe=>{We(qe.value,!1)})},Ye=(Ve,je)=>{var qe;if(oe(Ve),Ee(null),je.source==="submit"){const Pe=(Ve||"").trim();if(Pe){const ke=Array.from(new Set([...he.value,Pe]));Ne(ke),We(Pe,!0),oe("")}return}je.source!=="blur"&&(H.mode==="combobox"&&Ne(Ve),(qe=H.onSearch)===null||qe===void 0||qe.call(H,Ve))},Re=Ve=>{let je=Ve;H.mode!=="tags"&&(je=Ve.map(Pe=>{const ke=se.value.get(Pe);return ke?.value}).filter(Pe=>Pe!==void 0));const qe=Array.from(new Set([...he.value,...je]));Ne(qe),qe.forEach(Pe=>{We(Pe,!0)})},Ke=computed(()=>H.virtual!==!1&&H.dropdownMatchSelectWidth!==!1);useProvideSelectProps(toReactive(_extends$1(_extends$1({},re),{flattenOptions:xe,onActiveValue:ze,defaultActiveFirstOption:Ae,onSelect:Le,menuItemSelectedIcon:toRef(H,"menuItemSelectedIcon"),rawValues:he,fieldNames:ne,virtual:Ke,listHeight:toRef(H,"listHeight"),listItemHeight:toRef(H,"listItemHeight"),childrenAsData:Z})));const we=ref();W({focus(){var Ve;(Ve=we.value)===null||Ve===void 0||Ve.focus()},blur(){var Ve;(Ve=we.value)===null||Ve===void 0||Ve.blur()},scrollTo(Ve){var je;(je=we.value)===null||je===void 0||je.scrollTo(Ve)}});const _e=computed(()=>omit$1(H,["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"]));return()=>createVNode(BaseSelect,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},_e.value),G),{},{id:X,prefixCls:H.prefixCls,ref:we,omitDomProps:OMIT_DOM_PROPS,mode:H.mode,displayValues:ge.value,onDisplayValuesChange:Ze,searchValue:te.value,onSearch:Ye,onSearchSplit:Re,dropdownMatchSelectWidth:H.dropdownMatchSelectWidth,OptionList,emptyOptions:!xe.value.length,activeValue:$e.value,activeDescendantId:`${X}_list_${Te.value}`}),U)}}),Option$1=()=>null;Option$1.isSelectOption=!0;Option$1.displayName="ASelectOption";const OptGroup=()=>null;OptGroup.isSelectOptGroup=!0;OptGroup.displayName="ASelectOptGroup";var DownOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},contextKey=Symbol("iconContext"),useInjectIconContext=function(){return inject(contextKey,{prefixCls:ref("anticon"),rootClassName:ref(""),csp:ref()})};function canUseDom(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function contains$1(H,K){return H&&H.contains?H.contains(K):!1}var APPEND_ORDER="data-vc-order",MARK_KEY="vc-icon-key",containerCache=new Map;function getMark(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=H.mark;return K?K.startsWith("data-")?K:"data-".concat(K):MARK_KEY}function getContainer$1(H){if(H.attachTo)return H.attachTo;var K=document.querySelector("head");return K||document.body}function getOrder(H){return H==="queue"?"prependQueue":H?"prepend":"append"}function findStyles(H){return Array.from((containerCache.get(H)||H).children).filter(function(K){return K.tagName==="STYLE"})}function injectCSS(H){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!canUseDom())return null;var W=K.csp,G=K.prepend,U=document.createElement("style");U.setAttribute(APPEND_ORDER,getOrder(G)),W&&W.nonce&&(U.nonce=W.nonce),U.innerHTML=H;var X=getContainer$1(K),Q=X.firstChild;if(G){if(G==="queue"){var Z=findStyles(X).filter(function(ee){return["prepend","prependQueue"].includes(ee.getAttribute(APPEND_ORDER))});if(Z.length)return X.insertBefore(U,Z[Z.length-1].nextSibling),U}X.insertBefore(U,Q)}else X.appendChild(U);return U}function findExistNode(H){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=getContainer$1(K);return findStyles(W).find(function(G){return G.getAttribute(getMark(K))===H})}function syncRealContainer(H,K){var W=containerCache.get(H);if(!W||!contains$1(document,W)){var G=injectCSS("",K),U=G.parentNode;containerCache.set(H,U),H.removeChild(G)}}function updateCSS(H,K){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},G=getContainer$1(W);syncRealContainer(G,W);var U=findExistNode(K,W);if(U)return W.csp&&W.csp.nonce&&U.nonce!==W.csp.nonce&&(U.nonce=W.csp.nonce),U.innerHTML!==H&&(U.innerHTML=H),U;var X=injectCSS(H,W);return X.setAttribute(getMark(W),K),X}function _objectSpread$Q(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$Q(H,U,W[U])})}return H}function _defineProperty$Q(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}function warning$1(H,K){}function isIconDefinition(H){return typeof H=="object"&&typeof H.name=="string"&&typeof H.theme=="string"&&(typeof H.icon=="object"||typeof H.icon=="function")}function generate(H,K,W){return W?h$1(H.tag,_objectSpread$Q({key:K},W,H.attrs),(H.children||[]).map(function(G,U){return generate(G,"".concat(K,"-").concat(H.tag,"-").concat(U))})):h$1(H.tag,_objectSpread$Q({key:K},H.attrs),(H.children||[]).map(function(G,U){return generate(G,"".concat(K,"-").concat(H.tag,"-").concat(U))}))}function getSecondaryColor(H){return generate$1(H)[0]}function normalizeTwoToneColors(H){return H?Array.isArray(H)?H:[H]:[]}var iconStyles=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`;function getRoot$1(H){return H&&H.getRootNode&&H.getRootNode()}function inShadow(H){return canUseDom()?getRoot$1(H)instanceof ShadowRoot:!1}function getShadowRoot(H){return inShadow(H)?getRoot$1(H):null}var useInsertStyles=function(){var K=useInjectIconContext(),W=K.prefixCls,G=K.csp,U=getCurrentInstance(),X=iconStyles;W&&(X=X.replace(/anticon/g,W.value)),nextTick(function(){if(canUseDom()){var Q=U.vnode.el,Z=getShadowRoot(Q);updateCSS(X,"@ant-design-vue-icons",{prepend:!0,csp:G.value,attachTo:Z})}})},_excluded$1=["icon","primaryColor","secondaryColor"];function _objectWithoutProperties$1(H,K){if(H==null)return{};var W=_objectWithoutPropertiesLoose$1(H,K),G,U;if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(H);for(U=0;U<X.length;U++)G=X[U],!(K.indexOf(G)>=0)&&Object.prototype.propertyIsEnumerable.call(H,G)&&(W[G]=H[G])}return W}function _objectWithoutPropertiesLoose$1(H,K){if(H==null)return{};var W={},G=Object.keys(H),U,X;for(X=0;X<G.length;X++)U=G[X],!(K.indexOf(U)>=0)&&(W[U]=H[U]);return W}function _objectSpread$P(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$P(H,U,W[U])})}return H}function _defineProperty$P(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var twoToneColorPalette=reactive({primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1});function setTwoToneColors(H){var K=H.primaryColor,W=H.secondaryColor;twoToneColorPalette.primaryColor=K,twoToneColorPalette.secondaryColor=W||getSecondaryColor(K),twoToneColorPalette.calculated=!!W}function getTwoToneColors(){return _objectSpread$P({},twoToneColorPalette)}var IconBase=function(K,W){var G=_objectSpread$P({},K,W.attrs),U=G.icon,X=G.primaryColor,Q=G.secondaryColor,Z=_objectWithoutProperties$1(G,_excluded$1),ee=twoToneColorPalette;if(X&&(ee={primaryColor:X,secondaryColor:Q||getSecondaryColor(X)}),isIconDefinition(U),!isIconDefinition(U))return null;var ne=U;return ne&&typeof ne.icon=="function"&&(ne=_objectSpread$P({},ne,{icon:ne.icon(ee.primaryColor,ee.secondaryColor)})),generate(ne.icon,"svg-".concat(ne.name),_objectSpread$P({},Z,{"data-icon":ne.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};IconBase.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String};IconBase.inheritAttrs=!1;IconBase.displayName="IconBase";IconBase.getTwoToneColors=getTwoToneColors;IconBase.setTwoToneColors=setTwoToneColors;function _slicedToArray$1(H,K){return _arrayWithHoles$1(H)||_iterableToArrayLimit$1(H,K)||_unsupportedIterableToArray$1(H,K)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(H,K){if(H){if(typeof H=="string")return _arrayLikeToArray$1(H,K);var W=Object.prototype.toString.call(H).slice(8,-1);if(W==="Object"&&H.constructor&&(W=H.constructor.name),W==="Map"||W==="Set")return Array.from(H);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return _arrayLikeToArray$1(H,K)}}function _arrayLikeToArray$1(H,K){(K==null||K>H.length)&&(K=H.length);for(var W=0,G=new Array(K);W<K;W++)G[W]=H[W];return G}function _iterableToArrayLimit$1(H,K){var W=H==null?null:typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(W!=null){var G=[],U=!0,X=!1,Q,Z;try{for(W=W.call(H);!(U=(Q=W.next()).done)&&(G.push(Q.value),!(K&&G.length===K));U=!0);}catch(ee){X=!0,Z=ee}finally{try{!U&&W.return!=null&&W.return()}finally{if(X)throw Z}}return G}}function _arrayWithHoles$1(H){if(Array.isArray(H))return H}function setTwoToneColor(H){var K=normalizeTwoToneColors(H),W=_slicedToArray$1(K,2),G=W[0],U=W[1];return IconBase.setTwoToneColors({primaryColor:G,secondaryColor:U})}function getTwoToneColor(){var H=IconBase.getTwoToneColors();return H.calculated?[H.primaryColor,H.secondaryColor]:H.primaryColor}var InsertStyles=defineComponent({name:"InsertStyles",setup:function(){return useInsertStyles(),function(){return null}}}),_excluded=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function _slicedToArray(H,K){return _arrayWithHoles(H)||_iterableToArrayLimit(H,K)||_unsupportedIterableToArray(H,K)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(H,K){if(H){if(typeof H=="string")return _arrayLikeToArray(H,K);var W=Object.prototype.toString.call(H).slice(8,-1);if(W==="Object"&&H.constructor&&(W=H.constructor.name),W==="Map"||W==="Set")return Array.from(H);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return _arrayLikeToArray(H,K)}}function _arrayLikeToArray(H,K){(K==null||K>H.length)&&(K=H.length);for(var W=0,G=new Array(K);W<K;W++)G[W]=H[W];return G}function _iterableToArrayLimit(H,K){var W=H==null?null:typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(W!=null){var G=[],U=!0,X=!1,Q,Z;try{for(W=W.call(H);!(U=(Q=W.next()).done)&&(G.push(Q.value),!(K&&G.length===K));U=!0);}catch(ee){X=!0,Z=ee}finally{try{!U&&W.return!=null&&W.return()}finally{if(X)throw Z}}return G}}function _arrayWithHoles(H){if(Array.isArray(H))return H}function _objectSpread$O(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$O(H,U,W[U])})}return H}function _defineProperty$O(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}function _objectWithoutProperties(H,K){if(H==null)return{};var W=_objectWithoutPropertiesLoose(H,K),G,U;if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(H);for(U=0;U<X.length;U++)G=X[U],!(K.indexOf(G)>=0)&&Object.prototype.propertyIsEnumerable.call(H,G)&&(W[G]=H[G])}return W}function _objectWithoutPropertiesLoose(H,K){if(H==null)return{};var W={},G=Object.keys(H),U,X;for(X=0;X<G.length;X++)U=G[X],!(K.indexOf(U)>=0)&&(W[U]=H[U]);return W}setTwoToneColor(blue.primary);var Icon=function(K,W){var G,U=_objectSpread$O({},K,W.attrs),X=U.class,Q=U.icon,Z=U.spin,ee=U.rotate,ne=U.tabindex,te=U.twoToneColor,oe=U.onClick,re=_objectWithoutProperties(U,_excluded),ae=useInjectIconContext(),se=ae.prefixCls,ce=ae.rootClassName,de=(G={},_defineProperty$O(G,ce.value,!!ce.value),_defineProperty$O(G,se.value,!0),_defineProperty$O(G,"".concat(se.value,"-").concat(Q.name),!!Q.name),_defineProperty$O(G,"".concat(se.value,"-spin"),!!Z||Q.name==="loading"),G),le=ne;le===void 0&&oe&&(le=-1);var fe=ee?{msTransform:"rotate(".concat(ee,"deg)"),transform:"rotate(".concat(ee,"deg)")}:void 0,pe=normalizeTwoToneColors(te),me=_slicedToArray(pe,2),ue=me[0],ge=me[1];return createVNode("span",_objectSpread$O({role:"img","aria-label":Q.name},re,{onClick:oe,class:[de,X],tabindex:le}),[createVNode(IconBase,{icon:Q,primaryColor:ue,secondaryColor:ge,style:fe},null),createVNode(InsertStyles,null,null)])};Icon.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:[String,Array]};Icon.displayName="AntdIcon";Icon.inheritAttrs=!1;Icon.getTwoToneColor=getTwoToneColor;Icon.setTwoToneColor=setTwoToneColor;function _objectSpread$N(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$N(H,U,W[U])})}return H}function _defineProperty$N(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var DownOutlined=function(K,W){var G=_objectSpread$N({},K,W.attrs);return createVNode(Icon,_objectSpread$N({},G,{icon:DownOutlined$1}),null)};DownOutlined.displayName="DownOutlined";DownOutlined.inheritAttrs=!1;var LoadingOutlined$1={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};function _objectSpread$M(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$M(H,U,W[U])})}return H}function _defineProperty$M(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var LoadingOutlined=function(K,W){var G=_objectSpread$M({},K,W.attrs);return createVNode(Icon,_objectSpread$M({},G,{icon:LoadingOutlined$1}),null)};LoadingOutlined.displayName="LoadingOutlined";LoadingOutlined.inheritAttrs=!1;var CheckOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};function _objectSpread$L(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$L(H,U,W[U])})}return H}function _defineProperty$L(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var CheckOutlined=function(K,W){var G=_objectSpread$L({},K,W.attrs);return createVNode(Icon,_objectSpread$L({},G,{icon:CheckOutlined$1}),null)};CheckOutlined.displayName="CheckOutlined";CheckOutlined.inheritAttrs=!1;var CloseOutlined$1={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};function _objectSpread$K(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$K(H,U,W[U])})}return H}function _defineProperty$K(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var CloseOutlined=function(K,W){var G=_objectSpread$K({},K,W.attrs);return createVNode(Icon,_objectSpread$K({},G,{icon:CloseOutlined$1}),null)};CloseOutlined.displayName="CloseOutlined";CloseOutlined.inheritAttrs=!1;var CloseCircleFilled$1={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};function _objectSpread$J(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$J(H,U,W[U])})}return H}function _defineProperty$J(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var CloseCircleFilled=function(K,W){var G=_objectSpread$J({},K,W.attrs);return createVNode(Icon,_objectSpread$J({},G,{icon:CloseCircleFilled$1}),null)};CloseCircleFilled.displayName="CloseCircleFilled";CloseCircleFilled.inheritAttrs=!1;var SearchOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};function _objectSpread$I(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$I(H,U,W[U])})}return H}function _defineProperty$I(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var SearchOutlined=function(K,W){var G=_objectSpread$I({},K,W.attrs);return createVNode(Icon,_objectSpread$I({},G,{icon:SearchOutlined$1}),null)};SearchOutlined.displayName="SearchOutlined";SearchOutlined.inheritAttrs=!1;function getIcons(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{loading:W,multiple:G,prefixCls:U,hasFeedback:X,feedbackIcon:Q,showArrow:Z}=H,ee=H.suffixIcon||K.suffixIcon&&K.suffixIcon(),ne=H.clearIcon||K.clearIcon&&K.clearIcon(),te=H.menuItemSelectedIcon||K.menuItemSelectedIcon&&K.menuItemSelectedIcon(),oe=H.removeIcon||K.removeIcon&&K.removeIcon(),re=ne??createVNode(CloseCircleFilled,null,null),ae=le=>createVNode(Fragment,null,[Z!==!1&&le,X&&Q]);let se=null;if(ee!==void 0)se=ae(ee);else if(W)se=ae(createVNode(LoadingOutlined,{spin:!0},null));else{const le=`${U}-suffix`;se=fe=>{let{open:pe,showSearch:me}=fe;return ae(pe&&me?createVNode(SearchOutlined,{class:le},null):createVNode(DownOutlined,{class:le},null))}}let ce=null;te!==void 0?ce=te:G?ce=createVNode(CheckOutlined,null,null):ce=null;let de=null;return oe!==void 0?de=oe:de=createVNode(CloseOutlined,null,null),{clearIcon:re,suffixIcon:se,itemIcon:ce,removeIcon:de}}function createContext(H){const K=Symbol("contextKey");return{useProvide:(U,X)=>{const Q=reactive({});return provide(K,Q),watchEffect(()=>{_extends$1(Q,U,X||{})}),Q},useInject:()=>inject(K,H)||{}}}const ContextKey$1=Symbol("ContextProps"),InternalContextKey=Symbol("InternalContextProps"),useProvideFormItemContext=function(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:computed(()=>!0);const W=ref(new Map),G=(X,Q)=>{W.value.set(X,Q),W.value=new Map(W.value)},U=X=>{W.value.delete(X),W.value=new Map(W.value)};watch([K,W],()=>{}),provide(ContextKey$1,H),provide(InternalContextKey,{addFormItemField:G,removeFormItemField:U})},defaultContext={id:computed(()=>{}),onFieldBlur:()=>{},onFieldChange:()=>{},clearValidate:()=>{}},defaultInternalContext={addFormItemField:()=>{},removeFormItemField:()=>{}},useInjectFormItemContext=()=>{const H=inject(InternalContextKey,defaultInternalContext),K=Symbol("FormItemFieldKey"),W=getCurrentInstance();return H.addFormItemField(K,W.type),onBeforeUnmount(()=>{H.removeFormItemField(K)}),provide(InternalContextKey,defaultInternalContext),provide(ContextKey$1,defaultContext),inject(ContextKey$1,defaultContext)},FormItemRest=defineComponent({compatConfig:{MODE:3},name:"AFormItemRest",setup(H,K){let{slots:W}=K;return provide(InternalContextKey,defaultInternalContext),provide(ContextKey$1,defaultContext),()=>{var G;return(G=W.default)===null||G===void 0?void 0:G.call(W)}}}),FormItemInputContext=createContext({}),NoFormStatus=defineComponent({name:"NoFormStatus",setup(H,K){let{slots:W}=K;return FormItemInputContext.useProvide({}),()=>{var G;return(G=W.default)===null||G===void 0?void 0:G.call(W)}}});function getStatusClassNames(H,K,W){return classNames({[`${H}-status-success`]:K==="success",[`${H}-status-warning`]:K==="warning",[`${H}-status-error`]:K==="error",[`${H}-status-validating`]:K==="validating",[`${H}-has-feedback`]:W})}const getMergedStatus=(H,K)=>K||H,genSpaceCompactStyle=H=>{const{componentCls:K}=H;return{[K]:{display:"inline-flex","&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},genSpaceStyle=H=>{const{componentCls:K}=H;return{[K]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${K}-item`]:{"&:empty":{display:"none"}}}}},useStyle$v=genComponentStyleHook("Space",H=>[genSpaceStyle(H),genSpaceCompactStyle(H)]);var symbolTag$2="[object Symbol]";function isSymbol(H){return typeof H=="symbol"||isObjectLike(H)&&baseGetTag(H)==symbolTag$2}function arrayMap(H,K){for(var W=-1,G=H==null?0:H.length,U=Array(G);++W<G;)U[W]=K(H[W],W,H);return U}var symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString(H){if(typeof H=="string")return H;if(isArray$1(H))return arrayMap(H,baseToString)+"";if(isSymbol(H))return symbolToString?symbolToString.call(H):"";var K=H+"";return K=="0"&&1/H==-1/0?"-0":K}var reWhitespace=/\s/;function trimmedEndIndex(H){for(var K=H.length;K--&&reWhitespace.test(H.charAt(K)););return K}var reTrimStart=/^\s+/;function baseTrim(H){return H&&H.slice(0,trimmedEndIndex(H)+1).replace(reTrimStart,"")}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(H){if(typeof H=="number")return H;if(isSymbol(H))return NAN;if(isObject$1(H)){var K=typeof H.valueOf=="function"?H.valueOf():H;H=isObject$1(K)?K+"":K}if(typeof H!="string")return H===0?H:+H;H=baseTrim(H);var W=reIsBinary.test(H);return W||reIsOctal.test(H)?freeParseInt(H.slice(2),W?2:8):reIsBadHex.test(H)?NAN:+H}var INFINITY$1=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(H){if(!H)return H===0?H:0;if(H=toNumber(H),H===INFINITY$1||H===-INFINITY$1){var K=H<0?-1:1;return K*MAX_INTEGER}return H===H?H:0}function toInteger(H){var K=toFinite(H),W=K%1;return K===K?W?K-W:K:0}function identity(H){return H}var objectCreate=Object.create,baseCreate=function(){function H(){}return function(K){if(!isObject$1(K))return{};if(objectCreate)return objectCreate(K);H.prototype=K;var W=new H;return H.prototype=void 0,W}}();function apply(H,K,W){switch(W.length){case 0:return H.call(K);case 1:return H.call(K,W[0]);case 2:return H.call(K,W[0],W[1]);case 3:return H.call(K,W[0],W[1],W[2])}return H.apply(K,W)}function noop$3(){}function copyArray(H,K){var W=-1,G=H.length;for(K||(K=Array(G));++W<G;)K[W]=H[W];return K}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(H){var K=0,W=0;return function(){var G=nativeNow(),U=HOT_SPAN-(G-W);if(W=G,U>0){if(++K>=HOT_COUNT)return arguments[0]}else K=0;return H.apply(void 0,arguments)}}function constant(H){return function(){return H}}var defineProperty=function(){try{var H=getNative(Object,"defineProperty");return H({},"",{}),H}catch{}}(),baseSetToString=defineProperty?function(H,K){return defineProperty(H,"toString",{configurable:!0,enumerable:!1,value:constant(K),writable:!0})}:identity,setToString=shortOut(baseSetToString);function arrayEach(H,K){for(var W=-1,G=H==null?0:H.length;++W<G&&K(H[W],W,H)!==!1;);return H}function baseFindIndex(H,K,W,G){for(var U=H.length,X=W+-1;++X<U;)if(K(H[X],X,H))return X;return-1}function baseIsNaN(H){return H!==H}function strictIndexOf(H,K,W){for(var G=W-1,U=H.length;++G<U;)if(H[G]===K)return G;return-1}function baseIndexOf(H,K,W){return K===K?strictIndexOf(H,K,W):baseFindIndex(H,baseIsNaN,W)}function arrayIncludes(H,K){var W=H==null?0:H.length;return!!W&&baseIndexOf(H,K,0)>-1}function baseAssignValue(H,K,W){K=="__proto__"&&defineProperty?defineProperty(H,K,{configurable:!0,enumerable:!0,value:W,writable:!0}):H[K]=W}var objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function assignValue(H,K,W){var G=H[K];(!(hasOwnProperty$4.call(H,K)&&eq(G,W))||W===void 0&&!(K in H))&&baseAssignValue(H,K,W)}function copyObject(H,K,W,G){var U=!W;W||(W={});for(var X=-1,Q=K.length;++X<Q;){var Z=K[X],ee=void 0;ee===void 0&&(ee=H[Z]),U?baseAssignValue(W,Z,ee):assignValue(W,Z,ee)}return W}var nativeMax$2=Math.max;function overRest(H,K,W){return K=nativeMax$2(K===void 0?H.length-1:K,0),function(){for(var G=arguments,U=-1,X=nativeMax$2(G.length-K,0),Q=Array(X);++U<X;)Q[U]=G[K+U];U=-1;for(var Z=Array(K+1);++U<K;)Z[U]=G[U];return Z[K]=W(Q),apply(H,this,Z)}}function baseRest(H,K){return setToString(overRest(H,K,identity),H+"")}function nativeKeysIn(H){var K=[];if(H!=null)for(var W in Object(H))K.push(W);return K}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function baseKeysIn(H){if(!isObject$1(H))return nativeKeysIn(H);var K=isPrototype(H),W=[];for(var G in H)G=="constructor"&&(K||!hasOwnProperty$3.call(H,G))||W.push(G);return W}function keysIn(H){return isArrayLike(H)?arrayLikeKeys(H,!0):baseKeysIn(H)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(H,K){if(isArray$1(H))return!1;var W=typeof H;return W=="number"||W=="symbol"||W=="boolean"||H==null||isSymbol(H)?!0:reIsPlainProp.test(H)||!reIsDeepProp.test(H)||K!=null&&H in Object(K)}var FUNC_ERROR_TEXT$2="Expected a function";function memoize(H,K){if(typeof H!="function"||K!=null&&typeof K!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var W=function(){var G=arguments,U=K?K.apply(this,G):G[0],X=W.cache;if(X.has(U))return X.get(U);var Q=H.apply(this,G);return W.cache=X.set(U,Q)||X,Q};return W.cache=new(memoize.Cache||MapCache),W}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(H){var K=memoize(H,function(G){return W.size===MAX_MEMOIZE_SIZE&&W.clear(),G}),W=K.cache;return K}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(H){var K=[];return H.charCodeAt(0)===46&&K.push(""),H.replace(rePropName,function(W,G,U,X){K.push(U?X.replace(reEscapeChar,"$1"):G||W)}),K});function toString(H){return H==null?"":baseToString(H)}function castPath(H,K){return isArray$1(H)?H:isKey(H,K)?[H]:stringToPath(toString(H))}function toKey(H){if(typeof H=="string"||isSymbol(H))return H;var K=H+"";return K=="0"&&1/H==-1/0?"-0":K}function baseGet(H,K){K=castPath(K,H);for(var W=0,G=K.length;H!=null&&W<G;)H=H[toKey(K[W++])];return W&&W==G?H:void 0}function get$1(H,K,W){var G=H==null?void 0:baseGet(H,K);return G===void 0?W:G}var spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable(H){return isArray$1(H)||isArguments(H)||!!(spreadableSymbol&&H&&H[spreadableSymbol])}function baseFlatten(H,K,W,G,U){var X=-1,Q=H.length;for(W||(W=isFlattenable),U||(U=[]);++X<Q;){var Z=H[X];W(Z)?arrayPush(U,Z):U[U.length]=Z}return U}function flatten$1(H){var K=H==null?0:H.length;return K?baseFlatten(H):[]}function flatRest(H){return setToString(overRest(H,void 0,flatten$1),H+"")}var getPrototype=overArg(Object.getPrototypeOf,Object),objectTag$1="[object Object]",funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$2=objectProto$2.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(H){if(!isObjectLike(H)||baseGetTag(H)!=objectTag$1)return!1;var K=getPrototype(H);if(K===null)return!0;var W=hasOwnProperty$2.call(K,"constructor")&&K.constructor;return typeof W=="function"&&W instanceof W&&funcToString.call(W)==objectCtorString}function baseSlice(H,K,W){var G=-1,U=H.length;K<0&&(K=-K>U?0:U+K),W=W>U?U:W,W<0&&(W+=U),U=K>W?0:W-K>>>0,K>>>=0;for(var X=Array(U);++G<U;)X[G]=H[G+K];return X}function baseAssign(H,K){return H&&copyObject(K,keys$1(K),H)}function baseAssignIn(H,K){return H&&copyObject(K,keysIn(K),H)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root.Buffer:void 0,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0;function cloneBuffer(H,K){if(K)return H.slice();var W=H.length,G=allocUnsafe?allocUnsafe(W):new H.constructor(W);return H.copy(G),G}function copySymbols(H,K){return copyObject(H,getSymbols(H),K)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(H){for(var K=[];H;)arrayPush(K,getSymbols(H)),H=getPrototype(H);return K}:stubArray;function copySymbolsIn(H,K){return copyObject(H,getSymbolsIn(H),K)}function getAllKeysIn(H){return baseGetAllKeys(H,keysIn,getSymbolsIn)}var objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function initCloneArray(H){var K=H.length,W=new H.constructor(K);return K&&typeof H[0]=="string"&&hasOwnProperty$1.call(H,"index")&&(W.index=H.index,W.input=H.input),W}function cloneArrayBuffer(H){var K=new H.constructor(H.byteLength);return new Uint8Array(K).set(new Uint8Array(H)),K}function cloneDataView(H,K){var W=K?cloneArrayBuffer(H.buffer):H.buffer;return new H.constructor(W,H.byteOffset,H.byteLength)}var reFlags=/\w*$/;function cloneRegExp(H){var K=new H.constructor(H.source,reFlags.exec(H));return K.lastIndex=H.lastIndex,K}var symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol(H){return symbolValueOf?Object(symbolValueOf.call(H)):{}}function cloneTypedArray(H,K){var W=K?cloneArrayBuffer(H.buffer):H.buffer;return new H.constructor(W,H.byteOffset,H.length)}var boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$3="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$3="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(H,K,W){var G=H.constructor;switch(K){case arrayBufferTag$1:return cloneArrayBuffer(H);case boolTag$1:case dateTag$1:return new G(+H);case dataViewTag$1:return cloneDataView(H,W);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(H,W);case mapTag$3:return new G;case numberTag$1:case stringTag$1:return new G(H);case regexpTag$1:return cloneRegExp(H);case setTag$3:return new G;case symbolTag$1:return cloneSymbol(H)}}function initCloneObject(H){return typeof H.constructor=="function"&&!isPrototype(H)?baseCreate(getPrototype(H)):{}}var mapTag$2="[object Map]";function baseIsMap(H){return isObjectLike(H)&&getTag(H)==mapTag$2}var nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,setTag$2="[object Set]";function baseIsSet(H){return isObjectLike(H)&&getTag(H)==setTag$2}var nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,CLONE_DEEP_FLAG$2=1,CLONE_FLAT_FLAG$1=2,CLONE_SYMBOLS_FLAG$2=4,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$1]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag$1]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(H,K,W,G,U,X){var Q,Z=K&CLONE_DEEP_FLAG$2,ee=K&CLONE_FLAT_FLAG$1,ne=K&CLONE_SYMBOLS_FLAG$2;if(W&&(Q=U?W(H,G,U,X):W(H)),Q!==void 0)return Q;if(!isObject$1(H))return H;var te=isArray$1(H);if(te){if(Q=initCloneArray(H),!Z)return copyArray(H,Q)}else{var oe=getTag(H),re=oe==funcTag||oe==genTag;if(isBuffer(H))return cloneBuffer(H,Z);if(oe==objectTag||oe==argsTag||re&&!U){if(Q=ee||re?{}:initCloneObject(H),!Z)return ee?copySymbolsIn(H,baseAssignIn(Q,H)):copySymbols(H,baseAssign(Q,H))}else{if(!cloneableTags[oe])return U?H:{};Q=initCloneByTag(H,oe,Z)}}X||(X=new Stack);var ae=X.get(H);if(ae)return ae;X.set(H,Q),isSet(H)?H.forEach(function(de){Q.add(baseClone(de,K,W,de,H,X))}):isMap(H)&&H.forEach(function(de,le){Q.set(le,baseClone(de,K,W,le,H,X))});var se=ne?ee?getAllKeysIn:getAllKeys:ee?keysIn:keys$1,ce=te?void 0:se(H);return arrayEach(ce||H,function(de,le){ce&&(le=de,de=H[le]),assignValue(Q,le,baseClone(de,K,W,le,H,X))}),Q}var CLONE_DEEP_FLAG$1=1,CLONE_SYMBOLS_FLAG$1=4;function cloneDeep(H){return baseClone(H,CLONE_DEEP_FLAG$1|CLONE_SYMBOLS_FLAG$1)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(H,K,W,G){var U=W.length,X=U;if(H==null)return!X;for(H=Object(H);U--;){var Q=W[U];if(Q[2]?Q[1]!==H[Q[0]]:!(Q[0]in H))return!1}for(;++U<X;){Q=W[U];var Z=Q[0],ee=H[Z],ne=Q[1];if(Q[2]){if(ee===void 0&&!(Z in H))return!1}else{var te=new Stack,oe;if(!(oe===void 0?baseIsEqual(ne,ee,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,G,te):oe))return!1}}return!0}function isStrictComparable(H){return H===H&&!isObject$1(H)}function getMatchData(H){for(var K=keys$1(H),W=K.length;W--;){var G=K[W],U=H[G];K[W]=[G,U,isStrictComparable(U)]}return K}function matchesStrictComparable(H,K){return function(W){return W==null?!1:W[H]===K&&(K!==void 0||H in Object(W))}}function baseMatches(H){var K=getMatchData(H);return K.length==1&&K[0][2]?matchesStrictComparable(K[0][0],K[0][1]):function(W){return W===H||baseIsMatch(W,H,K)}}function baseHasIn(H,K){return H!=null&&K in Object(H)}function hasPath(H,K,W){K=castPath(K,H);for(var G=-1,U=K.length,X=!1;++G<U;){var Q=toKey(K[G]);if(!(X=H!=null&&W(H,Q)))break;H=H[Q]}return X||++G!=U?X:(U=H==null?0:H.length,!!U&&isLength(U)&&isIndex(Q,U)&&(isArray$1(H)||isArguments(H)))}function hasIn(H,K){return H!=null&&hasPath(H,K,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(H,K){return isKey(H)&&isStrictComparable(K)?matchesStrictComparable(toKey(H),K):function(W){var G=get$1(W,H);return G===void 0&&G===K?hasIn(W,H):baseIsEqual(K,G,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(H){return function(K){return K?.[H]}}function basePropertyDeep(H){return function(K){return baseGet(K,H)}}function property(H){return isKey(H)?baseProperty(toKey(H)):basePropertyDeep(H)}function baseIteratee(H){return typeof H=="function"?H:H==null?identity:typeof H=="object"?isArray$1(H)?baseMatchesProperty(H[0],H[1]):baseMatches(H):property(H)}var now$2=function(){return root.Date.now()},FUNC_ERROR_TEXT$1="Expected a function",nativeMax$1=Math.max,nativeMin$1=Math.min;function debounce$1(H,K,W){var G,U,X,Q,Z,ee,ne=0,te=!1,oe=!1,re=!0;if(typeof H!="function")throw new TypeError(FUNC_ERROR_TEXT$1);K=toNumber(K)||0,isObject$1(W)&&(te=!!W.leading,oe="maxWait"in W,X=oe?nativeMax$1(toNumber(W.maxWait)||0,K):X,re="trailing"in W?!!W.trailing:re);function ae(ge){var he=G,ve=U;return G=U=void 0,ne=ge,Q=H.apply(ve,he),Q}function se(ge){return ne=ge,Z=setTimeout(le,K),te?ae(ge):Q}function ce(ge){var he=ge-ee,ve=ge-ne,ye=K-he;return oe?nativeMin$1(ye,X-ve):ye}function de(ge){var he=ge-ee,ve=ge-ne;return ee===void 0||he>=K||he<0||oe&&ve>=X}function le(){var ge=now$2();if(de(ge))return fe(ge);Z=setTimeout(le,ce(ge))}function fe(ge){return Z=void 0,re&&G?ae(ge):(G=U=void 0,Q)}function pe(){Z!==void 0&&clearTimeout(Z),ne=0,G=ee=U=Z=void 0}function me(){return Z===void 0?Q:fe(now$2())}function ue(){var ge=now$2(),he=de(ge);if(G=arguments,U=this,ee=ge,he){if(Z===void 0)return se(ee);if(oe)return clearTimeout(Z),Z=setTimeout(le,K),ae(ee)}return Z===void 0&&(Z=setTimeout(le,K)),Q}return ue.cancel=pe,ue.flush=me,ue}function isArrayLikeObject(H){return isObjectLike(H)&&isArrayLike(H)}function last(H){var K=H==null?0:H.length;return K?H[K-1]:void 0}function createFind(H){return function(K,W,G){var U=Object(K);if(!isArrayLike(K)){var X=baseIteratee(W);K=keys$1(K),W=function(Z){return X(U[Z],Z,U)}}var Q=H(K,W,G);return Q>-1?U[X?K[Q]:Q]:void 0}}var nativeMax=Math.max;function findIndex(H,K,W){var G=H==null?0:H.length;if(!G)return-1;var U=W==null?0:toInteger(W);return U<0&&(U=nativeMax(G+U,0)),baseFindIndex(H,baseIteratee(K),U)}var find$1=createFind(findIndex);function fromPairs(H){for(var K=-1,W=H==null?0:H.length,G={};++K<W;){var U=H[K];G[U[0]]=U[1]}return G}var nativeMin=Math.min;function baseIntersection(H,K,W){for(var G=arrayIncludes,U=H[0].length,X=H.length,Q=X,Z=Array(X),ee=1/0,ne=[];Q--;){var te=H[Q];ee=nativeMin(te.length,ee),Z[Q]=U>=120&&te.length>=120?new SetCache(Q&&te):void 0}te=H[0];var oe=-1,re=Z[0];e:for(;++oe<U&&ne.length<ee;){var ae=te[oe],se=ae;if(ae=ae!==0?ae:0,!(re?cacheHas(re,se):G(ne,se))){for(Q=X;--Q;){var ce=Z[Q];if(!(ce?cacheHas(ce,se):G(H[Q],se)))continue e}re&&re.push(se),ne.push(ae)}}return ne}function castArrayLikeObject(H){return isArrayLikeObject(H)?H:[]}var intersection=baseRest(function(H){var K=arrayMap(H,castArrayLikeObject);return K.length&&K[0]===H[0]?baseIntersection(K):[]});function parent(H,K){return K.length<2?H:baseGet(H,baseSlice(K,0,-1))}var mapTag="[object Map]",setTag="[object Set]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function isEmpty$1(H){if(H==null)return!0;if(isArrayLike(H)&&(isArray$1(H)||typeof H=="string"||typeof H.splice=="function"||isBuffer(H)||isTypedArray(H)||isArguments(H)))return!H.length;var K=getTag(H);if(K==mapTag||K==setTag)return!H.size;if(isPrototype(H))return!baseKeys(H).length;for(var W in H)if(hasOwnProperty.call(H,W))return!1;return!0}function baseUnset(H,K){return K=castPath(K,H),H=parent(H,K),H==null||delete H[toKey(last(K))]}function customOmitClone(H){return isPlainObject(H)?void 0:H}var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,omit=flatRest(function(H,K){var W={};if(H==null)return W;var G=!1;K=arrayMap(K,function(X){return X=castPath(X,H),G||(G=X.length>1),X}),copyObject(H,getAllKeysIn(H),W),G&&(W=baseClone(W,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone));for(var U=K.length;U--;)baseUnset(W,K[U]);return W});function baseSet(H,K,W,G){if(!isObject$1(H))return H;K=castPath(K,H);for(var U=-1,X=K.length,Q=X-1,Z=H;Z!=null&&++U<X;){var ee=toKey(K[U]),ne=W;if(ee==="__proto__"||ee==="constructor"||ee==="prototype")return H;if(U!=Q){var te=Z[ee];ne=void 0,ne===void 0&&(ne=isObject$1(te)?te:isIndex(K[U+1])?[]:{})}assignValue(Z,ee,ne),Z=Z[ee]}return H}function basePickBy(H,K,W){for(var G=-1,U=K.length,X={};++G<U;){var Q=K[G],Z=baseGet(H,Q);W(Z,Q)&&baseSet(X,castPath(Q,H),Z)}return X}function basePick(H,K){return basePickBy(H,K,function(W,G){return hasIn(H,G)})}var pick=flatRest(function(H,K){return H==null?{}:basePick(H,K)}),FUNC_ERROR_TEXT="Expected a function";function throttle$1(H,K,W){var G=!0,U=!0;if(typeof H!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject$1(W)&&(G="leading"in W?!!W.leading:G,U="trailing"in W?!!W.trailing:U),debounce$1(H,K,{leading:G,maxWait:K,trailing:U})}var INFINITY=1/0,createSet=Set$1&&1/setToArray(new Set$1([,-0]))[1]==INFINITY?function(H){return new Set$1(H)}:noop$3,LARGE_ARRAY_SIZE=200;function baseUniq(H,K,W){var G=-1,U=arrayIncludes,X=H.length,Q=!0,Z=[],ee=Z;if(X>=LARGE_ARRAY_SIZE){var ne=createSet(H);if(ne)return setToArray(ne);Q=!1,U=cacheHas,ee=new SetCache}else ee=Z;e:for(;++G<X;){var te=H[G],oe=te;if(te=te!==0?te:0,Q&&oe===oe){for(var re=ee.length;re--;)if(ee[re]===oe)continue e;Z.push(te)}else U(ee,oe,W)||(ee!==Z&&ee.push(oe),Z.push(te))}return Z}function uniq(H){return H&&H.length?baseUniq(H):[]}const spaceCompactItemProps=()=>({compactSize:String,compactDirection:PropTypes.oneOf(tuple("horizontal","vertical")).def("horizontal"),isFirstItem:booleanType(),isLastItem:booleanType()}),SpaceCompactItemContext=createContext(null),useCompactItemContext=(H,K)=>{const W=SpaceCompactItemContext.useInject(),G=computed(()=>{if(!W||isEmpty$1(W))return"";const{compactDirection:U,isFirstItem:X,isLastItem:Q}=W,Z=U==="vertical"?"-vertical-":"-";return classNames({[`${H.value}-compact${Z}item`]:!0,[`${H.value}-compact${Z}first-item`]:X,[`${H.value}-compact${Z}last-item`]:Q,[`${H.value}-compact${Z}item-rtl`]:K.value==="rtl"})});return{compactSize:computed(()=>W?.compactSize),compactDirection:computed(()=>W?.compactDirection),compactItemClassnames:G}},NoCompactStyle=defineComponent({name:"NoCompactStyle",setup(H,K){let{slots:W}=K;return SpaceCompactItemContext.useProvide(null),()=>{var G;return(G=W.default)===null||G===void 0?void 0:G.call(W)}}}),spaceCompactProps=()=>({prefixCls:String,size:{type:String},direction:PropTypes.oneOf(tuple("horizontal","vertical")).def("horizontal"),align:PropTypes.oneOf(tuple("start","end","center","baseline")),block:{type:Boolean,default:void 0}}),CompactItem=defineComponent({name:"CompactItem",props:spaceCompactItemProps(),setup(H,K){let{slots:W}=K;return SpaceCompactItemContext.useProvide(H),()=>{var G;return(G=W.default)===null||G===void 0?void 0:G.call(W)}}}),Compact=defineComponent({name:"ASpaceCompact",inheritAttrs:!1,props:spaceCompactProps(),setup(H,K){let{attrs:W,slots:G}=K;const{prefixCls:U,direction:X}=useConfigInject("space-compact",H),Q=SpaceCompactItemContext.useInject(),[Z,ee]=useStyle$v(U),ne=computed(()=>classNames(U.value,ee.value,{[`${U.value}-rtl`]:X.value==="rtl",[`${U.value}-block`]:H.block,[`${U.value}-vertical`]:H.direction==="vertical"}));return()=>{var te;const oe=flattenChildren(((te=G.default)===null||te===void 0?void 0:te.call(G))||[]);return oe.length===0?null:Z(createVNode("div",_objectSpread2$1(_objectSpread2$1({},W),{},{class:[ne.value,W.class]}),[oe.map((re,ae)=>{var se;const ce=re&&re.key||`${U.value}-item-${ae}`,de=!Q||isEmpty$1(Q);return createVNode(CompactItem,{key:ce,compactSize:(se=H.size)!==null&&se!==void 0?se:"middle",compactDirection:H.direction,isFirstItem:ae===0&&(de||Q?.isFirstItem),isLastItem:ae===oe.length-1&&(de||Q?.isLastItem)},{default:()=>[re]})})]))}}}),initMotionCommon=H=>({animationDuration:H,animationFillMode:"both"}),initMotionCommonLeave=H=>({animationDuration:H,animationFillMode:"both"}),initMotion=function(H,K,W,G){const X=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${X}${H}-enter,
      ${X}${H}-appear
    `]:_extends$1(_extends$1({},initMotionCommon(G)),{animationPlayState:"paused"}),[`${X}${H}-leave`]:_extends$1(_extends$1({},initMotionCommonLeave(G)),{animationPlayState:"paused"}),[`
      ${X}${H}-enter${H}-enter-active,
      ${X}${H}-appear${H}-appear-active
    `]:{animationName:K,animationPlayState:"running"},[`${X}${H}-leave${H}-leave-active`]:{animationName:W,animationPlayState:"running",pointerEvents:"none"}}},fadeIn=new Keyframe("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),fadeOut=new Keyframe("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),initFadeMotion=function(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:W}=H,G=`${W}-fade`,U=K?"&":"";return[initMotion(G,fadeIn,fadeOut,H.motionDurationMid,K),{[`
        ${U}${G}-enter,
        ${U}${G}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${U}${G}-leave`]:{animationTimingFunction:"linear"}}]},moveDownIn=new Keyframe("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),moveDownOut=new Keyframe("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),moveLeftIn=new Keyframe("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),moveLeftOut=new Keyframe("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),moveRightIn=new Keyframe("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),moveRightOut=new Keyframe("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),moveUpIn=new Keyframe("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),moveUpOut=new Keyframe("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),moveMotion={"move-up":{inKeyframes:moveUpIn,outKeyframes:moveUpOut},"move-down":{inKeyframes:moveDownIn,outKeyframes:moveDownOut},"move-left":{inKeyframes:moveLeftIn,outKeyframes:moveLeftOut},"move-right":{inKeyframes:moveRightIn,outKeyframes:moveRightOut}},initMoveMotion=(H,K)=>{const{antCls:W}=H,G=`${W}-${K}`,{inKeyframes:U,outKeyframes:X}=moveMotion[K];return[initMotion(G,U,X,H.motionDurationMid),{[`
        ${G}-enter,
        ${G}-appear
      `]:{opacity:0,animationTimingFunction:H.motionEaseOutCirc},[`${G}-leave`]:{animationTimingFunction:H.motionEaseInOutCirc}}]},slideUpIn=new Keyframe("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),slideUpOut=new Keyframe("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),slideDownIn=new Keyframe("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),slideDownOut=new Keyframe("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),slideLeftIn=new Keyframe("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),slideLeftOut=new Keyframe("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),slideRightIn=new Keyframe("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),slideRightOut=new Keyframe("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),slideMotion={"slide-up":{inKeyframes:slideUpIn,outKeyframes:slideUpOut},"slide-down":{inKeyframes:slideDownIn,outKeyframes:slideDownOut},"slide-left":{inKeyframes:slideLeftIn,outKeyframes:slideLeftOut},"slide-right":{inKeyframes:slideRightIn,outKeyframes:slideRightOut}},initSlideMotion=(H,K)=>{const{antCls:W}=H,G=`${W}-${K}`,{inKeyframes:U,outKeyframes:X}=slideMotion[K];return[initMotion(G,U,X,H.motionDurationMid),{[`
      ${G}-enter,
      ${G}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:H.motionEaseOutQuint},[`${G}-leave`]:{animationTimingFunction:H.motionEaseInQuint}}]},zoomIn=new Keyframe("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),zoomOut=new Keyframe("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),zoomBigIn=new Keyframe("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),zoomBigOut=new Keyframe("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),zoomUpIn=new Keyframe("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),zoomUpOut=new Keyframe("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),zoomLeftIn=new Keyframe("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),zoomLeftOut=new Keyframe("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),zoomRightIn=new Keyframe("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),zoomRightOut=new Keyframe("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),zoomDownIn=new Keyframe("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),zoomDownOut=new Keyframe("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),zoomMotion={zoom:{inKeyframes:zoomIn,outKeyframes:zoomOut},"zoom-big":{inKeyframes:zoomBigIn,outKeyframes:zoomBigOut},"zoom-big-fast":{inKeyframes:zoomBigIn,outKeyframes:zoomBigOut},"zoom-left":{inKeyframes:zoomLeftIn,outKeyframes:zoomLeftOut},"zoom-right":{inKeyframes:zoomRightIn,outKeyframes:zoomRightOut},"zoom-up":{inKeyframes:zoomUpIn,outKeyframes:zoomUpOut},"zoom-down":{inKeyframes:zoomDownIn,outKeyframes:zoomDownOut}},initZoomMotion=(H,K)=>{const{antCls:W}=H,G=`${W}-${K}`,{inKeyframes:U,outKeyframes:X}=zoomMotion[K];return[initMotion(G,U,X,K==="zoom-big-fast"?H.motionDurationFast:H.motionDurationMid),{[`
        ${G}-enter,
        ${G}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:H.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${G}-leave`]:{animationTimingFunction:H.motionEaseInOutCirc}}]},genCollapseMotion=H=>({[H.componentCls]:{[`${H.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${H.motionDurationMid} ${H.motionEaseInOut},
        opacity ${H.motionDurationMid} ${H.motionEaseInOut} !important`}},[`${H.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${H.motionDurationMid} ${H.motionEaseInOut},
        opacity ${H.motionDurationMid} ${H.motionEaseInOut} !important`}}}),genItemStyle=H=>{const{controlPaddingHorizontal:K}=H;return{position:"relative",display:"block",minHeight:H.controlHeight,padding:`${(H.controlHeight-H.fontSize*H.lineHeight)/2}px ${K}px`,color:H.colorText,fontWeight:"normal",fontSize:H.fontSize,lineHeight:H.lineHeight,boxSizing:"border-box"}},genSingleStyle$1=H=>{const{antCls:K,componentCls:W}=H,G=`${W}-item`;return[{[`${W}-dropdown`]:_extends$1(_extends$1({},resetComponent(H)),{position:"absolute",top:-9999,zIndex:H.zIndexPopup,boxSizing:"border-box",padding:H.paddingXXS,overflow:"hidden",fontSize:H.fontSize,fontVariant:"initial",backgroundColor:H.colorBgElevated,borderRadius:H.borderRadiusLG,outline:"none",boxShadow:H.boxShadowSecondary,[`
            &${K}-slide-up-enter${K}-slide-up-enter-active${W}-dropdown-placement-bottomLeft,
            &${K}-slide-up-appear${K}-slide-up-appear-active${W}-dropdown-placement-bottomLeft
          `]:{animationName:slideUpIn},[`
            &${K}-slide-up-enter${K}-slide-up-enter-active${W}-dropdown-placement-topLeft,
            &${K}-slide-up-appear${K}-slide-up-appear-active${W}-dropdown-placement-topLeft
          `]:{animationName:slideDownIn},[`&${K}-slide-up-leave${K}-slide-up-leave-active${W}-dropdown-placement-bottomLeft`]:{animationName:slideUpOut},[`&${K}-slide-up-leave${K}-slide-up-leave-active${W}-dropdown-placement-topLeft`]:{animationName:slideDownOut},"&-hidden":{display:"none"},"&-empty":{color:H.colorTextDisabled},[`${G}-empty`]:_extends$1(_extends$1({},genItemStyle(H)),{color:H.colorTextDisabled}),[`${G}`]:_extends$1(_extends$1({},genItemStyle(H)),{cursor:"pointer",transition:`background ${H.motionDurationSlow} ease`,borderRadius:H.borderRadiusSM,"&-group":{color:H.colorTextDescription,fontSize:H.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":_extends$1({flex:"auto"},textEllipsis),"&-state":{flex:"none"},[`&-active:not(${G}-option-disabled)`]:{backgroundColor:H.controlItemBgHover},[`&-selected:not(${G}-option-disabled)`]:{color:H.colorText,fontWeight:H.fontWeightStrong,backgroundColor:H.controlItemBgActive,[`${G}-option-state`]:{color:H.colorPrimary}},"&-disabled":{[`&${G}-option-selected`]:{backgroundColor:H.colorBgContainerDisabled},color:H.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:H.controlPaddingHorizontal*2}}}),"&-rtl":{direction:"rtl"}})},initSlideMotion(H,"slide-up"),initSlideMotion(H,"slide-down"),initMoveMotion(H,"move-up"),initMoveMotion(H,"move-down")]},FIXED_ITEM_MARGIN=2;function getSelectItemStyle(H){let{controlHeightSM:K,controlHeight:W,lineWidth:G}=H;const U=(W-K)/2-G,X=Math.ceil(U/2);return[U,X]}function genSizeStyle$3(H,K){const{componentCls:W,iconCls:G}=H,U=`${W}-selection-overflow`,X=H.controlHeightSM,[Q]=getSelectItemStyle(H),Z=K?`${W}-${K}`:"";return{[`${W}-multiple${Z}`]:{fontSize:H.fontSize,[U]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},[`${W}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:`${Q-FIXED_ITEM_MARGIN}px ${FIXED_ITEM_MARGIN*2}px`,borderRadius:H.borderRadius,[`${W}-show-search&`]:{cursor:"text"},[`${W}-disabled&`]:{background:H.colorBgContainerDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${FIXED_ITEM_MARGIN}px 0`,lineHeight:`${X}px`,content:'"\\a0"'}},[`
        &${W}-show-arrow ${W}-selector,
        &${W}-allow-clear ${W}-selector
      `]:{paddingInlineEnd:H.fontSizeIcon+H.controlPaddingHorizontal},[`${W}-selection-item`]:{position:"relative",display:"flex",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:X,marginTop:FIXED_ITEM_MARGIN,marginBottom:FIXED_ITEM_MARGIN,lineHeight:`${X-H.lineWidth*2}px`,background:H.colorFillSecondary,border:`${H.lineWidth}px solid ${H.colorSplit}`,borderRadius:H.borderRadiusSM,cursor:"default",transition:`font-size ${H.motionDurationSlow}, line-height ${H.motionDurationSlow}, height ${H.motionDurationSlow}`,userSelect:"none",marginInlineEnd:FIXED_ITEM_MARGIN*2,paddingInlineStart:H.paddingXS,paddingInlineEnd:H.paddingXS/2,[`${W}-disabled&`]:{color:H.colorTextDisabled,borderColor:H.colorBorder,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:H.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":_extends$1(_extends$1({},resetIcon()),{display:"inline-block",color:H.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${G}`]:{verticalAlign:"-0.2em"},"&:hover":{color:H.colorIconHover}})},[`${U}-item + ${U}-item`]:{[`${W}-selection-search`]:{marginInlineStart:0}},[`${W}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:H.inputPaddingHorizontalBase-Q,"\n          &-input,\n          &-mirror\n        ":{height:X,fontFamily:H.fontFamily,lineHeight:`${X}px`,transition:`all ${H.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${W}-selection-placeholder `]:{position:"absolute",top:"50%",insetInlineStart:H.inputPaddingHorizontalBase,insetInlineEnd:H.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${H.motionDurationSlow}`}}}}function genMultipleStyle(H){const{componentCls:K}=H,W=merge(H,{controlHeight:H.controlHeightSM,controlHeightSM:H.controlHeightXS,borderRadius:H.borderRadiusSM,borderRadiusSM:H.borderRadiusXS}),[,G]=getSelectItemStyle(H);return[genSizeStyle$3(H),genSizeStyle$3(W,"sm"),{[`${K}-multiple${K}-sm`]:{[`${K}-selection-placeholder`]:{insetInlineStart:H.controlPaddingHorizontalSM-H.lineWidth,insetInlineEnd:"auto"},[`${K}-selection-search`]:{marginInlineStart:G}}},genSizeStyle$3(merge(H,{fontSize:H.fontSizeLG,controlHeight:H.controlHeightLG,controlHeightSM:H.controlHeight,borderRadius:H.borderRadiusLG,borderRadiusSM:H.borderRadius}),"lg")]}function genSizeStyle$2(H,K){const{componentCls:W,inputPaddingHorizontalBase:G,borderRadius:U}=H,X=H.controlHeight-H.lineWidth*2,Q=Math.ceil(H.fontSize*1.25),Z=K?`${W}-${K}`:"";return{[`${W}-single${Z}`]:{fontSize:H.fontSize,[`${W}-selector`]:_extends$1(_extends$1({},resetComponent(H)),{display:"flex",borderRadius:U,[`${W}-selection-search`]:{position:"absolute",top:0,insetInlineStart:G,insetInlineEnd:G,bottom:0,"&-input":{width:"100%"}},[`
          ${W}-selection-item,
          ${W}-selection-placeholder
        `]:{padding:0,lineHeight:`${X}px`,transition:`all ${H.motionDurationSlow}`,"@supports (-moz-appearance: meterbar)":{lineHeight:`${X}px`}},[`${W}-selection-item`]:{position:"relative",userSelect:"none"},[`${W}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${W}-selection-item:after`,`${W}-selection-placeholder:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${W}-show-arrow ${W}-selection-item,
        &${W}-show-arrow ${W}-selection-placeholder
      `]:{paddingInlineEnd:Q},[`&${W}-open ${W}-selection-item`]:{color:H.colorTextPlaceholder},[`&:not(${W}-customize-input)`]:{[`${W}-selector`]:{width:"100%",height:H.controlHeight,padding:`0 ${G}px`,[`${W}-selection-search-input`]:{height:X},"&:after":{lineHeight:`${X}px`}}},[`&${W}-customize-input`]:{[`${W}-selector`]:{"&:after":{display:"none"},[`${W}-selection-search`]:{position:"static",width:"100%"},[`${W}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${G}px`,"&:after":{display:"none"}}}}}}}function genSingleStyle(H){const{componentCls:K}=H,W=H.controlPaddingHorizontalSM-H.lineWidth;return[genSizeStyle$2(H),genSizeStyle$2(merge(H,{controlHeight:H.controlHeightSM,borderRadius:H.borderRadiusSM}),"sm"),{[`${K}-single${K}-sm`]:{[`&:not(${K}-customize-input)`]:{[`${K}-selection-search`]:{insetInlineStart:W,insetInlineEnd:W},[`${K}-selector`]:{padding:`0 ${W}px`},[`&${K}-show-arrow ${K}-selection-search`]:{insetInlineEnd:W+H.fontSize*1.5},[`
            &${K}-show-arrow ${K}-selection-item,
            &${K}-show-arrow ${K}-selection-placeholder
          `]:{paddingInlineEnd:H.fontSize*1.5}}}},genSizeStyle$2(merge(H,{controlHeight:H.controlHeightLG,fontSize:H.fontSizeLG,borderRadius:H.borderRadiusLG}),"lg")]}function compactItemBorder(H,K,W){const{focusElCls:G,focus:U,borderElCls:X}=W,Q=X?"> *":"",Z=["hover",U?"focus":null,"active"].filter(Boolean).map(ee=>`&:${ee} ${Q}`).join(",");return{[`&-item:not(${K}-last-item)`]:{marginInlineEnd:-H.lineWidth},"&-item":_extends$1(_extends$1({[Z]:{zIndex:2}},G?{[`&${G}`]:{zIndex:2}}:{}),{[`&[disabled] ${Q}`]:{zIndex:0}})}}function compactItemBorderRadius(H,K,W){const{borderElCls:G}=W,U=G?`> ${G}`:"";return{[`&-item:not(${K}-first-item):not(${K}-last-item) ${U}`]:{borderRadius:0},[`&-item:not(${K}-last-item)${K}-first-item`]:{[`& ${U}, &${H}-sm ${U}, &${H}-lg ${U}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${K}-first-item)${K}-last-item`]:{[`& ${U}, &${H}-sm ${U}, &${H}-lg ${U}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function genCompactItemStyle(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:W}=H,G=`${W}-compact`;return{[G]:_extends$1(_extends$1({},compactItemBorder(H,G,K)),compactItemBorderRadius(W,G,K))}}const genSelectorStyle=H=>{const{componentCls:K}=H;return{position:"relative",backgroundColor:H.colorBgContainer,border:`${H.lineWidth}px ${H.lineType} ${H.colorBorder}`,transition:`all ${H.motionDurationMid} ${H.motionEaseInOut}`,input:{cursor:"pointer"},[`${K}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit"}},[`${K}-disabled&`]:{color:H.colorTextDisabled,background:H.colorBgContainerDisabled,cursor:"not-allowed",[`${K}-multiple&`]:{background:H.colorBgContainerDisabled},input:{cursor:"not-allowed"}}}},genStatusStyle$2=function(H,K){let W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{componentCls:G,borderHoverColor:U,outlineColor:X,antCls:Q}=K,Z=W?{[`${G}-selector`]:{borderColor:U}}:{};return{[H]:{[`&:not(${G}-disabled):not(${G}-customize-input):not(${Q}-pagination-size-changer)`]:_extends$1(_extends$1({},Z),{[`${G}-focused& ${G}-selector`]:{borderColor:U,boxShadow:`0 0 0 ${K.controlOutlineWidth}px ${X}`,borderInlineEndWidth:`${K.controlLineWidth}px !important`,outline:0},[`&:hover ${G}-selector`]:{borderColor:U,borderInlineEndWidth:`${K.controlLineWidth}px !important`}})}}},getSearchInputWithoutBorderStyle=H=>{const{componentCls:K}=H;return{[`${K}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},genBaseStyle$7=H=>{const{componentCls:K,inputPaddingHorizontalBase:W,iconCls:G}=H;return{[K]:_extends$1(_extends$1({},resetComponent(H)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${K}-customize-input) ${K}-selector`]:_extends$1(_extends$1({},genSelectorStyle(H)),getSearchInputWithoutBorderStyle(H)),[`${K}-selection-item`]:_extends$1({flex:1,fontWeight:"normal"},textEllipsis),[`${K}-selection-placeholder`]:_extends$1(_extends$1({},textEllipsis),{flex:1,color:H.colorTextPlaceholder,pointerEvents:"none"}),[`${K}-arrow`]:_extends$1(_extends$1({},resetIcon()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:W,height:H.fontSizeIcon,marginTop:-H.fontSizeIcon/2,color:H.colorTextQuaternary,fontSize:H.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",[G]:{verticalAlign:"top",transition:`transform ${H.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${K}-suffix)`]:{pointerEvents:"auto"}},[`${K}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${K}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:W,zIndex:1,display:"inline-block",width:H.fontSizeIcon,height:H.fontSizeIcon,marginTop:-H.fontSizeIcon/2,color:H.colorTextQuaternary,fontSize:H.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:H.colorBgContainer,cursor:"pointer",opacity:0,transition:`color ${H.motionDurationMid} ease, opacity ${H.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:H.colorTextTertiary}},"&:hover":{[`${K}-clear`]:{opacity:1}}}),[`${K}-has-feedback`]:{[`${K}-clear`]:{insetInlineEnd:W+H.fontSize+H.paddingXXS}}}},genSelectStyle=H=>{const{componentCls:K}=H;return[{[K]:{[`&-borderless ${K}-selector`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},[`&${K}-in-form-item`]:{width:"100%"}}},genBaseStyle$7(H),genSingleStyle(H),genMultipleStyle(H),genSingleStyle$1(H),{[`${K}-rtl`]:{direction:"rtl"}},genStatusStyle$2(K,merge(H,{borderHoverColor:H.colorPrimaryHover,outlineColor:H.controlOutline})),genStatusStyle$2(`${K}-status-error`,merge(H,{borderHoverColor:H.colorErrorHover,outlineColor:H.colorErrorOutline}),!0),genStatusStyle$2(`${K}-status-warning`,merge(H,{borderHoverColor:H.colorWarningHover,outlineColor:H.colorWarningOutline}),!0),genCompactItemStyle(H,{borderElCls:`${K}-selector`,focusElCls:`${K}-focused`})]},useSelectStyle=genComponentStyleHook("Select",(H,K)=>{let{rootPrefixCls:W}=K;const G=merge(H,{rootPrefixCls:W,inputPaddingHorizontalBase:H.paddingSM-1});return[genSelectStyle(G)]},H=>({zIndexPopup:H.zIndexPopupBase+50})),selectProps=()=>_extends$1(_extends$1({},omit$1(selectProps$1(),["inputIcon","mode","getInputElement","getRawInputElement","backfill"])),{value:someType([Array,Object,String,Number]),defaultValue:someType([Array,Object,String,Number]),notFoundContent:PropTypes.any,suffixIcon:PropTypes.any,itemIcon:PropTypes.any,size:stringType(),mode:stringType(),bordered:booleanType(!0),transitionName:String,choiceTransitionName:stringType(""),popupClassName:String,dropdownClassName:String,placement:stringType(),status:stringType(),"onUpdate:value":functionType()}),SECRET_COMBOBOX_MODE_DO_NOT_USE="SECRET_COMBOBOX_MODE_DO_NOT_USE",Select=defineComponent({compatConfig:{MODE:3},name:"ASelect",Option:Option$1,OptGroup,inheritAttrs:!1,props:initDefaultProps(selectProps(),{listHeight:256,listItemHeight:24}),SECRET_COMBOBOX_MODE_DO_NOT_USE,slots:Object,setup(H,K){let{attrs:W,emit:G,slots:U,expose:X}=K;const Q=ref(),Z=useInjectFormItemContext(),ee=FormItemInputContext.useInject(),ne=computed(()=>getMergedStatus(ee.status,H.status)),te=()=>{var We;(We=Q.value)===null||We===void 0||We.focus()},oe=()=>{var We;(We=Q.value)===null||We===void 0||We.blur()},re=We=>{var Le;(Le=Q.value)===null||Le===void 0||Le.scrollTo(We)},ae=computed(()=>{const{mode:We}=H;if(We!=="combobox")return We===SECRET_COMBOBOX_MODE_DO_NOT_USE?"combobox":We}),{prefixCls:se,direction:ce,renderEmpty:de,size:le,getPrefixCls:fe,getPopupContainer:pe,disabled:me,select:ue}=useConfigInject("select",H),{compactSize:ge,compactItemClassnames:he}=useCompactItemContext(se,ce),ve=computed(()=>ge.value||le.value),ye=useInjectDisabled(),be=computed(()=>{var We;return(We=me.value)!==null&&We!==void 0?We:ye.value}),[Se,Ce]=useSelectStyle(se),xe=computed(()=>fe()),Ne=computed(()=>H.placement!==void 0?H.placement:ce.value==="rtl"?"bottomRight":"bottomLeft"),$e=computed(()=>getTransitionName(xe.value,getTransitionDirection(Ne.value),H.transitionName)),Ee=computed(()=>classNames({[`${se.value}-lg`]:ve.value==="large",[`${se.value}-sm`]:ve.value==="small",[`${se.value}-rtl`]:ce.value==="rtl",[`${se.value}-borderless`]:!H.bordered,[`${se.value}-in-form-item`]:ee.isFormItemInput},getStatusClassNames(se.value,ne.value,ee.hasFeedback),he.value,Ce.value)),Te=function(){for(var We=arguments.length,Le=new Array(We),Ze=0;Ze<We;Ze++)Le[Ze]=arguments[Ze];G("update:value",Le[0]),G("change",...Le),Z.onFieldChange()},Be=We=>{G("blur",We),Z.onFieldBlur()};X({blur:oe,focus:te,scrollTo:re});const Ae=computed(()=>ae.value==="multiple"||ae.value==="tags"),ze=computed(()=>H.showArrow!==void 0?H.showArrow:H.loading||!(Ae.value||ae.value==="combobox"));return()=>{var We,Le,Ze,Ye;const{notFoundContent:Re,listHeight:Ke=256,listItemHeight:we=24,popupClassName:_e,dropdownClassName:Ve,virtual:je,dropdownMatchSelectWidth:qe,id:Pe=Z.id.value,placeholder:ke=(We=U.placeholder)===null||We===void 0?void 0:We.call(U),showArrow:Ue}=H,{hasFeedback:He,feedbackIcon:Me}=ee;let Je;Re!==void 0?Je=Re:U.notFoundContent?Je=U.notFoundContent():ae.value==="combobox"?Je=null:Je=de?.("Select")||createVNode(DefaultRenderEmpty,{componentName:"Select"},null);const{suffixIcon:Fe,itemIcon:Oe,removeIcon:Qe,clearIcon:Ie}=getIcons(_extends$1(_extends$1({},H),{multiple:Ae.value,prefixCls:se.value,hasFeedback:He,feedbackIcon:Me,showArrow:ze.value}),U),De=omit$1(H,["prefixCls","suffixIcon","itemIcon","removeIcon","clearIcon","size","bordered","status"]),ot=classNames(_e||Ve,{[`${se.value}-dropdown-${ce.value}`]:ce.value==="rtl"},Ce.value);return Se(createVNode(Select$1,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({ref:Q,virtual:je,dropdownMatchSelectWidth:qe},De),W),{},{showSearch:(Le=H.showSearch)!==null&&Le!==void 0?Le:(Ze=ue?.value)===null||Ze===void 0?void 0:Ze.showSearch,placeholder:ke,listHeight:Ke,listItemHeight:we,mode:ae.value,prefixCls:se.value,direction:ce.value,inputIcon:Fe,menuItemSelectedIcon:Oe,removeIcon:Qe,clearIcon:Ie,notFoundContent:Je,class:[Ee.value,W.class],getPopupContainer:pe?.value,dropdownClassName:ot,onChange:Te,onBlur:Be,id:Pe,dropdownRender:De.dropdownRender||U.dropdownRender,transitionName:$e.value,children:(Ye=U.default)===null||Ye===void 0?void 0:Ye.call(U),tagRender:H.tagRender||U.tagRender,optionLabelRender:U.optionLabel,maxTagPlaceholder:H.maxTagPlaceholder||U.maxTagPlaceholder,showArrow:He||Ue,disabled:be.value}),{option:U.option}))}}});Select.install=function(H){return H.component(Select.name,Select),H.component(Select.Option.displayName,Select.Option),H.component(Select.OptGroup.displayName,Select.OptGroup),H};const SelectOption=Select.Option;Select.OptGroup;var CheckCircleOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};function _objectSpread$H(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$H(H,U,W[U])})}return H}function _defineProperty$H(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var CheckCircleOutlined=function(K,W){var G=_objectSpread$H({},K,W.attrs);return createVNode(Icon,_objectSpread$H({},G,{icon:CheckCircleOutlined$1}),null)};CheckCircleOutlined.displayName="CheckCircleOutlined";CheckCircleOutlined.inheritAttrs=!1;var ExclamationCircleOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};function _objectSpread$G(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$G(H,U,W[U])})}return H}function _defineProperty$G(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var ExclamationCircleOutlined=function(K,W){var G=_objectSpread$G({},K,W.attrs);return createVNode(Icon,_objectSpread$G({},G,{icon:ExclamationCircleOutlined$1}),null)};ExclamationCircleOutlined.displayName="ExclamationCircleOutlined";ExclamationCircleOutlined.inheritAttrs=!1;var InfoCircleOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function _objectSpread$F(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$F(H,U,W[U])})}return H}function _defineProperty$F(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var InfoCircleOutlined=function(K,W){var G=_objectSpread$F({},K,W.attrs);return createVNode(Icon,_objectSpread$F({},G,{icon:InfoCircleOutlined$1}),null)};InfoCircleOutlined.displayName="InfoCircleOutlined";InfoCircleOutlined.inheritAttrs=!1;var CloseCircleOutlined$1={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};function _objectSpread$E(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$E(H,U,W[U])})}return H}function _defineProperty$E(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var CloseCircleOutlined=function(K,W){var G=_objectSpread$E({},K,W.attrs);return createVNode(Icon,_objectSpread$E({},G,{icon:CloseCircleOutlined$1}),null)};CloseCircleOutlined.displayName="CloseCircleOutlined";CloseCircleOutlined.inheritAttrs=!1;var CheckCircleFilled$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function _objectSpread$D(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$D(H,U,W[U])})}return H}function _defineProperty$D(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var CheckCircleFilled=function(K,W){var G=_objectSpread$D({},K,W.attrs);return createVNode(Icon,_objectSpread$D({},G,{icon:CheckCircleFilled$1}),null)};CheckCircleFilled.displayName="CheckCircleFilled";CheckCircleFilled.inheritAttrs=!1;var ExclamationCircleFilled$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};function _objectSpread$C(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$C(H,U,W[U])})}return H}function _defineProperty$C(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var ExclamationCircleFilled=function(K,W){var G=_objectSpread$C({},K,W.attrs);return createVNode(Icon,_objectSpread$C({},G,{icon:ExclamationCircleFilled$1}),null)};ExclamationCircleFilled.displayName="ExclamationCircleFilled";ExclamationCircleFilled.inheritAttrs=!1;var InfoCircleFilled$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};function _objectSpread$B(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$B(H,U,W[U])})}return H}function _defineProperty$B(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var InfoCircleFilled=function(K,W){var G=_objectSpread$B({},K,W.attrs);return createVNode(Icon,_objectSpread$B({},G,{icon:InfoCircleFilled$1}),null)};InfoCircleFilled.displayName="InfoCircleFilled";InfoCircleFilled.inheritAttrs=!1;const responsiveArray=["xxxl","xxl","xl","lg","md","sm","xs"],getResponsiveMap=H=>({xs:`(max-width: ${H.screenXSMax}px)`,sm:`(min-width: ${H.screenSM}px)`,md:`(min-width: ${H.screenMD}px)`,lg:`(min-width: ${H.screenLG}px)`,xl:`(min-width: ${H.screenXL}px)`,xxl:`(min-width: ${H.screenXXL}px)`,xxxl:`{min-width: ${H.screenXXXL}px}`});function useResponsiveObserver(){const[,H]=useToken();return computed(()=>{const K=getResponsiveMap(H.value),W=new Map;let G=-1,U={};return{matchHandlers:{},dispatch(X){return U=X,W.forEach(Q=>Q(U)),W.size>=1},subscribe(X){return W.size||this.register(),G+=1,W.set(G,X),X(U),G},unsubscribe(X){W.delete(X),W.size||this.unregister()},unregister(){Object.keys(K).forEach(X=>{const Q=K[X],Z=this.matchHandlers[Q];Z?.mql.removeListener(Z?.listener)}),W.clear()},register(){Object.keys(K).forEach(X=>{const Q=K[X],Z=ne=>{let{matches:te}=ne;this.dispatch(_extends$1(_extends$1({},U),{[X]:te}))},ee=window.matchMedia(Q);ee.addListener(Z),this.matchHandlers[Q]={mql:ee,listener:Z},Z(ee)})},responsiveMap:K}})}function useBreakpoint(){const H=shallowRef({});let K=null;const W=useResponsiveObserver();return onMounted(()=>{K=W.value.subscribe(G=>{H.value=G})}),onUnmounted(()=>{W.value.unsubscribe(K)}),H}function eagerComputed(H){const K=shallowRef();return watchEffect(()=>{K.value=H()},{flush:"sync"}),K}const autoAdjustOverflow$2={adjustX:1,adjustY:1},targetOffset$2=[0,0],placements$2={left:{points:["cr","cl"],overflow:autoAdjustOverflow$2,offset:[-4,0],targetOffset:targetOffset$2},right:{points:["cl","cr"],overflow:autoAdjustOverflow$2,offset:[4,0],targetOffset:targetOffset$2},top:{points:["bc","tc"],overflow:autoAdjustOverflow$2,offset:[0,-4],targetOffset:targetOffset$2},bottom:{points:["tc","bc"],overflow:autoAdjustOverflow$2,offset:[0,4],targetOffset:targetOffset$2},topLeft:{points:["bl","tl"],overflow:autoAdjustOverflow$2,offset:[0,-4],targetOffset:targetOffset$2},leftTop:{points:["tr","tl"],overflow:autoAdjustOverflow$2,offset:[-4,0],targetOffset:targetOffset$2},topRight:{points:["br","tr"],overflow:autoAdjustOverflow$2,offset:[0,-4],targetOffset:targetOffset$2},rightTop:{points:["tl","tr"],overflow:autoAdjustOverflow$2,offset:[4,0],targetOffset:targetOffset$2},bottomRight:{points:["tr","br"],overflow:autoAdjustOverflow$2,offset:[0,4],targetOffset:targetOffset$2},rightBottom:{points:["bl","br"],overflow:autoAdjustOverflow$2,offset:[4,0],targetOffset:targetOffset$2},bottomLeft:{points:["tl","bl"],overflow:autoAdjustOverflow$2,offset:[0,4],targetOffset:targetOffset$2},leftBottom:{points:["br","bl"],overflow:autoAdjustOverflow$2,offset:[-4,0],targetOffset:targetOffset$2}},tooltipContentProps={prefixCls:String,id:String,overlayInnerStyle:PropTypes.any},Content$2=defineComponent({compatConfig:{MODE:3},name:"TooltipContent",props:tooltipContentProps,setup(H,K){let{slots:W}=K;return()=>{var G;return createVNode("div",{class:`${H.prefixCls}-inner`,id:H.id,role:"tooltip",style:H.overlayInnerStyle},[(G=W.overlay)===null||G===void 0?void 0:G.call(W)])}}});var __rest$B=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};function noop$2(){}const Tooltip=defineComponent({compatConfig:{MODE:3},name:"Tooltip",inheritAttrs:!1,props:{trigger:PropTypes.any.def(["hover"]),defaultVisible:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:PropTypes.string.def("right"),transitionName:String,animation:PropTypes.any,afterVisibleChange:PropTypes.func.def(()=>{}),overlayStyle:{type:Object,default:void 0},overlayClassName:String,prefixCls:PropTypes.string.def("rc-tooltip"),mouseEnterDelay:PropTypes.number.def(.1),mouseLeaveDelay:PropTypes.number.def(.1),getPopupContainer:Function,destroyTooltipOnHide:{type:Boolean,default:!1},align:PropTypes.object.def(()=>({})),arrowContent:PropTypes.any.def(null),tipId:String,builtinPlacements:PropTypes.object,overlayInnerStyle:{type:Object,default:void 0},popupVisible:{type:Boolean,default:void 0},onVisibleChange:Function,onPopupAlign:Function,arrow:{type:Boolean,default:!0}},setup(H,K){let{slots:W,attrs:G,expose:U}=K;const X=shallowRef(),Q=()=>{const{prefixCls:te,tipId:oe,overlayInnerStyle:re}=H;return[H.arrow?createVNode("div",{class:`${te}-arrow`,key:"arrow"},[getPropsSlot(W,H,"arrowContent")]):null,createVNode(Content$2,{key:"content",prefixCls:te,id:oe,overlayInnerStyle:re},{overlay:W.overlay})]};U({getPopupDomNode:()=>X.value.getPopupDomNode(),triggerDOM:X,forcePopupAlign:()=>{var te;return(te=X.value)===null||te===void 0?void 0:te.forcePopupAlign()}});const ee=shallowRef(!1),ne=shallowRef(!1);return watchEffect(()=>{const{destroyTooltipOnHide:te}=H;if(typeof te=="boolean")ee.value=te;else if(te&&typeof te=="object"){const{keepParent:oe}=te;ee.value=oe===!0,ne.value=oe===!1}}),()=>{const{overlayClassName:te,trigger:oe,mouseEnterDelay:re,mouseLeaveDelay:ae,overlayStyle:se,prefixCls:ce,afterVisibleChange:de,transitionName:le,animation:fe,placement:pe,align:me,destroyTooltipOnHide:ue,defaultVisible:ge}=H,he=__rest$B(H,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible"]),ve=_extends$1({},he);H.visible!==void 0&&(ve.popupVisible=H.visible);const ye=_extends$1(_extends$1(_extends$1({popupClassName:te,prefixCls:ce,action:oe,builtinPlacements:placements$2,popupPlacement:pe,popupAlign:me,afterPopupVisibleChange:de,popupTransitionName:le,popupAnimation:fe,defaultPopupVisible:ge,destroyPopupOnHide:ee.value,autoDestroy:ne.value,mouseLeaveDelay:ae,popupStyle:se,mouseEnterDelay:re},ve),G),{onPopupVisibleChange:H.onVisibleChange||noop$2,onPopupAlign:H.onPopupAlign||noop$2,ref:X,arrow:!!H.arrow,popup:Q()});return createVNode(Trigger,ye,{default:W.default})}}}),abstractTooltipProps=()=>({trigger:[String,Array],open:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:String,color:String,transitionName:String,overlayStyle:objectType(),overlayInnerStyle:objectType(),overlayClassName:String,openClassName:String,prefixCls:String,mouseEnterDelay:Number,mouseLeaveDelay:Number,getPopupContainer:Function,arrowPointAtCenter:{type:Boolean,default:void 0},arrow:{type:[Boolean,Object],default:!0},autoAdjustOverflow:{type:[Boolean,Object],default:void 0},destroyTooltipOnHide:{type:Boolean,default:void 0},align:objectType(),builtinPlacements:objectType(),children:Array,onVisibleChange:Function,"onUpdate:visible":Function,onOpenChange:Function,"onUpdate:open":Function}),autoAdjustOverflowEnabled={adjustX:1,adjustY:1},autoAdjustOverflowDisabled={adjustX:0,adjustY:0},targetOffset$1=[0,0];function getOverflowOptions(H){return typeof H=="boolean"?H?autoAdjustOverflowEnabled:autoAdjustOverflowDisabled:_extends$1(_extends$1({},autoAdjustOverflowDisabled),H)}function getPlacements(H){const{arrowWidth:K=4,horizontalArrowShift:W=16,verticalArrowShift:G=8,autoAdjustOverflow:U,arrowPointAtCenter:X}=H,Q={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(W+K),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(G+K)]},topRight:{points:["br","tc"],offset:[W+K,-4]},rightTop:{points:["tl","cr"],offset:[4,-(G+K)]},bottomRight:{points:["tr","bc"],offset:[W+K,4]},rightBottom:{points:["bl","cr"],offset:[4,G+K]},bottomLeft:{points:["tl","bc"],offset:[-(W+K),4]},leftBottom:{points:["br","cl"],offset:[-4,G+K]}};return Object.keys(Q).forEach(Z=>{Q[Z]=X?_extends$1(_extends$1({},Q[Z]),{overflow:getOverflowOptions(U),targetOffset:targetOffset$1}):_extends$1(_extends$1({},placements$2[Z]),{overflow:getOverflowOptions(U)}),Q[Z].ignoreShake=!0}),Q}function firstNotUndefined(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];for(let K=0,W=H.length;K<W;K++)if(H[K]!==void 0)return H[K]}const inverseColors=PresetColors.map(H=>`${H}-inverse`),PresetStatusColorTypes=["success","processing","error","default","warning"];function isPresetColor(H){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[...inverseColors,...PresetColors].includes(H):PresetColors.includes(H)}function isPresetStatusColor(H){return PresetStatusColorTypes.includes(H)}function parseColor(H,K){const W=isPresetColor(K),G=classNames({[`${H}-${K}`]:K&&W}),U={},X={};return K&&!W&&(U.background=K,X["--antd-arrow-background-color"]=K),{className:G,overlayStyle:U,arrowStyle:X}}function connectArrowCls(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return H.map(W=>`${K}${W}`).join(",")}const MAX_VERTICAL_CONTENT_RADIUS=8;function getArrowOffset(H){const K=MAX_VERTICAL_CONTENT_RADIUS,{sizePopupArrow:W,contentRadius:G,borderRadiusOuter:U,limitVerticalRadius:X}=H,Q=W/2-Math.ceil(U*(Math.sqrt(2)-1)),Z=(G>12?G+2:12)-Q,ee=X?K-Q:Z;return{dropdownArrowOffset:Z,dropdownArrowOffsetVertical:ee}}function getArrowStyle(H,K){const{componentCls:W,sizePopupArrow:G,marginXXS:U,borderRadiusXS:X,borderRadiusOuter:Q,boxShadowPopoverArrow:Z}=H,{colorBg:ee,showArrowCls:ne,contentRadius:te=H.borderRadiusLG,limitVerticalRadius:oe}=K,{dropdownArrowOffsetVertical:re,dropdownArrowOffset:ae}=getArrowOffset({sizePopupArrow:G,contentRadius:te,borderRadiusOuter:Q,limitVerticalRadius:oe}),se=G/2+U;return{[W]:{[`${W}-arrow`]:[_extends$1(_extends$1({position:"absolute",zIndex:1,display:"block"},roundedArrow(G,X,Q,ee,Z)),{"&:before":{background:ee}})],[[`&-placement-top ${W}-arrow`,`&-placement-topLeft ${W}-arrow`,`&-placement-topRight ${W}-arrow`].join(",")]:{bottom:0,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top ${W}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft ${W}-arrow`]:{left:{_skip_check_:!0,value:ae}},[`&-placement-topRight ${W}-arrow`]:{right:{_skip_check_:!0,value:ae}},[[`&-placement-bottom ${W}-arrow`,`&-placement-bottomLeft ${W}-arrow`,`&-placement-bottomRight ${W}-arrow`].join(",")]:{top:0,transform:"translateY(-100%)"},[`&-placement-bottom ${W}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft ${W}-arrow`]:{left:{_skip_check_:!0,value:ae}},[`&-placement-bottomRight ${W}-arrow`]:{right:{_skip_check_:!0,value:ae}},[[`&-placement-left ${W}-arrow`,`&-placement-leftTop ${W}-arrow`,`&-placement-leftBottom ${W}-arrow`].join(",")]:{right:{_skip_check_:!0,value:0},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left ${W}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop ${W}-arrow`]:{top:re},[`&-placement-leftBottom ${W}-arrow`]:{bottom:re},[[`&-placement-right ${W}-arrow`,`&-placement-rightTop ${W}-arrow`,`&-placement-rightBottom ${W}-arrow`].join(",")]:{left:{_skip_check_:!0,value:0},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right ${W}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop ${W}-arrow`]:{top:re},[`&-placement-rightBottom ${W}-arrow`]:{bottom:re},[connectArrowCls(["&-placement-topLeft","&-placement-top","&-placement-topRight"].map(ce=>ce+=":not(&-arrow-hidden)"),ne)]:{paddingBottom:se},[connectArrowCls(["&-placement-bottomLeft","&-placement-bottom","&-placement-bottomRight"].map(ce=>ce+=":not(&-arrow-hidden)"),ne)]:{paddingTop:se},[connectArrowCls(["&-placement-leftTop","&-placement-left","&-placement-leftBottom"].map(ce=>ce+=":not(&-arrow-hidden)"),ne)]:{paddingRight:{_skip_check_:!0,value:se}},[connectArrowCls(["&-placement-rightTop","&-placement-right","&-placement-rightBottom"].map(ce=>ce+=":not(&-arrow-hidden)"),ne)]:{paddingLeft:{_skip_check_:!0,value:se}}}}}const genTooltipStyle=H=>{const{componentCls:K,tooltipMaxWidth:W,tooltipColor:G,tooltipBg:U,tooltipBorderRadius:X,zIndexPopup:Q,controlHeight:Z,boxShadowSecondary:ee,paddingSM:ne,paddingXS:te,tooltipRadiusOuter:oe}=H;return[{[K]:_extends$1(_extends$1(_extends$1(_extends$1({},resetComponent(H)),{position:"absolute",zIndex:Q,display:"block","&":[{width:"max-content"},{width:"intrinsic"}],maxWidth:W,visibility:"visible","&-hidden":{display:"none"},"--antd-arrow-background-color":U,[`${K}-inner`]:{minWidth:Z,minHeight:Z,padding:`${ne/2}px ${te}px`,color:G,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:U,borderRadius:X,boxShadow:ee},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${K}-inner`]:{borderRadius:Math.min(X,MAX_VERTICAL_CONTENT_RADIUS)}},[`${K}-content`]:{position:"relative"}}),genPresetColor(H,(re,ae)=>{let{darkColor:se}=ae;return{[`&${K}-${re}`]:{[`${K}-inner`]:{backgroundColor:se},[`${K}-arrow`]:{"--antd-arrow-background-color":se}}}})),{"&-rtl":{direction:"rtl"}})},getArrowStyle(merge(H,{borderRadiusOuter:oe}),{colorBg:"var(--antd-arrow-background-color)",showArrowCls:"",contentRadius:X,limitVerticalRadius:!0}),{[`${K}-pure`]:{position:"relative",maxWidth:"none"}}]},useStyle$u=(H,K)=>genComponentStyleHook("Tooltip",G=>{if(K?.value===!1)return[];const{borderRadius:U,colorTextLightSolid:X,colorBgDefault:Q,borderRadiusOuter:Z}=G,ee=merge(G,{tooltipMaxWidth:250,tooltipColor:X,tooltipBorderRadius:U,tooltipBg:Q,tooltipRadiusOuter:Z>4?4:Z});return[genTooltipStyle(ee),initZoomMotion(G,"zoom-big-fast")]},G=>{let{zIndexPopupBase:U,colorBgSpotlight:X}=G;return{zIndexPopup:U+70,colorBgDefault:X}})(H),splitObject=(H,K)=>{const W={},G=_extends$1({},H);return K.forEach(U=>{H&&U in H&&(W[U]=H[U],delete G[U])}),{picked:W,omitted:G}},tooltipProps=()=>_extends$1(_extends$1({},abstractTooltipProps()),{title:PropTypes.any}),ToolTip=defineComponent({compatConfig:{MODE:3},name:"ATooltip",inheritAttrs:!1,props:initDefaultProps(tooltipProps(),{trigger:"hover",align:{},placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0}),slots:Object,setup(H,K){let{slots:W,emit:G,attrs:U,expose:X}=K;const{prefixCls:Q,getPopupContainer:Z,direction:ee,rootPrefixCls:ne}=useConfigInject("tooltip",H),te=computed(()=>{var be;return(be=H.open)!==null&&be!==void 0?be:H.visible}),oe=ref(firstNotUndefined([H.open,H.visible])),re=ref();let ae;watch(te,be=>{wrapperRaf.cancel(ae),ae=wrapperRaf(()=>{oe.value=!!be})});const se=()=>{var be;const Se=(be=H.title)!==null&&be!==void 0?be:W.title;return!Se&&Se!==0},ce=be=>{const Se=se();te.value===void 0&&(oe.value=Se?!1:be),Se||(G("update:visible",be),G("visibleChange",be),G("update:open",be),G("openChange",be))};X({getPopupDomNode:()=>re.value.getPopupDomNode(),open:oe,forcePopupAlign:()=>{var be;return(be=re.value)===null||be===void 0?void 0:be.forcePopupAlign()}});const le=computed(()=>{var be;const{builtinPlacements:Se,autoAdjustOverflow:Ce,arrow:xe,arrowPointAtCenter:Ne}=H;let $e=Ne;return typeof xe=="object"&&($e=(be=xe.pointAtCenter)!==null&&be!==void 0?be:Ne),Se||getPlacements({arrowPointAtCenter:$e,autoAdjustOverflow:Ce})}),fe=be=>be||be==="",pe=be=>{const Se=be.type;if(typeof Se=="object"&&be.props&&((Se.__ANT_BUTTON===!0||Se==="button")&&fe(be.props.disabled)||Se.__ANT_SWITCH===!0&&(fe(be.props.disabled)||fe(be.props.loading))||Se.__ANT_RADIO===!0&&fe(be.props.disabled))){const{picked:Ce,omitted:xe}=splitObject(getStyle$2(be),["position","left","right","top","bottom","float","display","zIndex"]),Ne=_extends$1(_extends$1({display:"inline-block"},Ce),{cursor:"not-allowed",lineHeight:1,width:be.props&&be.props.block?"100%":void 0}),$e=_extends$1(_extends$1({},xe),{pointerEvents:"none"}),Ee=cloneElement(be,{style:$e},!0);return createVNode("span",{style:Ne,class:`${Q.value}-disabled-compatible-wrapper`},[Ee])}return be},me=()=>{var be,Se;return(be=H.title)!==null&&be!==void 0?be:(Se=W.title)===null||Se===void 0?void 0:Se.call(W)},ue=(be,Se)=>{const Ce=le.value,xe=Object.keys(Ce).find(Ne=>{var $e,Ee;return Ce[Ne].points[0]===(($e=Se.points)===null||$e===void 0?void 0:$e[0])&&Ce[Ne].points[1]===((Ee=Se.points)===null||Ee===void 0?void 0:Ee[1])});if(xe){const Ne=be.getBoundingClientRect(),$e={top:"50%",left:"50%"};xe.indexOf("top")>=0||xe.indexOf("Bottom")>=0?$e.top=`${Ne.height-Se.offset[1]}px`:(xe.indexOf("Top")>=0||xe.indexOf("bottom")>=0)&&($e.top=`${-Se.offset[1]}px`),xe.indexOf("left")>=0||xe.indexOf("Right")>=0?$e.left=`${Ne.width-Se.offset[0]}px`:(xe.indexOf("right")>=0||xe.indexOf("Left")>=0)&&($e.left=`${-Se.offset[0]}px`),be.style.transformOrigin=`${$e.left} ${$e.top}`}},ge=computed(()=>parseColor(Q.value,H.color)),he=computed(()=>U["data-popover-inject"]),[ve,ye]=useStyle$u(Q,computed(()=>!he.value));return()=>{var be,Se;const{openClassName:Ce,overlayClassName:xe,overlayStyle:Ne,overlayInnerStyle:$e}=H;let Ee=(Se=filterEmpty((be=W.default)===null||be===void 0?void 0:be.call(W)))!==null&&Se!==void 0?Se:null;Ee=Ee.length===1?Ee[0]:Ee;let Te=oe.value;if(te.value===void 0&&se()&&(Te=!1),!Ee)return null;const Be=pe(isValidElement(Ee)&&!isFragment(Ee)?Ee:createVNode("span",null,[Ee])),Ae=classNames({[Ce||`${Q.value}-open`]:!0,[Be.props&&Be.props.class]:Be.props&&Be.props.class}),ze=classNames(xe,{[`${Q.value}-rtl`]:ee.value==="rtl"},ge.value.className,ye.value),We=_extends$1(_extends$1({},ge.value.overlayStyle),$e),Le=ge.value.arrowStyle,Ze=_extends$1(_extends$1(_extends$1({},U),H),{prefixCls:Q.value,arrow:!!H.arrow,getPopupContainer:Z?.value,builtinPlacements:le.value,visible:Te,ref:re,overlayClassName:ze,overlayStyle:_extends$1(_extends$1({},Le),Ne),overlayInnerStyle:We,onVisibleChange:ce,onPopupAlign:ue,transitionName:getTransitionName(ne.value,"zoom-big-fast",H.transitionName)});return ve(createVNode(Tooltip,Ze,{default:()=>[oe.value?cloneElement(Be,{class:Ae}):Be],arrowContent:()=>createVNode("span",{class:`${Q.value}-arrow-content`},null),overlay:me}))}}}),__unplugin_components_3$3=withInstall(ToolTip);function UnitNumber(H){let{prefixCls:K,value:W,current:G,offset:U=0}=H,X;return U&&(X={position:"absolute",top:`${U}00%`,left:0}),createVNode("p",{style:X,class:classNames(`${K}-only-unit`,{current:G})},[W])}function getOffset(H,K,W){let G=H,U=0;for(;(G+10)%10!==K;)G+=W,U+=W;return U}const SingleNumber=defineComponent({compatConfig:{MODE:3},name:"SingleNumber",props:{prefixCls:String,value:String,count:Number},setup(H){const K=computed(()=>Number(H.value)),W=computed(()=>Math.abs(H.count)),G=reactive({prevValue:K.value,prevCount:W.value}),U=()=>{G.prevValue=K.value,G.prevCount=W.value},X=ref();return watch(K,()=>{clearTimeout(X.value),X.value=setTimeout(()=>{U()},1e3)},{flush:"post"}),onUnmounted(()=>{clearTimeout(X.value)}),()=>{let Q,Z={};const ee=K.value;if(G.prevValue===ee||Number.isNaN(ee)||Number.isNaN(G.prevValue))Q=[UnitNumber(_extends$1(_extends$1({},H),{current:!0}))],Z={transition:"none"};else{Q=[];const ne=ee+10,te=[];for(let ae=ee;ae<=ne;ae+=1)te.push(ae);const oe=te.findIndex(ae=>ae%10===G.prevValue);Q=te.map((ae,se)=>{const ce=ae%10;return UnitNumber(_extends$1(_extends$1({},H),{value:ce,offset:se-oe,current:se===oe}))});const re=G.prevCount<W.value?1:-1;Z={transform:`translateY(${-getOffset(G.prevValue,ee,re)}00%)`}}return createVNode("span",{class:`${H.prefixCls}-only`,style:Z,onTransitionend:()=>U()},[Q])}}});var __rest$A=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const scrollNumberProps={prefixCls:String,count:PropTypes.any,component:String,title:PropTypes.any,show:Boolean},ScrollNumber=defineComponent({compatConfig:{MODE:3},name:"ScrollNumber",inheritAttrs:!1,props:scrollNumberProps,setup(H,K){let{attrs:W,slots:G}=K;const{prefixCls:U}=useConfigInject("scroll-number",H);return()=>{var X;const Q=_extends$1(_extends$1({},H),W),{prefixCls:Z,count:ee,title:ne,show:te,component:oe="sup",class:re,style:ae}=Q,se=__rest$A(Q,["prefixCls","count","title","show","component","class","style"]),ce=_extends$1(_extends$1({},se),{style:ae,"data-show":H.show,class:classNames(U.value,re),title:ne});let de=ee;if(ee&&Number(ee)%1===0){const fe=String(ee).split("");de=fe.map((pe,me)=>createVNode(SingleNumber,{prefixCls:U.value,count:Number(ee),value:pe,key:fe.length-me},null))}ae&&ae.borderColor&&(ce.style=_extends$1(_extends$1({},ae),{boxShadow:`0 0 0 1px ${ae.borderColor} inset`}));const le=filterEmpty((X=G.default)===null||X===void 0?void 0:X.call(G));return le&&le.length?cloneElement(le,{class:classNames(`${U.value}-custom-component`)},!1):createVNode(oe,ce,{default:()=>[de]})}}}),antStatusProcessing=new Keyframe("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),antZoomBadgeIn=new Keyframe("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),antZoomBadgeOut=new Keyframe("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),antNoWrapperZoomBadgeIn=new Keyframe("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),antNoWrapperZoomBadgeOut=new Keyframe("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),antBadgeLoadingCircle=new Keyframe("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),genSharedBadgeStyle=H=>{const{componentCls:K,iconCls:W,antCls:G,badgeFontHeight:U,badgeShadowSize:X,badgeHeightSm:Q,motionDurationSlow:Z,badgeStatusSize:ee,marginXS:ne,badgeRibbonOffset:te}=H,oe=`${G}-scroll-number`,re=`${G}-ribbon`,ae=`${G}-ribbon-wrapper`,se=genPresetColor(H,(de,le)=>{let{darkColor:fe}=le;return{[`&${K} ${K}-color-${de}`]:{background:fe,[`&:not(${K}-count)`]:{color:fe}}}}),ce=genPresetColor(H,(de,le)=>{let{darkColor:fe}=le;return{[`&${re}-color-${de}`]:{background:fe,color:fe}}});return{[K]:_extends$1(_extends$1(_extends$1(_extends$1({},resetComponent(H)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${K}-count`]:{zIndex:H.badgeZIndex,minWidth:H.badgeHeight,height:H.badgeHeight,color:H.badgeTextColor,fontWeight:H.badgeFontWeight,fontSize:H.badgeFontSize,lineHeight:`${H.badgeHeight}px`,whiteSpace:"nowrap",textAlign:"center",background:H.badgeColor,borderRadius:H.badgeHeight/2,boxShadow:`0 0 0 ${X}px ${H.badgeShadowColor}`,transition:`background ${H.motionDurationMid}`,a:{color:H.badgeTextColor},"a:hover":{color:H.badgeTextColor},"a:hover &":{background:H.badgeColorHover}},[`${K}-count-sm`]:{minWidth:Q,height:Q,fontSize:H.badgeFontSizeSm,lineHeight:`${Q}px`,borderRadius:Q/2},[`${K}-multiple-words`]:{padding:`0 ${H.paddingXS}px`},[`${K}-dot`]:{zIndex:H.badgeZIndex,width:H.badgeDotSize,minWidth:H.badgeDotSize,height:H.badgeDotSize,background:H.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${X}px ${H.badgeShadowColor}`},[`${K}-dot${oe}`]:{transition:`background ${Z}`},[`${K}-count, ${K}-dot, ${oe}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${W}-spin`]:{animationName:antBadgeLoadingCircle,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${K}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${K}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:ee,height:ee,verticalAlign:"middle",borderRadius:"50%"},[`${K}-status-success`]:{backgroundColor:H.colorSuccess},[`${K}-status-processing`]:{overflow:"visible",color:H.colorPrimary,backgroundColor:H.colorPrimary,"&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:X,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:antStatusProcessing,animationDuration:H.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${K}-status-default`]:{backgroundColor:H.colorTextPlaceholder},[`${K}-status-error`]:{backgroundColor:H.colorError},[`${K}-status-warning`]:{backgroundColor:H.colorWarning},[`${K}-status-text`]:{marginInlineStart:ne,color:H.colorText,fontSize:H.fontSize}}}),se),{[`${K}-zoom-appear, ${K}-zoom-enter`]:{animationName:antZoomBadgeIn,animationDuration:H.motionDurationSlow,animationTimingFunction:H.motionEaseOutBack,animationFillMode:"both"},[`${K}-zoom-leave`]:{animationName:antZoomBadgeOut,animationDuration:H.motionDurationSlow,animationTimingFunction:H.motionEaseOutBack,animationFillMode:"both"},[`&${K}-not-a-wrapper`]:{[`${K}-zoom-appear, ${K}-zoom-enter`]:{animationName:antNoWrapperZoomBadgeIn,animationDuration:H.motionDurationSlow,animationTimingFunction:H.motionEaseOutBack},[`${K}-zoom-leave`]:{animationName:antNoWrapperZoomBadgeOut,animationDuration:H.motionDurationSlow,animationTimingFunction:H.motionEaseOutBack},[`&:not(${K}-status)`]:{verticalAlign:"middle"},[`${oe}-custom-component, ${K}-count`]:{transform:"none"},[`${oe}-custom-component, ${oe}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[`${oe}`]:{overflow:"hidden",[`${oe}-only`]:{position:"relative",display:"inline-block",height:H.badgeHeight,transition:`all ${H.motionDurationSlow} ${H.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${oe}-only-unit`]:{height:H.badgeHeight,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${oe}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${K}-count, ${K}-dot, ${oe}-custom-component`]:{transform:"translate(-50%, -50%)"}}}),[`${ae}`]:{position:"relative"},[`${re}`]:_extends$1(_extends$1(_extends$1(_extends$1({},resetComponent(H)),{position:"absolute",top:ne,padding:`0 ${H.paddingXS}px`,color:H.colorPrimary,lineHeight:`${U}px`,whiteSpace:"nowrap",backgroundColor:H.colorPrimary,borderRadius:H.borderRadiusSM,[`${re}-text`]:{color:H.colorTextLightSolid},[`${re}-corner`]:{position:"absolute",top:"100%",width:te,height:te,color:"currentcolor",border:`${te/2}px solid`,transform:H.badgeRibbonCornerTransform,transformOrigin:"top",filter:H.badgeRibbonCornerFilter}}),ce),{[`&${re}-placement-end`]:{insetInlineEnd:-te,borderEndEndRadius:0,[`${re}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${re}-placement-start`]:{insetInlineStart:-te,borderEndStartRadius:0,[`${re}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},useStyle$t=genComponentStyleHook("Badge",H=>{const{fontSize:K,lineHeight:W,fontSizeSM:G,lineWidth:U,marginXS:X,colorBorderBg:Q}=H,Z=Math.round(K*W),ee=U,ne="auto",te=Z-2*ee,oe=H.colorBgContainer,re="normal",ae=G,se=H.colorError,ce=H.colorErrorHover,de=K,le=G/2,fe=G,pe=G/2,me=merge(H,{badgeFontHeight:Z,badgeShadowSize:ee,badgeZIndex:ne,badgeHeight:te,badgeTextColor:oe,badgeFontWeight:re,badgeFontSize:ae,badgeColor:se,badgeColorHover:ce,badgeShadowColor:Q,badgeHeightSm:de,badgeDotSize:le,badgeFontSizeSm:fe,badgeStatusSize:pe,badgeProcessingDuration:"1.2s",badgeRibbonOffset:X,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"});return[genSharedBadgeStyle(me)]});var __rest$z=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const ribbonProps=()=>({prefix:String,color:{type:String},text:PropTypes.any,placement:{type:String,default:"end"}}),Ribbon=defineComponent({compatConfig:{MODE:3},name:"ABadgeRibbon",inheritAttrs:!1,props:ribbonProps(),slots:Object,setup(H,K){let{attrs:W,slots:G}=K;const{prefixCls:U,direction:X}=useConfigInject("ribbon",H),[Q,Z]=useStyle$t(U),ee=computed(()=>isPresetColor(H.color,!1)),ne=computed(()=>[U.value,`${U.value}-placement-${H.placement}`,{[`${U.value}-rtl`]:X.value==="rtl",[`${U.value}-color-${H.color}`]:ee.value}]);return()=>{var te,oe;const{class:re,style:ae}=W,se=__rest$z(W,["class","style"]),ce={},de={};return H.color&&!ee.value&&(ce.background=H.color,de.color=H.color),Q(createVNode("div",_objectSpread2$1({class:`${U.value}-wrapper ${Z.value}`},se),[(te=G.default)===null||te===void 0?void 0:te.call(G),createVNode("div",{class:[ne.value,re,Z.value],style:_extends$1(_extends$1({},ce),ae)},[createVNode("span",{class:`${U.value}-text`},[H.text||((oe=G.text)===null||oe===void 0?void 0:oe.call(G))]),createVNode("div",{class:`${U.value}-corner`,style:de},null)])]))}}}),isNumeric=H=>!isNaN(parseFloat(H))&&isFinite(H),badgeProps=()=>({count:PropTypes.any.def(null),showZero:{type:Boolean,default:void 0},overflowCount:{type:Number,default:99},dot:{type:Boolean,default:void 0},prefixCls:String,scrollNumberPrefixCls:String,status:{type:String},size:{type:String,default:"default"},color:String,text:PropTypes.any,offset:Array,numberStyle:{type:Object,default:void 0},title:String}),Badge=defineComponent({compatConfig:{MODE:3},name:"ABadge",Ribbon,inheritAttrs:!1,props:badgeProps(),slots:Object,setup(H,K){let{slots:W,attrs:G}=K;const{prefixCls:U,direction:X}=useConfigInject("badge",H),[Q,Z]=useStyle$t(U),ee=computed(()=>H.count>H.overflowCount?`${H.overflowCount}+`:H.count),ne=computed(()=>ee.value==="0"||ee.value===0),te=computed(()=>H.count===null||ne.value&&!H.showZero),oe=computed(()=>(H.status!==null&&H.status!==void 0||H.color!==null&&H.color!==void 0)&&te.value),re=computed(()=>H.dot&&!ne.value),ae=computed(()=>re.value?"":ee.value),se=computed(()=>(ae.value===null||ae.value===void 0||ae.value===""||ne.value&&!H.showZero)&&!re.value),ce=ref(H.count),de=ref(ae.value),le=ref(re.value);watch([()=>H.count,ae,re],()=>{se.value||(ce.value=H.count,de.value=ae.value,le.value=re.value)},{immediate:!0});const fe=computed(()=>isPresetColor(H.color,!1)),pe=computed(()=>({[`${U.value}-status-dot`]:oe.value,[`${U.value}-status-${H.status}`]:!!H.status,[`${U.value}-color-${H.color}`]:fe.value})),me=computed(()=>H.color&&!fe.value?{background:H.color,color:H.color}:{}),ue=computed(()=>({[`${U.value}-dot`]:le.value,[`${U.value}-count`]:!le.value,[`${U.value}-count-sm`]:H.size==="small",[`${U.value}-multiple-words`]:!le.value&&de.value&&de.value.toString().length>1,[`${U.value}-status-${H.status}`]:!!H.status,[`${U.value}-color-${H.color}`]:fe.value}));return()=>{var ge,he;const{offset:ve,title:ye,color:be}=H,Se=G.style,Ce=getPropsSlot(W,H,"text"),xe=U.value,Ne=ce.value;let $e=flattenChildren((ge=W.default)===null||ge===void 0?void 0:ge.call(W));$e=$e.length?$e:null;const Ee=!!(!se.value||W.count),Te=(()=>{if(!ve)return _extends$1({},Se);const Ye={marginTop:isNumeric(ve[1])?`${ve[1]}px`:ve[1]};return X.value==="rtl"?Ye.left=`${parseInt(ve[0],10)}px`:Ye.right=`${-parseInt(ve[0],10)}px`,_extends$1(_extends$1({},Ye),Se)})(),Be=ye??(typeof Ne=="string"||typeof Ne=="number"?Ne:void 0),Ae=Ee||!Ce?null:createVNode("span",{class:`${xe}-status-text`},[Ce]),ze=typeof Ne=="object"||Ne===void 0&&W.count?cloneElement(Ne??((he=W.count)===null||he===void 0?void 0:he.call(W)),{style:Te},!1):null,We=classNames(xe,{[`${xe}-status`]:oe.value,[`${xe}-not-a-wrapper`]:!$e,[`${xe}-rtl`]:X.value==="rtl"},G.class,Z.value);if(!$e&&oe.value){const Ye=Te.color;return Q(createVNode("span",_objectSpread2$1(_objectSpread2$1({},G),{},{class:We,style:Te}),[createVNode("span",{class:pe.value,style:me.value},null),createVNode("span",{style:{color:Ye},class:`${xe}-status-text`},[Ce])]))}const Le=getTransitionProps($e?`${xe}-zoom`:"",{appear:!1});let Ze=_extends$1(_extends$1({},Te),H.numberStyle);return be&&!fe.value&&(Ze=Ze||{},Ze.background=be),Q(createVNode("span",_objectSpread2$1(_objectSpread2$1({},G),{},{class:We}),[$e,createVNode(Transition,Le,{default:()=>[withDirectives(createVNode(ScrollNumber,{prefixCls:H.scrollNumberPrefixCls,show:Ee,class:ue.value,count:de.value,title:Be,style:Ze,key:"scrollNumber"},{default:()=>[ze]}),[[vShow,Ee]])]}),Ae]))}}});Badge.install=function(H){return H.component(Badge.name,Badge),H.component(Ribbon.name,Ribbon),H};const autoAdjustOverflow$1={adjustX:1,adjustY:1},targetOffset=[0,0],placements$1={topLeft:{points:["bl","tl"],overflow:autoAdjustOverflow$1,offset:[0,-4],targetOffset},topCenter:{points:["bc","tc"],overflow:autoAdjustOverflow$1,offset:[0,-4],targetOffset},topRight:{points:["br","tr"],overflow:autoAdjustOverflow$1,offset:[0,-4],targetOffset},bottomLeft:{points:["tl","bl"],overflow:autoAdjustOverflow$1,offset:[0,4],targetOffset},bottomCenter:{points:["tc","bc"],overflow:autoAdjustOverflow$1,offset:[0,4],targetOffset},bottomRight:{points:["tr","br"],overflow:autoAdjustOverflow$1,offset:[0,4],targetOffset}};var __rest$y=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const Dropdown$1=defineComponent({compatConfig:{MODE:3},props:{minOverlayWidthMatchTrigger:{type:Boolean,default:void 0},arrow:{type:Boolean,default:!1},prefixCls:PropTypes.string.def("rc-dropdown"),transitionName:String,overlayClassName:PropTypes.string.def(""),openClassName:String,animation:PropTypes.any,align:PropTypes.object,overlayStyle:{type:Object,default:void 0},placement:PropTypes.string.def("bottomLeft"),overlay:PropTypes.any,trigger:PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]).def("hover"),alignPoint:{type:Boolean,default:void 0},showAction:PropTypes.array,hideAction:PropTypes.array,getPopupContainer:Function,visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},mouseEnterDelay:PropTypes.number.def(.15),mouseLeaveDelay:PropTypes.number.def(.1)},emits:["visibleChange","overlayClick"],setup(H,K){let{slots:W,emit:G,expose:U}=K;const X=ref(!!H.visible);watch(()=>H.visible,ae=>{ae!==void 0&&(X.value=ae)});const Q=ref();U({triggerRef:Q});const Z=ae=>{H.visible===void 0&&(X.value=!1),G("overlayClick",ae)},ee=ae=>{H.visible===void 0&&(X.value=ae),G("visibleChange",ae)},ne=()=>{var ae;const se=(ae=W.overlay)===null||ae===void 0?void 0:ae.call(W),ce={prefixCls:`${H.prefixCls}-menu`,onClick:Z};return createVNode(Fragment,{key:skipFlattenKey},[H.arrow&&createVNode("div",{class:`${H.prefixCls}-arrow`},null),cloneElement(se,ce,!1)])},te=computed(()=>{const{minOverlayWidthMatchTrigger:ae=!H.alignPoint}=H;return ae}),oe=()=>{var ae;const se=(ae=W.default)===null||ae===void 0?void 0:ae.call(W);return X.value&&se?cloneElement(se[0],{class:H.openClassName||`${H.prefixCls}-open`},!1):se},re=computed(()=>!H.hideAction&&H.trigger.indexOf("contextmenu")!==-1?["click"]:H.hideAction);return()=>{const{prefixCls:ae,arrow:se,showAction:ce,overlayStyle:de,trigger:le,placement:fe,align:pe,getPopupContainer:me,transitionName:ue,animation:ge,overlayClassName:he}=H,ve=__rest$y(H,["prefixCls","arrow","showAction","overlayStyle","trigger","placement","align","getPopupContainer","transitionName","animation","overlayClassName"]);return createVNode(Trigger,_objectSpread2$1(_objectSpread2$1({},ve),{},{prefixCls:ae,ref:Q,popupClassName:classNames(he,{[`${ae}-show-arrow`]:se}),popupStyle:de,builtinPlacements:placements$1,action:le,showAction:ce,hideAction:re.value||[],popupPlacement:fe,popupAlign:pe,popupTransitionName:ue,popupAnimation:ge,popupVisible:X.value,stretch:te.value?"minWidth":"",onPopupVisibleChange:ee,getPopupContainer:me}),{popup:ne,default:oe})}}}),genWaveStyle=H=>{const{componentCls:K,colorPrimary:W}=H;return{[K]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${W})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${H.motionEaseOutCirc}`,`opacity 2s ${H.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0}}}}},useStyle$s=genComponentStyleHook("Wave",H=>[genWaveStyle(H)]);function isNotGrey(H){const K=(H||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return K&&K[1]&&K[2]&&K[3]?!(K[1]===K[2]&&K[2]===K[3]):!0}function isValidWaveColor(H){return H&&H!=="#fff"&&H!=="#ffffff"&&H!=="rgb(255, 255, 255)"&&H!=="rgba(255, 255, 255, 1)"&&isNotGrey(H)&&!/rgba\((?:\d*, ){3}0\)/.test(H)&&H!=="transparent"}function getTargetWaveColor(H){const{borderTopColor:K,borderColor:W,backgroundColor:G}=getComputedStyle(H);return isValidWaveColor(K)?K:isValidWaveColor(W)?W:isValidWaveColor(G)?G:null}function validateNum(H){return Number.isNaN(H)?0:H}const WaveEffect=defineComponent({props:{target:objectType(),className:String},setup(H){const K=shallowRef(null),[W,G]=useState(null),[U,X]=useState([]),[Q,Z]=useState(0),[ee,ne]=useState(0),[te,oe]=useState(0),[re,ae]=useState(0),[se,ce]=useState(!1);function de(){const{target:he}=H,ve=getComputedStyle(he);G(getTargetWaveColor(he));const ye=ve.position==="static",{borderLeftWidth:be,borderTopWidth:Se}=ve;Z(ye?he.offsetLeft:validateNum(-parseFloat(be))),ne(ye?he.offsetTop:validateNum(-parseFloat(Se))),oe(he.offsetWidth),ae(he.offsetHeight);const{borderTopLeftRadius:Ce,borderTopRightRadius:xe,borderBottomLeftRadius:Ne,borderBottomRightRadius:$e}=ve;X([Ce,xe,$e,Ne].map(Ee=>validateNum(parseFloat(Ee))))}let le,fe,pe;const me=()=>{clearTimeout(pe),wrapperRaf.cancel(fe),le?.disconnect()},ue=()=>{var he;const ve=(he=K.value)===null||he===void 0?void 0:he.parentElement;ve&&(render(null,ve),ve.parentElement&&ve.parentElement.removeChild(ve))};onMounted(()=>{me(),pe=setTimeout(()=>{ue()},5e3);const{target:he}=H;he&&(fe=wrapperRaf(()=>{de(),ce(!0)}),typeof ResizeObserver<"u"&&(le=new ResizeObserver(de),le.observe(he)))}),onBeforeUnmount(()=>{me()});const ge=he=>{he.propertyName==="opacity"&&ue()};return()=>{if(!se.value)return null;const he={left:`${Q.value}px`,top:`${ee.value}px`,width:`${te.value}px`,height:`${re.value}px`,borderRadius:U.value.map(ve=>`${ve}px`).join(" ")};return W&&(he["--wave-color"]=W.value),createVNode(Transition,{appear:!0,name:"wave-motion",appearFromClass:"wave-motion-appear",appearActiveClass:"wave-motion-appear",appearToClass:"wave-motion-appear wave-motion-appear-active"},{default:()=>[createVNode("div",{ref:K,class:H.className,style:he,onTransitionend:ge},null)]})}}});function showWaveEffect(H,K){const W=document.createElement("div");return W.style.position="absolute",W.style.left="0px",W.style.top="0px",H?.insertBefore(W,H?.firstChild),render(createVNode(WaveEffect,{target:H,className:K},null),W),()=>{render(null,W),W.parentElement&&W.parentElement.removeChild(W)}}function useWave(H,K){const W=getCurrentInstance();let G;function U(){var X;const Q=findDOMNode(W);G?.(),!(!((X=K?.value)===null||X===void 0)&&X.disabled||!Q)&&(G=showWaveEffect(Q,H.value))}return onBeforeUnmount(()=>{G?.()}),U}const Wave=defineComponent({compatConfig:{MODE:3},name:"Wave",props:{disabled:Boolean},setup(H,K){let{slots:W}=K;const G=getCurrentInstance(),{prefixCls:U,wave:X}=useConfigInject("wave",H),[,Q]=useStyle$s(U),Z=useWave(computed(()=>classNames(U.value,Q.value)),X);let ee;const ne=()=>{findDOMNode(G).removeEventListener("click",ee,!0)};return onMounted(()=>{watch(()=>H.disabled,()=>{ne(),nextTick(()=>{const te=findDOMNode(G);te?.removeEventListener("click",ee,!0),!(!te||te.nodeType!==1||H.disabled)&&(ee=oe=>{oe.target.tagName==="INPUT"||!isVisible(oe.target)||!te.getAttribute||te.getAttribute("disabled")||te.disabled||te.className.includes("disabled")||te.className.includes("-leave")||Z()},te.addEventListener("click",ee,!0))})},{immediate:!0,flush:"post"})}),onBeforeUnmount(()=>{ne()}),()=>{var te;return(te=W.default)===null||te===void 0?void 0:te.call(W)[0]}}});function convertLegacyProps(H){return H==="danger"?{danger:!0}:{type:H}}const buttonProps=()=>({prefixCls:String,type:String,htmlType:{type:String,default:"button"},shape:{type:String},size:{type:String},loading:{type:[Boolean,Object],default:()=>!1},disabled:{type:Boolean,default:void 0},ghost:{type:Boolean,default:void 0},block:{type:Boolean,default:void 0},danger:{type:Boolean,default:void 0},icon:PropTypes.any,href:String,target:String,title:String,onClick:eventType(),onMousedown:eventType()}),getCollapsedWidth=H=>{H&&(H.style.width="0px",H.style.opacity="0",H.style.transform="scale(0)")},getRealWidth=H=>{nextTick(()=>{H&&(H.style.width=`${H.scrollWidth}px`,H.style.opacity="1",H.style.transform="scale(1)")})},resetStyle=H=>{H&&H.style&&(H.style.width=null,H.style.opacity=null,H.style.transform=null)},LoadingIcon=defineComponent({compatConfig:{MODE:3},name:"LoadingIcon",props:{prefixCls:String,loading:[Boolean,Object],existIcon:Boolean},setup(H){return()=>{const{existIcon:K,prefixCls:W,loading:G}=H;if(K)return createVNode("span",{class:`${W}-loading-icon`},[createVNode(LoadingOutlined,null,null)]);const U=!!G;return createVNode(Transition,{name:`${W}-loading-icon-motion`,onBeforeEnter:getCollapsedWidth,onEnter:getRealWidth,onAfterEnter:resetStyle,onBeforeLeave:getRealWidth,onLeave:X=>{setTimeout(()=>{getCollapsedWidth(X)})},onAfterLeave:resetStyle},{default:()=>[U?createVNode("span",{class:`${W}-loading-icon`},[createVNode(LoadingOutlined,null,null)]):null]})}}}),genButtonBorderStyle=(H,K)=>({[`> span, > ${H}`]:{"&:not(:last-child)":{[`&, & > ${H}`]:{"&:not(:disabled)":{borderInlineEndColor:K}}},"&:not(:first-child)":{[`&, & > ${H}`]:{"&:not(:disabled)":{borderInlineStartColor:K}}}}}),genGroupStyle$1=H=>{const{componentCls:K,fontSize:W,lineWidth:G,colorPrimaryHover:U,colorErrorHover:X}=H;return{[`${K}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${K}`]:{"&:not(:last-child)":{[`&, & > ${K}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-G,[`&, & > ${K}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[K]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${K}-icon-only`]:{fontSize:W}},genButtonBorderStyle(`${K}-primary`,U),genButtonBorderStyle(`${K}-danger`,X)]}};function compactItemVerticalBorder(H,K){return{[`&-item:not(${K}-last-item)`]:{marginBottom:-H.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function compactItemBorderVerticalRadius(H,K){return{[`&-item:not(${K}-first-item):not(${K}-last-item)`]:{borderRadius:0},[`&-item${K}-first-item:not(${K}-last-item)`]:{[`&, &${H}-sm, &${H}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${K}-last-item:not(${K}-first-item)`]:{[`&, &${H}-sm, &${H}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function genCompactItemVerticalStyle(H){const K=`${H.componentCls}-compact-vertical`;return{[K]:_extends$1(_extends$1({},compactItemVerticalBorder(H,K)),compactItemBorderVerticalRadius(H.componentCls,K))}}const genSharedButtonStyle=H=>{const{componentCls:K,iconCls:W}=H;return{[K]:{outline:"none",position:"relative",display:"inline-block",fontWeight:400,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${H.lineWidth}px ${H.lineType} transparent`,cursor:"pointer",transition:`all ${H.motionDurationMid} ${H.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:H.lineHeight,color:H.colorText,"> span":{display:"inline-block"},[`> ${W} + span, > span + ${W}`]:{marginInlineStart:H.marginXS},"> a":{color:"currentColor"},"&:not(:disabled)":_extends$1({},genFocusStyle(H)),[`&-icon-only${K}-compact-item`]:{flex:"none"},[`&-compact-item${K}-primary`]:{[`&:not([disabled]) + ${K}-compact-item${K}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-H.lineWidth,insetInlineStart:-H.lineWidth,display:"inline-block",width:H.lineWidth,height:`calc(100% + ${H.lineWidth*2}px)`,backgroundColor:H.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${K}-primary`]:{[`&:not([disabled]) + ${K}-compact-vertical-item${K}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-H.lineWidth,insetInlineStart:-H.lineWidth,display:"inline-block",width:`calc(100% + ${H.lineWidth*2}px)`,height:H.lineWidth,backgroundColor:H.colorPrimaryHover,content:'""'}}}}}}},genHoverActiveButtonStyle=(H,K)=>({"&:not(:disabled)":{"&:hover":H,"&:active":K}}),genCircleButtonStyle=H=>({minWidth:H.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),genRoundButtonStyle=H=>({borderRadius:H.controlHeight,paddingInlineStart:H.controlHeight/2,paddingInlineEnd:H.controlHeight/2}),genDisabledStyle$1=H=>({cursor:"not-allowed",borderColor:H.colorBorder,color:H.colorTextDisabled,backgroundColor:H.colorBgContainerDisabled,boxShadow:"none"}),genGhostButtonStyle=(H,K,W,G,U,X,Q)=>({[`&${H}-background-ghost`]:_extends$1(_extends$1({color:K||void 0,backgroundColor:"transparent",borderColor:W||void 0,boxShadow:"none"},genHoverActiveButtonStyle(_extends$1({backgroundColor:"transparent"},X),_extends$1({backgroundColor:"transparent"},Q))),{"&:disabled":{cursor:"not-allowed",color:G||void 0,borderColor:U||void 0}})}),genSolidDisabledButtonStyle=H=>({"&:disabled":_extends$1({},genDisabledStyle$1(H))}),genSolidButtonStyle=H=>_extends$1({},genSolidDisabledButtonStyle(H)),genPureDisabledButtonStyle=H=>({"&:disabled":{cursor:"not-allowed",color:H.colorTextDisabled}}),genDefaultButtonStyle=H=>_extends$1(_extends$1(_extends$1(_extends$1(_extends$1({},genSolidButtonStyle(H)),{backgroundColor:H.colorBgContainer,borderColor:H.colorBorder,boxShadow:`0 ${H.controlOutlineWidth}px 0 ${H.controlTmpOutline}`}),genHoverActiveButtonStyle({color:H.colorPrimaryHover,borderColor:H.colorPrimaryHover},{color:H.colorPrimaryActive,borderColor:H.colorPrimaryActive})),genGhostButtonStyle(H.componentCls,H.colorBgContainer,H.colorBgContainer,H.colorTextDisabled,H.colorBorder)),{[`&${H.componentCls}-dangerous`]:_extends$1(_extends$1(_extends$1({color:H.colorError,borderColor:H.colorError},genHoverActiveButtonStyle({color:H.colorErrorHover,borderColor:H.colorErrorBorderHover},{color:H.colorErrorActive,borderColor:H.colorErrorActive})),genGhostButtonStyle(H.componentCls,H.colorError,H.colorError,H.colorTextDisabled,H.colorBorder)),genSolidDisabledButtonStyle(H))}),genPrimaryButtonStyle=H=>_extends$1(_extends$1(_extends$1(_extends$1(_extends$1({},genSolidButtonStyle(H)),{color:H.colorTextLightSolid,backgroundColor:H.colorPrimary,boxShadow:`0 ${H.controlOutlineWidth}px 0 ${H.controlOutline}`}),genHoverActiveButtonStyle({color:H.colorTextLightSolid,backgroundColor:H.colorPrimaryHover},{color:H.colorTextLightSolid,backgroundColor:H.colorPrimaryActive})),genGhostButtonStyle(H.componentCls,H.colorPrimary,H.colorPrimary,H.colorTextDisabled,H.colorBorder,{color:H.colorPrimaryHover,borderColor:H.colorPrimaryHover},{color:H.colorPrimaryActive,borderColor:H.colorPrimaryActive})),{[`&${H.componentCls}-dangerous`]:_extends$1(_extends$1(_extends$1({backgroundColor:H.colorError,boxShadow:`0 ${H.controlOutlineWidth}px 0 ${H.colorErrorOutline}`},genHoverActiveButtonStyle({backgroundColor:H.colorErrorHover},{backgroundColor:H.colorErrorActive})),genGhostButtonStyle(H.componentCls,H.colorError,H.colorError,H.colorTextDisabled,H.colorBorder,{color:H.colorErrorHover,borderColor:H.colorErrorHover},{color:H.colorErrorActive,borderColor:H.colorErrorActive})),genSolidDisabledButtonStyle(H))}),genDashedButtonStyle=H=>_extends$1(_extends$1({},genDefaultButtonStyle(H)),{borderStyle:"dashed"}),genLinkButtonStyle=H=>_extends$1(_extends$1(_extends$1({color:H.colorLink},genHoverActiveButtonStyle({color:H.colorLinkHover},{color:H.colorLinkActive})),genPureDisabledButtonStyle(H)),{[`&${H.componentCls}-dangerous`]:_extends$1(_extends$1({color:H.colorError},genHoverActiveButtonStyle({color:H.colorErrorHover},{color:H.colorErrorActive})),genPureDisabledButtonStyle(H))}),genTextButtonStyle=H=>_extends$1(_extends$1(_extends$1({},genHoverActiveButtonStyle({color:H.colorText,backgroundColor:H.colorBgTextHover},{color:H.colorText,backgroundColor:H.colorBgTextActive})),genPureDisabledButtonStyle(H)),{[`&${H.componentCls}-dangerous`]:_extends$1(_extends$1({color:H.colorError},genPureDisabledButtonStyle(H)),genHoverActiveButtonStyle({color:H.colorErrorHover,backgroundColor:H.colorErrorBg},{color:H.colorErrorHover,backgroundColor:H.colorErrorBg}))}),genDisabledButtonStyle=H=>_extends$1(_extends$1({},genDisabledStyle$1(H)),{[`&${H.componentCls}:hover`]:_extends$1({},genDisabledStyle$1(H))}),genTypeButtonStyle=H=>{const{componentCls:K}=H;return{[`${K}-default`]:genDefaultButtonStyle(H),[`${K}-primary`]:genPrimaryButtonStyle(H),[`${K}-dashed`]:genDashedButtonStyle(H),[`${K}-link`]:genLinkButtonStyle(H),[`${K}-text`]:genTextButtonStyle(H),[`${K}-disabled`]:genDisabledButtonStyle(H)}},genSizeButtonStyle=function(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:W,iconCls:G,controlHeight:U,fontSize:X,lineHeight:Q,lineWidth:Z,borderRadius:ee,buttonPaddingHorizontal:ne}=H,te=Math.max(0,(U-X*Q)/2-Z),oe=ne-Z,re=`${W}-icon-only`;return[{[`${W}${K}`]:{fontSize:X,height:U,padding:`${te}px ${oe}px`,borderRadius:ee,[`&${re}`]:{width:U,paddingInlineStart:0,paddingInlineEnd:0,[`&${W}-round`]:{width:"auto"},"> span":{transform:"scale(1.143)"}},[`&${W}-loading`]:{opacity:H.opacityLoading,cursor:"default"},[`${W}-loading-icon`]:{transition:`width ${H.motionDurationSlow} ${H.motionEaseInOut}, opacity ${H.motionDurationSlow} ${H.motionEaseInOut}`},[`&:not(${re}) ${W}-loading-icon > ${G}`]:{marginInlineEnd:H.marginXS}}},{[`${W}${W}-circle${K}`]:genCircleButtonStyle(H)},{[`${W}${W}-round${K}`]:genRoundButtonStyle(H)}]},genSizeBaseButtonStyle=H=>genSizeButtonStyle(H),genSizeSmallButtonStyle=H=>{const K=merge(H,{controlHeight:H.controlHeightSM,padding:H.paddingXS,buttonPaddingHorizontal:8,borderRadius:H.borderRadiusSM});return genSizeButtonStyle(K,`${H.componentCls}-sm`)},genSizeLargeButtonStyle=H=>{const K=merge(H,{controlHeight:H.controlHeightLG,fontSize:H.fontSizeLG,borderRadius:H.borderRadiusLG});return genSizeButtonStyle(K,`${H.componentCls}-lg`)},genBlockButtonStyle=H=>{const{componentCls:K}=H;return{[K]:{[`&${K}-block`]:{width:"100%"}}}},useStyle$r=genComponentStyleHook("Button",H=>{const{controlTmpOutline:K,paddingContentHorizontal:W}=H,G=merge(H,{colorOutlineDefault:K,buttonPaddingHorizontal:W});return[genSharedButtonStyle(G),genSizeSmallButtonStyle(G),genSizeBaseButtonStyle(G),genSizeLargeButtonStyle(G),genBlockButtonStyle(G),genTypeButtonStyle(G),genGroupStyle$1(G),genCompactItemStyle(H,{focus:!1}),genCompactItemVerticalStyle(H)]}),buttonGroupProps=()=>({prefixCls:String,size:{type:String}}),GroupSizeContext=createContext(),__unplugin_components_3$2=defineComponent({compatConfig:{MODE:3},name:"AButtonGroup",props:buttonGroupProps(),setup(H,K){let{slots:W}=K;const{prefixCls:G,direction:U}=useConfigInject("btn-group",H),[,,X]=useToken();GroupSizeContext.useProvide(reactive({size:computed(()=>H.size)}));const Q=computed(()=>{const{size:Z}=H;let ee="";switch(Z){case"large":ee="lg";break;case"small":ee="sm";break;case"middle":case void 0:break;default:devWarning(!Z,"Button.Group","Invalid prop `size`.")}return{[`${G.value}`]:!0,[`${G.value}-${ee}`]:ee,[`${G.value}-rtl`]:U.value==="rtl",[X.value]:!0}});return()=>{var Z;return createVNode("div",{class:Q.value},[flattenChildren((Z=W.default)===null||Z===void 0?void 0:Z.call(W))])}}}),rxTwoCNChar=/^[\u4e00-\u9fa5]{2}$/,isTwoCNChar=rxTwoCNChar.test.bind(rxTwoCNChar);function isUnBorderedButtonType(H){return H==="text"||H==="link"}const Button$1=defineComponent({compatConfig:{MODE:3},name:"AButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:initDefaultProps(buttonProps(),{type:"default"}),slots:Object,setup(H,K){let{slots:W,attrs:G,emit:U,expose:X}=K;const{prefixCls:Q,autoInsertSpaceInButton:Z,direction:ee,size:ne}=useConfigInject("btn",H),[te,oe]=useStyle$r(Q),re=GroupSizeContext.useInject(),ae=useInjectDisabled(),se=computed(()=>{var $e;return($e=H.disabled)!==null&&$e!==void 0?$e:ae.value}),ce=shallowRef(null),de=shallowRef(void 0);let le=!1;const fe=shallowRef(!1),pe=shallowRef(!1),me=computed(()=>Z.value!==!1),{compactSize:ue,compactItemClassnames:ge}=useCompactItemContext(Q,ee),he=computed(()=>typeof H.loading=="object"&&H.loading.delay?H.loading.delay||!0:!!H.loading);watch(he,$e=>{clearTimeout(de.value),typeof he.value=="number"?de.value=setTimeout(()=>{fe.value=$e},he.value):fe.value=$e},{immediate:!0});const ve=computed(()=>{const{type:$e,shape:Ee="default",ghost:Te,block:Be,danger:Ae}=H,ze=Q.value,We={large:"lg",small:"sm",middle:void 0},Le=ue.value||re?.size||ne.value,Ze=Le&&We[Le]||"";return[ge.value,{[oe.value]:!0,[`${ze}`]:!0,[`${ze}-${Ee}`]:Ee!=="default"&&Ee,[`${ze}-${$e}`]:$e,[`${ze}-${Ze}`]:Ze,[`${ze}-loading`]:fe.value,[`${ze}-background-ghost`]:Te&&!isUnBorderedButtonType($e),[`${ze}-two-chinese-chars`]:pe.value&&me.value,[`${ze}-block`]:Be,[`${ze}-dangerous`]:!!Ae,[`${ze}-rtl`]:ee.value==="rtl"}]}),ye=()=>{const $e=ce.value;if(!$e||Z.value===!1)return;const Ee=$e.textContent;le&&isTwoCNChar(Ee)?pe.value||(pe.value=!0):pe.value&&(pe.value=!1)},be=$e=>{if(fe.value||se.value){$e.preventDefault();return}U("click",$e)},Se=$e=>{U("mousedown",$e)},Ce=($e,Ee)=>{const Te=Ee?" ":"";if($e.type===Text$1){let Be=$e.children.trim();return isTwoCNChar(Be)&&(Be=Be.split("").join(Te)),createVNode("span",null,[Be])}return $e};return watchEffect(()=>{devWarning(!(H.ghost&&isUnBorderedButtonType(H.type)),"Button","`link` or `text` button can't be a `ghost` button.")}),onMounted(ye),onUpdated(ye),onBeforeUnmount(()=>{de.value&&clearTimeout(de.value)}),X({focus:()=>{var $e;($e=ce.value)===null||$e===void 0||$e.focus()},blur:()=>{var $e;($e=ce.value)===null||$e===void 0||$e.blur()}}),()=>{var $e,Ee;const{icon:Te=($e=W.icon)===null||$e===void 0?void 0:$e.call(W)}=H,Be=flattenChildren((Ee=W.default)===null||Ee===void 0?void 0:Ee.call(W));le=Be.length===1&&!Te&&!isUnBorderedButtonType(H.type);const{type:Ae,htmlType:ze,href:We,title:Le,target:Ze}=H,Ye=fe.value?"loading":Te,Re=_extends$1(_extends$1({},G),{title:Le,disabled:se.value,class:[ve.value,G.class,{[`${Q.value}-icon-only`]:Be.length===0&&!!Ye}],onClick:be,onMousedown:Se});se.value||delete Re.disabled;const Ke=Te&&!fe.value?Te:createVNode(LoadingIcon,{existIcon:!!Te,prefixCls:Q.value,loading:!!fe.value},null),we=Be.map(Ve=>Ce(Ve,le&&me.value));if(We!==void 0)return te(createVNode("a",_objectSpread2$1(_objectSpread2$1({},Re),{},{href:We,target:Ze,ref:ce}),[Ke,we]));let _e=createVNode("button",_objectSpread2$1(_objectSpread2$1({},Re),{},{ref:ce,type:ze}),[Ke,we]);if(!isUnBorderedButtonType(Ae)){const Ve=function(){return _e}();_e=createVNode(Wave,{ref:"wave",disabled:!!fe.value},{default:()=>[Ve]})}return te(_e)}}});Button$1.Group=__unplugin_components_3$2;Button$1.install=function(H){return H.component(Button$1.name,Button$1),H.component(__unplugin_components_3$2.name,__unplugin_components_3$2),H};const dropdownProps=()=>({arrow:someType([Boolean,Object]),trigger:{type:[Array,String]},menu:objectType(),overlay:PropTypes.any,visible:booleanType(),open:booleanType(),disabled:booleanType(),danger:booleanType(),autofocus:booleanType(),align:objectType(),getPopupContainer:Function,prefixCls:String,transitionName:String,placement:String,overlayClassName:String,overlayStyle:objectType(),forceRender:booleanType(),mouseEnterDelay:Number,mouseLeaveDelay:Number,openClassName:String,minOverlayWidthMatchTrigger:booleanType(),destroyPopupOnHide:booleanType(),onVisibleChange:{type:Function},"onUpdate:visible":{type:Function},onOpenChange:{type:Function},"onUpdate:open":{type:Function}}),buttonTypesProps=buttonProps(),dropdownButtonProps=()=>_extends$1(_extends$1({},dropdownProps()),{type:buttonTypesProps.type,size:String,htmlType:buttonTypesProps.htmlType,href:String,disabled:booleanType(),prefixCls:String,icon:PropTypes.any,title:String,loading:buttonTypesProps.loading,onClick:eventType()});var EllipsisOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};function _objectSpread$A(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$A(H,U,W[U])})}return H}function _defineProperty$A(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var EllipsisOutlined=function(K,W){var G=_objectSpread$A({},K,W.attrs);return createVNode(Icon,_objectSpread$A({},G,{icon:EllipsisOutlined$1}),null)};EllipsisOutlined.displayName="EllipsisOutlined";EllipsisOutlined.inheritAttrs=!1;const genButtonStyle=H=>{const{componentCls:K,antCls:W,paddingXS:G,opacityLoading:U}=H;return{[`${K}-button`]:{whiteSpace:"nowrap",[`&${W}-btn-group > ${W}-btn`]:{[`&-loading, &-loading + ${W}-btn`]:{cursor:"default",pointerEvents:"none",opacity:U},[`&:last-child:not(:first-child):not(${W}-btn-icon-only)`]:{paddingInline:G}}}}},genStatusStyle$1=H=>{const{componentCls:K,menuCls:W,colorError:G,colorTextLightSolid:U}=H,X=`${W}-item`;return{[`${K}, ${K}-menu-submenu`]:{[`${W} ${X}`]:{[`&${X}-danger:not(${X}-disabled)`]:{color:G,"&:hover":{color:U,backgroundColor:G}}}}}},genBaseStyle$6=H=>{const{componentCls:K,menuCls:W,zIndexPopup:G,dropdownArrowDistance:U,dropdownArrowOffset:X,sizePopupArrow:Q,antCls:Z,iconCls:ee,motionDurationMid:ne,dropdownPaddingVertical:te,fontSize:oe,dropdownEdgeChildPadding:re,colorTextDisabled:ae,fontSizeIcon:se,controlPaddingHorizontal:ce,colorBgElevated:de,boxShadowPopoverArrow:le}=H;return[{[K]:_extends$1(_extends$1({},resetComponent(H)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:G,display:"block","&::before":{position:"absolute",insetBlock:-U+Q/2,zIndex:-9999,opacity:1e-4,content:'""'},[`${K}-wrap`]:{position:"relative",[`${Z}-btn > ${ee}-down`]:{fontSize:se},[`${ee}-down::before`]:{transition:`transform ${ne}`}},[`${K}-wrap-open`]:{[`${ee}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`
        &-show-arrow${K}-placement-topLeft,
        &-show-arrow${K}-placement-top,
        &-show-arrow${K}-placement-topRight
      `]:{paddingBottom:U},[`
        &-show-arrow${K}-placement-bottomLeft,
        &-show-arrow${K}-placement-bottom,
        &-show-arrow${K}-placement-bottomRight
      `]:{paddingTop:U},[`${K}-arrow`]:_extends$1({position:"absolute",zIndex:1,display:"block"},roundedArrow(Q,H.borderRadiusXS,H.borderRadiusOuter,de,le)),[`
        &-placement-top > ${K}-arrow,
        &-placement-topLeft > ${K}-arrow,
        &-placement-topRight > ${K}-arrow
      `]:{bottom:U,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${K}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft > ${K}-arrow`]:{left:{_skip_check_:!0,value:X}},[`&-placement-topRight > ${K}-arrow`]:{right:{_skip_check_:!0,value:X}},[`
          &-placement-bottom > ${K}-arrow,
          &-placement-bottomLeft > ${K}-arrow,
          &-placement-bottomRight > ${K}-arrow
        `]:{top:U,transform:"translateY(-100%)"},[`&-placement-bottom > ${K}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateY(-100%) translateX(-50%)"},[`&-placement-bottomLeft > ${K}-arrow`]:{left:{_skip_check_:!0,value:X}},[`&-placement-bottomRight > ${K}-arrow`]:{right:{_skip_check_:!0,value:X}},[`&${Z}-slide-down-enter${Z}-slide-down-enter-active${K}-placement-bottomLeft,
          &${Z}-slide-down-appear${Z}-slide-down-appear-active${K}-placement-bottomLeft,
          &${Z}-slide-down-enter${Z}-slide-down-enter-active${K}-placement-bottom,
          &${Z}-slide-down-appear${Z}-slide-down-appear-active${K}-placement-bottom,
          &${Z}-slide-down-enter${Z}-slide-down-enter-active${K}-placement-bottomRight,
          &${Z}-slide-down-appear${Z}-slide-down-appear-active${K}-placement-bottomRight`]:{animationName:slideUpIn},[`&${Z}-slide-up-enter${Z}-slide-up-enter-active${K}-placement-topLeft,
          &${Z}-slide-up-appear${Z}-slide-up-appear-active${K}-placement-topLeft,
          &${Z}-slide-up-enter${Z}-slide-up-enter-active${K}-placement-top,
          &${Z}-slide-up-appear${Z}-slide-up-appear-active${K}-placement-top,
          &${Z}-slide-up-enter${Z}-slide-up-enter-active${K}-placement-topRight,
          &${Z}-slide-up-appear${Z}-slide-up-appear-active${K}-placement-topRight`]:{animationName:slideDownIn},[`&${Z}-slide-down-leave${Z}-slide-down-leave-active${K}-placement-bottomLeft,
          &${Z}-slide-down-leave${Z}-slide-down-leave-active${K}-placement-bottom,
          &${Z}-slide-down-leave${Z}-slide-down-leave-active${K}-placement-bottomRight`]:{animationName:slideUpOut},[`&${Z}-slide-up-leave${Z}-slide-up-leave-active${K}-placement-topLeft,
          &${Z}-slide-up-leave${Z}-slide-up-leave-active${K}-placement-top,
          &${Z}-slide-up-leave${Z}-slide-up-leave-active${K}-placement-topRight`]:{animationName:slideDownOut}})},{[`${K} ${W}`]:{position:"relative",margin:0},[`${W}-submenu-popup`]:{position:"absolute",zIndex:G,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul,li":{listStyle:"none"},ul:{marginInline:"0.3em"}},[`${K}, ${K}-menu-submenu`]:{[W]:_extends$1(_extends$1({padding:re,listStyleType:"none",backgroundColor:de,backgroundClip:"padding-box",borderRadius:H.borderRadiusLG,outline:"none",boxShadow:H.boxShadowSecondary},genFocusStyle(H)),{[`${W}-item-group-title`]:{padding:`${te}px ${ce}px`,color:H.colorTextDescription,transition:`all ${ne}`},[`${W}-item`]:{position:"relative",display:"flex",alignItems:"center",borderRadius:H.borderRadiusSM},[`${W}-item-icon`]:{minWidth:oe,marginInlineEnd:H.marginXS,fontSize:H.fontSizeSM},[`${W}-title-content`]:{flex:"auto","> a":{color:"inherit",transition:`all ${ne}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},[`${W}-item, ${W}-submenu-title`]:_extends$1(_extends$1({clear:"both",margin:0,padding:`${te}px ${ce}px`,color:H.colorText,fontWeight:"normal",fontSize:oe,lineHeight:H.lineHeight,cursor:"pointer",transition:`all ${ne}`,"&:hover, &-active":{backgroundColor:H.controlItemBgHover}},genFocusStyle(H)),{"&-selected":{color:H.colorPrimary,backgroundColor:H.controlItemBgActive,"&:hover, &-active":{backgroundColor:H.controlItemBgActiveHover}},"&-disabled":{color:ae,cursor:"not-allowed","&:hover":{color:ae,backgroundColor:de,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${H.marginXXS}px 0`,overflow:"hidden",lineHeight:0,backgroundColor:H.colorSplit},[`${K}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:H.paddingXS,[`${K}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:H.colorTextDescription,fontSize:se,fontStyle:"normal"}}}),[`${W}-item-group-list`]:{margin:`0 ${H.marginXS}px`,padding:0,listStyle:"none"},[`${W}-submenu-title`]:{paddingInlineEnd:ce+H.fontSizeSM},[`${W}-submenu-vertical`]:{position:"relative"},[`${W}-submenu${W}-submenu-disabled ${K}-menu-submenu-title`]:{[`&, ${K}-menu-submenu-arrow-icon`]:{color:ae,backgroundColor:de,cursor:"not-allowed"}},[`${W}-submenu-selected ${K}-menu-submenu-title`]:{color:H.colorPrimary}})}},[initSlideMotion(H,"slide-up"),initSlideMotion(H,"slide-down"),initMoveMotion(H,"move-up"),initMoveMotion(H,"move-down"),initZoomMotion(H,"zoom-big")]]},useStyle$q=genComponentStyleHook("Dropdown",(H,K)=>{let{rootPrefixCls:W}=K;const{marginXXS:G,sizePopupArrow:U,controlHeight:X,fontSize:Q,lineHeight:Z,paddingXXS:ee,componentCls:ne,borderRadiusOuter:te,borderRadiusLG:oe}=H,re=(X-Q*Z)/2,{dropdownArrowOffset:ae}=getArrowOffset({sizePopupArrow:U,contentRadius:oe,borderRadiusOuter:te}),se=merge(H,{menuCls:`${ne}-menu`,rootPrefixCls:W,dropdownArrowDistance:U/2+G,dropdownArrowOffset:ae,dropdownPaddingVertical:re,dropdownEdgeChildPadding:ee});return[genBaseStyle$6(se),genButtonStyle(se),genStatusStyle$1(se)]},H=>({zIndexPopup:H.zIndexPopupBase+50}));var __rest$x=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const ButtonGroup=Button$1.Group,DropdownButton=defineComponent({compatConfig:{MODE:3},name:"ADropdownButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:initDefaultProps(dropdownButtonProps(),{trigger:"hover",placement:"bottomRight",type:"default"}),slots:Object,setup(H,K){let{slots:W,attrs:G,emit:U}=K;const X=re=>{U("update:visible",re),U("visibleChange",re),U("update:open",re),U("openChange",re)},{prefixCls:Q,direction:Z,getPopupContainer:ee}=useConfigInject("dropdown",H),ne=computed(()=>`${Q.value}-button`),[te,oe]=useStyle$q(Q);return()=>{var re,ae;const se=_extends$1(_extends$1({},H),G),{type:ce="default",disabled:de,danger:le,loading:fe,htmlType:pe,class:me="",overlay:ue=(re=W.overlay)===null||re===void 0?void 0:re.call(W),trigger:ge,align:he,open:ve,visible:ye,onVisibleChange:be,placement:Se=Z.value==="rtl"?"bottomLeft":"bottomRight",href:Ce,title:xe,icon:Ne=((ae=W.icon)===null||ae===void 0?void 0:ae.call(W))||createVNode(EllipsisOutlined,null,null),mouseEnterDelay:$e,mouseLeaveDelay:Ee,overlayClassName:Te,overlayStyle:Be,destroyPopupOnHide:Ae,onClick:ze,"onUpdate:open":We}=se,Le=__rest$x(se,["type","disabled","danger","loading","htmlType","class","overlay","trigger","align","open","visible","onVisibleChange","placement","href","title","icon","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","onClick","onUpdate:open"]),Ze={align:he,disabled:de,trigger:de?[]:ge,placement:Se,getPopupContainer:ee?.value,onOpenChange:X,mouseEnterDelay:$e,mouseLeaveDelay:Ee,open:ve??ye,overlayClassName:Te,overlayStyle:Be,destroyPopupOnHide:Ae},Ye=createVNode(Button$1,{danger:le,type:ce,disabled:de,loading:fe,onClick:ze,htmlType:pe,href:Ce,title:xe},{default:W.default}),Re=createVNode(Button$1,{danger:le,type:ce,icon:Ne},null);return te(createVNode(ButtonGroup,_objectSpread2$1(_objectSpread2$1({},Le),{},{class:classNames(ne.value,me,oe.value)}),{default:()=>[W.leftButton?W.leftButton({button:Ye}):Ye,createVNode(Dropdown,Ze,{default:()=>[W.rightButton?W.rightButton({button:Re}):Re],overlay:()=>ue})]}))}}});var RightOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};function _objectSpread$z(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$z(H,U,W[U])})}return H}function _defineProperty$z(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var RightOutlined=function(K,W){var G=_objectSpread$z({},K,W.attrs);return createVNode(Icon,_objectSpread$z({},G,{icon:RightOutlined$1}),null)};RightOutlined.displayName="RightOutlined";RightOutlined.inheritAttrs=!1;const OverrideContextKey=Symbol("OverrideContextKey"),useInjectOverride=()=>inject(OverrideContextKey,void 0),useProvideOverride=H=>{var K,W,G;const{prefixCls:U,mode:X,selectable:Q,validator:Z,onClick:ee,expandIcon:ne}=useInjectOverride()||{};provide(OverrideContextKey,{prefixCls:computed(()=>{var te,oe;return(oe=(te=H.prefixCls)===null||te===void 0?void 0:te.value)!==null&&oe!==void 0?oe:U?.value}),mode:computed(()=>{var te,oe;return(oe=(te=H.mode)===null||te===void 0?void 0:te.value)!==null&&oe!==void 0?oe:X?.value}),selectable:computed(()=>{var te,oe;return(oe=(te=H.selectable)===null||te===void 0?void 0:te.value)!==null&&oe!==void 0?oe:Q?.value}),validator:(K=H.validator)!==null&&K!==void 0?K:Z,onClick:(W=H.onClick)!==null&&W!==void 0?W:ee,expandIcon:(G=H.expandIcon)!==null&&G!==void 0?G:ne?.value})},Dropdown=defineComponent({compatConfig:{MODE:3},name:"ADropdown",inheritAttrs:!1,props:initDefaultProps(dropdownProps(),{mouseEnterDelay:.15,mouseLeaveDelay:.1,placement:"bottomLeft",trigger:"hover"}),slots:Object,setup(H,K){let{slots:W,attrs:G,emit:U}=K;const{prefixCls:X,rootPrefixCls:Q,direction:Z,getPopupContainer:ee}=useConfigInject("dropdown",H),[ne,te]=useStyle$q(X),oe=computed(()=>{const{placement:de="",transitionName:le}=H;return le!==void 0?le:de.includes("top")?`${Q.value}-slide-down`:`${Q.value}-slide-up`});useProvideOverride({prefixCls:computed(()=>`${X.value}-menu`),expandIcon:computed(()=>createVNode("span",{class:`${X.value}-menu-submenu-arrow`},[createVNode(RightOutlined,{class:`${X.value}-menu-submenu-arrow-icon`},null)])),mode:computed(()=>"vertical"),selectable:computed(()=>!1),onClick:()=>{},validator:de=>{let{mode:le}=de}});const re=()=>{var de,le,fe;const pe=H.overlay||((de=W.overlay)===null||de===void 0?void 0:de.call(W)),me=Array.isArray(pe)?pe[0]:pe;if(!me)return null;const ue=me.props||{};devWarning(!ue.mode||ue.mode==="vertical","Dropdown",`mode="${ue.mode}" is not supported for Dropdown's Menu.`);const{selectable:ge=!1,expandIcon:he=(fe=(le=me.children)===null||le===void 0?void 0:le.expandIcon)===null||fe===void 0?void 0:fe.call(le)}=ue,ve=typeof he<"u"&&isValidElement(he)?he:createVNode("span",{class:`${X.value}-menu-submenu-arrow`},[createVNode(RightOutlined,{class:`${X.value}-menu-submenu-arrow-icon`},null)]);return isValidElement(me)?cloneElement(me,{mode:"vertical",selectable:ge,expandIcon:()=>ve}):me},ae=computed(()=>{const de=H.placement;if(!de)return Z.value==="rtl"?"bottomRight":"bottomLeft";if(de.includes("Center")){const le=de.slice(0,de.indexOf("Center"));return devWarning(!de.includes("Center"),"Dropdown",`You are using '${de}' placement in Dropdown, which is deprecated. Try to use '${le}' instead.`),le}return de}),se=computed(()=>typeof H.visible=="boolean"?H.visible:H.open),ce=de=>{U("update:visible",de),U("visibleChange",de),U("update:open",de),U("openChange",de)};return()=>{var de,le;const{arrow:fe,trigger:pe,disabled:me,overlayClassName:ue}=H,ge=(de=W.default)===null||de===void 0?void 0:de.call(W)[0],he=cloneElement(ge,_extends$1({class:classNames((le=ge?.props)===null||le===void 0?void 0:le.class,{[`${X.value}-rtl`]:Z.value==="rtl"},`${X.value}-trigger`)},me?{disabled:me}:{})),ve=classNames(ue,te.value,{[`${X.value}-rtl`]:Z.value==="rtl"}),ye=me?[]:pe;let be;ye&&ye.includes("contextmenu")&&(be=!0);const Se=getPlacements({arrowPointAtCenter:typeof fe=="object"&&fe.pointAtCenter,autoAdjustOverflow:!0}),Ce=omit$1(_extends$1(_extends$1(_extends$1({},H),G),{visible:se.value,builtinPlacements:Se,overlayClassName:ve,arrow:!!fe,alignPoint:be,prefixCls:X.value,getPopupContainer:ee?.value,transitionName:oe.value,trigger:ye,onVisibleChange:ce,placement:ae.value}),["overlay","onUpdate:visible"]);return ne(createVNode(Dropdown$1,Ce,{default:()=>[he],overlay:re}))}}});Dropdown.Button=DropdownButton;function shallowEqual(H,K,W,G){let U;if(U!==void 0)return!!U;if(H===K)return!0;if(typeof H!="object"||!H||typeof K!="object"||!K)return!1;const X=Object.keys(H),Q=Object.keys(K);if(X.length!==Q.length)return!1;const Z=Object.prototype.hasOwnProperty.bind(K);for(let ee=0;ee<X.length;ee++){const ne=X[ee];if(!Z(ne))return!1;const te=H[ne],oe=K[ne];if(U=void 0,U===!1||U===void 0&&te!==oe)return!1}return!0}function shallowequal(H,K){return shallowEqual(toRaw(H),toRaw(K))}const MenuContextKey=Symbol("menuContextKey"),useProvideMenu=H=>{provide(MenuContextKey,H)},useInjectMenu=()=>inject(MenuContextKey),ForceRenderKey=Symbol("ForceRenderKey"),useProvideForceRender=H=>{provide(ForceRenderKey,H)},useInjectForceRender=()=>inject(ForceRenderKey,!1),MenuFirstLevelContextKey=Symbol("menuFirstLevelContextKey"),useProvideFirstLevel=H=>{provide(MenuFirstLevelContextKey,H)},useInjectFirstLevel=()=>inject(MenuFirstLevelContextKey,!0),MenuContextProvider=defineComponent({compatConfig:{MODE:3},name:"MenuContextProvider",inheritAttrs:!1,props:{mode:{type:String,default:void 0},overflowDisabled:{type:Boolean,default:void 0}},setup(H,K){let{slots:W}=K;const G=useInjectMenu(),U=_extends$1({},G);return H.mode!==void 0&&(U.mode=toRef(H,"mode")),H.overflowDisabled!==void 0&&(U.overflowDisabled=toRef(H,"overflowDisabled")),useProvideMenu(U),()=>{var X;return(X=W.default)===null||X===void 0?void 0:X.call(W)}}}),SiderCollapsedKey=Symbol("siderCollapsed"),SiderHookProviderKey=Symbol("siderHookProvider"),OVERFLOW_KEY="$$__vc-menu-more__key",KeyPathContext=Symbol("KeyPathContext"),useInjectKeyPath=()=>inject(KeyPathContext,{parentEventKeys:computed(()=>[]),parentKeys:computed(()=>[]),parentInfo:{}}),useProvideKeyPath=(H,K,W)=>{const{parentEventKeys:G,parentKeys:U}=useInjectKeyPath(),X=computed(()=>[...G.value,H]),Q=computed(()=>[...U.value,K]);return provide(KeyPathContext,{parentEventKeys:X,parentKeys:Q,parentInfo:W}),Q},measure=Symbol("measure"),PathContext=defineComponent({compatConfig:{MODE:3},setup(H,K){let{slots:W}=K;return provide(measure,!0),()=>{var G;return(G=W.default)===null||G===void 0?void 0:G.call(W)}}}),useMeasure=()=>inject(measure,!1);function useDirectionStyle(H){const{mode:K,rtl:W,inlineIndent:G}=useInjectMenu();return computed(()=>K.value!=="inline"?null:W.value?{paddingRight:`${H.value*G.value}px`}:{paddingLeft:`${H.value*G.value}px`})}let indexGuid$3=0;const menuItemProps=()=>({id:String,role:String,disabled:Boolean,danger:Boolean,title:{type:[String,Boolean],default:void 0},icon:PropTypes.any,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,originItemValue:objectType()}),__unplugin_components_5=defineComponent({compatConfig:{MODE:3},name:"AMenuItem",inheritAttrs:!1,props:menuItemProps(),slots:Object,setup(H,K){let{slots:W,emit:G,attrs:U}=K;const X=getCurrentInstance(),Q=useMeasure(),Z=typeof X.vnode.key=="symbol"?String(X.vnode.key):X.vnode.key;devWarning(typeof X.vnode.key!="symbol","MenuItem",`MenuItem \`:key="${String(Z)}"\` not support Symbol type`);const ee=`menu_item_${++indexGuid$3}_$$_${Z}`,{parentEventKeys:ne,parentKeys:te}=useInjectKeyPath(),{prefixCls:oe,activeKeys:re,disabled:ae,changeActiveKeys:se,rtl:ce,inlineCollapsed:de,siderCollapsed:le,onItemClick:fe,selectedKeys:pe,registerMenuInfo:me,unRegisterMenuInfo:ue}=useInjectMenu(),ge=useInjectFirstLevel(),he=shallowRef(!1),ve=computed(()=>[...te.value,Z]);me(ee,{eventKey:ee,key:Z,parentEventKeys:ne,parentKeys:te,isLeaf:!0}),onBeforeUnmount(()=>{ue(ee)}),watch(re,()=>{he.value=!!re.value.find(We=>We===Z)},{immediate:!0});const be=computed(()=>ae.value||H.disabled),Se=computed(()=>pe.value.includes(Z)),Ce=computed(()=>{const We=`${oe.value}-item`;return{[`${We}`]:!0,[`${We}-danger`]:H.danger,[`${We}-active`]:he.value,[`${We}-selected`]:Se.value,[`${We}-disabled`]:be.value}}),xe=We=>({key:Z,eventKey:ee,keyPath:ve.value,eventKeyPath:[...ne.value,ee],domEvent:We,item:_extends$1(_extends$1({},H),U)}),Ne=We=>{if(be.value)return;const Le=xe(We);G("click",We),fe(Le)},$e=We=>{be.value||(se(ve.value),G("mouseenter",We))},Ee=We=>{be.value||(se([]),G("mouseleave",We))},Te=We=>{if(G("keydown",We),We.which===KeyCode.ENTER){const Le=xe(We);G("click",We),fe(Le)}},Be=We=>{se(ve.value),G("focus",We)},Ae=(We,Le)=>{const Ze=createVNode("span",{class:`${oe.value}-title-content`},[Le]);return(!We||isValidElement(Le)&&Le.type==="span")&&Le&&de.value&&ge&&typeof Le=="string"?createVNode("div",{class:`${oe.value}-inline-collapsed-noicon`},[Le.charAt(0)]):Ze},ze=useDirectionStyle(computed(()=>ve.value.length));return()=>{var We,Le,Ze,Ye,Re;if(Q)return null;const Ke=(We=H.title)!==null&&We!==void 0?We:(Le=W.title)===null||Le===void 0?void 0:Le.call(W),we=flattenChildren((Ze=W.default)===null||Ze===void 0?void 0:Ze.call(W)),_e=we.length;let Ve=Ke;typeof Ke>"u"?Ve=ge&&_e?we:"":Ke===!1&&(Ve="");const je={title:Ve};!le.value&&!de.value&&(je.title=null,je.open=!1);const qe={};H.role==="option"&&(qe["aria-selected"]=Se.value);const Pe=(Ye=H.icon)!==null&&Ye!==void 0?Ye:(Re=W.icon)===null||Re===void 0?void 0:Re.call(W,H);return createVNode(__unplugin_components_3$3,_objectSpread2$1(_objectSpread2$1({},je),{},{placement:ce.value?"left":"right",overlayClassName:`${oe.value}-inline-collapsed-tooltip`}),{default:()=>[createVNode(Overflow.Item,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({component:"li"},U),{},{id:H.id,style:_extends$1(_extends$1({},U.style||{}),ze.value),class:[Ce.value,{[`${U.class}`]:!!U.class,[`${oe.value}-item-only-child`]:(Pe?_e+1:_e)===1}],role:H.role||"menuitem",tabindex:H.disabled?null:-1,"data-menu-id":Z,"aria-disabled":H.disabled},qe),{},{onMouseenter:$e,onMouseleave:Ee,onClick:Ne,onKeydown:Te,onFocus:Be,title:typeof Ke=="string"?Ke:void 0}),{default:()=>[cloneElement(typeof Pe=="function"?Pe(H.originItemValue):Pe,{class:`${oe.value}-item-icon`},!1),Ae(Pe,we)]})]})}}}),autoAdjustOverflow={adjustX:1,adjustY:1},placements={topLeft:{points:["bl","tl"],overflow:autoAdjustOverflow,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:autoAdjustOverflow,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:autoAdjustOverflow,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:autoAdjustOverflow,offset:[4,0]}},placementsRtl={topLeft:{points:["bl","tl"],overflow:autoAdjustOverflow,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:autoAdjustOverflow,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:autoAdjustOverflow,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:autoAdjustOverflow,offset:[4,0]}},popupPlacementMap={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"},PopupTrigger=defineComponent({compatConfig:{MODE:3},name:"PopupTrigger",inheritAttrs:!1,props:{prefixCls:String,mode:String,visible:Boolean,popupClassName:String,popupOffset:Array,disabled:Boolean,onVisibleChange:Function},slots:Object,emits:["visibleChange"],setup(H,K){let{slots:W,emit:G}=K;const U=shallowRef(!1),{getPopupContainer:X,rtl:Q,subMenuOpenDelay:Z,subMenuCloseDelay:ee,builtinPlacements:ne,triggerSubMenuAction:te,forceSubMenuRender:oe,motion:re,defaultMotions:ae,rootClassName:se}=useInjectMenu(),ce=useInjectForceRender(),de=computed(()=>Q.value?_extends$1(_extends$1({},placementsRtl),ne.value):_extends$1(_extends$1({},placements),ne.value)),le=computed(()=>popupPlacementMap[H.mode]),fe=shallowRef();watch(()=>H.visible,ue=>{wrapperRaf.cancel(fe.value),fe.value=wrapperRaf(()=>{U.value=ue})},{immediate:!0}),onBeforeUnmount(()=>{wrapperRaf.cancel(fe.value)});const pe=ue=>{G("visibleChange",ue)},me=computed(()=>{var ue,ge;const he=re.value||((ue=ae.value)===null||ue===void 0?void 0:ue[H.mode])||((ge=ae.value)===null||ge===void 0?void 0:ge.other),ve=typeof he=="function"?he():he;return ve?getTransitionProps(ve.name,{css:!0}):void 0});return()=>{const{prefixCls:ue,popupClassName:ge,mode:he,popupOffset:ve,disabled:ye}=H;return createVNode(Trigger,{prefixCls:ue,popupClassName:classNames(`${ue}-popup`,{[`${ue}-rtl`]:Q.value},ge,se.value),stretch:he==="horizontal"?"minWidth":null,getPopupContainer:X.value,builtinPlacements:de.value,popupPlacement:le.value,popupVisible:U.value,popupAlign:ve&&{offset:ve},action:ye?[]:[te.value],mouseEnterDelay:Z.value,mouseLeaveDelay:ee.value,onPopupVisibleChange:pe,forceRender:ce||oe.value,popupAnimation:me.value},{popup:W.popup,default:W.default})}}}),InternalSubMenuList=(H,K)=>{let{slots:W,attrs:G}=K;var U;const{prefixCls:X,mode:Q}=useInjectMenu();return createVNode("ul",_objectSpread2$1(_objectSpread2$1({},G),{},{class:classNames(X.value,`${X.value}-sub`,`${X.value}-${Q.value==="inline"?"inline":"vertical"}`),"data-menu-list":!0}),[(U=W.default)===null||U===void 0?void 0:U.call(W)])};InternalSubMenuList.displayName="SubMenuList";const InlineSubMenuList=defineComponent({compatConfig:{MODE:3},name:"InlineSubMenuList",inheritAttrs:!1,props:{id:String,open:Boolean,keyPath:Array},setup(H,K){let{slots:W}=K;const G=computed(()=>"inline"),{motion:U,mode:X,defaultMotions:Q}=useInjectMenu(),Z=computed(()=>X.value===G.value),ee=ref(!Z.value),ne=computed(()=>Z.value?H.open:!1);watch(X,()=>{Z.value&&(ee.value=!1)},{flush:"post"});const te=computed(()=>{var oe,re;const ae=U.value||((oe=Q.value)===null||oe===void 0?void 0:oe[G.value])||((re=Q.value)===null||re===void 0?void 0:re.other),se=typeof ae=="function"?ae():ae;return _extends$1(_extends$1({},se),{appear:H.keyPath.length<=1})});return()=>{var oe;return ee.value?null:createVNode(MenuContextProvider,{mode:G.value},{default:()=>[createVNode(Transition,te.value,{default:()=>[withDirectives(createVNode(InternalSubMenuList,{id:H.id},{default:()=>[(oe=W.default)===null||oe===void 0?void 0:oe.call(W)]}),[[vShow,ne.value]])]})]})}}});let indexGuid$2=0;const subMenuProps=()=>({icon:PropTypes.any,title:PropTypes.any,disabled:Boolean,level:Number,popupClassName:String,popupOffset:Array,internalPopupClose:Boolean,eventKey:String,expandIcon:Function,theme:String,onMouseenter:Function,onMouseleave:Function,onTitleClick:Function,originItemValue:objectType()}),SubMenu$1=defineComponent({compatConfig:{MODE:3},name:"ASubMenu",inheritAttrs:!1,props:subMenuProps(),slots:Object,setup(H,K){let{slots:W,attrs:G,emit:U}=K;var X,Q;useProvideFirstLevel(!1);const Z=useMeasure(),ee=getCurrentInstance(),ne=typeof ee.vnode.key=="symbol"?String(ee.vnode.key):ee.vnode.key;devWarning(typeof ee.vnode.key!="symbol","SubMenu",`SubMenu \`:key="${String(ne)}"\` not support Symbol type`);const te=isValid$2(ne)?ne:`sub_menu_${++indexGuid$2}_$$_not_set_key`,oe=(X=H.eventKey)!==null&&X!==void 0?X:isValid$2(ne)?`sub_menu_${++indexGuid$2}_$$_${ne}`:te,{parentEventKeys:re,parentInfo:ae,parentKeys:se}=useInjectKeyPath(),ce=computed(()=>[...se.value,te]),de=shallowRef([]),le={eventKey:oe,key:te,parentEventKeys:re,childrenEventKeys:de,parentKeys:se};(Q=ae.childrenEventKeys)===null||Q===void 0||Q.value.push(oe),onBeforeUnmount(()=>{var Oe;ae.childrenEventKeys&&(ae.childrenEventKeys.value=(Oe=ae.childrenEventKeys)===null||Oe===void 0?void 0:Oe.value.filter(Qe=>Qe!=oe))}),useProvideKeyPath(oe,te,le);const{prefixCls:fe,activeKeys:pe,disabled:me,changeActiveKeys:ue,mode:ge,inlineCollapsed:he,openKeys:ve,overflowDisabled:ye,onOpenChange:be,registerMenuInfo:Se,unRegisterMenuInfo:Ce,selectedSubMenuKeys:xe,expandIcon:Ne,theme:$e}=useInjectMenu(),Ee=ne!=null,Te=!Z&&(useInjectForceRender()||!Ee);useProvideForceRender(Te),(Z&&Ee||!Z&&!Ee||Te)&&(Se(oe,le),onBeforeUnmount(()=>{Ce(oe)}));const Be=computed(()=>`${fe.value}-submenu`),Ae=computed(()=>me.value||H.disabled),ze=shallowRef(),We=shallowRef(),Le=computed(()=>ve.value.includes(te)),Ze=computed(()=>!ye.value&&Le.value),Ye=computed(()=>xe.value.includes(te)),Re=shallowRef(!1);watch(pe,()=>{Re.value=!!pe.value.find(Oe=>Oe===te)},{immediate:!0});const Ke=Oe=>{Ae.value||(U("titleClick",Oe,te),ge.value==="inline"&&be(te,!Le.value))},we=Oe=>{Ae.value||(ue(ce.value),U("mouseenter",Oe))},_e=Oe=>{Ae.value||(ue([]),U("mouseleave",Oe))},Ve=useDirectionStyle(computed(()=>ce.value.length)),je=Oe=>{ge.value!=="inline"&&be(te,Oe)},qe=()=>{ue(ce.value)},Pe=oe&&`${oe}-popup`,ke=computed(()=>classNames(fe.value,`${fe.value}-${H.theme||$e.value}`,H.popupClassName)),Ue=(Oe,Qe)=>{if(!Qe)return he.value&&!se.value.length&&Oe&&typeof Oe=="string"?createVNode("div",{class:`${fe.value}-inline-collapsed-noicon`},[Oe.charAt(0)]):createVNode("span",{class:`${fe.value}-title-content`},[Oe]);const Ie=isValidElement(Oe)&&Oe.type==="span";return createVNode(Fragment,null,[cloneElement(typeof Qe=="function"?Qe(H.originItemValue):Qe,{class:`${fe.value}-item-icon`},!1),Ie?Oe:createVNode("span",{class:`${fe.value}-title-content`},[Oe])])},He=computed(()=>ge.value!=="inline"&&ce.value.length>1?"vertical":ge.value),Me=computed(()=>ge.value==="horizontal"?"vertical":ge.value),Je=computed(()=>He.value==="horizontal"?"vertical":He.value),Fe=()=>{var Oe,Qe;const Ie=Be.value,De=(Oe=H.icon)!==null&&Oe!==void 0?Oe:(Qe=W.icon)===null||Qe===void 0?void 0:Qe.call(W,H),ot=H.expandIcon||W.expandIcon||Ne.value,st=Ue(getPropsSlot(W,H,"title"),De);return createVNode("div",{style:Ve.value,class:`${Ie}-title`,tabindex:Ae.value?null:-1,ref:ze,title:typeof st=="string"?st:null,"data-menu-id":te,"aria-expanded":Ze.value,"aria-haspopup":!0,"aria-controls":Pe,"aria-disabled":Ae.value,onClick:Ke,onFocus:qe},[st,ge.value!=="horizontal"&&ot?ot(_extends$1(_extends$1({},H),{isOpen:Ze.value})):createVNode("i",{class:`${Ie}-arrow`},null)])};return()=>{var Oe;if(Z)return Ee?(Oe=W.default)===null||Oe===void 0?void 0:Oe.call(W):null;const Qe=Be.value;let Ie=()=>null;if(!ye.value&&ge.value!=="inline"){const De=ge.value==="horizontal"?[0,8]:[10,0];Ie=()=>createVNode(PopupTrigger,{mode:He.value,prefixCls:Qe,visible:!H.internalPopupClose&&Ze.value,popupClassName:ke.value,popupOffset:H.popupOffset||De,disabled:Ae.value,onVisibleChange:je},{default:()=>[Fe()],popup:()=>createVNode(MenuContextProvider,{mode:Je.value},{default:()=>[createVNode(InternalSubMenuList,{id:Pe,ref:We},{default:W.default})]})})}else Ie=()=>createVNode(PopupTrigger,null,{default:Fe});return createVNode(MenuContextProvider,{mode:Me.value},{default:()=>[createVNode(Overflow.Item,_objectSpread2$1(_objectSpread2$1({component:"li"},G),{},{role:"none",class:classNames(Qe,`${Qe}-${ge.value}`,G.class,{[`${Qe}-open`]:Ze.value,[`${Qe}-active`]:Re.value,[`${Qe}-selected`]:Ye.value,[`${Qe}-disabled`]:Ae.value}),onMouseenter:we,onMouseleave:_e,"data-submenu-id":te}),{default:()=>createVNode(Fragment,null,[Ie(),!ye.value&&createVNode(InlineSubMenuList,{id:Pe,open:Ze.value,keyPath:ce.value},{default:W.default})])})]})}}});function hasClass(H,K){return H.classList?H.classList.contains(K):` ${H.className} `.indexOf(` ${K} `)>-1}function addClass(H,K){H.classList?H.classList.add(K):hasClass(H,K)||(H.className=`${H.className} ${K}`)}function removeClass(H,K){if(H.classList)H.classList.remove(K);else if(hasClass(H,K)){const W=H.className;H.className=` ${W} `.replace(` ${K} `," ")}}const collapseMotion=function(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant-motion-collapse",K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{name:H,appear:K,css:!0,onBeforeEnter:W=>{W.style.height="0px",W.style.opacity="0",addClass(W,H)},onEnter:W=>{nextTick(()=>{W.style.height=`${W.scrollHeight}px`,W.style.opacity="1"})},onAfterEnter:W=>{W&&(removeClass(W,H),W.style.height=null,W.style.opacity=null)},onBeforeLeave:W=>{addClass(W,H),W.style.height=`${W.offsetHeight}px`,W.style.opacity=null},onLeave:W=>{setTimeout(()=>{W.style.height="0px",W.style.opacity="0"})},onAfterLeave:W=>{W&&(removeClass(W,H),W.style&&(W.style.height=null,W.style.opacity=null))}}},menuItemGroupProps=()=>({title:PropTypes.any,originItemValue:objectType()}),ItemGroup=defineComponent({compatConfig:{MODE:3},name:"AMenuItemGroup",inheritAttrs:!1,props:menuItemGroupProps(),slots:Object,setup(H,K){let{slots:W,attrs:G}=K;const{prefixCls:U}=useInjectMenu(),X=computed(()=>`${U.value}-item-group`),Q=useMeasure();return()=>{var Z,ee;return Q?(Z=W.default)===null||Z===void 0?void 0:Z.call(W):createVNode("li",_objectSpread2$1(_objectSpread2$1({},G),{},{onClick:ne=>ne.stopPropagation(),class:X.value}),[createVNode("div",{title:typeof H.title=="string"?H.title:void 0,class:`${X.value}-title`},[getPropsSlot(W,H,"title")]),createVNode("ul",{class:`${X.value}-list`},[(ee=W.default)===null||ee===void 0?void 0:ee.call(W)])])}}}),menuDividerProps=()=>({prefixCls:String,dashed:Boolean}),__unplugin_components_6$1=defineComponent({compatConfig:{MODE:3},name:"AMenuDivider",props:menuDividerProps(),setup(H){const{prefixCls:K}=useInjectMenu(),W=computed(()=>({[`${K.value}-item-divider`]:!0,[`${K.value}-item-divider-dashed`]:!!H.dashed}));return()=>createVNode("li",{class:W.value},null)}});var __rest$w=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};function convertItemsToNodes(H,K,W){return(H||[]).map((G,U)=>{if(G&&typeof G=="object"){const X=G,{label:Q,children:Z,key:ee,type:ne}=X,te=__rest$w(X,["label","children","key","type"]),oe=ee??`tmp-${U}`,re=W?W.parentKeys.slice():[],ae=[],se={eventKey:oe,key:oe,parentEventKeys:ref(re),parentKeys:ref(re),childrenEventKeys:ref(ae),isLeaf:!1};if(Z||ne==="group"){if(ne==="group"){const de=convertItemsToNodes(Z,K,W);return createVNode(ItemGroup,_objectSpread2$1(_objectSpread2$1({key:oe},te),{},{title:Q,originItemValue:G}),{default:()=>[de]})}K.set(oe,se),W&&W.childrenEventKeys.push(oe);const ce=convertItemsToNodes(Z,K,{childrenEventKeys:ae,parentKeys:[].concat(re,oe)});return createVNode(SubMenu$1,_objectSpread2$1(_objectSpread2$1({key:oe},te),{},{title:Q,originItemValue:G}),{default:()=>[ce]})}return ne==="divider"?createVNode(__unplugin_components_6$1,_objectSpread2$1({key:oe},te),null):(se.isLeaf=!0,K.set(oe,se),createVNode(__unplugin_components_5,_objectSpread2$1(_objectSpread2$1({key:oe},te),{},{originItemValue:G}),{default:()=>[Q]}))}return null}).filter(G=>G)}function useItems(H){const K=shallowRef([]),W=shallowRef(!1),G=shallowRef(new Map);return watch(()=>H.items,()=>{const U=new Map;W.value=!1,H.items?(W.value=!0,K.value=convertItemsToNodes(H.items,U)):K.value=void 0,G.value=U},{immediate:!0,deep:!0}),{itemsNodes:K,store:G,hasItmes:W}}const getHorizontalStyle=H=>{const{componentCls:K,motionDurationSlow:W,menuHorizontalHeight:G,colorSplit:U,lineWidth:X,lineType:Q,menuItemPaddingInline:Z}=H;return{[`${K}-horizontal`]:{lineHeight:`${G}px`,border:0,borderBottom:`${X}px ${Q} ${U}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${K}-item, ${K}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:Z},[`> ${K}-item:hover,
        > ${K}-item-active,
        > ${K}-submenu ${K}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${K}-item, ${K}-submenu-title`]:{transition:[`border-color ${W}`,`background ${W}`].join(",")},[`${K}-submenu-arrow`]:{display:"none"}}}},getRTLStyle=H=>{let{componentCls:K,menuArrowOffset:W}=H;return{[`${K}-rtl`]:{direction:"rtl"},[`${K}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${K}-rtl${K}-vertical,
    ${K}-submenu-rtl ${K}-vertical`]:{[`${K}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(-${W})`},"&::after":{transform:`rotate(45deg) translateY(${W})`}}}}},accessibilityFocus=H=>_extends$1({},genFocusOutline(H)),getThemeStyle=(H,K)=>{const{componentCls:W,colorItemText:G,colorItemTextSelected:U,colorGroupTitle:X,colorItemBg:Q,colorSubItemBg:Z,colorItemBgSelected:ee,colorActiveBarHeight:ne,colorActiveBarWidth:te,colorActiveBarBorderSize:oe,motionDurationSlow:re,motionEaseInOut:ae,motionEaseOut:se,menuItemPaddingInline:ce,motionDurationMid:de,colorItemTextHover:le,lineType:fe,colorSplit:pe,colorItemTextDisabled:me,colorDangerItemText:ue,colorDangerItemTextHover:ge,colorDangerItemTextSelected:he,colorDangerItemBgActive:ve,colorDangerItemBgSelected:ye,colorItemBgHover:be,menuSubMenuBg:Se,colorItemTextSelectedHorizontal:Ce,colorItemBgSelectedHorizontal:xe}=H;return{[`${W}-${K}`]:{color:G,background:Q,[`&${W}-root:focus-visible`]:_extends$1({},accessibilityFocus(H)),[`${W}-item-group-title`]:{color:X},[`${W}-submenu-selected`]:{[`> ${W}-submenu-title`]:{color:U}},[`${W}-item-disabled, ${W}-submenu-disabled`]:{color:`${me} !important`},[`${W}-item:hover, ${W}-submenu-title:hover`]:{[`&:not(${W}-item-selected):not(${W}-submenu-selected)`]:{color:le}},[`&:not(${W}-horizontal)`]:{[`${W}-item:not(${W}-item-selected)`]:{"&:hover":{backgroundColor:be},"&:active":{backgroundColor:ee}},[`${W}-submenu-title`]:{"&:hover":{backgroundColor:be},"&:active":{backgroundColor:ee}}},[`${W}-item-danger`]:{color:ue,[`&${W}-item:hover`]:{[`&:not(${W}-item-selected):not(${W}-submenu-selected)`]:{color:ge}},[`&${W}-item:active`]:{background:ve}},[`${W}-item a`]:{"&, &:hover":{color:"inherit"}},[`${W}-item-selected`]:{color:U,[`&${W}-item-danger`]:{color:he},"a, a:hover":{color:"inherit"}},[`& ${W}-item-selected`]:{backgroundColor:ee,[`&${W}-item-danger`]:{backgroundColor:ye}},[`${W}-item, ${W}-submenu-title`]:{[`&:not(${W}-item-disabled):focus-visible`]:_extends$1({},accessibilityFocus(H))},[`&${W}-submenu > ${W}`]:{backgroundColor:Se},[`&${W}-popup > ${W}`]:{backgroundColor:Q},[`&${W}-horizontal`]:_extends$1(_extends$1({},K==="dark"?{borderBottom:0}:{}),{[`> ${W}-item, > ${W}-submenu`]:{top:oe,marginTop:-oe,marginBottom:0,borderRadius:0,"&::after":{position:"absolute",insetInline:ce,bottom:0,borderBottom:`${ne}px solid transparent`,transition:`border-color ${re} ${ae}`,content:'""'},"&:hover, &-active, &-open":{"&::after":{borderBottomWidth:ne,borderBottomColor:Ce}},"&-selected":{color:Ce,backgroundColor:xe,"&::after":{borderBottomWidth:ne,borderBottomColor:Ce}}}}),[`&${W}-root`]:{[`&${W}-inline, &${W}-vertical`]:{borderInlineEnd:`${oe}px ${fe} ${pe}`}},[`&${W}-inline`]:{[`${W}-sub${W}-inline`]:{background:Z},[`${W}-item, ${W}-submenu-title`]:oe&&te?{width:`calc(100% + ${oe}px)`}:{},[`${W}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${te}px solid ${U}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${de} ${se}`,`opacity ${de} ${se}`].join(","),content:'""'},[`&${W}-item-danger`]:{"&::after":{borderInlineEndColor:he}}},[`${W}-selected, ${W}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${de} ${ae}`,`opacity ${de} ${ae}`].join(",")}}}}}},getVerticalInlineStyle=H=>{const{componentCls:K,menuItemHeight:W,itemMarginInline:G,padding:U,menuArrowSize:X,marginXS:Q,marginXXS:Z}=H,ee=U+X+Q;return{[`${K}-item`]:{position:"relative"},[`${K}-item, ${K}-submenu-title`]:{height:W,lineHeight:`${W}px`,paddingInline:U,overflow:"hidden",textOverflow:"ellipsis",marginInline:G,marginBlock:Z,width:`calc(100% - ${G*2}px)`},[`${K}-submenu`]:{paddingBottom:.02},[`> ${K}-item,
            > ${K}-submenu > ${K}-submenu-title`]:{height:W,lineHeight:`${W}px`},[`${K}-item-group-list ${K}-submenu-title,
            ${K}-submenu-title`]:{paddingInlineEnd:ee}}},getVerticalStyle=H=>{const{componentCls:K,iconCls:W,menuItemHeight:G,colorTextLightSolid:U,dropdownWidth:X,controlHeightLG:Q,motionDurationMid:Z,motionEaseOut:ee,paddingXL:ne,fontSizeSM:te,fontSizeLG:oe,motionDurationSlow:re,paddingXS:ae,boxShadowSecondary:se}=H,ce={height:G,lineHeight:`${G}px`,listStylePosition:"inside",listStyleType:"disc"};return[{[K]:{"&-inline, &-vertical":_extends$1({[`&${K}-root`]:{boxShadow:"none"}},getVerticalInlineStyle(H))},[`${K}-submenu-popup`]:{[`${K}-vertical`]:_extends$1(_extends$1({},getVerticalInlineStyle(H)),{boxShadow:se})}},{[`${K}-submenu-popup ${K}-vertical${K}-sub`]:{minWidth:X,maxHeight:`calc(100vh - ${Q*2.5}px)`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${K}-inline`]:{width:"100%",[`&${K}-root`]:{[`${K}-item, ${K}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${re}`,`background ${re}`,`padding ${Z} ${ee}`].join(","),[`> ${K}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${K}-sub${K}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${K}-submenu > ${K}-submenu-title`]:ce,[`& ${K}-item-group-title`]:{paddingInlineStart:ne}},[`${K}-item`]:ce}},{[`${K}-inline-collapsed`]:{width:G*2,[`&${K}-root`]:{[`${K}-item, ${K}-submenu ${K}-submenu-title`]:{[`> ${K}-inline-collapsed-noicon`]:{fontSize:oe,textAlign:"center"}}},[`> ${K}-item,
          > ${K}-item-group > ${K}-item-group-list > ${K}-item,
          > ${K}-item-group > ${K}-item-group-list > ${K}-submenu > ${K}-submenu-title,
          > ${K}-submenu > ${K}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${te}px)`,textOverflow:"clip",[`
            ${K}-submenu-arrow,
            ${K}-submenu-expand-icon
          `]:{opacity:0},[`${K}-item-icon, ${W}`]:{margin:0,fontSize:oe,lineHeight:`${G}px`,"+ span":{display:"inline-block",opacity:0}}},[`${K}-item-icon, ${W}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${K}-item-icon, ${W}`]:{display:"none"},"a, a:hover":{color:U}},[`${K}-item-group-title`]:_extends$1(_extends$1({},textEllipsis),{paddingInline:ae})}}]},genMenuItemStyle=H=>{const{componentCls:K,fontSize:W,motionDurationSlow:G,motionDurationMid:U,motionEaseInOut:X,motionEaseOut:Q,iconCls:Z,controlHeightSM:ee}=H;return{[`${K}-item, ${K}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${G}`,`background ${G}`,`padding ${G} ${X}`].join(","),[`${K}-item-icon, ${Z}`]:{minWidth:W,fontSize:W,transition:[`font-size ${U} ${Q}`,`margin ${G} ${X}`,`color ${G}`].join(","),"+ span":{marginInlineStart:ee-W,opacity:1,transition:[`opacity ${G} ${X}`,`margin ${G}`,`color ${G}`].join(",")}},[`${K}-item-icon`]:_extends$1({},resetIcon()),[`&${K}-item-only-child`]:{[`> ${Z}, > ${K}-item-icon`]:{marginInlineEnd:0}}},[`${K}-item-disabled, ${K}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${K}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},genSubMenuArrowStyle=H=>{const{componentCls:K,motionDurationSlow:W,motionEaseInOut:G,borderRadius:U,menuArrowSize:X,menuArrowOffset:Q}=H;return{[`${K}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:H.margin,width:X,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${W} ${G}, opacity ${W}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:X*.6,height:X*.15,backgroundColor:"currentcolor",borderRadius:U,transition:[`background ${W} ${G}`,`transform ${W} ${G}`,`top ${W} ${G}`,`color ${W} ${G}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(-${Q})`},"&::after":{transform:`rotate(-45deg) translateY(${Q})`}}}}},getBaseStyle=H=>{const{antCls:K,componentCls:W,fontSize:G,motionDurationSlow:U,motionDurationMid:X,motionEaseInOut:Q,lineHeight:Z,paddingXS:ee,padding:ne,colorSplit:te,lineWidth:oe,zIndexPopup:re,borderRadiusLG:ae,radiusSubMenuItem:se,menuArrowSize:ce,menuArrowOffset:de,lineType:le,menuPanelMaskInset:fe}=H;return[{"":{[`${W}`]:_extends$1(_extends$1({},clearFix()),{"&-hidden":{display:"none"}})},[`${W}-submenu-hidden`]:{display:"none"}},{[W]:_extends$1(_extends$1(_extends$1(_extends$1(_extends$1(_extends$1(_extends$1({},resetComponent(H)),clearFix()),{marginBottom:0,paddingInlineStart:0,fontSize:G,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${U} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${W}-item`]:{flex:"none"}},[`${W}-item, ${W}-submenu, ${W}-submenu-title`]:{borderRadius:H.radiusItem},[`${W}-item-group-title`]:{padding:`${ee}px ${ne}px`,fontSize:G,lineHeight:Z,transition:`all ${U}`},[`&-horizontal ${W}-submenu`]:{transition:[`border-color ${U} ${Q}`,`background ${U} ${Q}`].join(",")},[`${W}-submenu, ${W}-submenu-inline`]:{transition:[`border-color ${U} ${Q}`,`background ${U} ${Q}`,`padding ${X} ${Q}`].join(",")},[`${W}-submenu ${W}-sub`]:{cursor:"initial",transition:[`background ${U} ${Q}`,`padding ${U} ${Q}`].join(",")},[`${W}-title-content`]:{transition:`color ${U}`},[`${W}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${W}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:te,borderStyle:le,borderWidth:0,borderTopWidth:oe,marginBlock:oe,padding:0,"&-dashed":{borderStyle:"dashed"}}}),genMenuItemStyle(H)),{[`${W}-item-group`]:{[`${W}-item-group-list`]:{margin:0,padding:0,[`${W}-item, ${W}-submenu-title`]:{paddingInline:`${G*2}px ${ne}px`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:re,background:"transparent",borderRadius:ae,boxShadow:"none",transformOrigin:"0 0","&::before":{position:"absolute",inset:`${fe}px 0 0`,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'}},"&-placement-rightTop::before":{top:0,insetInlineStart:fe},[`> ${W}`]:_extends$1(_extends$1(_extends$1({borderRadius:ae},genMenuItemStyle(H)),genSubMenuArrowStyle(H)),{[`${W}-item, ${W}-submenu > ${W}-submenu-title`]:{borderRadius:se},[`${W}-submenu-title::after`]:{transition:`transform ${U} ${Q}`}})}}),genSubMenuArrowStyle(H)),{[`&-inline-collapsed ${W}-submenu-arrow,
        &-inline ${W}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${de})`},"&::after":{transform:`rotate(45deg) translateX(-${de})`}},[`${W}-submenu-open${W}-submenu-inline > ${W}-submenu-title > ${W}-submenu-arrow`]:{transform:`translateY(-${ce*.2}px)`,"&::after":{transform:`rotate(-45deg) translateX(-${de})`},"&::before":{transform:`rotate(45deg) translateX(${de})`}}})},{[`${K}-layout-header`]:{[W]:{lineHeight:"inherit"}}}]},useStyle$p=(H,K)=>genComponentStyleHook("Menu",(G,U)=>{let{overrideComponentToken:X}=U;if(K?.value===!1)return[];const{colorBgElevated:Q,colorPrimary:Z,colorError:ee,colorErrorHover:ne,colorTextLightSolid:te}=G,{controlHeightLG:oe,fontSize:re}=G,ae=re/7*5,se=merge(G,{menuItemHeight:oe,menuItemPaddingInline:G.margin,menuArrowSize:ae,menuHorizontalHeight:oe*1.15,menuArrowOffset:`${ae*.25}px`,menuPanelMaskInset:-7,menuSubMenuBg:Q}),ce=new TinyColor(te).setAlpha(.65).toRgbString(),de=merge(se,{colorItemText:ce,colorItemTextHover:te,colorGroupTitle:ce,colorItemTextSelected:te,colorItemBg:"#001529",colorSubItemBg:"#000c17",colorItemBgActive:"transparent",colorItemBgSelected:Z,colorActiveBarWidth:0,colorActiveBarHeight:0,colorActiveBarBorderSize:0,colorItemTextDisabled:new TinyColor(te).setAlpha(.25).toRgbString(),colorDangerItemText:ee,colorDangerItemTextHover:ne,colorDangerItemTextSelected:te,colorDangerItemBgActive:ee,colorDangerItemBgSelected:ee,menuSubMenuBg:"#001529",colorItemTextSelectedHorizontal:te,colorItemBgSelectedHorizontal:Z},_extends$1({},X));return[getBaseStyle(se),getHorizontalStyle(se),getVerticalStyle(se),getThemeStyle(se,"light"),getThemeStyle(de,"dark"),getRTLStyle(se),genCollapseMotion(se),initSlideMotion(se,"slide-up"),initSlideMotion(se,"slide-down"),initZoomMotion(se,"zoom-big")]},G=>{const{colorPrimary:U,colorError:X,colorTextDisabled:Q,colorErrorBg:Z,colorText:ee,colorTextDescription:ne,colorBgContainer:te,colorFillAlter:oe,colorFillContent:re,lineWidth:ae,lineWidthBold:se,controlItemBgActive:ce,colorBgTextHover:de}=G;return{dropdownWidth:160,zIndexPopup:G.zIndexPopupBase+50,radiusItem:G.borderRadiusLG,radiusSubMenuItem:G.borderRadiusSM,colorItemText:ee,colorItemTextHover:ee,colorItemTextHoverHorizontal:U,colorGroupTitle:ne,colorItemTextSelected:U,colorItemTextSelectedHorizontal:U,colorItemBg:te,colorItemBgHover:de,colorItemBgActive:re,colorSubItemBg:oe,colorItemBgSelected:ce,colorItemBgSelectedHorizontal:"transparent",colorActiveBarWidth:0,colorActiveBarHeight:se,colorActiveBarBorderSize:ae,colorItemTextDisabled:Q,colorDangerItemText:X,colorDangerItemTextHover:X,colorDangerItemTextSelected:X,colorDangerItemBgActive:Z,colorDangerItemBgSelected:Z,itemMarginInline:G.marginXXS}})(H),menuProps=()=>({id:String,prefixCls:String,items:Array,disabled:Boolean,inlineCollapsed:Boolean,disabledOverflow:Boolean,forceSubMenuRender:Boolean,openKeys:Array,selectedKeys:Array,activeKey:String,selectable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},tabindex:{type:[Number,String]},motion:Object,role:String,theme:{type:String,default:"light"},mode:{type:String,default:"vertical"},inlineIndent:{type:Number,default:24},subMenuOpenDelay:{type:Number,default:0},subMenuCloseDelay:{type:Number,default:.1},builtinPlacements:{type:Object},triggerSubMenuAction:{type:String,default:"hover"},getPopupContainer:Function,expandIcon:Function,onOpenChange:Function,onSelect:Function,onDeselect:Function,onClick:[Function,Array],onFocus:Function,onBlur:Function,onMousedown:Function,"onUpdate:openKeys":Function,"onUpdate:selectedKeys":Function,"onUpdate:activeKey":Function}),EMPTY_LIST$2=[],Menu=defineComponent({compatConfig:{MODE:3},name:"AMenu",inheritAttrs:!1,props:menuProps(),slots:Object,setup(H,K){let{slots:W,emit:G,attrs:U}=K;const{direction:X,getPrefixCls:Q}=useConfigInject("menu",H),Z=useInjectOverride(),ee=computed(()=>{var we;return Q("menu",H.prefixCls||((we=Z?.prefixCls)===null||we===void 0?void 0:we.value))}),[ne,te]=useStyle$p(ee,computed(()=>!Z)),oe=shallowRef(new Map),re=inject(SiderCollapsedKey,ref(void 0)),ae=computed(()=>re.value!==void 0?re.value:H.inlineCollapsed),{itemsNodes:se}=useItems(H),ce=shallowRef(!1);onMounted(()=>{ce.value=!0}),watchEffect(()=>{devWarning(!(H.inlineCollapsed===!0&&H.mode!=="inline"),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),devWarning(!(re.value!==void 0&&H.inlineCollapsed===!0),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead.")});const de=ref([]),le=ref([]),fe=ref({});watch(oe,()=>{const we={};for(const _e of oe.value.values())we[_e.key]=_e;fe.value=we},{flush:"post"}),watchEffect(()=>{if(H.activeKey!==void 0){let we=[];const _e=H.activeKey?fe.value[H.activeKey]:void 0;_e&&H.activeKey!==void 0?we=uniq([].concat(unref(_e.parentKeys),H.activeKey)):we=[],shallowequal(de.value,we)||(de.value=we)}}),watch(()=>H.selectedKeys,we=>{we&&(le.value=we.slice())},{immediate:!0,deep:!0});const pe=ref([]);watch([fe,le],()=>{let we=[];le.value.forEach(_e=>{const Ve=fe.value[_e];Ve&&(we=we.concat(unref(Ve.parentKeys)))}),we=uniq(we),shallowequal(pe.value,we)||(pe.value=we)},{immediate:!0});const me=we=>{if(H.selectable){const{key:_e}=we,Ve=le.value.includes(_e);let je;H.multiple?Ve?je=le.value.filter(Pe=>Pe!==_e):je=[...le.value,_e]:je=[_e];const qe=_extends$1(_extends$1({},we),{selectedKeys:je});shallowequal(je,le.value)||(H.selectedKeys===void 0&&(le.value=je),G("update:selectedKeys",je),Ve&&H.multiple?G("deselect",qe):G("select",qe))}be.value!=="inline"&&!H.multiple&&ue.value.length&&xe(EMPTY_LIST$2)},ue=ref([]);watch(()=>H.openKeys,function(){let we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ue.value;shallowequal(ue.value,we)||(ue.value=we.slice())},{immediate:!0,deep:!0});let ge;const he=we=>{clearTimeout(ge),ge=setTimeout(()=>{H.activeKey===void 0&&(de.value=we),G("update:activeKey",we[we.length-1])})},ve=computed(()=>!!H.disabled),ye=computed(()=>X.value==="rtl"),be=ref("vertical"),Se=shallowRef(!1);watchEffect(()=>{var we;(H.mode==="inline"||H.mode==="vertical")&&ae.value?(be.value="vertical",Se.value=ae.value):(be.value=H.mode,Se.value=!1),!((we=Z?.mode)===null||we===void 0)&&we.value&&(be.value=Z.mode.value)});const Ce=computed(()=>be.value==="inline"),xe=we=>{ue.value=we,G("update:openKeys",we),G("openChange",we)},Ne=ref(ue.value),$e=shallowRef(!1);watch(ue,()=>{Ce.value&&(Ne.value=ue.value)},{immediate:!0}),watch(Ce,()=>{if(!$e.value){$e.value=!0;return}Ce.value?ue.value=Ne.value:xe(EMPTY_LIST$2)},{immediate:!0});const Ee=computed(()=>({[`${ee.value}`]:!0,[`${ee.value}-root`]:!0,[`${ee.value}-${be.value}`]:!0,[`${ee.value}-inline-collapsed`]:Se.value,[`${ee.value}-rtl`]:ye.value,[`${ee.value}-${H.theme}`]:!0})),Te=computed(()=>Q()),Be=computed(()=>({horizontal:{name:`${Te.value}-slide-up`},inline:collapseMotion(`${Te.value}-motion-collapse`),other:{name:`${Te.value}-zoom-big`}}));useProvideFirstLevel(!0);const Ae=function(){let we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const _e=[],Ve=oe.value;return we.forEach(je=>{const{key:qe,childrenEventKeys:Pe}=Ve.get(je);_e.push(qe,...Ae(unref(Pe)))}),_e},ze=we=>{var _e;G("click",we),me(we),(_e=Z?.onClick)===null||_e===void 0||_e.call(Z)},We=(we,_e)=>{var Ve;const je=((Ve=fe.value[we])===null||Ve===void 0?void 0:Ve.childrenEventKeys)||[];let qe=ue.value.filter(Pe=>Pe!==we);if(_e)qe.push(we);else if(be.value!=="inline"){const Pe=Ae(unref(je));qe=uniq(qe.filter(ke=>!Pe.includes(ke)))}shallowequal(ue,qe)||xe(qe)},Le=(we,_e)=>{oe.value.set(we,_e),oe.value=new Map(oe.value)},Ze=we=>{oe.value.delete(we),oe.value=new Map(oe.value)},Ye=ref(0),Re=computed(()=>{var we;return H.expandIcon||W.expandIcon||!((we=Z?.expandIcon)===null||we===void 0)&&we.value?_e=>{let Ve=H.expandIcon||W.expandIcon;return Ve=typeof Ve=="function"?Ve(_e):Ve,cloneElement(Ve,{class:`${ee.value}-submenu-expand-icon`},!1)}:null});useProvideMenu({prefixCls:ee,activeKeys:de,openKeys:ue,selectedKeys:le,changeActiveKeys:he,disabled:ve,rtl:ye,mode:be,inlineIndent:computed(()=>H.inlineIndent),subMenuCloseDelay:computed(()=>H.subMenuCloseDelay),subMenuOpenDelay:computed(()=>H.subMenuOpenDelay),builtinPlacements:computed(()=>H.builtinPlacements),triggerSubMenuAction:computed(()=>H.triggerSubMenuAction),getPopupContainer:computed(()=>H.getPopupContainer),inlineCollapsed:Se,theme:computed(()=>H.theme),siderCollapsed:re,defaultMotions:computed(()=>ce.value?Be.value:null),motion:computed(()=>ce.value?H.motion:null),overflowDisabled:shallowRef(void 0),onOpenChange:We,onItemClick:ze,registerMenuInfo:Le,unRegisterMenuInfo:Ze,selectedSubMenuKeys:pe,expandIcon:Re,forceSubMenuRender:computed(()=>H.forceSubMenuRender),rootClassName:te});const Ke=()=>{var we;return se.value||flattenChildren((we=W.default)===null||we===void 0?void 0:we.call(W))};return()=>{var we;const _e=Ke(),Ve=Ye.value>=_e.length-1||be.value!=="horizontal"||H.disabledOverflow,je=Pe=>be.value!=="horizontal"||H.disabledOverflow?Pe:Pe.map((ke,Ue)=>createVNode(MenuContextProvider,{key:ke.key,overflowDisabled:Ue>Ye.value},{default:()=>ke})),qe=((we=W.overflowedIndicator)===null||we===void 0?void 0:we.call(W))||createVNode(EllipsisOutlined,null,null);return ne(createVNode(Overflow,_objectSpread2$1(_objectSpread2$1({},U),{},{onMousedown:H.onMousedown,prefixCls:`${ee.value}-overflow`,component:"ul",itemComponent:__unplugin_components_5,class:[Ee.value,U.class,te.value],role:"menu",id:H.id,data:je(_e),renderRawItem:Pe=>Pe,renderRawRest:Pe=>{const ke=Pe.length,Ue=ke?_e.slice(-ke):null;return createVNode(Fragment,null,[createVNode(SubMenu$1,{eventKey:OVERFLOW_KEY,key:OVERFLOW_KEY,title:qe,disabled:Ve,internalPopupClose:ke===0},{default:()=>Ue}),createVNode(PathContext,null,{default:()=>[createVNode(SubMenu$1,{eventKey:OVERFLOW_KEY,key:OVERFLOW_KEY,title:qe,disabled:Ve,internalPopupClose:ke===0},{default:()=>Ue})]})])},maxCount:be.value!=="horizontal"||H.disabledOverflow?Overflow.INVALIDATE:Overflow.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:Pe=>{Ye.value=Pe}}),{default:()=>[createVNode(Teleport,{to:"body"},{default:()=>[createVNode("div",{style:{display:"none"},"aria-hidden":!0},[createVNode(PathContext,null,{default:()=>[je(Ke())]})])]})]}))}}});Menu.install=function(H){return H.component(Menu.name,Menu),H.component(__unplugin_components_5.name,__unplugin_components_5),H.component(SubMenu$1.name,SubMenu$1),H.component(__unplugin_components_6$1.name,__unplugin_components_6$1),H.component(ItemGroup.name,ItemGroup),H};Menu.Item=__unplugin_components_5;Menu.Divider=__unplugin_components_6$1;Menu.SubMenu=SubMenu$1;Menu.ItemGroup=ItemGroup;var __rest$v=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const checkboxProps$1={prefixCls:String,name:String,id:String,type:String,defaultChecked:{type:[Boolean,Number],default:void 0},checked:{type:[Boolean,Number],default:void 0},disabled:Boolean,tabindex:{type:[Number,String]},readonly:Boolean,autofocus:Boolean,value:PropTypes.any,required:Boolean},VcCheckbox=defineComponent({compatConfig:{MODE:3},name:"Checkbox",inheritAttrs:!1,props:initDefaultProps(checkboxProps$1,{prefixCls:"rc-checkbox",type:"checkbox",defaultChecked:!1}),emits:["click","change"],setup(H,K){let{attrs:W,emit:G,expose:U}=K;const X=ref(H.checked===void 0?H.defaultChecked:H.checked),Q=ref();watch(()=>H.checked,()=>{X.value=H.checked}),U({focus(){var te;(te=Q.value)===null||te===void 0||te.focus()},blur(){var te;(te=Q.value)===null||te===void 0||te.blur()}});const Z=ref(),ee=te=>{if(H.disabled)return;H.checked===void 0&&(X.value=te.target.checked),te.shiftKey=Z.value;const oe={target:_extends$1(_extends$1({},H),{checked:te.target.checked}),stopPropagation(){te.stopPropagation()},preventDefault(){te.preventDefault()},nativeEvent:te};H.checked!==void 0&&(Q.value.checked=!!H.checked),G("change",oe),Z.value=!1},ne=te=>{G("click",te),Z.value=te.shiftKey};return()=>{const{prefixCls:te,name:oe,id:re,type:ae,disabled:se,readonly:ce,tabindex:de,autofocus:le,value:fe,required:pe}=H,me=__rest$v(H,["prefixCls","name","id","type","disabled","readonly","tabindex","autofocus","value","required"]),{class:ue,onFocus:ge,onBlur:he,onKeydown:ve,onKeypress:ye,onKeyup:be}=W,Se=_extends$1(_extends$1({},me),W),Ce=Object.keys(Se).reduce(($e,Ee)=>((Ee.startsWith("data-")||Ee.startsWith("aria-")||Ee==="role")&&($e[Ee]=Se[Ee]),$e),{}),xe=classNames(te,ue,{[`${te}-checked`]:X.value,[`${te}-disabled`]:se}),Ne=_extends$1(_extends$1({name:oe,id:re,type:ae,readonly:ce,disabled:se,tabindex:de,class:`${te}-input`,checked:!!X.value,autofocus:le,value:fe},Ce),{onChange:ee,onClick:ne,onFocus:ge,onBlur:he,onKeydown:ve,onKeypress:ye,onKeyup:be,required:pe});return createVNode("span",{class:xe},[createVNode("input",_objectSpread2$1({ref:Q},Ne),null),createVNode("span",{class:`${te}-inner`},null)])}}}),radioGroupContextKey=Symbol("radioGroupContextKey"),useProvideRadioGroupContext=H=>{provide(radioGroupContextKey,H)},useInjectRadioGroupContext=()=>inject(radioGroupContextKey,void 0),radioOptionTypeContextKey=Symbol("radioOptionTypeContextKey"),useProvideRadioOptionTypeContext=H=>{provide(radioOptionTypeContextKey,H)},useInjectRadioOptionTypeContext=()=>inject(radioOptionTypeContextKey,void 0),antRadioEffect=new Keyframe("antRadioEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),getGroupRadioStyle=H=>{const{componentCls:K,antCls:W}=H,G=`${K}-group`;return{[G]:_extends$1(_extends$1({},resetComponent(H)),{display:"inline-block",fontSize:0,[`&${G}-rtl`]:{direction:"rtl"},[`${W}-badge ${W}-badge-count`]:{zIndex:1},[`> ${W}-badge:not(:first-child) > ${W}-button-wrapper`]:{borderInlineStart:"none"}})}},getRadioBasicStyle=H=>{const{componentCls:K,radioWrapperMarginRight:W,radioCheckedColor:G,radioSize:U,motionDurationSlow:X,motionDurationMid:Q,motionEaseInOut:Z,motionEaseInOutCirc:ee,radioButtonBg:ne,colorBorder:te,lineWidth:oe,radioDotSize:re,colorBgContainerDisabled:ae,colorTextDisabled:se,paddingXS:ce,radioDotDisabledColor:de,lineType:le,radioDotDisabledSize:fe,wireframe:pe,colorWhite:me}=H,ue=`${K}-inner`;return{[`${K}-wrapper`]:_extends$1(_extends$1({},resetComponent(H)),{position:"relative",display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:W,cursor:"pointer",[`&${K}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:H.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},[`${K}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${oe}px ${le} ${G}`,borderRadius:"50%",visibility:"hidden",animationName:antRadioEffect,animationDuration:X,animationTimingFunction:Z,animationFillMode:"both",content:'""'},[K]:_extends$1(_extends$1({},resetComponent(H)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center"}),[`${K}-wrapper:hover &,
        &:hover ${ue}`]:{borderColor:G},[`${K}-input:focus-visible + ${ue}`]:_extends$1({},genFocusOutline(H)),[`${K}:hover::after, ${K}-wrapper:hover &::after`]:{visibility:"visible"},[`${K}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:U,height:U,marginBlockStart:U/-2,marginInlineStart:U/-2,backgroundColor:pe?G:me,borderBlockStart:0,borderInlineStart:0,borderRadius:U,transform:"scale(0)",opacity:0,transition:`all ${X} ${ee}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:U,height:U,backgroundColor:ne,borderColor:te,borderStyle:"solid",borderWidth:oe,borderRadius:"50%",transition:`all ${Q}`},[`${K}-input`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,insetBlockEnd:0,insetInlineStart:0,zIndex:1,cursor:"pointer",opacity:0},[`${K}-checked`]:{[ue]:{borderColor:G,backgroundColor:pe?ne:G,"&::after":{transform:`scale(${re/U})`,opacity:1,transition:`all ${X} ${ee}`}}},[`${K}-disabled`]:{cursor:"not-allowed",[ue]:{backgroundColor:ae,borderColor:te,cursor:"not-allowed","&::after":{backgroundColor:de}},[`${K}-input`]:{cursor:"not-allowed"},[`${K}-disabled + span`]:{color:se,cursor:"not-allowed"},[`&${K}-checked`]:{[ue]:{"&::after":{transform:`scale(${fe/U})`}}}},[`span${K} + *`]:{paddingInlineStart:ce,paddingInlineEnd:ce}})}},getRadioButtonStyle=H=>{const{radioButtonColor:K,controlHeight:W,componentCls:G,lineWidth:U,lineType:X,colorBorder:Q,motionDurationSlow:Z,motionDurationMid:ee,radioButtonPaddingHorizontal:ne,fontSize:te,radioButtonBg:oe,fontSizeLG:re,controlHeightLG:ae,controlHeightSM:se,paddingXS:ce,borderRadius:de,borderRadiusSM:le,borderRadiusLG:fe,radioCheckedColor:pe,radioButtonCheckedBg:me,radioButtonHoverColor:ue,radioButtonActiveColor:ge,radioSolidCheckedColor:he,colorTextDisabled:ve,colorBgContainerDisabled:ye,radioDisabledButtonCheckedColor:be,radioDisabledButtonCheckedBg:Se}=H;return{[`${G}-button-wrapper`]:{position:"relative",display:"inline-block",height:W,margin:0,paddingInline:ne,paddingBlock:0,color:K,fontSize:te,lineHeight:`${W-U*2}px`,background:oe,border:`${U}px ${X} ${Q}`,borderBlockStartWidth:U+.02,borderInlineStartWidth:0,borderInlineEndWidth:U,cursor:"pointer",transition:[`color ${ee}`,`background ${ee}`,`border-color ${ee}`,`box-shadow ${ee}`].join(","),a:{color:K},[`> ${G}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:-U,insetInlineStart:-U,display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:U,paddingInline:0,backgroundColor:Q,transition:`background-color ${Z}`,content:'""'}},"&:first-child":{borderInlineStart:`${U}px ${X} ${Q}`,borderStartStartRadius:de,borderEndStartRadius:de},"&:last-child":{borderStartEndRadius:de,borderEndEndRadius:de},"&:first-child:last-child":{borderRadius:de},[`${G}-group-large &`]:{height:ae,fontSize:re,lineHeight:`${ae-U*2}px`,"&:first-child":{borderStartStartRadius:fe,borderEndStartRadius:fe},"&:last-child":{borderStartEndRadius:fe,borderEndEndRadius:fe}},[`${G}-group-small &`]:{height:se,paddingInline:ce-U,paddingBlock:0,lineHeight:`${se-U*2}px`,"&:first-child":{borderStartStartRadius:le,borderEndStartRadius:le},"&:last-child":{borderStartEndRadius:le,borderEndEndRadius:le}},"&:hover":{position:"relative",color:pe},"&:has(:focus-visible)":_extends$1({},genFocusOutline(H)),[`${G}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${G}-button-wrapper-disabled)`]:{zIndex:1,color:pe,background:me,borderColor:pe,"&::before":{backgroundColor:pe},"&:first-child":{borderColor:pe},"&:hover":{color:ue,borderColor:ue,"&::before":{backgroundColor:ue}},"&:active":{color:ge,borderColor:ge,"&::before":{backgroundColor:ge}}},[`${G}-group-solid &-checked:not(${G}-button-wrapper-disabled)`]:{color:he,background:pe,borderColor:pe,"&:hover":{color:he,background:ue,borderColor:ue},"&:active":{color:he,background:ge,borderColor:ge}},"&-disabled":{color:ve,backgroundColor:ye,borderColor:Q,cursor:"not-allowed","&:first-child, &:hover":{color:ve,backgroundColor:ye,borderColor:Q}},[`&-disabled${G}-button-wrapper-checked`]:{color:be,backgroundColor:Se,borderColor:Q,boxShadow:"none"}}}},useStyle$o=genComponentStyleHook("Radio",H=>{const{padding:K,lineWidth:W,controlItemBgActiveDisabled:G,colorTextDisabled:U,colorBgContainer:X,fontSizeLG:Q,controlOutline:Z,colorPrimaryHover:ee,colorPrimaryActive:ne,colorText:te,colorPrimary:oe,marginXS:re,controlOutlineWidth:ae,colorTextLightSolid:se,wireframe:ce}=H,de=`0 0 0 ${ae}px ${Z}`,le=de,fe=Q,pe=4,me=fe-pe*2,ue=ce?me:fe-(pe+W)*2,ge=oe,he=te,ve=ee,ye=ne,be=K-W,xe=merge(H,{radioFocusShadow:de,radioButtonFocusShadow:le,radioSize:fe,radioDotSize:ue,radioDotDisabledSize:me,radioCheckedColor:ge,radioDotDisabledColor:U,radioSolidCheckedColor:se,radioButtonBg:X,radioButtonCheckedBg:X,radioButtonColor:he,radioButtonHoverColor:ve,radioButtonActiveColor:ye,radioButtonPaddingHorizontal:be,radioDisabledButtonCheckedBg:G,radioDisabledButtonCheckedColor:U,radioWrapperMarginRight:re});return[getGroupRadioStyle(xe),getRadioBasicStyle(xe),getRadioButtonStyle(xe)]});var __rest$u=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const radioProps=()=>({prefixCls:String,checked:booleanType(),disabled:booleanType(),isGroup:booleanType(),value:PropTypes.any,name:String,id:String,autofocus:booleanType(),onChange:functionType(),onFocus:functionType(),onBlur:functionType(),onClick:functionType(),"onUpdate:checked":functionType(),"onUpdate:value":functionType()}),Radio=defineComponent({compatConfig:{MODE:3},name:"ARadio",inheritAttrs:!1,props:radioProps(),setup(H,K){let{emit:W,expose:G,slots:U,attrs:X}=K;const Q=useInjectFormItemContext(),Z=FormItemInputContext.useInject(),ee=useInjectRadioOptionTypeContext(),ne=useInjectRadioGroupContext(),te=useInjectDisabled(),oe=computed(()=>{var ve;return(ve=ce.value)!==null&&ve!==void 0?ve:te.value}),re=ref(),{prefixCls:ae,direction:se,disabled:ce}=useConfigInject("radio",H),de=computed(()=>ne?.optionType.value==="button"||ee==="button"?`${ae.value}-button`:ae.value),le=useInjectDisabled(),[fe,pe]=useStyle$o(ae);G({focus:()=>{re.value.focus()},blur:()=>{re.value.blur()}});const ge=ve=>{const ye=ve.target.checked;W("update:checked",ye),W("update:value",ye),W("change",ve),Q.onFieldChange()},he=ve=>{W("change",ve),ne&&ne.onChange&&ne.onChange(ve)};return()=>{var ve;const ye=ne,{prefixCls:be,id:Se=Q.id.value}=H,Ce=__rest$u(H,["prefixCls","id"]),xe=_extends$1(_extends$1({prefixCls:de.value,id:Se},omit$1(Ce,["onUpdate:checked","onUpdate:value"])),{disabled:(ve=ce.value)!==null&&ve!==void 0?ve:le.value});ye?(xe.name=ye.name.value,xe.onChange=he,xe.checked=H.value===ye.value.value,xe.disabled=oe.value||ye.disabled.value):xe.onChange=ge;const Ne=classNames({[`${de.value}-wrapper`]:!0,[`${de.value}-wrapper-checked`]:xe.checked,[`${de.value}-wrapper-disabled`]:xe.disabled,[`${de.value}-wrapper-rtl`]:se.value==="rtl",[`${de.value}-wrapper-in-form-item`]:Z.isFormItemInput},X.class,pe.value);return fe(createVNode("label",_objectSpread2$1(_objectSpread2$1({},X),{},{class:Ne}),[createVNode(VcCheckbox,_objectSpread2$1(_objectSpread2$1({},xe),{},{type:"radio",ref:re}),null),U.default&&createVNode("span",null,[U.default()])]))}}}),radioGroupProps=()=>({prefixCls:String,value:PropTypes.any,size:stringType(),options:arrayType(),disabled:booleanType(),name:String,buttonStyle:stringType("outline"),id:String,optionType:stringType("default"),onChange:functionType(),"onUpdate:value":functionType()}),Group=defineComponent({compatConfig:{MODE:3},name:"ARadioGroup",inheritAttrs:!1,props:radioGroupProps(),setup(H,K){let{slots:W,emit:G,attrs:U}=K;const X=useInjectFormItemContext(),{prefixCls:Q,direction:Z,size:ee}=useConfigInject("radio",H),[ne,te]=useStyle$o(Q),oe=ref(H.value),re=ref(!1);return watch(()=>H.value,se=>{oe.value=se,re.value=!1}),useProvideRadioGroupContext({onChange:se=>{const ce=oe.value,{value:de}=se.target;"value"in H||(oe.value=de),!re.value&&de!==ce&&(re.value=!0,G("update:value",de),G("change",se),X.onFieldChange()),nextTick(()=>{re.value=!1})},value:oe,disabled:computed(()=>H.disabled),name:computed(()=>H.name),optionType:computed(()=>H.optionType)}),()=>{var se;const{options:ce,buttonStyle:de,id:le=X.id.value}=H,fe=`${Q.value}-group`,pe=classNames(fe,`${fe}-${de}`,{[`${fe}-${ee.value}`]:ee.value,[`${fe}-rtl`]:Z.value==="rtl"},U.class,te.value);let me=null;return ce&&ce.length>0?me=ce.map(ue=>{if(typeof ue=="string"||typeof ue=="number")return createVNode(Radio,{key:ue,prefixCls:Q.value,disabled:H.disabled,value:ue,checked:oe.value===ue},{default:()=>[ue]});const{value:ge,disabled:he,label:ve}=ue;return createVNode(Radio,{key:`radio-group-value-options-${ge}`,prefixCls:Q.value,disabled:he||H.disabled,value:ge,checked:oe.value===ge},{default:()=>[ve]})}):me=(se=W.default)===null||se===void 0?void 0:se.call(W),ne(createVNode("div",_objectSpread2$1(_objectSpread2$1({},U),{},{class:pe,id:le}),[me]))}}}),Button=defineComponent({compatConfig:{MODE:3},name:"ARadioButton",inheritAttrs:!1,props:radioProps(),setup(H,K){let{slots:W,attrs:G}=K;const{prefixCls:U}=useConfigInject("radio",H);return useProvideRadioOptionTypeContext("button"),()=>{var X;return createVNode(Radio,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},G),H),{},{prefixCls:U.value}),{default:()=>[(X=W.default)===null||X===void 0?void 0:X.call(W)]})}}});Radio.Group=Group;Radio.Button=Button;Radio.install=function(H){return H.component(Radio.name,Radio),H.component(Radio.Group.name,Radio.Group),H.component(Radio.Button.name,Radio.Button),H};const genPlaceholderStyle=H=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:H,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),genHoverStyle=H=>({borderColor:H.inputBorderHoverColor,borderInlineEndWidth:H.lineWidth}),genActiveStyle=H=>({borderColor:H.inputBorderHoverColor,boxShadow:`0 0 0 ${H.controlOutlineWidth}px ${H.controlOutline}`,borderInlineEndWidth:H.lineWidth,outline:0}),genDisabledStyle=H=>({color:H.colorTextDisabled,backgroundColor:H.colorBgContainerDisabled,borderColor:H.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":_extends$1({},genHoverStyle(merge(H,{inputBorderHoverColor:H.colorBorder})))}),genInputLargeStyle=H=>{const{inputPaddingVerticalLG:K,fontSizeLG:W,lineHeightLG:G,borderRadiusLG:U,inputPaddingHorizontalLG:X}=H;return{padding:`${K}px ${X}px`,fontSize:W,lineHeight:G,borderRadius:U}},genInputSmallStyle=H=>({padding:`${H.inputPaddingVerticalSM}px ${H.controlPaddingHorizontalSM-1}px`,borderRadius:H.borderRadiusSM}),genStatusStyle=(H,K)=>{const{componentCls:W,colorError:G,colorWarning:U,colorErrorOutline:X,colorWarningOutline:Q,colorErrorBorderHover:Z,colorWarningBorderHover:ee}=H;return{[`&-status-error:not(${K}-disabled):not(${K}-borderless)${K}`]:{borderColor:G,"&:hover":{borderColor:Z},"&:focus, &-focused":_extends$1({},genActiveStyle(merge(H,{inputBorderActiveColor:G,inputBorderHoverColor:G,controlOutline:X}))),[`${W}-prefix`]:{color:G}},[`&-status-warning:not(${K}-disabled):not(${K}-borderless)${K}`]:{borderColor:U,"&:hover":{borderColor:ee},"&:focus, &-focused":_extends$1({},genActiveStyle(merge(H,{inputBorderActiveColor:U,inputBorderHoverColor:U,controlOutline:Q}))),[`${W}-prefix`]:{color:U}}}},genBasicInputStyle=H=>_extends$1(_extends$1({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${H.inputPaddingVertical}px ${H.inputPaddingHorizontal}px`,color:H.colorText,fontSize:H.fontSize,lineHeight:H.lineHeight,backgroundColor:H.colorBgContainer,backgroundImage:"none",borderWidth:H.lineWidth,borderStyle:H.lineType,borderColor:H.colorBorder,borderRadius:H.borderRadius,transition:`all ${H.motionDurationMid}`},genPlaceholderStyle(H.colorTextPlaceholder)),{"&:hover":_extends$1({},genHoverStyle(H)),"&:focus, &-focused":_extends$1({},genActiveStyle(H)),"&-disabled, &[disabled]":_extends$1({},genDisabledStyle(H)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:H.controlHeight,lineHeight:H.lineHeight,verticalAlign:"bottom",transition:`all ${H.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":_extends$1({},genInputLargeStyle(H)),"&-sm":_extends$1({},genInputSmallStyle(H)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),genInputGroupStyle=H=>{const{componentCls:K,antCls:W}=H;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:H.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${K}, &-lg > ${K}-group-addon`]:_extends$1({},genInputLargeStyle(H)),[`&-sm ${K}, &-sm > ${K}-group-addon`]:_extends$1({},genInputSmallStyle(H)),[`> ${K}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${K}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${H.inputPaddingHorizontal}px`,color:H.colorText,fontWeight:"normal",fontSize:H.fontSize,textAlign:"center",backgroundColor:H.colorFillAlter,border:`${H.lineWidth}px ${H.lineType} ${H.colorBorder}`,borderRadius:H.borderRadius,transition:`all ${H.motionDurationSlow}`,lineHeight:1,[`${W}-select`]:{margin:`-${H.inputPaddingVertical+1}px -${H.inputPaddingHorizontal}px`,[`&${W}-select-single:not(${W}-select-customize-input)`]:{[`${W}-select-selector`]:{backgroundColor:"inherit",border:`${H.lineWidth}px ${H.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${W}-select-selector`]:{color:H.colorPrimary}}},[`${W}-cascader-picker`]:{margin:`-9px -${H.inputPaddingHorizontal}px`,backgroundColor:"transparent",[`${W}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}},[`${K}`]:{float:"inline-start",width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${K}-search-with-button &`]:{zIndex:0}}},[`> ${K}:first-child, ${K}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${W}-select ${W}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${K}-affix-wrapper`]:{[`&:not(:first-child) ${K}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${K}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${K}:last-child, ${K}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${W}-select ${W}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${K}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${K}-search &`]:{borderStartStartRadius:H.borderRadius,borderEndStartRadius:H.borderRadius}},[`&:not(:first-child), ${K}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${K}-group-compact`]:_extends$1(_extends$1({display:"block"},clearFix()),{[`${K}-group-addon, ${K}-group-wrap, > ${K}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:H.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},[`& > ${K}-affix-wrapper`]:{display:"inline-flex"},[`& > ${W}-picker-range`]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:-H.lineWidth,borderInlineEndWidth:H.lineWidth},[`${K}`]:{float:"none"},[`& > ${W}-select > ${W}-select-selector,
      & > ${W}-select-auto-complete ${K},
      & > ${W}-cascader-picker ${K},
      & > ${K}-group-wrapper ${K}`]:{borderInlineEndWidth:H.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},[`& > ${W}-select-focused`]:{zIndex:1},[`& > ${W}-select > ${W}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${W}-select:first-child > ${W}-select-selector,
      & > ${W}-select-auto-complete:first-child ${K},
      & > ${W}-cascader-picker:first-child ${K}`]:{borderStartStartRadius:H.borderRadius,borderEndStartRadius:H.borderRadius},[`& > *:last-child,
      & > ${W}-select:last-child > ${W}-select-selector,
      & > ${W}-cascader-picker:last-child ${K},
      & > ${W}-cascader-picker-focused:last-child ${K}`]:{borderInlineEndWidth:H.lineWidth,borderStartEndRadius:H.borderRadius,borderEndEndRadius:H.borderRadius},[`& > ${W}-select-auto-complete ${K}`]:{verticalAlign:"top"},[`${K}-group-wrapper + ${K}-group-wrapper`]:{marginInlineStart:-H.lineWidth,[`${K}-affix-wrapper`]:{borderRadius:0}},[`${K}-group-wrapper:not(:last-child)`]:{[`&${K}-search > ${K}-group`]:{[`& > ${K}-group-addon > ${K}-search-button`]:{borderRadius:0},[`& > ${K}`]:{borderStartStartRadius:H.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:H.borderRadius}}}}),[`&&-sm ${W}-btn`]:{fontSize:H.fontSizeSM,height:H.controlHeightSM,lineHeight:"normal"},[`&&-lg ${W}-btn`]:{fontSize:H.fontSizeLG,height:H.controlHeightLG,lineHeight:"normal"},[`&&-lg ${W}-select-single ${W}-select-selector`]:{height:`${H.controlHeightLG}px`,[`${W}-select-selection-item, ${W}-select-selection-placeholder`]:{lineHeight:`${H.controlHeightLG-2}px`},[`${W}-select-selection-search-input`]:{height:`${H.controlHeightLG}px`}},[`&&-sm ${W}-select-single ${W}-select-selector`]:{height:`${H.controlHeightSM}px`,[`${W}-select-selection-item, ${W}-select-selection-placeholder`]:{lineHeight:`${H.controlHeightSM-2}px`},[`${W}-select-selection-search-input`]:{height:`${H.controlHeightSM}px`}}}},genInputStyle=H=>{const{componentCls:K,controlHeightSM:W,lineWidth:G}=H,X=(W-G*2-16)/2;return{[K]:_extends$1(_extends$1(_extends$1(_extends$1({},resetComponent(H)),genBasicInputStyle(H)),genStatusStyle(H,K)),{'&[type="color"]':{height:H.controlHeight,[`&${K}-lg`]:{height:H.controlHeightLG},[`&${K}-sm`]:{height:W,paddingTop:X,paddingBottom:X}}})}},genAllowClearStyle=H=>{const{componentCls:K}=H;return{[`${K}-clear-icon`]:{margin:0,color:H.colorTextQuaternary,fontSize:H.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${H.motionDurationSlow}`,"&:hover":{color:H.colorTextTertiary},"&:active":{color:H.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${H.inputAffixPadding}px`}},"&-textarea-with-clear-btn":{padding:"0 !important",border:"0 !important",[`${K}-clear-icon`]:{position:"absolute",insetBlockStart:H.paddingXS,insetInlineEnd:H.paddingXS,zIndex:1}}}},genAffixStyle=H=>{const{componentCls:K,inputAffixPadding:W,colorTextDescription:G,motionDurationSlow:U,colorIcon:X,colorIconHover:Q,iconCls:Z}=H;return{[`${K}-affix-wrapper`]:_extends$1(_extends$1(_extends$1(_extends$1(_extends$1({},genBasicInputStyle(H)),{display:"inline-flex",[`&:not(${K}-affix-wrapper-disabled):hover`]:_extends$1(_extends$1({},genHoverStyle(H)),{zIndex:1,[`${K}-search-with-button &`]:{zIndex:0}}),"&-focused, &:focus":{zIndex:1},"&-disabled":{[`${K}[disabled]`]:{background:"transparent"}},[`> input${K}`]:{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&:focus":{boxShadow:"none !important"}},"&::before":{width:0,visibility:"hidden",content:'"\\a0"'},[`${K}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:H.paddingXS}},"&-show-count-suffix":{color:G},"&-show-count-has-suffix":{marginInlineEnd:H.paddingXXS},"&-prefix":{marginInlineEnd:W},"&-suffix":{marginInlineStart:W}}}),genAllowClearStyle(H)),{[`${Z}${K}-password-icon`]:{color:X,cursor:"pointer",transition:`all ${U}`,"&:hover":{color:Q}}}),genStatusStyle(H,`${K}-affix-wrapper`))}},genGroupStyle=H=>{const{componentCls:K,colorError:W,colorSuccess:G,borderRadiusLG:U,borderRadiusSM:X}=H;return{[`${K}-group`]:_extends$1(_extends$1(_extends$1({},resetComponent(H)),genInputGroupStyle(H)),{"&-rtl":{direction:"rtl"},"&-wrapper":{display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${K}-group-addon`]:{borderRadius:U}},"&-sm":{[`${K}-group-addon`]:{borderRadius:X}},"&-status-error":{[`${K}-group-addon`]:{color:W,borderColor:W}},"&-status-warning":{[`${K}-group-addon:last-child`]:{color:G,borderColor:G}}}})}},genSearchInputStyle=H=>{const{componentCls:K,antCls:W}=H,G=`${K}-search`;return{[G]:{[`${K}`]:{"&:hover, &:focus":{borderColor:H.colorPrimaryHover,[`+ ${K}-group-addon ${G}-button:not(${W}-btn-primary)`]:{borderInlineStartColor:H.colorPrimaryHover}}},[`${K}-affix-wrapper`]:{borderRadius:0},[`${K}-lg`]:{lineHeight:H.lineHeightLG-2e-4},[`> ${K}-group`]:{[`> ${K}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${G}-button`]:{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:H.borderRadius,borderEndEndRadius:H.borderRadius,borderEndStartRadius:0},[`${G}-button:not(${W}-btn-primary)`]:{color:H.colorTextDescription,"&:hover":{color:H.colorPrimaryHover},"&:active":{color:H.colorPrimaryActive},[`&${W}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${G}-button`]:{height:H.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${G}-button`]:{height:H.controlHeightLG},[`&-small ${G}-button`]:{height:H.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${K}-compact-item`]:{[`&:not(${K}-compact-last-item)`]:{[`${K}-group-addon`]:{[`${K}-search-button`]:{marginInlineEnd:-H.lineWidth,borderRadius:0}}},[`&:not(${K}-compact-first-item)`]:{[`${K},${K}-affix-wrapper`]:{borderRadius:0}},[`> ${K}-group-addon ${K}-search-button,
        > ${K},
        ${K}-affix-wrapper`]:{"&:hover,&:focus,&:active":{zIndex:2}},[`> ${K}-affix-wrapper-focused`]:{zIndex:2}}}}};function initInputToken(H){return merge(H,{inputAffixPadding:H.paddingXXS,inputPaddingVertical:Math.max(Math.round((H.controlHeight-H.fontSize*H.lineHeight)/2*10)/10-H.lineWidth,3),inputPaddingVerticalLG:Math.ceil((H.controlHeightLG-H.fontSizeLG*H.lineHeightLG)/2*10)/10-H.lineWidth,inputPaddingVerticalSM:Math.max(Math.round((H.controlHeightSM-H.fontSize*H.lineHeight)/2*10)/10-H.lineWidth,0),inputPaddingHorizontal:H.paddingSM-H.lineWidth,inputPaddingHorizontalSM:H.paddingXS-H.lineWidth,inputPaddingHorizontalLG:H.controlPaddingHorizontal-H.lineWidth,inputBorderHoverColor:H.colorPrimaryHover,inputBorderActiveColor:H.colorPrimaryHover})}const genTextAreaStyle=H=>{const{componentCls:K,inputPaddingHorizontal:W,paddingLG:G}=H,U=`${K}-textarea`;return{[U]:{position:"relative",[`${U}-suffix`]:{position:"absolute",top:0,insetInlineEnd:W,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto"},"&-status-error,\n        &-status-warning,\n        &-status-success,\n        &-status-validating":{[`&${U}-has-feedback`]:{[`${K}`]:{paddingInlineEnd:G}}},"&-show-count":{[`> ${K}`]:{height:"100%"},"&::after":{color:H.colorTextDescription,whiteSpace:"nowrap",content:"attr(data-count)",pointerEvents:"none",float:"right"}},"&-rtl":{"&::after":{float:"left"}}}}},useStyle$n=genComponentStyleHook("Input",H=>{const K=initInputToken(H);return[genInputStyle(K),genTextAreaStyle(K),genAffixStyle(K),genGroupStyle(K),genSearchInputStyle(K),genCompactItemStyle(K)]});function useRaf(H){const K=shallowRef(),W=shallowRef(!1);function G(){for(var U=arguments.length,X=new Array(U),Q=0;Q<U;Q++)X[Q]=arguments[Q];W.value||(wrapperRaf.cancel(K.value),K.value=wrapperRaf(()=>{H(...X)}))}return onBeforeUnmount(()=>{W.value=!0,wrapperRaf.cancel(K.value)}),G}function useRafState(H){const K=shallowRef([]),W=shallowRef(typeof H=="function"?H():H),G=useRaf(()=>{let X=W.value;K.value.forEach(Q=>{X=Q(X)}),K.value=[],W.value=X});function U(X){K.value.push(X),G()}return[W,U]}const TabNode=defineComponent({compatConfig:{MODE:3},name:"TabNode",props:{id:{type:String},prefixCls:{type:String},tab:{type:Object},active:{type:Boolean},closable:{type:Boolean},editable:{type:Object},onClick:{type:Function},onResize:{type:Function},renderWrapper:{type:Function},removeAriaLabel:{type:String},onFocus:{type:Function}},emits:["click","resize","remove","focus"],setup(H,K){let{expose:W,attrs:G}=K;const U=ref();function X(ee){var ne;!((ne=H.tab)===null||ne===void 0)&&ne.disabled||H.onClick(ee)}W({domRef:U});function Q(ee){var ne;ee.preventDefault(),ee.stopPropagation(),H.editable.onEdit("remove",{key:(ne=H.tab)===null||ne===void 0?void 0:ne.key,event:ee})}const Z=computed(()=>{var ee;return H.editable&&H.closable!==!1&&!(!((ee=H.tab)===null||ee===void 0)&&ee.disabled)});return()=>{var ee;const{prefixCls:ne,id:te,active:oe,tab:{key:re,tab:ae,disabled:se,closeIcon:ce},renderWrapper:de,removeAriaLabel:le,editable:fe,onFocus:pe}=H,me=`${ne}-tab`,ue=createVNode("div",{key:re,ref:U,class:classNames(me,{[`${me}-with-remove`]:Z.value,[`${me}-active`]:oe,[`${me}-disabled`]:se}),style:G.style,onClick:X},[createVNode("div",{role:"tab","aria-selected":oe,id:te&&`${te}-tab-${re}`,class:`${me}-btn`,"aria-controls":te&&`${te}-panel-${re}`,"aria-disabled":se,tabindex:se?null:0,onClick:ge=>{ge.stopPropagation(),X(ge)},onKeydown:ge=>{[KeyCode.SPACE,KeyCode.ENTER].includes(ge.which)&&(ge.preventDefault(),X(ge))},onFocus:pe},[typeof ae=="function"?ae():ae]),Z.value&&createVNode("button",{type:"button","aria-label":le||"remove",tabindex:0,class:`${me}-remove`,onClick:ge=>{ge.stopPropagation(),Q(ge)}},[ce?.()||((ee=fe.removeIcon)===null||ee===void 0?void 0:ee.call(fe))||""])]);return de?de(ue):ue}}}),DEFAULT_SIZE$1={width:0,height:0,left:0,top:0};function useOffsets(H,K){const W=ref(new Map);return watchEffect(()=>{var G,U;const X=new Map,Q=H.value,Z=K.value.get((G=Q[0])===null||G===void 0?void 0:G.key)||DEFAULT_SIZE$1,ee=Z.left+Z.width;for(let ne=0;ne<Q.length;ne+=1){const{key:te}=Q[ne];let oe=K.value.get(te);oe||(oe=K.value.get((U=Q[ne-1])===null||U===void 0?void 0:U.key)||DEFAULT_SIZE$1);const re=X.get(te)||_extends$1({},oe);re.right=ee-re.left-re.width,X.set(te,re)}W.value=new Map(X)}),W}const AddButton=defineComponent({compatConfig:{MODE:3},name:"AddButton",inheritAttrs:!1,props:{prefixCls:String,editable:{type:Object},locale:{type:Object,default:void 0}},setup(H,K){let{expose:W,attrs:G}=K;const U=ref();return W({domRef:U}),()=>{const{prefixCls:X,editable:Q,locale:Z}=H;return!Q||Q.showAdd===!1?null:createVNode("button",{ref:U,type:"button",class:`${X}-nav-add`,style:G.style,"aria-label":Z?.addAriaLabel||"Add tab",onClick:ee=>{Q.onEdit("add",{event:ee})}},[Q.addIcon?Q.addIcon():"+"])}}}),operationNodeProps={prefixCls:{type:String},id:{type:String},tabs:{type:Object},rtl:{type:Boolean},tabBarGutter:{type:Number},activeKey:{type:[String,Number]},mobile:{type:Boolean},moreIcon:PropTypes.any,moreTransitionName:{type:String},editable:{type:Object},locale:{type:Object,default:void 0},removeAriaLabel:String,onTabClick:{type:Function},popupClassName:String,getPopupContainer:functionType()},OperationNode=defineComponent({compatConfig:{MODE:3},name:"OperationNode",inheritAttrs:!1,props:operationNodeProps,emits:["tabClick"],slots:Object,setup(H,K){let{attrs:W,slots:G}=K;const[U,X]=useState(!1),[Q,Z]=useState(null),ee=ae=>{const se=H.tabs.filter(le=>!le.disabled);let ce=se.findIndex(le=>le.key===Q.value)||0;const de=se.length;for(let le=0;le<de;le+=1){ce=(ce+ae+de)%de;const fe=se[ce];if(!fe.disabled){Z(fe.key);return}}},ne=ae=>{const{which:se}=ae;if(!U.value){[KeyCode.DOWN,KeyCode.SPACE,KeyCode.ENTER].includes(se)&&(X(!0),ae.preventDefault());return}switch(se){case KeyCode.UP:ee(-1),ae.preventDefault();break;case KeyCode.DOWN:ee(1),ae.preventDefault();break;case KeyCode.ESC:X(!1);break;case KeyCode.SPACE:case KeyCode.ENTER:Q.value!==null&&H.onTabClick(Q.value,ae);break}},te=computed(()=>`${H.id}-more-popup`),oe=computed(()=>Q.value!==null?`${te.value}-${Q.value}`:null),re=(ae,se)=>{ae.preventDefault(),ae.stopPropagation(),H.editable.onEdit("remove",{key:se,event:ae})};return onMounted(()=>{watch(Q,()=>{const ae=document.getElementById(oe.value);ae&&ae.scrollIntoView&&ae.scrollIntoView(!1)},{flush:"post",immediate:!0})}),watch(U,()=>{U.value||Z(null)}),useProvideOverride({}),()=>{var ae;const{prefixCls:se,id:ce,tabs:de,locale:le,mobile:fe,moreIcon:pe=((ae=G.moreIcon)===null||ae===void 0?void 0:ae.call(G))||createVNode(EllipsisOutlined,null,null),moreTransitionName:me,editable:ue,tabBarGutter:ge,rtl:he,onTabClick:ve,popupClassName:ye}=H;if(!de.length)return null;const be=`${se}-dropdown`,Se=le?.dropdownAriaLabel,Ce={[he?"marginRight":"marginLeft"]:ge};de.length||(Ce.visibility="hidden",Ce.order=1);const xe=classNames({[`${be}-rtl`]:he,[`${ye}`]:!0}),Ne=fe?null:createVNode(Dropdown$1,{prefixCls:be,trigger:["hover"],visible:U.value,transitionName:me,onVisibleChange:X,overlayClassName:xe,mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:H.getPopupContainer},{overlay:()=>createVNode(Menu,{onClick:$e=>{let{key:Ee,domEvent:Te}=$e;ve(Ee,Te),X(!1)},id:te.value,tabindex:-1,role:"listbox","aria-activedescendant":oe.value,selectedKeys:[Q.value],"aria-label":Se!==void 0?Se:"expanded dropdown"},{default:()=>[de.map($e=>{var Ee,Te;const Be=ue&&$e.closable!==!1&&!$e.disabled;return createVNode(__unplugin_components_5,{key:$e.key,id:`${te.value}-${$e.key}`,role:"option","aria-controls":ce&&`${ce}-panel-${$e.key}`,disabled:$e.disabled},{default:()=>[createVNode("span",null,[typeof $e.tab=="function"?$e.tab():$e.tab]),Be&&createVNode("button",{type:"button","aria-label":H.removeAriaLabel||"remove",tabindex:0,class:`${be}-menu-item-remove`,onClick:Ae=>{Ae.stopPropagation(),re(Ae,$e.key)}},[((Ee=$e.closeIcon)===null||Ee===void 0?void 0:Ee.call($e))||((Te=ue.removeIcon)===null||Te===void 0?void 0:Te.call(ue))||""])]})})]}),default:()=>createVNode("button",{type:"button",class:`${se}-nav-more`,style:Ce,tabindex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":te.value,id:`${ce}-more`,"aria-expanded":U.value,onKeydown:ne},[pe])});return createVNode("div",{class:classNames(`${se}-nav-operations`,W.class),style:W.style},[Ne,createVNode(AddButton,{prefixCls:se,locale:le,editable:ue},null)])}}}),TabsContextKey=Symbol("tabsContextKey"),useProvideTabs=H=>{provide(TabsContextKey,H)},useInjectTabs=()=>inject(TabsContextKey,{tabs:ref([]),prefixCls:ref()}),MIN_SWIPE_DISTANCE=.1,STOP_SWIPE_DISTANCE=.01,REFRESH_INTERVAL$1=20,SPEED_OFF_MULTIPLE=Math.pow(.995,REFRESH_INTERVAL$1);function useTouchMove(H,K){const[W,G]=useState(),[U,X]=useState(0),[Q,Z]=useState(0),[ee,ne]=useState(),te=ref();function oe(ue){const{screenX:ge,screenY:he}=ue.touches[0];G({x:ge,y:he}),clearInterval(te.value)}function re(ue){if(!W.value)return;ue.preventDefault();const{screenX:ge,screenY:he}=ue.touches[0],ve=ge-W.value.x,ye=he-W.value.y;K(ve,ye),G({x:ge,y:he});const be=Date.now();Z(be-U.value),X(be),ne({x:ve,y:ye})}function ae(){if(!W.value)return;const ue=ee.value;if(G(null),ne(null),ue){const ge=ue.x/Q.value,he=ue.y/Q.value,ve=Math.abs(ge),ye=Math.abs(he);if(Math.max(ve,ye)<MIN_SWIPE_DISTANCE)return;let be=ge,Se=he;te.value=setInterval(()=>{if(Math.abs(be)<STOP_SWIPE_DISTANCE&&Math.abs(Se)<STOP_SWIPE_DISTANCE){clearInterval(te.value);return}be*=SPEED_OFF_MULTIPLE,Se*=SPEED_OFF_MULTIPLE,K(be*REFRESH_INTERVAL$1,Se*REFRESH_INTERVAL$1)},REFRESH_INTERVAL$1)}}const se=ref();function ce(ue){const{deltaX:ge,deltaY:he}=ue;let ve=0;const ye=Math.abs(ge),be=Math.abs(he);ye===be?ve=se.value==="x"?ge:he:ye>be?(ve=ge,se.value="x"):(ve=he,se.value="y"),K(-ve,-ve)&&ue.preventDefault()}const de=ref({onTouchStart:oe,onTouchMove:re,onTouchEnd:ae,onWheel:ce});function le(ue){de.value.onTouchStart(ue)}function fe(ue){de.value.onTouchMove(ue)}function pe(ue){de.value.onTouchEnd(ue)}function me(ue){de.value.onWheel(ue)}onMounted(()=>{var ue,ge;document.addEventListener("touchmove",fe,{passive:!1}),document.addEventListener("touchend",pe,{passive:!1}),(ue=H.value)===null||ue===void 0||ue.addEventListener("touchstart",le,{passive:!1}),(ge=H.value)===null||ge===void 0||ge.addEventListener("wheel",me,{passive:!1})}),onBeforeUnmount(()=>{document.removeEventListener("touchmove",fe),document.removeEventListener("touchend",pe)})}function useSyncState(H,K){const W=ref(H);function G(U){const X=typeof U=="function"?U(W.value):U;X!==W.value&&K(X,W.value),W.value=X}return[W,G]}const useRefs=()=>{const H=ref(new Map),K=W=>G=>{H.value.set(W,G)};return onBeforeUpdate(()=>{H.value=new Map}),[K,H]},DEFAULT_SIZE={width:0,height:0,left:0,top:0,right:0},tabNavListProps=()=>({id:{type:String},tabPosition:{type:String},activeKey:{type:[String,Number]},rtl:{type:Boolean},animated:objectType(),editable:objectType(),moreIcon:PropTypes.any,moreTransitionName:{type:String},mobile:{type:Boolean},tabBarGutter:{type:Number},renderTabBar:{type:Function},locale:objectType(),popupClassName:String,getPopupContainer:functionType(),onTabClick:{type:Function},onTabScroll:{type:Function}}),getTabSize=(H,K)=>{const{offsetWidth:W,offsetHeight:G,offsetTop:U,offsetLeft:X}=H,{width:Q,height:Z,x:ee,y:ne}=H.getBoundingClientRect();return Math.abs(Q-W)<1?[Q,Z,ee-K.x,ne-K.y]:[W,G,X,U]},TabNavList=defineComponent({compatConfig:{MODE:3},name:"TabNavList",inheritAttrs:!1,props:tabNavListProps(),slots:Object,emits:["tabClick","tabScroll"],setup(H,K){let{attrs:W,slots:G}=K;const{tabs:U,prefixCls:X}=useInjectTabs(),Q=shallowRef(),Z=shallowRef(),ee=shallowRef(),ne=shallowRef(),[te,oe]=useRefs(),re=computed(()=>H.tabPosition==="top"||H.tabPosition==="bottom"),[ae,se]=useSyncState(0,(Fe,Oe)=>{re.value&&H.onTabScroll&&H.onTabScroll({direction:Fe>Oe?"left":"right"})}),[ce,de]=useSyncState(0,(Fe,Oe)=>{!re.value&&H.onTabScroll&&H.onTabScroll({direction:Fe>Oe?"top":"bottom"})}),[le,fe]=useState(0),[pe,me]=useState(0),[ue,ge]=useState(null),[he,ve]=useState(null),[ye,be]=useState(0),[Se,Ce]=useState(0),[xe,Ne]=useRafState(new Map),$e=useOffsets(U,xe),Ee=computed(()=>`${X.value}-nav-operations-hidden`),Te=shallowRef(0),Be=shallowRef(0);watchEffect(()=>{re.value?H.rtl?(Te.value=0,Be.value=Math.max(0,le.value-ue.value)):(Te.value=Math.min(0,ue.value-le.value),Be.value=0):(Te.value=Math.min(0,he.value-pe.value),Be.value=0)});const Ae=Fe=>Fe<Te.value?Te.value:Fe>Be.value?Be.value:Fe,ze=shallowRef(),[We,Le]=useState(),Ze=()=>{Le(Date.now())},Ye=()=>{clearTimeout(ze.value)},Re=(Fe,Oe)=>{Fe(Qe=>Ae(Qe+Oe))};useTouchMove(Q,(Fe,Oe)=>{if(re.value){if(ue.value>=le.value)return!1;Re(se,Fe)}else{if(he.value>=pe.value)return!1;Re(de,Oe)}return Ye(),Ze(),!0}),watch(We,()=>{Ye(),We.value&&(ze.value=setTimeout(()=>{Le(0)},100))});const Ke=function(){let Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:H.activeKey;const Oe=$e.value.get(Fe)||{width:0,height:0,left:0,right:0,top:0};if(re.value){let Qe=ae.value;H.rtl?Oe.right<ae.value?Qe=Oe.right:Oe.right+Oe.width>ae.value+ue.value&&(Qe=Oe.right+Oe.width-ue.value):Oe.left<-ae.value?Qe=-Oe.left:Oe.left+Oe.width>-ae.value+ue.value&&(Qe=-(Oe.left+Oe.width-ue.value)),de(0),se(Ae(Qe))}else{let Qe=ce.value;Oe.top<-ce.value?Qe=-Oe.top:Oe.top+Oe.height>-ce.value+he.value&&(Qe=-(Oe.top+Oe.height-he.value)),se(0),de(Ae(Qe))}},we=shallowRef(0),_e=shallowRef(0);watchEffect(()=>{let Fe,Oe,Qe,Ie,De,ot;const st=$e.value;["top","bottom"].includes(H.tabPosition)?(Fe="width",Ie=ue.value,De=le.value,ot=ye.value,Oe=H.rtl?"right":"left",Qe=Math.abs(ae.value)):(Fe="height",Ie=he.value,De=le.value,ot=Se.value,Oe="top",Qe=-ce.value);let et=Ie;De+ot>Ie&&De<Ie&&(et=Ie-ot);const nt=U.value;if(!nt.length)return[we.value,_e.value]=[0,0];const it=nt.length;let ct=it;for(let ht=0;ht<it;ht+=1){const Ge=st.get(nt[ht].key)||DEFAULT_SIZE;if(Ge[Oe]+Ge[Fe]>Qe+et){ct=ht-1;break}}let pt=0;for(let ht=it-1;ht>=0;ht-=1)if((st.get(nt[ht].key)||DEFAULT_SIZE)[Oe]<Qe){pt=ht+1;break}return[we.value,_e.value]=[pt,ct]});const Ve=()=>{Ne(()=>{var Fe;const Oe=new Map,Qe=(Fe=Z.value)===null||Fe===void 0?void 0:Fe.getBoundingClientRect();return U.value.forEach(Ie=>{let{key:De}=Ie;const ot=oe.value.get(De),st=ot?.$el||ot;if(st){const[et,nt,it,ct]=getTabSize(st,Qe);Oe.set(De,{width:et,height:nt,left:it,top:ct})}}),Oe})};watch(()=>U.value.map(Fe=>Fe.key).join("%%"),()=>{Ve()},{flush:"post"});const je=()=>{var Fe,Oe,Qe,Ie,De;const ot=((Fe=Q.value)===null||Fe===void 0?void 0:Fe.offsetWidth)||0,st=((Oe=Q.value)===null||Oe===void 0?void 0:Oe.offsetHeight)||0,et=((Qe=ne.value)===null||Qe===void 0?void 0:Qe.$el)||{},nt=et.offsetWidth||0,it=et.offsetHeight||0;ge(ot),ve(st),be(nt),Ce(it);const ct=(((Ie=Z.value)===null||Ie===void 0?void 0:Ie.offsetWidth)||0)-nt,pt=(((De=Z.value)===null||De===void 0?void 0:De.offsetHeight)||0)-it;fe(ct),me(pt),Ve()},qe=computed(()=>[...U.value.slice(0,we.value),...U.value.slice(_e.value+1)]),[Pe,ke]=useState(),Ue=computed(()=>$e.value.get(H.activeKey)),He=shallowRef(),Me=()=>{wrapperRaf.cancel(He.value)};watch([Ue,re,()=>H.rtl],()=>{const Fe={};Ue.value&&(re.value?(H.rtl?Fe.right=toPx(Ue.value.right):Fe.left=toPx(Ue.value.left),Fe.width=toPx(Ue.value.width)):(Fe.top=toPx(Ue.value.top),Fe.height=toPx(Ue.value.height))),Me(),He.value=wrapperRaf(()=>{ke(Fe)})}),watch([()=>H.activeKey,Ue,$e,re],()=>{Ke()},{flush:"post"}),watch([()=>H.rtl,()=>H.tabBarGutter,()=>H.activeKey,()=>U.value],()=>{je()},{flush:"post"});const Je=Fe=>{let{position:Oe,prefixCls:Qe,extra:Ie}=Fe;if(!Ie)return null;const De=Ie?.({position:Oe});return De?createVNode("div",{class:`${Qe}-extra-content`},[De]):null};return onBeforeUnmount(()=>{Ye(),Me()}),()=>{const{id:Fe,animated:Oe,activeKey:Qe,rtl:Ie,editable:De,locale:ot,tabPosition:st,tabBarGutter:et,onTabClick:nt}=H,{class:it,style:ct}=W,pt=X.value,ht=!!qe.value.length,Ge=`${pt}-nav-wrap`;let Xe,rt,at,lt;re.value?Ie?(rt=ae.value>0,Xe=ae.value+ue.value<le.value):(Xe=ae.value<0,rt=-ae.value+ue.value<le.value):(at=ce.value<0,lt=-ce.value+he.value<pe.value);const dt={};st==="top"||st==="bottom"?dt[Ie?"marginRight":"marginLeft"]=typeof et=="number"?`${et}px`:et:dt.marginTop=typeof et=="number"?`${et}px`:et;const ft=U.value.map((gt,ut)=>{const{key:mt}=gt;return createVNode(TabNode,{id:Fe,prefixCls:pt,key:mt,tab:gt,style:ut===0?void 0:dt,closable:gt.closable,editable:De,active:mt===Qe,removeAriaLabel:ot?.removeAriaLabel,ref:te(mt),onClick:vt=>{nt(mt,vt)},onFocus:()=>{Ke(mt),Ze(),Q.value&&(Ie||(Q.value.scrollLeft=0),Q.value.scrollTop=0)}},G)});return createVNode("div",{role:"tablist",class:classNames(`${pt}-nav`,it),style:ct,onKeydown:()=>{Ze()}},[createVNode(Je,{position:"left",prefixCls:pt,extra:G.leftExtra},null),createVNode(ResizeObserver$1,{onResize:je},{default:()=>[createVNode("div",{class:classNames(Ge,{[`${Ge}-ping-left`]:Xe,[`${Ge}-ping-right`]:rt,[`${Ge}-ping-top`]:at,[`${Ge}-ping-bottom`]:lt}),ref:Q},[createVNode(ResizeObserver$1,{onResize:je},{default:()=>[createVNode("div",{ref:Z,class:`${pt}-nav-list`,style:{transform:`translate(${ae.value}px, ${ce.value}px)`,transition:We.value?"none":void 0}},[ft,createVNode(AddButton,{ref:ne,prefixCls:pt,locale:ot,editable:De,style:_extends$1(_extends$1({},ft.length===0?void 0:dt),{visibility:ht?"hidden":null})},null),createVNode("div",{class:classNames(`${pt}-ink-bar`,{[`${pt}-ink-bar-animated`]:Oe.inkBar}),style:Pe.value},null)])]})])]}),createVNode(OperationNode,_objectSpread2$1(_objectSpread2$1({},H),{},{removeAriaLabel:ot?.removeAriaLabel,ref:ee,prefixCls:pt,tabs:qe.value,class:!ht&&Ee.value}),pick(G,["moreIcon"])),createVNode(Je,{position:"right",prefixCls:pt,extra:G.rightExtra},null),createVNode(Je,{position:"right",prefixCls:pt,extra:G.tabBarExtraContent},null)])}}}),TabPanelList=defineComponent({compatConfig:{MODE:3},name:"TabPanelList",inheritAttrs:!1,props:{activeKey:{type:[String,Number]},id:{type:String},rtl:{type:Boolean},animated:{type:Object,default:void 0},tabPosition:{type:String},destroyInactiveTabPane:{type:Boolean}},setup(H){const{tabs:K,prefixCls:W}=useInjectTabs();return()=>{const{id:G,activeKey:U,animated:X,tabPosition:Q,rtl:Z,destroyInactiveTabPane:ee}=H,ne=X.tabPane,te=W.value,oe=K.value.findIndex(re=>re.key===U);return createVNode("div",{class:`${te}-content-holder`},[createVNode("div",{class:[`${te}-content`,`${te}-content-${Q}`,{[`${te}-content-animated`]:ne}],style:oe&&ne?{[Z?"marginRight":"marginLeft"]:`-${oe}00%`}:null},[K.value.map(re=>cloneElement(re.node,{key:re.key,prefixCls:te,tabKey:re.key,id:G,animated:ne,active:re.key===U,destroyInactiveTabPane:ee}))])])}}});var PlusOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};function _objectSpread$y(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$y(H,U,W[U])})}return H}function _defineProperty$y(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var PlusOutlined=function(K,W){var G=_objectSpread$y({},K,W.attrs);return createVNode(Icon,_objectSpread$y({},G,{icon:PlusOutlined$1}),null)};PlusOutlined.displayName="PlusOutlined";PlusOutlined.inheritAttrs=!1;const genMotionStyle=H=>{const{componentCls:K,motionDurationSlow:W}=H;return[{[K]:{[`${K}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${W}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${W}`}}}}},[initSlideMotion(H,"slide-up"),initSlideMotion(H,"slide-down")]]},genCardStyle$1=H=>{const{componentCls:K,tabsCardHorizontalPadding:W,tabsCardHeadBackground:G,tabsCardGutter:U,colorSplit:X}=H;return{[`${K}-card`]:{[`> ${K}-nav, > div > ${K}-nav`]:{[`${K}-tab`]:{margin:0,padding:W,background:G,border:`${H.lineWidth}px ${H.lineType} ${X}`,transition:`all ${H.motionDurationSlow} ${H.motionEaseInOut}`},[`${K}-tab-active`]:{color:H.colorPrimary,background:H.colorBgContainer},[`${K}-ink-bar`]:{visibility:"hidden"}},[`&${K}-top, &${K}-bottom`]:{[`> ${K}-nav, > div > ${K}-nav`]:{[`${K}-tab + ${K}-tab`]:{marginLeft:{_skip_check_:!0,value:`${U}px`}}}},[`&${K}-top`]:{[`> ${K}-nav, > div > ${K}-nav`]:{[`${K}-tab`]:{borderRadius:`${H.borderRadiusLG}px ${H.borderRadiusLG}px 0 0`},[`${K}-tab-active`]:{borderBottomColor:H.colorBgContainer}}},[`&${K}-bottom`]:{[`> ${K}-nav, > div > ${K}-nav`]:{[`${K}-tab`]:{borderRadius:`0 0 ${H.borderRadiusLG}px ${H.borderRadiusLG}px`},[`${K}-tab-active`]:{borderTopColor:H.colorBgContainer}}},[`&${K}-left, &${K}-right`]:{[`> ${K}-nav, > div > ${K}-nav`]:{[`${K}-tab + ${K}-tab`]:{marginTop:`${U}px`}}},[`&${K}-left`]:{[`> ${K}-nav, > div > ${K}-nav`]:{[`${K}-tab`]:{borderRadius:{_skip_check_:!0,value:`${H.borderRadiusLG}px 0 0 ${H.borderRadiusLG}px`}},[`${K}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:H.colorBgContainer}}}},[`&${K}-right`]:{[`> ${K}-nav, > div > ${K}-nav`]:{[`${K}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${H.borderRadiusLG}px ${H.borderRadiusLG}px 0`}},[`${K}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:H.colorBgContainer}}}}}}},genDropdownStyle=H=>{const{componentCls:K,tabsHoverColor:W,dropdownEdgeChildVerticalPadding:G}=H;return{[`${K}-dropdown`]:_extends$1(_extends$1({},resetComponent(H)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:H.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${K}-dropdown-menu`]:{maxHeight:H.tabsDropdownHeight,margin:0,padding:`${G}px 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:H.colorBgContainer,backgroundClip:"padding-box",borderRadius:H.borderRadiusLG,outline:"none",boxShadow:H.boxShadowSecondary,"&-item":_extends$1(_extends$1({},textEllipsis),{display:"flex",alignItems:"center",minWidth:H.tabsDropdownWidth,margin:0,padding:`${H.paddingXXS}px ${H.paddingSM}px`,color:H.colorText,fontWeight:"normal",fontSize:H.fontSize,lineHeight:H.lineHeight,cursor:"pointer",transition:`all ${H.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:H.marginSM},color:H.colorTextDescription,fontSize:H.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:W}},"&:hover":{background:H.controlItemBgHover},"&-disabled":{"&, &:hover":{color:H.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},genPositionStyle=H=>{const{componentCls:K,margin:W,colorSplit:G}=H;return{[`${K}-top, ${K}-bottom`]:{flexDirection:"column",[`> ${K}-nav, > div > ${K}-nav`]:{margin:`0 0 ${W}px 0`,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${H.lineWidth}px ${H.lineType} ${G}`,content:"''"},[`${K}-ink-bar`]:{height:H.lineWidthBold,"&-animated":{transition:`width ${H.motionDurationSlow}, left ${H.motionDurationSlow},
            right ${H.motionDurationSlow}`}},[`${K}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:H.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:H.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:H.boxShadowTabsOverflowRight},[`&${K}-nav-wrap-ping-left::before`]:{opacity:1},[`&${K}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${K}-top`]:{[`> ${K}-nav,
        > div > ${K}-nav`]:{"&::before":{bottom:0},[`${K}-ink-bar`]:{bottom:0}}},[`${K}-bottom`]:{[`> ${K}-nav, > div > ${K}-nav`]:{order:1,marginTop:`${W}px`,marginBottom:0,"&::before":{top:0},[`${K}-ink-bar`]:{top:0}},[`> ${K}-content-holder, > div > ${K}-content-holder`]:{order:0}},[`${K}-left, ${K}-right`]:{[`> ${K}-nav, > div > ${K}-nav`]:{flexDirection:"column",minWidth:H.controlHeight*1.25,[`${K}-tab`]:{padding:`${H.paddingXS}px ${H.paddingLG}px`,textAlign:"center"},[`${K}-tab + ${K}-tab`]:{margin:`${H.margin}px 0 0 0`},[`${K}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:H.controlHeight},"&::before":{top:0,boxShadow:H.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:H.boxShadowTabsOverflowBottom},[`&${K}-nav-wrap-ping-top::before`]:{opacity:1},[`&${K}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${K}-ink-bar`]:{width:H.lineWidthBold,"&-animated":{transition:`height ${H.motionDurationSlow}, top ${H.motionDurationSlow}`}},[`${K}-nav-list, ${K}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${K}-left`]:{[`> ${K}-nav, > div > ${K}-nav`]:{[`${K}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${K}-content-holder, > div > ${K}-content-holder`]:{marginLeft:{_skip_check_:!0,value:`-${H.lineWidth}px`},borderLeft:{_skip_check_:!0,value:`${H.lineWidth}px ${H.lineType} ${H.colorBorder}`},[`> ${K}-content > ${K}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:H.paddingLG}}}},[`${K}-right`]:{[`> ${K}-nav, > div > ${K}-nav`]:{order:1,[`${K}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${K}-content-holder, > div > ${K}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:-H.lineWidth},borderRight:{_skip_check_:!0,value:`${H.lineWidth}px ${H.lineType} ${H.colorBorder}`},[`> ${K}-content > ${K}-tabpane`]:{paddingRight:{_skip_check_:!0,value:H.paddingLG}}}}}},genSizeStyle$1=H=>{const{componentCls:K,padding:W}=H;return{[K]:{"&-small":{[`> ${K}-nav`]:{[`${K}-tab`]:{padding:`${H.paddingXS}px 0`,fontSize:H.fontSize}}},"&-large":{[`> ${K}-nav`]:{[`${K}-tab`]:{padding:`${W}px 0`,fontSize:H.fontSizeLG}}}},[`${K}-card`]:{[`&${K}-small`]:{[`> ${K}-nav`]:{[`${K}-tab`]:{padding:`${H.paddingXXS*1.5}px ${W}px`}},[`&${K}-bottom`]:{[`> ${K}-nav ${K}-tab`]:{borderRadius:`0 0 ${H.borderRadius}px ${H.borderRadius}px`}},[`&${K}-top`]:{[`> ${K}-nav ${K}-tab`]:{borderRadius:`${H.borderRadius}px ${H.borderRadius}px 0 0`}},[`&${K}-right`]:{[`> ${K}-nav ${K}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${H.borderRadius}px ${H.borderRadius}px 0`}}},[`&${K}-left`]:{[`> ${K}-nav ${K}-tab`]:{borderRadius:{_skip_check_:!0,value:`${H.borderRadius}px 0 0 ${H.borderRadius}px`}}}},[`&${K}-large`]:{[`> ${K}-nav`]:{[`${K}-tab`]:{padding:`${H.paddingXS}px ${W}px ${H.paddingXXS*1.5}px`}}}}}},genTabStyle=H=>{const{componentCls:K,tabsActiveColor:W,tabsHoverColor:G,iconCls:U,tabsHorizontalGutter:X}=H,Q=`${K}-tab`;return{[Q]:{position:"relative",display:"inline-flex",alignItems:"center",padding:`${H.paddingSM}px 0`,fontSize:`${H.fontSize}px`,background:"transparent",border:0,outline:"none",cursor:"pointer","&-btn, &-remove":_extends$1({"&:focus:not(:focus-visible), &:active":{color:W}},genFocusStyle(H)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-H.marginXXS},marginLeft:{_skip_check_:!0,value:H.marginXS},color:H.colorTextDescription,fontSize:H.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${H.motionDurationSlow}`,"&:hover":{color:H.colorTextHeading}},"&:hover":{color:G},[`&${Q}-active ${Q}-btn`]:{color:H.colorPrimary,textShadow:H.tabsActiveTextShadow},[`&${Q}-disabled`]:{color:H.colorTextDisabled,cursor:"not-allowed"},[`&${Q}-disabled ${Q}-btn, &${Q}-disabled ${K}-remove`]:{"&:focus, &:active":{color:H.colorTextDisabled}},[`& ${Q}-remove ${U}`]:{margin:0},[U]:{marginRight:{_skip_check_:!0,value:H.marginSM}}},[`${Q} + ${Q}`]:{margin:{_skip_check_:!0,value:`0 0 0 ${X}px`}}}},genRtlStyle=H=>{const{componentCls:K,tabsHorizontalGutter:W,iconCls:G,tabsCardGutter:U}=H;return{[`${K}-rtl`]:{direction:"rtl",[`${K}-nav`]:{[`${K}-tab`]:{margin:{_skip_check_:!0,value:`0 0 0 ${W}px`},[`${K}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[G]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:`${H.marginSM}px`}},[`${K}-tab-remove`]:{marginRight:{_skip_check_:!0,value:`${H.marginXS}px`},marginLeft:{_skip_check_:!0,value:`-${H.marginXXS}px`},[G]:{margin:0}}}},[`&${K}-left`]:{[`> ${K}-nav`]:{order:1},[`> ${K}-content-holder`]:{order:0}},[`&${K}-right`]:{[`> ${K}-nav`]:{order:0},[`> ${K}-content-holder`]:{order:1}},[`&${K}-card${K}-top, &${K}-card${K}-bottom`]:{[`> ${K}-nav, > div > ${K}-nav`]:{[`${K}-tab + ${K}-tab`]:{marginRight:{_skip_check_:!0,value:`${U}px`},marginLeft:{_skip_check_:!0,value:0}}}}},[`${K}-dropdown-rtl`]:{direction:"rtl"},[`${K}-menu-item`]:{[`${K}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},genTabsStyle=H=>{const{componentCls:K,tabsCardHorizontalPadding:W,tabsCardHeight:G,tabsCardGutter:U,tabsHoverColor:X,tabsActiveColor:Q,colorSplit:Z}=H;return{[K]:_extends$1(_extends$1(_extends$1(_extends$1({},resetComponent(H)),{display:"flex",[`> ${K}-nav, > div > ${K}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${K}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${H.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${K}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${H.motionDurationSlow}`},[`${K}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${K}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${K}-nav-more`]:{position:"relative",padding:W,background:"transparent",border:0,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:H.controlHeightLG/8,transform:"translateY(100%)",content:"''"}},[`${K}-nav-add`]:_extends$1({minWidth:`${G}px`,marginLeft:{_skip_check_:!0,value:`${U}px`},padding:`0 ${H.paddingXS}px`,background:"transparent",border:`${H.lineWidth}px ${H.lineType} ${Z}`,borderRadius:`${H.borderRadiusLG}px ${H.borderRadiusLG}px 0 0`,outline:"none",cursor:"pointer",color:H.colorText,transition:`all ${H.motionDurationSlow} ${H.motionEaseInOut}`,"&:hover":{color:X},"&:active, &:focus:not(:focus-visible)":{color:Q}},genFocusStyle(H))},[`${K}-extra-content`]:{flex:"none"},[`${K}-ink-bar`]:{position:"absolute",background:H.colorPrimary,pointerEvents:"none"}}),genTabStyle(H)),{[`${K}-content`]:{position:"relative",display:"flex",width:"100%","&-animated":{transition:"margin 0.3s"}},[`${K}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${K}-tabpane`]:{outline:"none",flex:"none",width:"100%"}}),[`${K}-centered`]:{[`> ${K}-nav, > div > ${K}-nav`]:{[`${K}-nav-wrap`]:{[`&:not([class*='${K}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},useStyle$m=genComponentStyleHook("Tabs",H=>{const K=H.controlHeightLG,W=merge(H,{tabsHoverColor:H.colorPrimaryHover,tabsActiveColor:H.colorPrimaryActive,tabsCardHorizontalPadding:`${(K-Math.round(H.fontSize*H.lineHeight))/2-H.lineWidth}px ${H.padding}px`,tabsCardHeight:K,tabsCardGutter:H.marginXXS/2,tabsHorizontalGutter:32,tabsCardHeadBackground:H.colorFillAlter,dropdownEdgeChildVerticalPadding:H.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120});return[genSizeStyle$1(W),genRtlStyle(W),genPositionStyle(W),genDropdownStyle(W),genCardStyle$1(W),genTabsStyle(W),genMotionStyle(W)]},H=>({zIndexPopup:H.zIndexPopupBase+50}));let uuid$2=0;const tabsProps=()=>({prefixCls:{type:String},id:{type:String},popupClassName:String,getPopupContainer:functionType(),activeKey:{type:[String,Number]},defaultActiveKey:{type:[String,Number]},direction:stringType(),animated:someType([Boolean,Object]),renderTabBar:functionType(),tabBarGutter:{type:Number},tabBarStyle:objectType(),tabPosition:stringType(),destroyInactiveTabPane:booleanType(),hideAdd:Boolean,type:stringType(),size:stringType(),centered:Boolean,onEdit:functionType(),onChange:functionType(),onTabClick:functionType(),onTabScroll:functionType(),"onUpdate:activeKey":functionType(),locale:objectType(),onPrevClick:functionType(),onNextClick:functionType(),tabBarExtraContent:PropTypes.any});function parseTabList(H){return H.map(K=>{if(isValidElement(K)){const W=_extends$1({},K.props||{});for(const[re,ae]of Object.entries(W))delete W[re],W[camelize(re)]=ae;const G=K.children||{},U=K.key!==void 0?K.key:void 0,{tab:X=G.tab,disabled:Q,forceRender:Z,closable:ee,animated:ne,active:te,destroyInactiveTabPane:oe}=W;return _extends$1(_extends$1({key:U},W),{node:K,closeIcon:G.closeIcon,tab:X,disabled:Q===""||Q,forceRender:Z===""||Z,closable:ee===""||ee,animated:ne===""||ne,active:te===""||te,destroyInactiveTabPane:oe===""||oe})}return null}).filter(K=>K)}const InternalTabs=defineComponent({compatConfig:{MODE:3},name:"InternalTabs",inheritAttrs:!1,props:_extends$1(_extends$1({},initDefaultProps(tabsProps(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}})),{tabs:arrayType()}),slots:Object,setup(H,K){let{attrs:W,slots:G}=K;devWarning(H.onPrevClick===void 0&&H.onNextClick===void 0,"Tabs","`onPrevClick / @prevClick` and `onNextClick / @nextClick` has been removed. Please use `onTabScroll / @tabScroll` instead."),devWarning(H.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` prop has been removed. Please use `rightExtra` slot instead."),devWarning(G.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` slot is deprecated. Please use `rightExtra` slot instead.");const{prefixCls:U,direction:X,size:Q,rootPrefixCls:Z,getPopupContainer:ee}=useConfigInject("tabs",H),[ne,te]=useStyle$m(U),oe=computed(()=>X.value==="rtl"),re=computed(()=>{const{animated:he,tabPosition:ve}=H;return he===!1||["left","right"].includes(ve)?{inkBar:!1,tabPane:!1}:he===!0?{inkBar:!0,tabPane:!0}:_extends$1({inkBar:!0,tabPane:!1},typeof he=="object"?he:{})}),[ae,se]=useState(!1);onMounted(()=>{se(isMobile())});const[ce,de]=useMergedState(()=>{var he;return(he=H.tabs[0])===null||he===void 0?void 0:he.key},{value:computed(()=>H.activeKey),defaultValue:H.defaultActiveKey}),[le,fe]=useState(()=>H.tabs.findIndex(he=>he.key===ce.value));watchEffect(()=>{var he;let ve=H.tabs.findIndex(ye=>ye.key===ce.value);ve===-1&&(ve=Math.max(0,Math.min(le.value,H.tabs.length-1)),de((he=H.tabs[ve])===null||he===void 0?void 0:he.key)),fe(ve)});const[pe,me]=useMergedState(null,{value:computed(()=>H.id)}),ue=computed(()=>ae.value&&!["left","right"].includes(H.tabPosition)?"top":H.tabPosition);onMounted(()=>{H.id||(me(`rc-tabs-${uuid$2}`),uuid$2+=1)});const ge=(he,ve)=>{var ye,be;(ye=H.onTabClick)===null||ye===void 0||ye.call(H,he,ve);const Se=he!==ce.value;de(he),Se&&((be=H.onChange)===null||be===void 0||be.call(H,he))};return useProvideTabs({tabs:computed(()=>H.tabs),prefixCls:U}),()=>{const{id:he,type:ve,tabBarGutter:ye,tabBarStyle:be,locale:Se,destroyInactiveTabPane:Ce,renderTabBar:xe=G.renderTabBar,onTabScroll:Ne,hideAdd:$e,centered:Ee}=H,Te={id:pe.value,activeKey:ce.value,animated:re.value,tabPosition:ue.value,rtl:oe.value,mobile:ae.value};let Be;ve==="editable-card"&&(Be={onEdit:(Le,Ze)=>{let{key:Ye,event:Re}=Ze;var Ke;(Ke=H.onEdit)===null||Ke===void 0||Ke.call(H,Le==="add"?Re:Ye,Le)},removeIcon:()=>createVNode(CloseOutlined,null,null),addIcon:G.addIcon?G.addIcon:()=>createVNode(PlusOutlined,null,null),showAdd:$e!==!0});let Ae;const ze=_extends$1(_extends$1({},Te),{moreTransitionName:`${Z.value}-slide-up`,editable:Be,locale:Se,tabBarGutter:ye,onTabClick:ge,onTabScroll:Ne,style:be,getPopupContainer:ee.value,popupClassName:classNames(H.popupClassName,te.value)});xe?Ae=xe(_extends$1(_extends$1({},ze),{DefaultTabBar:TabNavList})):Ae=createVNode(TabNavList,ze,pick(G,["moreIcon","leftExtra","rightExtra","tabBarExtraContent"]));const We=U.value;return ne(createVNode("div",_objectSpread2$1(_objectSpread2$1({},W),{},{id:he,class:classNames(We,`${We}-${ue.value}`,{[te.value]:!0,[`${We}-${Q.value}`]:Q.value,[`${We}-card`]:["card","editable-card"].includes(ve),[`${We}-editable-card`]:ve==="editable-card",[`${We}-centered`]:Ee,[`${We}-mobile`]:ae.value,[`${We}-editable`]:ve==="editable-card",[`${We}-rtl`]:oe.value},W.class)}),[Ae,createVNode(TabPanelList,_objectSpread2$1(_objectSpread2$1({destroyInactiveTabPane:Ce},Te),{},{animated:re.value}),null)]))}}}),Tabs=defineComponent({compatConfig:{MODE:3},name:"ATabs",inheritAttrs:!1,props:initDefaultProps(tabsProps(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}}),slots:Object,setup(H,K){let{attrs:W,slots:G,emit:U}=K;const X=Q=>{U("update:activeKey",Q),U("change",Q)};return()=>{var Q;const Z=parseTabList(flattenChildren((Q=G.default)===null||Q===void 0?void 0:Q.call(G)));return createVNode(InternalTabs,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},omit$1(H,["onUpdate:activeKey"])),W),{},{onChange:X,tabs:Z}),G)}}}),tabPaneProps=()=>({tab:PropTypes.any,disabled:{type:Boolean},forceRender:{type:Boolean},closable:{type:Boolean},animated:{type:Boolean},active:{type:Boolean},destroyInactiveTabPane:{type:Boolean},prefixCls:{type:String},tabKey:{type:[String,Number]},id:{type:String}}),__unplugin_components_8=defineComponent({compatConfig:{MODE:3},name:"ATabPane",inheritAttrs:!1,__ANT_TAB_PANE:!0,props:tabPaneProps(),slots:Object,setup(H,K){let{attrs:W,slots:G}=K;const U=ref(H.forceRender);watch([()=>H.active,()=>H.destroyInactiveTabPane],()=>{H.active?U.value=!0:H.destroyInactiveTabPane&&(U.value=!1)},{immediate:!0});const X=computed(()=>H.active?{}:H.animated?{visibility:"hidden",height:0,overflowY:"hidden"}:{display:"none"});return()=>{var Q;const{prefixCls:Z,forceRender:ee,id:ne,active:te,tabKey:oe}=H;return createVNode("div",{id:ne&&`${ne}-panel-${oe}`,role:"tabpanel",tabindex:te?0:-1,"aria-labelledby":ne&&`${ne}-tab-${oe}`,"aria-hidden":!te,style:[X.value,W.style],class:[`${Z}-tabpane`,te&&`${Z}-tabpane-active`,W.class]},[(te||U.value||ee)&&((Q=G.default)===null||Q===void 0?void 0:Q.call(G))])}}});Tabs.TabPane=__unplugin_components_8;Tabs.install=function(H){return H.component(Tabs.name,Tabs),H.component(__unplugin_components_8.name,__unplugin_components_8),H};const genCardHeadStyle=H=>{const{antCls:K,componentCls:W,cardHeadHeight:G,cardPaddingBase:U,cardHeadTabsMarginBottom:X}=H;return _extends$1(_extends$1({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:G,marginBottom:-1,padding:`0 ${U}px`,color:H.colorTextHeading,fontWeight:H.fontWeightStrong,fontSize:H.fontSizeLG,background:"transparent",borderBottom:`${H.lineWidth}px ${H.lineType} ${H.colorBorderSecondary}`,borderRadius:`${H.borderRadiusLG}px ${H.borderRadiusLG}px 0 0`},clearFix()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":_extends$1(_extends$1({display:"inline-block",flex:1},textEllipsis),{[`
          > ${W}-typography,
          > ${W}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${K}-tabs-top`]:{clear:"both",marginBottom:X,color:H.colorText,fontWeight:"normal",fontSize:H.fontSize,"&-bar":{borderBottom:`${H.lineWidth}px ${H.lineType} ${H.colorBorderSecondary}`}}})},genCardGridStyle=H=>{const{cardPaddingBase:K,colorBorderSecondary:W,cardShadow:G,lineWidth:U}=H;return{width:"33.33%",padding:K,border:0,borderRadius:0,boxShadow:`
      ${U}px 0 0 0 ${W},
      0 ${U}px 0 0 ${W},
      ${U}px ${U}px 0 0 ${W},
      ${U}px 0 0 0 ${W} inset,
      0 ${U}px 0 0 ${W} inset;
    `,transition:`all ${H.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:G}}},genCardActionsStyle=H=>{const{componentCls:K,iconCls:W,cardActionsLiMargin:G,cardActionsIconSize:U,colorBorderSecondary:X}=H;return _extends$1(_extends$1({margin:0,padding:0,listStyle:"none",background:H.colorBgContainer,borderTop:`${H.lineWidth}px ${H.lineType} ${X}`,display:"flex",borderRadius:`0 0 ${H.borderRadiusLG}px ${H.borderRadiusLG}px `},clearFix()),{"& > li":{margin:G,color:H.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:H.cardActionsIconSize*2,fontSize:H.fontSize,lineHeight:H.lineHeight,cursor:"pointer","&:hover":{color:H.colorPrimary,transition:`color ${H.motionDurationMid}`},[`a:not(${K}-btn), > ${W}`]:{display:"inline-block",width:"100%",color:H.colorTextDescription,lineHeight:`${H.fontSize*H.lineHeight}px`,transition:`color ${H.motionDurationMid}`,"&:hover":{color:H.colorPrimary}},[`> ${W}`]:{fontSize:U,lineHeight:`${U*H.lineHeight}px`}},"&:not(:last-child)":{borderInlineEnd:`${H.lineWidth}px ${H.lineType} ${X}`}}})},genCardMetaStyle=H=>_extends$1(_extends$1({margin:`-${H.marginXXS}px 0`,display:"flex"},clearFix()),{"&-avatar":{paddingInlineEnd:H.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:H.marginXS}},"&-title":_extends$1({color:H.colorTextHeading,fontWeight:H.fontWeightStrong,fontSize:H.fontSizeLG},textEllipsis),"&-description":{color:H.colorTextDescription}}),genCardTypeInnerStyle=H=>{const{componentCls:K,cardPaddingBase:W,colorFillAlter:G}=H;return{[`${K}-head`]:{padding:`0 ${W}px`,background:G,"&-title":{fontSize:H.fontSize}},[`${K}-body`]:{padding:`${H.padding}px ${W}px`}}},genCardLoadingStyle=H=>{const{componentCls:K}=H;return{overflow:"hidden",[`${K}-body`]:{userSelect:"none"}}},genCardStyle=H=>{const{componentCls:K,cardShadow:W,cardHeadPadding:G,colorBorderSecondary:U,boxShadow:X,cardPaddingBase:Q}=H;return{[K]:_extends$1(_extends$1({},resetComponent(H)),{position:"relative",background:H.colorBgContainer,borderRadius:H.borderRadiusLG,[`&:not(${K}-bordered)`]:{boxShadow:X},[`${K}-head`]:genCardHeadStyle(H),[`${K}-extra`]:{marginInlineStart:"auto",color:"",fontWeight:"normal",fontSize:H.fontSize},[`${K}-body`]:_extends$1({padding:Q,borderRadius:` 0 0 ${H.borderRadiusLG}px ${H.borderRadiusLG}px`},clearFix()),[`${K}-grid`]:genCardGridStyle(H),[`${K}-cover`]:{"> *":{display:"block",width:"100%"},img:{borderRadius:`${H.borderRadiusLG}px ${H.borderRadiusLG}px 0 0`}},[`${K}-actions`]:genCardActionsStyle(H),[`${K}-meta`]:genCardMetaStyle(H)}),[`${K}-bordered`]:{border:`${H.lineWidth}px ${H.lineType} ${U}`,[`${K}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${K}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${H.motionDurationMid}, border-color ${H.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:W}},[`${K}-contain-grid`]:{[`${K}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${K}-loading) ${K}-body`]:{marginBlockStart:-H.lineWidth,marginInlineStart:-H.lineWidth,padding:0}},[`${K}-contain-tabs`]:{[`> ${K}-head`]:{[`${K}-head-title, ${K}-extra`]:{paddingTop:G}}},[`${K}-type-inner`]:genCardTypeInnerStyle(H),[`${K}-loading`]:genCardLoadingStyle(H),[`${K}-rtl`]:{direction:"rtl"}}},genCardSizeStyle=H=>{const{componentCls:K,cardPaddingSM:W,cardHeadHeightSM:G}=H;return{[`${K}-small`]:{[`> ${K}-head`]:{minHeight:G,padding:`0 ${W}px`,fontSize:H.fontSize,[`> ${K}-head-wrapper`]:{[`> ${K}-extra`]:{fontSize:H.fontSize}}},[`> ${K}-body`]:{padding:W}},[`${K}-small${K}-contain-tabs`]:{[`> ${K}-head`]:{[`${K}-head-title, ${K}-extra`]:{minHeight:G,paddingTop:0,display:"flex",alignItems:"center"}}}}},useStyle$l=genComponentStyleHook("Card",H=>{const K=merge(H,{cardShadow:H.boxShadowCard,cardHeadHeight:H.fontSizeLG*H.lineHeightLG+H.padding*2,cardHeadHeightSM:H.fontSize*H.lineHeight+H.paddingXS*2,cardHeadPadding:H.padding,cardPaddingBase:H.paddingLG,cardHeadTabsMarginBottom:-H.padding-H.lineWidth,cardActionsLiMargin:`${H.paddingSM}px 0`,cardActionsIconSize:H.fontSize,cardPaddingSM:12});return[genCardStyle(K),genCardSizeStyle(K)]}),skeletonTitleProps=()=>({prefixCls:String,width:{type:[Number,String]}}),SkeletonTitle=defineComponent({compatConfig:{MODE:3},name:"SkeletonTitle",props:skeletonTitleProps(),setup(H){return()=>{const{prefixCls:K,width:W}=H,G=typeof W=="number"?`${W}px`:W;return createVNode("h3",{class:K,style:{width:G}},null)}}}),skeletonParagraphProps=()=>({prefixCls:String,width:{type:[Number,String,Array]},rows:Number}),SkeletonParagraph=defineComponent({compatConfig:{MODE:3},name:"SkeletonParagraph",props:skeletonParagraphProps(),setup(H){const K=W=>{const{width:G,rows:U=2}=H;if(Array.isArray(G))return G[W];if(U-1===W)return G};return()=>{const{prefixCls:W,rows:G}=H,U=[...Array(G)].map((X,Q)=>{const Z=K(Q);return createVNode("li",{key:Q,style:{width:typeof Z=="number"?`${Z}px`:Z}},null)});return createVNode("ul",{class:W},[U])}}}),skeletonElementProps=()=>({prefixCls:String,size:[String,Number],shape:String,active:{type:Boolean,default:void 0}}),Element$1=H=>{const{prefixCls:K,size:W,shape:G}=H,U=classNames({[`${K}-lg`]:W==="large",[`${K}-sm`]:W==="small"}),X=classNames({[`${K}-circle`]:G==="circle",[`${K}-square`]:G==="square",[`${K}-round`]:G==="round"}),Q=typeof W=="number"?{width:`${W}px`,height:`${W}px`,lineHeight:`${W}px`}:{};return createVNode("span",{class:classNames(K,U,X),style:Q},null)};Element$1.displayName="SkeletonElement";const skeletonClsLoading=new Keyframe("ant-skeleton-loading",{"0%":{transform:"translateX(-37.5%)"},"100%":{transform:"translateX(37.5%)"}}),genSkeletonElementCommonSize=H=>({height:H,lineHeight:`${H}px`}),genSkeletonElementAvatarSize=H=>_extends$1({width:H},genSkeletonElementCommonSize(H)),genSkeletonColor=H=>({position:"relative",zIndex:0,overflow:"hidden",background:"transparent","&::after":{position:"absolute",top:0,insetInlineEnd:"-150%",bottom:0,insetInlineStart:"-150%",background:H.skeletonLoadingBackground,animationName:skeletonClsLoading,animationDuration:H.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite",content:'""'}}),genSkeletonElementInputSize=H=>_extends$1({width:H*5,minWidth:H*5},genSkeletonElementCommonSize(H)),genSkeletonElementAvatar=H=>{const{skeletonAvatarCls:K,color:W,controlHeight:G,controlHeightLG:U,controlHeightSM:X}=H;return{[`${K}`]:_extends$1({display:"inline-block",verticalAlign:"top",background:W},genSkeletonElementAvatarSize(G)),[`${K}${K}-circle`]:{borderRadius:"50%"},[`${K}${K}-lg`]:_extends$1({},genSkeletonElementAvatarSize(U)),[`${K}${K}-sm`]:_extends$1({},genSkeletonElementAvatarSize(X))}},genSkeletonElementInput=H=>{const{controlHeight:K,borderRadiusSM:W,skeletonInputCls:G,controlHeightLG:U,controlHeightSM:X,color:Q}=H;return{[`${G}`]:_extends$1({display:"inline-block",verticalAlign:"top",background:Q,borderRadius:W},genSkeletonElementInputSize(K)),[`${G}-lg`]:_extends$1({},genSkeletonElementInputSize(U)),[`${G}-sm`]:_extends$1({},genSkeletonElementInputSize(X))}},genSkeletonElementImageSize=H=>_extends$1({width:H},genSkeletonElementCommonSize(H)),genSkeletonElementImage=H=>{const{skeletonImageCls:K,imageSizeBase:W,color:G,borderRadiusSM:U}=H;return{[`${K}`]:_extends$1(_extends$1({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:G,borderRadius:U},genSkeletonElementImageSize(W*2)),{[`${K}-path`]:{fill:"#bfbfbf"},[`${K}-svg`]:_extends$1(_extends$1({},genSkeletonElementImageSize(W)),{maxWidth:W*4,maxHeight:W*4}),[`${K}-svg${K}-svg-circle`]:{borderRadius:"50%"}}),[`${K}${K}-circle`]:{borderRadius:"50%"}}},genSkeletonElementButtonShape=(H,K,W)=>{const{skeletonButtonCls:G}=H;return{[`${W}${G}-circle`]:{width:K,minWidth:K,borderRadius:"50%"},[`${W}${G}-round`]:{borderRadius:K}}},genSkeletonElementButtonSize=H=>_extends$1({width:H*2,minWidth:H*2},genSkeletonElementCommonSize(H)),genSkeletonElementButton=H=>{const{borderRadiusSM:K,skeletonButtonCls:W,controlHeight:G,controlHeightLG:U,controlHeightSM:X,color:Q}=H;return _extends$1(_extends$1(_extends$1(_extends$1(_extends$1({[`${W}`]:_extends$1({display:"inline-block",verticalAlign:"top",background:Q,borderRadius:K,width:G*2,minWidth:G*2},genSkeletonElementButtonSize(G))},genSkeletonElementButtonShape(H,G,W)),{[`${W}-lg`]:_extends$1({},genSkeletonElementButtonSize(U))}),genSkeletonElementButtonShape(H,U,`${W}-lg`)),{[`${W}-sm`]:_extends$1({},genSkeletonElementButtonSize(X))}),genSkeletonElementButtonShape(H,X,`${W}-sm`))},genBaseStyle$5=H=>{const{componentCls:K,skeletonAvatarCls:W,skeletonTitleCls:G,skeletonParagraphCls:U,skeletonButtonCls:X,skeletonInputCls:Q,skeletonImageCls:Z,controlHeight:ee,controlHeightLG:ne,controlHeightSM:te,color:oe,padding:re,marginSM:ae,borderRadius:se,skeletonTitleHeight:ce,skeletonBlockRadius:de,skeletonParagraphLineHeight:le,controlHeightXS:fe,skeletonParagraphMarginTop:pe}=H;return{[`${K}`]:{display:"table",width:"100%",[`${K}-header`]:{display:"table-cell",paddingInlineEnd:re,verticalAlign:"top",[`${W}`]:_extends$1({display:"inline-block",verticalAlign:"top",background:oe},genSkeletonElementAvatarSize(ee)),[`${W}-circle`]:{borderRadius:"50%"},[`${W}-lg`]:_extends$1({},genSkeletonElementAvatarSize(ne)),[`${W}-sm`]:_extends$1({},genSkeletonElementAvatarSize(te))},[`${K}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${G}`]:{width:"100%",height:ce,background:oe,borderRadius:de,[`+ ${U}`]:{marginBlockStart:te}},[`${U}`]:{padding:0,"> li":{width:"100%",height:le,listStyle:"none",background:oe,borderRadius:de,"+ li":{marginBlockStart:fe}}},[`${U}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${K}-content`]:{[`${G}, ${U} > li`]:{borderRadius:se}}},[`${K}-with-avatar ${K}-content`]:{[`${G}`]:{marginBlockStart:ae,[`+ ${U}`]:{marginBlockStart:pe}}},[`${K}${K}-element`]:_extends$1(_extends$1(_extends$1(_extends$1({display:"inline-block",width:"auto"},genSkeletonElementButton(H)),genSkeletonElementAvatar(H)),genSkeletonElementInput(H)),genSkeletonElementImage(H)),[`${K}${K}-block`]:{width:"100%",[`${X}`]:{width:"100%"},[`${Q}`]:{width:"100%"}},[`${K}${K}-active`]:{[`
        ${G},
        ${U} > li,
        ${W},
        ${X},
        ${Q},
        ${Z}
      `]:_extends$1({},genSkeletonColor(H))}}},useStyle$k=genComponentStyleHook("Skeleton",H=>{const{componentCls:K}=H,W=merge(H,{skeletonAvatarCls:`${K}-avatar`,skeletonTitleCls:`${K}-title`,skeletonParagraphCls:`${K}-paragraph`,skeletonButtonCls:`${K}-button`,skeletonInputCls:`${K}-input`,skeletonImageCls:`${K}-image`,imageSizeBase:H.controlHeight*1.5,skeletonTitleHeight:H.controlHeight/2,skeletonBlockRadius:H.borderRadiusSM,skeletonParagraphLineHeight:H.controlHeight/2,skeletonParagraphMarginTop:H.marginLG+H.marginXXS,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${H.color} 25%, ${H.colorGradientEnd} 37%, ${H.color} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[genBaseStyle$5(W)]},H=>{const{colorFillContent:K,colorFill:W}=H;return{color:K,colorGradientEnd:W}}),skeletonProps=()=>({active:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},prefixCls:String,avatar:{type:[Boolean,Object],default:void 0},title:{type:[Boolean,Object],default:void 0},paragraph:{type:[Boolean,Object],default:void 0},round:{type:Boolean,default:void 0}});function getComponentProps(H){return H&&typeof H=="object"?H:{}}function getAvatarBasicProps(H,K){return H&&!K?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function getTitleBasicProps(H,K){return!H&&K?{width:"38%"}:H&&K?{width:"50%"}:{}}function getParagraphBasicProps(H,K){const W={};return(!H||!K)&&(W.width="61%"),!H&&K?W.rows=3:W.rows=2,W}const Skeleton=defineComponent({compatConfig:{MODE:3},name:"ASkeleton",props:initDefaultProps(skeletonProps(),{avatar:!1,title:!0,paragraph:!0}),setup(H,K){let{slots:W}=K;const{prefixCls:G,direction:U}=useConfigInject("skeleton",H),[X,Q]=useStyle$k(G);return()=>{var Z;const{loading:ee,avatar:ne,title:te,paragraph:oe,active:re,round:ae}=H,se=G.value;if(ee||H.loading===void 0){const ce=!!ne||ne==="",de=!!te||te==="",le=!!oe||oe==="";let fe;if(ce){const ue=_extends$1(_extends$1({prefixCls:`${se}-avatar`},getAvatarBasicProps(de,le)),getComponentProps(ne));fe=createVNode("div",{class:`${se}-header`},[createVNode(Element$1,ue,null)])}let pe;if(de||le){let ue;if(de){const he=_extends$1(_extends$1({prefixCls:`${se}-title`},getTitleBasicProps(ce,le)),getComponentProps(te));ue=createVNode(SkeletonTitle,he,null)}let ge;if(le){const he=_extends$1(_extends$1({prefixCls:`${se}-paragraph`},getParagraphBasicProps(ce,de)),getComponentProps(oe));ge=createVNode(SkeletonParagraph,he,null)}pe=createVNode("div",{class:`${se}-content`},[ue,ge])}const me=classNames(se,{[`${se}-with-avatar`]:ce,[`${se}-active`]:re,[`${se}-rtl`]:U.value==="rtl",[`${se}-round`]:ae,[Q.value]:!0});return X(createVNode("div",{class:me},[fe,pe]))}return(Z=W.default)===null||Z===void 0?void 0:Z.call(W)}}}),skeletonButtonProps=()=>_extends$1(_extends$1({},skeletonElementProps()),{size:String,block:Boolean}),SkeletonButton=defineComponent({compatConfig:{MODE:3},name:"ASkeletonButton",props:initDefaultProps(skeletonButtonProps(),{size:"default"}),setup(H){const{prefixCls:K}=useConfigInject("skeleton",H),[W,G]=useStyle$k(K),U=computed(()=>classNames(K.value,`${K.value}-element`,{[`${K.value}-active`]:H.active,[`${K.value}-block`]:H.block},G.value));return()=>W(createVNode("div",{class:U.value},[createVNode(Element$1,_objectSpread2$1(_objectSpread2$1({},H),{},{prefixCls:`${K.value}-button`}),null)]))}}),SkeletonInput=defineComponent({compatConfig:{MODE:3},name:"ASkeletonInput",props:_extends$1(_extends$1({},omit$1(skeletonElementProps(),["shape"])),{size:String,block:Boolean}),setup(H){const{prefixCls:K}=useConfigInject("skeleton",H),[W,G]=useStyle$k(K),U=computed(()=>classNames(K.value,`${K.value}-element`,{[`${K.value}-active`]:H.active,[`${K.value}-block`]:H.block},G.value));return()=>W(createVNode("div",{class:U.value},[createVNode(Element$1,_objectSpread2$1(_objectSpread2$1({},H),{},{prefixCls:`${K.value}-input`}),null)]))}}),path="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",SkeletonImage=defineComponent({compatConfig:{MODE:3},name:"ASkeletonImage",props:omit$1(skeletonElementProps(),["size","shape","active"]),setup(H){const{prefixCls:K}=useConfigInject("skeleton",H),[W,G]=useStyle$k(K),U=computed(()=>classNames(K.value,`${K.value}-element`,G.value));return()=>W(createVNode("div",{class:U.value},[createVNode("div",{class:`${K.value}-image`},[createVNode("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",class:`${K.value}-image-svg`},[createVNode("path",{d:path,class:`${K.value}-image-path`},null)])])]))}}),avatarProps=()=>_extends$1(_extends$1({},skeletonElementProps()),{shape:String}),SkeletonAvatar=defineComponent({compatConfig:{MODE:3},name:"ASkeletonAvatar",props:initDefaultProps(avatarProps(),{size:"default",shape:"circle"}),setup(H){const{prefixCls:K}=useConfigInject("skeleton",H),[W,G]=useStyle$k(K),U=computed(()=>classNames(K.value,`${K.value}-element`,{[`${K.value}-active`]:H.active},G.value));return()=>W(createVNode("div",{class:U.value},[createVNode(Element$1,_objectSpread2$1(_objectSpread2$1({},H),{},{prefixCls:`${K.value}-avatar`}),null)]))}});Skeleton.Button=SkeletonButton;Skeleton.Avatar=SkeletonAvatar;Skeleton.Input=SkeletonInput;Skeleton.Image=SkeletonImage;Skeleton.Title=SkeletonTitle;Skeleton.install=function(H){return H.component(Skeleton.name,Skeleton),H.component(Skeleton.Button.name,SkeletonButton),H.component(Skeleton.Avatar.name,SkeletonAvatar),H.component(Skeleton.Input.name,SkeletonInput),H.component(Skeleton.Image.name,SkeletonImage),H.component(Skeleton.Title.name,SkeletonTitle),H};const{TabPane}=Tabs,cardProps=()=>({prefixCls:String,title:PropTypes.any,extra:PropTypes.any,bordered:{type:Boolean,default:!0},bodyStyle:{type:Object,default:void 0},headStyle:{type:Object,default:void 0},loading:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},type:{type:String},size:{type:String},actions:PropTypes.any,tabList:{type:Array},tabBarExtraContent:PropTypes.any,activeTabKey:String,defaultActiveTabKey:String,cover:PropTypes.any,onTabChange:{type:Function}}),Card=defineComponent({compatConfig:{MODE:3},name:"ACard",inheritAttrs:!1,props:cardProps(),slots:Object,setup(H,K){let{slots:W,attrs:G}=K;const{prefixCls:U,direction:X,size:Q}=useConfigInject("card",H),[Z,ee]=useStyle$l(U),ne=re=>re.map((se,ce)=>isVNode(se)&&!isEmptyElement(se)||!isVNode(se)?createVNode("li",{style:{width:`${100/re.length}%`},key:`action-${ce}`},[createVNode("span",null,[se])]):null),te=re=>{var ae;(ae=H.onTabChange)===null||ae===void 0||ae.call(H,re)},oe=function(){let re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ae;return re.forEach(se=>{se&&isPlainObject(se.type)&&se.type.__ANT_CARD_GRID&&(ae=!0)}),ae};return()=>{var re,ae,se,ce,de,le;const{headStyle:fe={},bodyStyle:pe={},loading:me,bordered:ue=!0,type:ge,tabList:he,hoverable:ve,activeTabKey:ye,defaultActiveTabKey:be,tabBarExtraContent:Se=filterEmptyWithUndefined((re=W.tabBarExtraContent)===null||re===void 0?void 0:re.call(W)),title:Ce=filterEmptyWithUndefined((ae=W.title)===null||ae===void 0?void 0:ae.call(W)),extra:xe=filterEmptyWithUndefined((se=W.extra)===null||se===void 0?void 0:se.call(W)),actions:Ne=filterEmptyWithUndefined((ce=W.actions)===null||ce===void 0?void 0:ce.call(W)),cover:$e=filterEmptyWithUndefined((de=W.cover)===null||de===void 0?void 0:de.call(W))}=H,Ee=flattenChildren((le=W.default)===null||le===void 0?void 0:le.call(W)),Te=U.value,Be={[`${Te}`]:!0,[ee.value]:!0,[`${Te}-loading`]:me,[`${Te}-bordered`]:ue,[`${Te}-hoverable`]:!!ve,[`${Te}-contain-grid`]:oe(Ee),[`${Te}-contain-tabs`]:he&&he.length,[`${Te}-${Q.value}`]:Q.value,[`${Te}-type-${ge}`]:!!ge,[`${Te}-rtl`]:X.value==="rtl"},Ae=createVNode(Skeleton,{loading:!0,active:!0,paragraph:{rows:4},title:!1},{default:()=>[Ee]}),ze=ye!==void 0,We={size:"large",[ze?"activeKey":"defaultActiveKey"]:ze?ye:be,onChange:te,class:`${Te}-head-tabs`};let Le;const Ze=he&&he.length?createVNode(Tabs,We,{default:()=>[he.map(we=>{const{tab:_e,slots:Ve}=we,je=Ve?.tab;devWarning(!Ve,"Card","tabList slots is deprecated, Please use `customTab` instead.");let qe=_e!==void 0?_e:W[je]?W[je](we):null;return qe=customRenderSlot(W,"customTab",we,()=>[qe]),createVNode(TabPane,{tab:qe,key:we.key,disabled:we.disabled},null)})],rightExtra:Se?()=>Se:null}):null;(Ce||xe||Ze)&&(Le=createVNode("div",{class:`${Te}-head`,style:fe},[createVNode("div",{class:`${Te}-head-wrapper`},[Ce&&createVNode("div",{class:`${Te}-head-title`},[Ce]),xe&&createVNode("div",{class:`${Te}-extra`},[xe])]),Ze]));const Ye=$e?createVNode("div",{class:`${Te}-cover`},[$e]):null,Re=createVNode("div",{class:`${Te}-body`,style:pe},[me?Ae:Ee]),Ke=Ne&&Ne.length?createVNode("ul",{class:`${Te}-actions`},[ne(Ne)]):null;return Z(createVNode("div",_objectSpread2$1(_objectSpread2$1({ref:"cardContainerRef"},G),{},{class:[Be,G.class]}),[Le,Ye,Ee&&Ee.length?Re:null,Ke]))}}}),cardMetaProps=()=>({prefixCls:String,title:vNodeType(),description:vNodeType(),avatar:vNodeType()}),Meta=defineComponent({compatConfig:{MODE:3},name:"ACardMeta",props:cardMetaProps(),slots:Object,setup(H,K){let{slots:W}=K;const{prefixCls:G}=useConfigInject("card",H);return()=>{const U={[`${G.value}-meta`]:!0},X=getPropsSlot(W,H,"avatar"),Q=getPropsSlot(W,H,"title"),Z=getPropsSlot(W,H,"description"),ee=X?createVNode("div",{class:`${G.value}-meta-avatar`},[X]):null,ne=Q?createVNode("div",{class:`${G.value}-meta-title`},[Q]):null,te=Z?createVNode("div",{class:`${G.value}-meta-description`},[Z]):null,oe=ne||te?createVNode("div",{class:`${G.value}-meta-detail`},[ne,te]):null;return createVNode("div",{class:U},[ee,oe])}}}),cardGridProps=()=>({prefixCls:String,hoverable:{type:Boolean,default:!0}}),Grid=defineComponent({compatConfig:{MODE:3},name:"ACardGrid",__ANT_CARD_GRID:!0,props:cardGridProps(),setup(H,K){let{slots:W}=K;const{prefixCls:G}=useConfigInject("card",H),U=computed(()=>({[`${G.value}-grid`]:!0,[`${G.value}-grid-hoverable`]:H.hoverable}));return()=>{var X;return createVNode("div",{class:U.value},[(X=W.default)===null||X===void 0?void 0:X.call(W)])}}});Card.Meta=Meta;Card.Grid=Grid;Card.install=function(H){return H.component(Card.name,Card),H.component(Meta.name,Meta),H.component(Grid.name,Grid),H};const collapseProps=()=>({prefixCls:String,activeKey:someType([Array,Number,String]),defaultActiveKey:someType([Array,Number,String]),accordion:booleanType(),destroyInactivePanel:booleanType(),bordered:booleanType(),expandIcon:functionType(),openAnimation:PropTypes.object,expandIconPosition:stringType(),collapsible:stringType(),ghost:booleanType(),onChange:functionType(),"onUpdate:activeKey":functionType()}),collapsePanelProps=()=>({openAnimation:PropTypes.object,prefixCls:String,header:PropTypes.any,headerClass:String,showArrow:booleanType(),isActive:booleanType(),destroyInactivePanel:booleanType(),disabled:booleanType(),accordion:booleanType(),forceRender:booleanType(),expandIcon:functionType(),extra:PropTypes.any,panelKey:someType(),collapsible:stringType(),role:String,onItemClick:functionType()}),genBaseStyle$4=H=>{const{componentCls:K,collapseContentBg:W,padding:G,collapseContentPaddingHorizontal:U,collapseHeaderBg:X,collapseHeaderPadding:Q,collapsePanelBorderRadius:Z,lineWidth:ee,lineType:ne,colorBorder:te,colorText:oe,colorTextHeading:re,colorTextDisabled:ae,fontSize:se,lineHeight:ce,marginSM:de,paddingSM:le,motionDurationSlow:fe,fontSizeIcon:pe}=H,me=`${ee}px ${ne} ${te}`;return{[K]:_extends$1(_extends$1({},resetComponent(H)),{backgroundColor:X,border:me,borderBottom:0,borderRadius:`${Z}px`,"&-rtl":{direction:"rtl"},[`& > ${K}-item`]:{borderBottom:me,"&:last-child":{[`
            &,
            & > ${K}-header`]:{borderRadius:`0 0 ${Z}px ${Z}px`}},[`> ${K}-header`]:{position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:Q,color:re,lineHeight:ce,cursor:"pointer",transition:`all ${fe}, visibility 0s`,[`> ${K}-header-text`]:{flex:"auto"},"&:focus":{outline:"none"},[`${K}-expand-icon`]:{height:se*ce,display:"flex",alignItems:"center",paddingInlineEnd:de},[`${K}-arrow`]:_extends$1(_extends$1({},resetIcon()),{fontSize:pe,svg:{transition:`transform ${fe}`}}),[`${K}-header-text`]:{marginInlineEnd:"auto"}},[`${K}-header-collapsible-only`]:{cursor:"default",[`${K}-header-text`]:{flex:"none",cursor:"pointer"},[`${K}-expand-icon`]:{cursor:"pointer"}},[`${K}-icon-collapsible-only`]:{cursor:"default",[`${K}-expand-icon`]:{cursor:"pointer"}},[`&${K}-no-arrow`]:{[`> ${K}-header`]:{paddingInlineStart:le}}},[`${K}-content`]:{color:oe,backgroundColor:W,borderTop:me,[`& > ${K}-content-box`]:{padding:`${G}px ${U}px`},"&-hidden":{display:"none"}},[`${K}-item:last-child`]:{[`> ${K}-content`]:{borderRadius:`0 0 ${Z}px ${Z}px`}},[`& ${K}-item-disabled > ${K}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:ae,cursor:"not-allowed"}},[`&${K}-icon-position-end`]:{[`& > ${K}-item`]:{[`> ${K}-header`]:{[`${K}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:de}}}}})}},genArrowStyle=H=>{const{componentCls:K}=H,W=`> ${K}-item > ${K}-header ${K}-arrow svg`;return{[`${K}-rtl`]:{[W]:{transform:"rotate(180deg)"}}}},genBorderlessStyle=H=>{const{componentCls:K,collapseHeaderBg:W,paddingXXS:G,colorBorder:U}=H;return{[`${K}-borderless`]:{backgroundColor:W,border:0,[`> ${K}-item`]:{borderBottom:`1px solid ${U}`},[`
        > ${K}-item:last-child,
        > ${K}-item:last-child ${K}-header
      `]:{borderRadius:0},[`> ${K}-item:last-child`]:{borderBottom:0},[`> ${K}-item > ${K}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${K}-item > ${K}-content > ${K}-content-box`]:{paddingTop:G}}}},genGhostStyle=H=>{const{componentCls:K,paddingSM:W}=H;return{[`${K}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${K}-item`]:{borderBottom:0,[`> ${K}-content`]:{backgroundColor:"transparent",border:0,[`> ${K}-content-box`]:{paddingBlock:W}}}}}},useStyle$j=genComponentStyleHook("Collapse",H=>{const K=merge(H,{collapseContentBg:H.colorBgContainer,collapseHeaderBg:H.colorFillAlter,collapseHeaderPadding:`${H.paddingSM}px ${H.padding}px`,collapsePanelBorderRadius:H.borderRadiusLG,collapseContentPaddingHorizontal:16});return[genBaseStyle$4(K),genBorderlessStyle(K),genGhostStyle(K),genArrowStyle(K),genCollapseMotion(K)]});function getActiveKeysArray(H){let K=H;if(!Array.isArray(K)){const W=typeof K;K=W==="number"||W==="string"?[K]:[]}return K.map(W=>String(W))}const Collapse=defineComponent({compatConfig:{MODE:3},name:"ACollapse",inheritAttrs:!1,props:initDefaultProps(collapseProps(),{accordion:!1,destroyInactivePanel:!1,bordered:!0,expandIconPosition:"start"}),slots:Object,setup(H,K){let{attrs:W,slots:G,emit:U}=K;const X=ref(getActiveKeysArray(firstNotUndefined([H.activeKey,H.defaultActiveKey])));watch(()=>H.activeKey,()=>{X.value=getActiveKeysArray(H.activeKey)},{deep:!0});const{prefixCls:Q,direction:Z,rootPrefixCls:ee}=useConfigInject("collapse",H),[ne,te]=useStyle$j(Q),oe=computed(()=>{const{expandIconPosition:le}=H;return le!==void 0?le:Z.value==="rtl"?"end":"start"}),re=le=>{const{expandIcon:fe=G.expandIcon}=H,pe=fe?fe(le):createVNode(RightOutlined,{rotate:le.isActive?90:void 0},null);return createVNode("div",{class:[`${Q.value}-expand-icon`,te.value],onClick:()=>["header","icon"].includes(H.collapsible)&&se(le.panelKey)},[isValidElement(Array.isArray(fe)?pe[0]:pe)?cloneElement(pe,{class:`${Q.value}-arrow`},!1):pe])},ae=le=>{H.activeKey===void 0&&(X.value=le);const fe=H.accordion?le[0]:le;U("update:activeKey",fe),U("change",fe)},se=le=>{let fe=X.value;if(H.accordion)fe=fe[0]===le?[]:[le];else{fe=[...fe];const pe=fe.indexOf(le);pe>-1?fe.splice(pe,1):fe.push(le)}ae(fe)},ce=(le,fe)=>{var pe,me,ue;if(isEmptyElement(le))return;const ge=X.value,{accordion:he,destroyInactivePanel:ve,collapsible:ye,openAnimation:be}=H,Se=be||collapseMotion(`${ee.value}-motion-collapse`),Ce=String((pe=le.key)!==null&&pe!==void 0?pe:fe),{header:xe=(ue=(me=le.children)===null||me===void 0?void 0:me.header)===null||ue===void 0?void 0:ue.call(me),headerClass:Ne,collapsible:$e,disabled:Ee}=le.props||{};let Te=!1;he?Te=ge[0]===Ce:Te=ge.indexOf(Ce)>-1;let Be=$e??ye;(Ee||Ee==="")&&(Be="disabled");const Ae={key:Ce,panelKey:Ce,header:xe,headerClass:Ne,isActive:Te,prefixCls:Q.value,destroyInactivePanel:ve,openAnimation:Se,accordion:he,onItemClick:Be==="disabled"?null:se,expandIcon:re,collapsible:Be};return cloneElement(le,Ae)},de=()=>{var le;return flattenChildren((le=G.default)===null||le===void 0?void 0:le.call(G)).map(ce)};return()=>{const{accordion:le,bordered:fe,ghost:pe}=H,me=classNames(Q.value,{[`${Q.value}-borderless`]:!fe,[`${Q.value}-icon-position-${oe.value}`]:!0,[`${Q.value}-rtl`]:Z.value==="rtl",[`${Q.value}-ghost`]:!!pe,[W.class]:!!W.class},te.value);return ne(createVNode("div",_objectSpread2$1(_objectSpread2$1({class:me},getDataAndAriaProps(W)),{},{style:W.style,role:le?"tablist":null}),[de()]))}}}),PanelContent=defineComponent({compatConfig:{MODE:3},name:"PanelContent",props:collapsePanelProps(),setup(H,K){let{slots:W}=K;const G=shallowRef(!1);return watchEffect(()=>{(H.isActive||H.forceRender)&&(G.value=!0)}),()=>{var U;if(!G.value)return null;const{prefixCls:X,isActive:Q,role:Z}=H;return createVNode("div",{class:classNames(`${X}-content`,{[`${X}-content-active`]:Q,[`${X}-content-inactive`]:!Q}),role:Z},[createVNode("div",{class:`${X}-content-box`},[(U=W.default)===null||U===void 0?void 0:U.call(W)])])}}}),__unplugin_components_1=defineComponent({compatConfig:{MODE:3},name:"ACollapsePanel",inheritAttrs:!1,props:initDefaultProps(collapsePanelProps(),{showArrow:!0,isActive:!1,onItemClick(){},headerClass:"",forceRender:!1}),slots:Object,setup(H,K){let{slots:W,emit:G,attrs:U}=K;devWarning(H.disabled===void 0,"Collapse.Panel",'`disabled` is deprecated. Please use `collapsible="disabled"` instead.');const{prefixCls:X}=useConfigInject("collapse",H),Q=()=>{G("itemClick",H.panelKey)},Z=ee=>{(ee.key==="Enter"||ee.keyCode===13||ee.which===13)&&Q()};return()=>{var ee,ne;const{header:te=(ee=W.header)===null||ee===void 0?void 0:ee.call(W),headerClass:oe,isActive:re,showArrow:ae,destroyInactivePanel:se,accordion:ce,forceRender:de,openAnimation:le,expandIcon:fe=W.expandIcon,extra:pe=(ne=W.extra)===null||ne===void 0?void 0:ne.call(W),collapsible:me}=H,ue=me==="disabled",ge=X.value,he=classNames(`${ge}-header`,{[oe]:oe,[`${ge}-header-collapsible-only`]:me==="header",[`${ge}-icon-collapsible-only`]:me==="icon"}),ve=classNames({[`${ge}-item`]:!0,[`${ge}-item-active`]:re,[`${ge}-item-disabled`]:ue,[`${ge}-no-arrow`]:!ae,[`${U.class}`]:!!U.class});let ye=createVNode("i",{class:"arrow"},null);ae&&typeof fe=="function"&&(ye=fe(H));const be=withDirectives(createVNode(PanelContent,{prefixCls:ge,isActive:re,forceRender:de,role:ce?"tabpanel":null},{default:W.default}),[[vShow,re]]),Se=_extends$1({appear:!1,css:!1},le);return createVNode("div",_objectSpread2$1(_objectSpread2$1({},U),{},{class:ve}),[createVNode("div",{class:he,onClick:()=>!["header","icon"].includes(me)&&Q(),role:ce?"tab":"button",tabindex:ue?-1:0,"aria-expanded":re,onKeypress:Z},[ae&&ye,createVNode("span",{onClick:()=>me==="header"&&Q(),class:`${ge}-header-text`},[te]),pe&&createVNode("div",{class:`${ge}-extra`},[pe])]),createVNode(Transition,Se,{default:()=>[!se||re?be:null]})])}}});Collapse.Panel=__unplugin_components_1;Collapse.install=function(H){return H.component(Collapse.name,Collapse),H.component(__unplugin_components_1.name,__unplugin_components_1),H};const TreeContextKey=Symbol("TreeContextKey"),TreeContext=defineComponent({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup(H,K){let{slots:W}=K;return provide(TreeContextKey,computed(()=>H.value)),()=>{var G;return(G=W.default)===null||G===void 0?void 0:G.call(W)}}}),useInjectTreeContext=()=>inject(TreeContextKey,computed(()=>({}))),KeysStateKey=Symbol("KeysStateKey"),useProvideKeysState=H=>{provide(KeysStateKey,H)},useInjectKeysState=()=>inject(KeysStateKey,{expandedKeys:shallowRef([]),selectedKeys:shallowRef([]),loadedKeys:shallowRef([]),loadingKeys:shallowRef([]),checkedKeys:shallowRef([]),halfCheckedKeys:shallowRef([]),expandedKeysSet:computed(()=>new Set),selectedKeysSet:computed(()=>new Set),loadedKeysSet:computed(()=>new Set),loadingKeysSet:computed(()=>new Set),checkedKeysSet:computed(()=>new Set),halfCheckedKeysSet:computed(()=>new Set),flattenNodes:shallowRef([])}),Indent=H=>{let{prefixCls:K,level:W,isStart:G,isEnd:U}=H;const X=`${K}-indent-unit`,Q=[];for(let Z=0;Z<W;Z+=1)Q.push(createVNode("span",{key:Z,class:{[X]:!0,[`${X}-start`]:G[Z],[`${X}-end`]:U[Z]}},null));return createVNode("span",{"aria-hidden":"true",class:`${K}-indent`},[Q])},treeNodeProps={eventKey:[String,Number],prefixCls:String,title:PropTypes.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:PropTypes.any,switcherIcon:PropTypes.any,domRef:{type:Function}},nodeListProps={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},treeProps$1=()=>({prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:PropTypes.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:PropTypes.any,selectable:{type:Boolean,default:void 0},expandAction:[String,Boolean],disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:PropTypes.any,switcherIcon:PropTypes.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String},rootClassName:String,rootStyle:Object});var __rest$t=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const ICON_OPEN="open",ICON_CLOSE="close",defaultTitle="---",VcTreeNode=defineComponent({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:treeNodeProps,isTreeNode:1,setup(H,K){let{attrs:W,slots:G,expose:U}=K;"slots"in H.data,`${Object.keys(H.data.slots||{}).map(et=>"`v-slot:"+et+"` ")}`;const X=shallowRef(!1),Q=useInjectTreeContext(),{expandedKeysSet:Z,selectedKeysSet:ee,loadedKeysSet:ne,loadingKeysSet:te,checkedKeysSet:oe,halfCheckedKeysSet:re}=useInjectKeysState(),{dragOverNodeKey:ae,dropPosition:se,keyEntities:ce}=Q.value,de=computed(()=>getTreeNodeProps(H.eventKey,{expandedKeysSet:Z.value,selectedKeysSet:ee.value,loadedKeysSet:ne.value,loadingKeysSet:te.value,checkedKeysSet:oe.value,halfCheckedKeysSet:re.value,dragOverNodeKey:ae,dropPosition:se,keyEntities:ce})),le=eagerComputed(()=>de.value.expanded),fe=eagerComputed(()=>de.value.selected),pe=eagerComputed(()=>de.value.checked),me=eagerComputed(()=>de.value.loaded),ue=eagerComputed(()=>de.value.loading),ge=eagerComputed(()=>de.value.halfChecked),he=eagerComputed(()=>de.value.dragOver),ve=eagerComputed(()=>de.value.dragOverGapTop),ye=eagerComputed(()=>de.value.dragOverGapBottom),be=eagerComputed(()=>de.value.pos),Se=shallowRef(),Ce=computed(()=>{const{eventKey:et}=H,{keyEntities:nt}=Q.value,{children:it}=nt[et]||{};return!!(it||[]).length}),xe=computed(()=>{const{isLeaf:et}=H,{loadData:nt}=Q.value,it=Ce.value;return et===!1?!1:et||!nt&&!it||nt&&me.value&&!it}),Ne=computed(()=>xe.value?null:le.value?ICON_OPEN:ICON_CLOSE),$e=computed(()=>{const{disabled:et}=H,{disabled:nt}=Q.value;return!!(nt||et)}),Ee=computed(()=>{const{checkable:et}=H,{checkable:nt}=Q.value;return!nt||et===!1?!1:nt}),Te=computed(()=>{const{selectable:et}=H,{selectable:nt}=Q.value;return typeof et=="boolean"?et:nt}),Be=computed(()=>{const{data:et,active:nt,checkable:it,disableCheckbox:ct,disabled:pt,selectable:ht}=H;return _extends$1(_extends$1({active:nt,checkable:it,disableCheckbox:ct,disabled:pt,selectable:ht},et),{dataRef:et,data:et,isLeaf:xe.value,checked:pe.value,expanded:le.value,loading:ue.value,selected:fe.value,halfChecked:ge.value})}),Ae=getCurrentInstance(),ze=computed(()=>{const{eventKey:et}=H,{keyEntities:nt}=Q.value,{parent:it}=nt[et]||{};return _extends$1(_extends$1({},convertNodePropsToEventData(_extends$1({},H,de.value))),{parent:it})}),We=reactive({eventData:ze,eventKey:computed(()=>H.eventKey),selectHandle:Se,pos:be,key:Ae.vnode.key});U(We);const Le=et=>{const{onNodeDoubleClick:nt}=Q.value;nt(et,ze.value)},Ze=et=>{if($e.value)return;const{onNodeSelect:nt}=Q.value;et.preventDefault(),nt(et,ze.value)},Ye=et=>{if($e.value)return;const{disableCheckbox:nt}=H,{onNodeCheck:it}=Q.value;if(!Ee.value||nt)return;et.preventDefault();const ct=!pe.value;it(et,ze.value,ct)},Re=et=>{const{onNodeClick:nt}=Q.value;nt(et,ze.value),Te.value?Ze(et):Ye(et)},Ke=et=>{const{onNodeMouseEnter:nt}=Q.value;nt(et,ze.value)},we=et=>{const{onNodeMouseLeave:nt}=Q.value;nt(et,ze.value)},_e=et=>{const{onNodeContextMenu:nt}=Q.value;nt(et,ze.value)},Ve=et=>{const{onNodeDragStart:nt}=Q.value;et.stopPropagation(),X.value=!0,nt(et,We);try{et.dataTransfer.setData("text/plain","")}catch{}},je=et=>{const{onNodeDragEnter:nt}=Q.value;et.preventDefault(),et.stopPropagation(),nt(et,We)},qe=et=>{const{onNodeDragOver:nt}=Q.value;et.preventDefault(),et.stopPropagation(),nt(et,We)},Pe=et=>{const{onNodeDragLeave:nt}=Q.value;et.stopPropagation(),nt(et,We)},ke=et=>{const{onNodeDragEnd:nt}=Q.value;et.stopPropagation(),X.value=!1,nt(et,We)},Ue=et=>{const{onNodeDrop:nt}=Q.value;et.preventDefault(),et.stopPropagation(),X.value=!1,nt(et,We)},He=et=>{const{onNodeExpand:nt}=Q.value;ue.value||nt(et,ze.value)},Me=()=>{const{data:et}=H,{draggable:nt}=Q.value;return!!(nt&&(!nt.nodeDraggable||nt.nodeDraggable(et)))},Je=()=>{const{draggable:et,prefixCls:nt}=Q.value;return et&&et?.icon?createVNode("span",{class:`${nt}-draggable-icon`},[et.icon]):null},Fe=()=>{var et,nt,it;const{switcherIcon:ct=G.switcherIcon||((et=Q.value.slots)===null||et===void 0?void 0:et[(it=(nt=H.data)===null||nt===void 0?void 0:nt.slots)===null||it===void 0?void 0:it.switcherIcon])}=H,{switcherIcon:pt}=Q.value,ht=ct||pt;return typeof ht=="function"?ht(Be.value):ht},Oe=()=>{const{loadData:et,onNodeLoad:nt}=Q.value;ue.value||et&&le.value&&!xe.value&&!Ce.value&&!me.value&&nt(ze.value)};onMounted(()=>{Oe()}),onUpdated(()=>{Oe()});const Qe=()=>{const{prefixCls:et}=Q.value,nt=Fe();if(xe.value)return nt!==!1?createVNode("span",{class:classNames(`${et}-switcher`,`${et}-switcher-noop`)},[nt]):null;const it=classNames(`${et}-switcher`,`${et}-switcher_${le.value?ICON_OPEN:ICON_CLOSE}`);return nt!==!1?createVNode("span",{onClick:He,class:it},[nt]):null},Ie=()=>{var et,nt;const{disableCheckbox:it}=H,{prefixCls:ct}=Q.value,pt=$e.value;return Ee.value?createVNode("span",{class:classNames(`${ct}-checkbox`,pe.value&&`${ct}-checkbox-checked`,!pe.value&&ge.value&&`${ct}-checkbox-indeterminate`,(pt||it)&&`${ct}-checkbox-disabled`),onClick:Ye},[(nt=(et=Q.value).customCheckable)===null||nt===void 0?void 0:nt.call(et)]):null},De=()=>{const{prefixCls:et}=Q.value;return createVNode("span",{class:classNames(`${et}-iconEle`,`${et}-icon__${Ne.value||"docu"}`,ue.value&&`${et}-icon_loading`)},null)},ot=()=>{const{disabled:et,eventKey:nt}=H,{draggable:it,dropLevelOffset:ct,dropPosition:pt,prefixCls:ht,indent:Ge,dropIndicatorRender:Xe,dragOverNodeKey:rt,direction:at}=Q.value;return!et&&it!==!1&&rt===nt?Xe({dropPosition:pt,dropLevelOffset:ct,indent:Ge,prefixCls:ht,direction:at}):null},st=()=>{var et,nt,it,ct,pt,ht;const{icon:Ge=G.icon,data:Xe}=H,rt=G.title||((et=Q.value.slots)===null||et===void 0?void 0:et[(it=(nt=H.data)===null||nt===void 0?void 0:nt.slots)===null||it===void 0?void 0:it.title])||((ct=Q.value.slots)===null||ct===void 0?void 0:ct.title)||H.title,{prefixCls:at,showIcon:lt,icon:dt,loadData:ft}=Q.value,gt=$e.value,ut=`${at}-node-content-wrapper`;let mt;if(lt){const bt=Ge||((pt=Q.value.slots)===null||pt===void 0?void 0:pt[(ht=Xe?.slots)===null||ht===void 0?void 0:ht.icon])||dt;mt=bt?createVNode("span",{class:classNames(`${at}-iconEle`,`${at}-icon__customize`)},[typeof bt=="function"?bt(Be.value):bt]):De()}else ft&&ue.value&&(mt=De());let vt;typeof rt=="function"?vt=rt(Be.value):vt=rt,vt=vt===void 0?defaultTitle:vt;const yt=createVNode("span",{class:`${at}-title`},[vt]);return createVNode("span",{ref:Se,title:typeof rt=="string"?rt:"",class:classNames(`${ut}`,`${ut}-${Ne.value||"normal"}`,!gt&&(fe.value||X.value)&&`${at}-node-selected`),onMouseenter:Ke,onMouseleave:we,onContextmenu:_e,onClick:Re,onDblclick:Le},[mt,yt,ot()])};return()=>{const et=_extends$1(_extends$1({},H),W),{eventKey:nt,isLeaf:it,isStart:ct,isEnd:pt,domRef:ht,active:Ge,data:Xe,onMousemove:rt,selectable:at}=et,lt=__rest$t(et,["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"]),{prefixCls:dt,filterTreeNode:ft,keyEntities:gt,dropContainerKey:ut,dropTargetKey:mt,draggingNodeKey:vt}=Q.value,yt=$e.value,bt=pickAttrs(lt,{aria:!0,data:!0}),{level:St}=gt[nt]||{},$t=pt[pt.length-1],xt=Me(),Ct=!yt&&xt,wt=vt===nt,_t=at!==void 0?{"aria-selected":!!at}:void 0;return createVNode("div",_objectSpread2$1(_objectSpread2$1({ref:ht,class:classNames(W.class,`${dt}-treenode`,{[`${dt}-treenode-disabled`]:yt,[`${dt}-treenode-switcher-${le.value?"open":"close"}`]:!it,[`${dt}-treenode-checkbox-checked`]:pe.value,[`${dt}-treenode-checkbox-indeterminate`]:ge.value,[`${dt}-treenode-selected`]:fe.value,[`${dt}-treenode-loading`]:ue.value,[`${dt}-treenode-active`]:Ge,[`${dt}-treenode-leaf-last`]:$t,[`${dt}-treenode-draggable`]:Ct,dragging:wt,"drop-target":mt===nt,"drop-container":ut===nt,"drag-over":!yt&&he.value,"drag-over-gap-top":!yt&&ve.value,"drag-over-gap-bottom":!yt&&ye.value,"filter-node":ft&&ft(ze.value)}),style:W.style,draggable:Ct,"aria-grabbed":wt,onDragstart:Ct?Ve:void 0,onDragenter:xt?je:void 0,onDragover:xt?qe:void 0,onDragleave:xt?Pe:void 0,onDrop:xt?Ue:void 0,onDragend:xt?ke:void 0,onMousemove:rt},_t),bt),[createVNode(Indent,{prefixCls:dt,level:St,isStart:ct,isEnd:pt},null),Je(),Qe(),Ie(),st()])}}});function arrDel(H,K){if(!H)return[];const W=H.slice(),G=W.indexOf(K);return G>=0&&W.splice(G,1),W}function arrAdd(H,K){const W=(H||[]).slice();return W.indexOf(K)===-1&&W.push(K),W}function posToArr(H){return H.split("-")}function getPosition(H,K){return`${H}-${K}`}function isTreeNode(H){return H&&H.type&&H.type.isTreeNode}function getDragChildrenKeys(H,K){const W=[],G=K[H];function U(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(Q=>{let{key:Z,children:ee}=Q;W.push(Z),U(ee)})}return U(G.children),W}function isLastChild(H){if(H.parent){const K=posToArr(H.pos);return Number(K[K.length-1])===H.parent.children.length-1}return!1}function isFirstChild(H){const K=posToArr(H.pos);return Number(K[K.length-1])===0}function calcDropPosition(H,K,W,G,U,X,Q,Z,ee,ne){var te;const{clientX:oe,clientY:re}=H,{top:ae,height:se}=H.target.getBoundingClientRect(),de=((ne==="rtl"?-1:1)*((U?.x||0)-oe)-12)/G;let le=Z[W.eventKey];if(re<ae+se/2){const be=Q.findIndex(xe=>xe.key===le.key),Se=be<=0?0:be-1,Ce=Q[Se].key;le=Z[Ce]}const fe=le.key,pe=le,me=le.key;let ue=0,ge=0;if(!ee.has(fe))for(let be=0;be<de&&isLastChild(le);be+=1)le=le.parent,ge+=1;const he=K.eventData,ve=le.node;let ye=!0;return isFirstChild(le)&&le.level===0&&re<ae+se/2&&X({dragNode:he,dropNode:ve,dropPosition:-1})&&le.key===W.eventKey?ue=-1:(pe.children||[]).length&&ee.has(me)?X({dragNode:he,dropNode:ve,dropPosition:0})?ue=0:ye=!1:ge===0?de>-1.5?X({dragNode:he,dropNode:ve,dropPosition:1})?ue=1:ye=!1:X({dragNode:he,dropNode:ve,dropPosition:0})?ue=0:X({dragNode:he,dropNode:ve,dropPosition:1})?ue=1:ye=!1:X({dragNode:he,dropNode:ve,dropPosition:1})?ue=1:ye=!1,{dropPosition:ue,dropLevelOffset:ge,dropTargetKey:le.key,dropTargetPos:le.pos,dragOverNodeKey:me,dropContainerKey:ue===0?null:((te=le.parent)===null||te===void 0?void 0:te.key)||null,dropAllowed:ye}}function calcSelectedKeys(H,K){if(!H)return;const{multiple:W}=K;return W?H.slice():H.length?[H[0]]:H}function parseCheckedKeys(H){if(!H)return null;let K;if(Array.isArray(H))K={checkedKeys:H,halfCheckedKeys:void 0};else if(typeof H=="object")K={checkedKeys:H.checked||void 0,halfCheckedKeys:H.halfChecked||void 0};else return null;return K}function conductExpandParent(H,K){const W=new Set;function G(U){if(W.has(U))return;const X=K[U];if(!X)return;W.add(U);const{parent:Q,node:Z}=X;Z.disabled||Q&&G(Q.key)}return(H||[]).forEach(U=>{G(U)}),[...W]}var __rest$s=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};function getKey(H,K){return H??K}function fillFieldNames(H){const{title:K,_title:W,key:G,children:U}=H||{},X=K||"title";return{title:X,_title:W||[X],key:G||"key",children:U||"children"}}function convertTreeToData(H){function K(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return filterEmpty(W).map(U=>{var X,Q,Z,ee;if(!isTreeNode(U))return null;const ne=U.children||{},te=U.key,oe={};for(const[be,Se]of Object.entries(U.props))oe[camelize(be)]=Se;const{isLeaf:re,checkable:ae,selectable:se,disabled:ce,disableCheckbox:de}=oe,le={isLeaf:re||re===""||void 0,checkable:ae||ae===""||void 0,selectable:se||se===""||void 0,disabled:ce||ce===""||void 0,disableCheckbox:de||de===""||void 0},fe=_extends$1(_extends$1({},oe),le),{title:pe=(X=ne.title)===null||X===void 0?void 0:X.call(ne,fe),icon:me=(Q=ne.icon)===null||Q===void 0?void 0:Q.call(ne,fe),switcherIcon:ue=(Z=ne.switcherIcon)===null||Z===void 0?void 0:Z.call(ne,fe)}=oe,ge=__rest$s(oe,["title","icon","switcherIcon"]),he=(ee=ne.default)===null||ee===void 0?void 0:ee.call(ne),ve=_extends$1(_extends$1(_extends$1({},ge),{title:pe,icon:me,switcherIcon:ue,key:te,isLeaf:re}),le),ye=K(he);return ye.length&&(ve.children=ye),ve})}return K(H)}function flattenTreeData(H,K,W){const{_title:G,key:U,children:X}=fillFieldNames(W),Q=new Set(K===!0?[]:K),Z=[];function ee(ne){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return ne.map((oe,re)=>{const ae=getPosition(te?te.pos:"0",re),se=getKey(oe[U],ae);let ce;for(let le=0;le<G.length;le+=1){const fe=G[le];if(oe[fe]!==void 0){ce=oe[fe];break}}const de=_extends$1(_extends$1({},omit$1(oe,[...G,U,X])),{title:ce,key:se,parent:te,pos:ae,children:null,data:oe,isStart:[...te?te.isStart:[],re===0],isEnd:[...te?te.isEnd:[],re===ne.length-1]});return Z.push(de),K===!0||Q.has(se)?de.children=ee(oe[X]||[],de):de.children=[],de})}return ee(H),Z}function traverseDataNodes(H,K,W){let G={};typeof W=="object"?G=W:G={externalGetKey:W},G=G||{};const{childrenPropName:U,externalGetKey:X,fieldNames:Q}=G,{key:Z,children:ee}=fillFieldNames(Q),ne=U||ee;let te;X?typeof X=="string"?te=re=>re[X]:typeof X=="function"&&(te=re=>X(re)):te=(re,ae)=>getKey(re[Z],ae);function oe(re,ae,se,ce){const de=re?re[ne]:H,le=re?getPosition(se.pos,ae):"0",fe=re?[...ce,re]:[];if(re){const pe=te(re,le),me={node:re,index:ae,pos:le,key:pe,parentPos:se.node?se.pos:null,level:se.level+1,nodes:fe};K(me)}de&&de.forEach((pe,me)=>{oe(pe,me,{node:re,pos:le,level:se?se.level+1:-1},fe)})}oe(null)}function convertDataToEntities(H){let{initWrapper:K,processEntity:W,onProcessFinished:G,externalGetKey:U,childrenPropName:X,fieldNames:Q}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=arguments.length>2?arguments[2]:void 0;const ee=U||Z,ne={},te={};let oe={posEntities:ne,keyEntities:te};return K&&(oe=K(oe)||oe),traverseDataNodes(H,re=>{const{node:ae,index:se,pos:ce,key:de,parentPos:le,level:fe,nodes:pe}=re,me={node:ae,nodes:pe,index:se,key:de,pos:ce,level:fe},ue=getKey(de,ce);ne[ce]=me,te[ue]=me,me.parent=ne[le],me.parent&&(me.parent.children=me.parent.children||[],me.parent.children.push(me)),W&&W(me,oe)},{externalGetKey:ee,childrenPropName:X,fieldNames:Q}),G&&G(oe),oe}function getTreeNodeProps(H,K){let{expandedKeysSet:W,selectedKeysSet:G,loadedKeysSet:U,loadingKeysSet:X,checkedKeysSet:Q,halfCheckedKeysSet:Z,dragOverNodeKey:ee,dropPosition:ne,keyEntities:te}=K;const oe=te[H];return{eventKey:H,expanded:W.has(H),selected:G.has(H),loaded:U.has(H),loading:X.has(H),checked:Q.has(H),halfChecked:Z.has(H),pos:String(oe?oe.pos:""),parent:oe.parent,dragOver:ee===H&&ne===0,dragOverGapTop:ee===H&&ne===-1,dragOverGapBottom:ee===H&&ne===1}}function convertNodePropsToEventData(H){const{data:K,expanded:W,selected:G,checked:U,loaded:X,loading:Q,halfChecked:Z,dragOver:ee,dragOverGapTop:ne,dragOverGapBottom:te,pos:oe,active:re,eventKey:ae}=H,se=_extends$1(_extends$1({dataRef:K},K),{expanded:W,selected:G,checked:U,loaded:X,loading:Q,halfChecked:Z,dragOver:ee,dragOverGapTop:ne,dragOverGapBottom:te,pos:oe,active:re,eventKey:ae,key:ae});return"props"in se||Object.defineProperty(se,"props",{get(){return H}}),se}function removeFromCheckedKeys(H,K){const W=new Set;return H.forEach(G=>{K.has(G)||W.add(G)}),W}function isCheckDisabled(H){const{disabled:K,disableCheckbox:W,checkable:G}=H||{};return!!(K||W)||G===!1}function fillConductCheck(H,K,W,G){const U=new Set(H),X=new Set;for(let Z=0;Z<=W;Z+=1)(K.get(Z)||new Set).forEach(ne=>{const{key:te,node:oe,children:re=[]}=ne;U.has(te)&&!G(oe)&&re.filter(ae=>!G(ae.node)).forEach(ae=>{U.add(ae.key)})});const Q=new Set;for(let Z=W;Z>=0;Z-=1)(K.get(Z)||new Set).forEach(ne=>{const{parent:te,node:oe}=ne;if(G(oe)||!ne.parent||Q.has(ne.parent.key))return;if(G(ne.parent.node)){Q.add(te.key);return}let re=!0,ae=!1;(te.children||[]).filter(se=>!G(se.node)).forEach(se=>{let{key:ce}=se;const de=U.has(ce);re&&!de&&(re=!1),!ae&&(de||X.has(ce))&&(ae=!0)}),re&&U.add(te.key),ae&&X.add(te.key),Q.add(te.key)});return{checkedKeys:Array.from(U),halfCheckedKeys:Array.from(removeFromCheckedKeys(X,U))}}function cleanConductCheck(H,K,W,G,U){const X=new Set(H);let Q=new Set(K);for(let ee=0;ee<=G;ee+=1)(W.get(ee)||new Set).forEach(te=>{const{key:oe,node:re,children:ae=[]}=te;!X.has(oe)&&!Q.has(oe)&&!U(re)&&ae.filter(se=>!U(se.node)).forEach(se=>{X.delete(se.key)})});Q=new Set;const Z=new Set;for(let ee=G;ee>=0;ee-=1)(W.get(ee)||new Set).forEach(te=>{const{parent:oe,node:re}=te;if(U(re)||!te.parent||Z.has(te.parent.key))return;if(U(te.parent.node)){Z.add(oe.key);return}let ae=!0,se=!1;(oe.children||[]).filter(ce=>!U(ce.node)).forEach(ce=>{let{key:de}=ce;const le=X.has(de);ae&&!le&&(ae=!1),!se&&(le||Q.has(de))&&(se=!0)}),ae||X.delete(oe.key),se&&Q.add(oe.key),Z.add(oe.key)});return{checkedKeys:Array.from(X),halfCheckedKeys:Array.from(removeFromCheckedKeys(Q,X))}}function conductCheck(H,K,W,G,U,X){let Q;X?Q=X:Q=isCheckDisabled;const Z=new Set(H.filter(ne=>!!W[ne]));let ee;return K===!0?ee=fillConductCheck(Z,U,G,Q):ee=cleanConductCheck(Z,K.halfCheckedKeys,U,G,Q),ee}function useMaxLevel(H){const K=ref(0),W=shallowRef();return watchEffect(()=>{const G=new Map;let U=0;const X=H.value||{};for(const Q in X)if(Object.prototype.hasOwnProperty.call(X,Q)){const Z=X[Q],{level:ee}=Z;let ne=G.get(ee);ne||(ne=new Set,G.set(ee,ne)),ne.add(Z),U=Math.max(U,ee)}K.value=U,W.value=G}),{maxLevel:K,levelEntities:W}}var LeftOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};function _objectSpread$x(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$x(H,U,W[U])})}return H}function _defineProperty$x(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var LeftOutlined=function(K,W){var G=_objectSpread$x({},K,W.attrs);return createVNode(Icon,_objectSpread$x({},G,{icon:LeftOutlined$1}),null)};LeftOutlined.displayName="LeftOutlined";LeftOutlined.inheritAttrs=!1;const canUseDocElement=()=>canUseDom$1()&&window.document.documentElement,isStyleNameSupport=H=>{if(canUseDom$1()&&window.document.documentElement){const K=Array.isArray(H)?H:[H],{documentElement:W}=window.document;return K.some(G=>G in W.style)}return!1},isStyleValueSupport=(H,K)=>{if(!isStyleNameSupport(H))return!1;const W=document.createElement("div"),G=W.style[H];return W.style[H]=K,W.style[H]!==G};function isStyleSupport(H,K){return!Array.isArray(H)&&K!==void 0?isStyleValueSupport(H,K):isStyleNameSupport(H)}let flexGapSupported;const detectFlexGapSupported=()=>{if(!canUseDocElement())return!1;if(flexGapSupported!==void 0)return flexGapSupported;const H=document.createElement("div");return H.style.display="flex",H.style.flexDirection="column",H.style.rowGap="1px",H.appendChild(document.createElement("div")),H.appendChild(document.createElement("div")),document.body.appendChild(H),flexGapSupported=H.scrollHeight===1,document.body.removeChild(H),flexGapSupported},useFlexGapSupport=()=>{const H=shallowRef(!1);return onMounted(()=>{H.value=detectFlexGapSupported()}),H},RowContextKey=Symbol("rowContextKey"),useProvideRow=H=>{provide(RowContextKey,H)},useInjectRow=()=>inject(RowContextKey,{gutter:computed(()=>{}),wrap:computed(()=>{}),supportFlexGap:computed(()=>{})}),genGridRowStyle=H=>{const{componentCls:K}=H;return{[K]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around ":{justifyContent:"space-around"},"&-space-evenly ":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},genGridColStyle=H=>{const{componentCls:K}=H;return{[K]:{position:"relative",maxWidth:"100%",minHeight:1}}},genLoopGridColumnsStyle=(H,K)=>{const{componentCls:W,gridColumns:G}=H,U={};for(let X=G;X>=0;X--)X===0?(U[`${W}${K}-${X}`]={display:"none"},U[`${W}-push-${X}`]={insetInlineStart:"auto"},U[`${W}-pull-${X}`]={insetInlineEnd:"auto"},U[`${W}${K}-push-${X}`]={insetInlineStart:"auto"},U[`${W}${K}-pull-${X}`]={insetInlineEnd:"auto"},U[`${W}${K}-offset-${X}`]={marginInlineEnd:0},U[`${W}${K}-order-${X}`]={order:0}):(U[`${W}${K}-${X}`]={display:"block",flex:`0 0 ${X/G*100}%`,maxWidth:`${X/G*100}%`},U[`${W}${K}-push-${X}`]={insetInlineStart:`${X/G*100}%`},U[`${W}${K}-pull-${X}`]={insetInlineEnd:`${X/G*100}%`},U[`${W}${K}-offset-${X}`]={marginInlineStart:`${X/G*100}%`},U[`${W}${K}-order-${X}`]={order:X});return U},genGridStyle=(H,K)=>genLoopGridColumnsStyle(H,K),genGridMediaStyle=(H,K,W)=>({[`@media (min-width: ${K}px)`]:_extends$1({},genGridStyle(H,W))}),useRowStyle=genComponentStyleHook("Grid",H=>[genGridRowStyle(H)]),useColStyle=genComponentStyleHook("Grid",H=>{const K=merge(H,{gridColumns:24}),W={"-sm":K.screenSMMin,"-md":K.screenMDMin,"-lg":K.screenLGMin,"-xl":K.screenXLMin,"-xxl":K.screenXXLMin};return[genGridColStyle(K),genGridStyle(K,""),genGridStyle(K,"-xs"),Object.keys(W).map(G=>genGridMediaStyle(K,W[G],G)).reduce((G,U)=>_extends$1(_extends$1({},G),U),{})]}),rowProps=()=>({align:someType([String,Object]),justify:someType([String,Object]),prefixCls:String,gutter:someType([Number,Array,Object],0),wrap:{type:Boolean,default:void 0}}),ARow=defineComponent({compatConfig:{MODE:3},name:"ARow",inheritAttrs:!1,props:rowProps(),setup(H,K){let{slots:W,attrs:G}=K;const{prefixCls:U,direction:X}=useConfigInject("row",H),[Q,Z]=useRowStyle(U);let ee;const ne=useResponsiveObserver(),te=ref({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),oe=ref({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),re=pe=>computed(()=>{if(typeof H[pe]=="string")return H[pe];if(typeof H[pe]!="object")return"";for(let me=0;me<responsiveArray.length;me++){const ue=responsiveArray[me];if(!oe.value[ue])continue;const ge=H[pe][ue];if(ge!==void 0)return ge}return""}),ae=re("align"),se=re("justify"),ce=useFlexGapSupport();onMounted(()=>{ee=ne.value.subscribe(pe=>{oe.value=pe;const me=H.gutter||0;(!Array.isArray(me)&&typeof me=="object"||Array.isArray(me)&&(typeof me[0]=="object"||typeof me[1]=="object"))&&(te.value=pe)})}),onBeforeUnmount(()=>{ne.value.unsubscribe(ee)});const de=computed(()=>{const pe=[void 0,void 0],{gutter:me=0}=H;return(Array.isArray(me)?me:[me,void 0]).forEach((ge,he)=>{if(typeof ge=="object")for(let ve=0;ve<responsiveArray.length;ve++){const ye=responsiveArray[ve];if(te.value[ye]&&ge[ye]!==void 0){pe[he]=ge[ye];break}}else pe[he]=ge}),pe});useProvideRow({gutter:de,supportFlexGap:ce,wrap:computed(()=>H.wrap)});const le=computed(()=>classNames(U.value,{[`${U.value}-no-wrap`]:H.wrap===!1,[`${U.value}-${se.value}`]:se.value,[`${U.value}-${ae.value}`]:ae.value,[`${U.value}-rtl`]:X.value==="rtl"},G.class,Z.value)),fe=computed(()=>{const pe=de.value,me={},ue=pe[0]!=null&&pe[0]>0?`${pe[0]/-2}px`:void 0,ge=pe[1]!=null&&pe[1]>0?`${pe[1]/-2}px`:void 0;return ue&&(me.marginLeft=ue,me.marginRight=ue),ce.value?me.rowGap=`${pe[1]}px`:ge&&(me.marginTop=ge,me.marginBottom=ge),me});return()=>{var pe;return Q(createVNode("div",_objectSpread2$1(_objectSpread2$1({},G),{},{class:le.value,style:_extends$1(_extends$1({},fe.value),G.style)}),[(pe=W.default)===null||pe===void 0?void 0:pe.call(W)]))}}});function _extends(){return _extends=Object.assign?Object.assign.bind():function(H){for(var K=1;K<arguments.length;K++){var W=arguments[K];for(var G in W)Object.prototype.hasOwnProperty.call(W,G)&&(H[G]=W[G])}return H},_extends.apply(this,arguments)}function _inheritsLoose(H,K){H.prototype=Object.create(K.prototype),H.prototype.constructor=H,_setPrototypeOf(H,K)}function _getPrototypeOf(H){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},_getPrototypeOf(H)}function _setPrototypeOf(H,K){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(G,U){return G.__proto__=U,G},_setPrototypeOf(H,K)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(H,K,W){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function(U,X,Q){var Z=[null];Z.push.apply(Z,X);var ee=Function.bind.apply(U,Z),ne=new ee;return Q&&_setPrototypeOf(ne,Q.prototype),ne},_construct.apply(null,arguments)}function _isNativeFunction(H){return Function.toString.call(H).indexOf("[native code]")!==-1}function _wrapNativeSuper(H){var K=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(G){if(G===null||!_isNativeFunction(G))return G;if(typeof G!="function")throw new TypeError("Super expression must either be null or a function");if(typeof K<"u"){if(K.has(G))return K.get(G);K.set(G,U)}function U(){return _construct(G,arguments,_getPrototypeOf(this).constructor)}return U.prototype=Object.create(G.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(U,G)},_wrapNativeSuper(H)}var formatRegExp=/%[sdj%]/g,warning=function(){};function convertFieldsError(H){if(!H||!H.length)return null;var K={};return H.forEach(function(W){var G=W.field;K[G]=K[G]||[],K[G].push(W)}),K}function format(H){for(var K=arguments.length,W=new Array(K>1?K-1:0),G=1;G<K;G++)W[G-1]=arguments[G];var U=0,X=W.length;if(typeof H=="function")return H.apply(null,W);if(typeof H=="string"){var Q=H.replace(formatRegExp,function(Z){if(Z==="%%")return"%";if(U>=X)return Z;switch(Z){case"%s":return String(W[U++]);case"%d":return Number(W[U++]);case"%j":try{return JSON.stringify(W[U++])}catch{return"[Circular]"}break;default:return Z}});return Q}return H}function isNativeStringType(H){return H==="string"||H==="url"||H==="hex"||H==="email"||H==="date"||H==="pattern"}function isEmptyValue(H,K){return!!(H==null||K==="array"&&Array.isArray(H)&&!H.length||isNativeStringType(K)&&typeof H=="string"&&!H)}function asyncParallelArray(H,K,W){var G=[],U=0,X=H.length;function Q(Z){G.push.apply(G,Z||[]),U++,U===X&&W(G)}H.forEach(function(Z){K(Z,Q)})}function asyncSerialArray(H,K,W){var G=0,U=H.length;function X(Q){if(Q&&Q.length){W(Q);return}var Z=G;G=G+1,Z<U?K(H[Z],X):W([])}X([])}function flattenObjArr(H){var K=[];return Object.keys(H).forEach(function(W){K.push.apply(K,H[W]||[])}),K}var AsyncValidationError=function(H){_inheritsLoose(K,H);function K(W,G){var U;return U=H.call(this,"Async Validation Error")||this,U.errors=W,U.fields=G,U}return K}(_wrapNativeSuper(Error));function asyncMap(H,K,W,G,U){if(K.first){var X=new Promise(function(re,ae){var se=function(le){return G(le),le.length?ae(new AsyncValidationError(le,convertFieldsError(le))):re(U)},ce=flattenObjArr(H);asyncSerialArray(ce,W,se)});return X.catch(function(re){return re}),X}var Q=K.firstFields===!0?Object.keys(H):K.firstFields||[],Z=Object.keys(H),ee=Z.length,ne=0,te=[],oe=new Promise(function(re,ae){var se=function(de){if(te.push.apply(te,de),ne++,ne===ee)return G(te),te.length?ae(new AsyncValidationError(te,convertFieldsError(te))):re(U)};Z.length||(G(te),re(U)),Z.forEach(function(ce){var de=H[ce];Q.indexOf(ce)!==-1?asyncSerialArray(de,W,se):asyncParallelArray(de,W,se)})});return oe.catch(function(re){return re}),oe}function isErrorObj(H){return!!(H&&H.message!==void 0)}function getValue$1(H,K){for(var W=H,G=0;G<K.length;G++){if(W==null)return W;W=W[K[G]]}return W}function complementError(H,K){return function(W){var G;return H.fullFields?G=getValue$1(K,H.fullFields):G=K[W.field||H.fullField],isErrorObj(W)?(W.field=W.field||H.fullField,W.fieldValue=G,W):{message:typeof W=="function"?W():W,fieldValue:G,field:W.field||H.fullField}}}function deepMerge(H,K){if(K){for(var W in K)if(K.hasOwnProperty(W)){var G=K[W];typeof G=="object"&&typeof H[W]=="object"?H[W]=_extends({},H[W],G):H[W]=G}}return H}var required$1=function(K,W,G,U,X,Q){K.required&&(!G.hasOwnProperty(K.field)||isEmptyValue(W,Q||K.type))&&U.push(format(X.messages.required,K.fullField))},whitespace=function(K,W,G,U,X){(/^\s+$/.test(W)||W==="")&&U.push(format(X.messages.whitespace,K.fullField))},urlReg,getUrlRegex=function(){if(urlReg)return urlReg;var H="[a-fA-F\\d:]",K=function(me){return me&&me.includeBoundaries?"(?:(?<=\\s|^)(?="+H+")|(?<="+H+")(?=\\s|$))":""},W="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",G="[a-fA-F\\d]{1,4}",U=(`
(?:
(?:`+G+":){7}(?:"+G+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+G+":){6}(?:"+W+"|:"+G+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+G+":){5}(?::"+W+"|(?::"+G+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+G+":){4}(?:(?::"+G+"){0,1}:"+W+"|(?::"+G+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+G+":){3}(?:(?::"+G+"){0,2}:"+W+"|(?::"+G+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+G+":){2}(?:(?::"+G+"){0,3}:"+W+"|(?::"+G+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+G+":){1}(?:(?::"+G+"){0,4}:"+W+"|(?::"+G+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+G+"){0,5}:"+W+"|(?::"+G+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),X=new RegExp("(?:^"+W+"$)|(?:^"+U+"$)"),Q=new RegExp("^"+W+"$"),Z=new RegExp("^"+U+"$"),ee=function(me){return me&&me.exact?X:new RegExp("(?:"+K(me)+W+K(me)+")|(?:"+K(me)+U+K(me)+")","g")};ee.v4=function(pe){return pe&&pe.exact?Q:new RegExp(""+K(pe)+W+K(pe),"g")},ee.v6=function(pe){return pe&&pe.exact?Z:new RegExp(""+K(pe)+U+K(pe),"g")};var ne="(?:(?:[a-z]+:)?//)",te="(?:\\S+(?::\\S*)?@)?",oe=ee.v4().source,re=ee.v6().source,ae="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",se="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",ce="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",de="(?::\\d{2,5})?",le='(?:[/?#][^\\s"]*)?',fe="(?:"+ne+"|www\\.)"+te+"(?:localhost|"+oe+"|"+re+"|"+ae+se+ce+")"+de+le;return urlReg=new RegExp("(?:^"+fe+"$)","i"),urlReg},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types$1={integer:function(K){return types$1.number(K)&&parseInt(K,10)===K},float:function(K){return types$1.number(K)&&!types$1.integer(K)},array:function(K){return Array.isArray(K)},regexp:function(K){if(K instanceof RegExp)return!0;try{return!!new RegExp(K)}catch{return!1}},date:function(K){return typeof K.getTime=="function"&&typeof K.getMonth=="function"&&typeof K.getYear=="function"&&!isNaN(K.getTime())},number:function(K){return isNaN(K)?!1:typeof K=="number"},object:function(K){return typeof K=="object"&&!types$1.array(K)},method:function(K){return typeof K=="function"},email:function(K){return typeof K=="string"&&K.length<=320&&!!K.match(pattern$2.email)},url:function(K){return typeof K=="string"&&K.length<=2048&&!!K.match(getUrlRegex())},hex:function(K){return typeof K=="string"&&!!K.match(pattern$2.hex)}},type$1=function(K,W,G,U,X){if(K.required&&W===void 0){required$1(K,W,G,U,X);return}var Q=["integer","float","array","regexp","object","method","email","number","date","url","hex"],Z=K.type;Q.indexOf(Z)>-1?types$1[Z](W)||U.push(format(X.messages.types[Z],K.fullField,K.type)):Z&&typeof W!==K.type&&U.push(format(X.messages.types[Z],K.fullField,K.type))},range=function(K,W,G,U,X){var Q=typeof K.len=="number",Z=typeof K.min=="number",ee=typeof K.max=="number",ne=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,te=W,oe=null,re=typeof W=="number",ae=typeof W=="string",se=Array.isArray(W);if(re?oe="number":ae?oe="string":se&&(oe="array"),!oe)return!1;se&&(te=W.length),ae&&(te=W.replace(ne,"_").length),Q?te!==K.len&&U.push(format(X.messages[oe].len,K.fullField,K.len)):Z&&!ee&&te<K.min?U.push(format(X.messages[oe].min,K.fullField,K.min)):ee&&!Z&&te>K.max?U.push(format(X.messages[oe].max,K.fullField,K.max)):Z&&ee&&(te<K.min||te>K.max)&&U.push(format(X.messages[oe].range,K.fullField,K.min,K.max))},ENUM$1="enum",enumerable$1=function(K,W,G,U,X){K[ENUM$1]=Array.isArray(K[ENUM$1])?K[ENUM$1]:[],K[ENUM$1].indexOf(W)===-1&&U.push(format(X.messages[ENUM$1],K.fullField,K[ENUM$1].join(", ")))},pattern$1=function(K,W,G,U,X){if(K.pattern){if(K.pattern instanceof RegExp)K.pattern.lastIndex=0,K.pattern.test(W)||U.push(format(X.messages.pattern.mismatch,K.fullField,W,K.pattern));else if(typeof K.pattern=="string"){var Q=new RegExp(K.pattern);Q.test(W)||U.push(format(X.messages.pattern.mismatch,K.fullField,W,K.pattern))}}},rules={required:required$1,whitespace,type:type$1,range,enum:enumerable$1,pattern:pattern$1},string$1=function(K,W,G,U,X){var Q=[],Z=K.required||!K.required&&U.hasOwnProperty(K.field);if(Z){if(isEmptyValue(W,"string")&&!K.required)return G();rules.required(K,W,U,Q,X,"string"),isEmptyValue(W,"string")||(rules.type(K,W,U,Q,X),rules.range(K,W,U,Q,X),rules.pattern(K,W,U,Q,X),K.whitespace===!0&&rules.whitespace(K,W,U,Q,X))}G(Q)},method2=function(K,W,G,U,X){var Q=[],Z=K.required||!K.required&&U.hasOwnProperty(K.field);if(Z){if(isEmptyValue(W)&&!K.required)return G();rules.required(K,W,U,Q,X),W!==void 0&&rules.type(K,W,U,Q,X)}G(Q)},number2=function(K,W,G,U,X){var Q=[],Z=K.required||!K.required&&U.hasOwnProperty(K.field);if(Z){if(W===""&&(W=void 0),isEmptyValue(W)&&!K.required)return G();rules.required(K,W,U,Q,X),W!==void 0&&(rules.type(K,W,U,Q,X),rules.range(K,W,U,Q,X))}G(Q)},_boolean=function(K,W,G,U,X){var Q=[],Z=K.required||!K.required&&U.hasOwnProperty(K.field);if(Z){if(isEmptyValue(W)&&!K.required)return G();rules.required(K,W,U,Q,X),W!==void 0&&rules.type(K,W,U,Q,X)}G(Q)},regexp2=function(K,W,G,U,X){var Q=[],Z=K.required||!K.required&&U.hasOwnProperty(K.field);if(Z){if(isEmptyValue(W)&&!K.required)return G();rules.required(K,W,U,Q,X),isEmptyValue(W)||rules.type(K,W,U,Q,X)}G(Q)},integer2=function(K,W,G,U,X){var Q=[],Z=K.required||!K.required&&U.hasOwnProperty(K.field);if(Z){if(isEmptyValue(W)&&!K.required)return G();rules.required(K,W,U,Q,X),W!==void 0&&(rules.type(K,W,U,Q,X),rules.range(K,W,U,Q,X))}G(Q)},floatFn=function(K,W,G,U,X){var Q=[],Z=K.required||!K.required&&U.hasOwnProperty(K.field);if(Z){if(isEmptyValue(W)&&!K.required)return G();rules.required(K,W,U,Q,X),W!==void 0&&(rules.type(K,W,U,Q,X),rules.range(K,W,U,Q,X))}G(Q)},array2=function(K,W,G,U,X){var Q=[],Z=K.required||!K.required&&U.hasOwnProperty(K.field);if(Z){if(W==null&&!K.required)return G();rules.required(K,W,U,Q,X,"array"),W!=null&&(rules.type(K,W,U,Q,X),rules.range(K,W,U,Q,X))}G(Q)},object2=function(K,W,G,U,X){var Q=[],Z=K.required||!K.required&&U.hasOwnProperty(K.field);if(Z){if(isEmptyValue(W)&&!K.required)return G();rules.required(K,W,U,Q,X),W!==void 0&&rules.type(K,W,U,Q,X)}G(Q)},ENUM="enum",enumerable2=function(K,W,G,U,X){var Q=[],Z=K.required||!K.required&&U.hasOwnProperty(K.field);if(Z){if(isEmptyValue(W)&&!K.required)return G();rules.required(K,W,U,Q,X),W!==void 0&&rules[ENUM](K,W,U,Q,X)}G(Q)},pattern2=function(K,W,G,U,X){var Q=[],Z=K.required||!K.required&&U.hasOwnProperty(K.field);if(Z){if(isEmptyValue(W,"string")&&!K.required)return G();rules.required(K,W,U,Q,X),isEmptyValue(W,"string")||rules.pattern(K,W,U,Q,X)}G(Q)},date2=function(K,W,G,U,X){var Q=[],Z=K.required||!K.required&&U.hasOwnProperty(K.field);if(Z){if(isEmptyValue(W,"date")&&!K.required)return G();if(rules.required(K,W,U,Q,X),!isEmptyValue(W,"date")){var ee;W instanceof Date?ee=W:ee=new Date(W),rules.type(K,ee,U,Q,X),ee&&rules.range(K,ee.getTime(),U,Q,X)}}G(Q)},required2=function(K,W,G,U,X){var Q=[],Z=Array.isArray(W)?"array":typeof W;rules.required(K,W,U,Q,X,Z),G(Q)},type2=function(K,W,G,U,X){var Q=K.type,Z=[],ee=K.required||!K.required&&U.hasOwnProperty(K.field);if(ee){if(isEmptyValue(W,Q)&&!K.required)return G();rules.required(K,W,U,Z,X,Q),isEmptyValue(W,Q)||rules.type(K,W,U,Z,X)}G(Z)},any=function(K,W,G,U,X){var Q=[],Z=K.required||!K.required&&U.hasOwnProperty(K.field);if(Z){if(isEmptyValue(W)&&!K.required)return G();rules.required(K,W,U,Q,X)}G(Q)},validators={string:string$1,method:method2,number:number2,boolean:_boolean,regexp:regexp2,integer:integer2,float:floatFn,array:array2,object:object2,enum:enumerable2,pattern:pattern2,date:date2,url:type2,hex:type2,email:type2,required:required2,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var K=JSON.parse(JSON.stringify(this));return K.clone=this.clone,K}}}var messages=newMessages(),Schema=function(){function H(W){this.rules=null,this._messages=messages,this.define(W)}var K=H.prototype;return K.define=function(G){var U=this;if(!G)throw new Error("Cannot configure a schema with no rules");if(typeof G!="object"||Array.isArray(G))throw new Error("Rules must be an object");this.rules={},Object.keys(G).forEach(function(X){var Q=G[X];U.rules[X]=Array.isArray(Q)?Q:[Q]})},K.messages=function(G){return G&&(this._messages=deepMerge(newMessages(),G)),this._messages},K.validate=function(G,U,X){var Q=this;U===void 0&&(U={}),X===void 0&&(X=function(){});var Z=G,ee=U,ne=X;if(typeof ee=="function"&&(ne=ee,ee={}),!this.rules||Object.keys(this.rules).length===0)return ne&&ne(null,Z),Promise.resolve(Z);function te(ce){var de=[],le={};function fe(me){if(Array.isArray(me)){var ue;de=(ue=de).concat.apply(ue,me)}else de.push(me)}for(var pe=0;pe<ce.length;pe++)fe(ce[pe]);de.length?(le=convertFieldsError(de),ne(de,le)):ne(null,Z)}if(ee.messages){var oe=this.messages();oe===messages&&(oe=newMessages()),deepMerge(oe,ee.messages),ee.messages=oe}else ee.messages=this.messages();var re={},ae=ee.keys||Object.keys(this.rules);ae.forEach(function(ce){var de=Q.rules[ce],le=Z[ce];de.forEach(function(fe){var pe=fe;typeof pe.transform=="function"&&(Z===G&&(Z=_extends({},Z)),le=Z[ce]=pe.transform(le)),typeof pe=="function"?pe={validator:pe}:pe=_extends({},pe),pe.validator=Q.getValidationMethod(pe),pe.validator&&(pe.field=ce,pe.fullField=pe.fullField||ce,pe.type=Q.getType(pe),re[ce]=re[ce]||[],re[ce].push({rule:pe,value:le,source:Z,field:ce}))})});var se={};return asyncMap(re,ee,function(ce,de){var le=ce.rule,fe=(le.type==="object"||le.type==="array")&&(typeof le.fields=="object"||typeof le.defaultField=="object");fe=fe&&(le.required||!le.required&&ce.value),le.field=ce.field;function pe(ge,he){return _extends({},he,{fullField:le.fullField+"."+ge,fullFields:le.fullFields?[].concat(le.fullFields,[ge]):[ge]})}function me(ge){ge===void 0&&(ge=[]);var he=Array.isArray(ge)?ge:[ge];!ee.suppressWarning&&he.length&&H.warning("async-validator:",he),he.length&&le.message!==void 0&&(he=[].concat(le.message));var ve=he.map(complementError(le,Z));if(ee.first&&ve.length)return se[le.field]=1,de(ve);if(!fe)de(ve);else{if(le.required&&!ce.value)return le.message!==void 0?ve=[].concat(le.message).map(complementError(le,Z)):ee.error&&(ve=[ee.error(le,format(ee.messages.required,le.field))]),de(ve);var ye={};le.defaultField&&Object.keys(ce.value).map(function(Ce){ye[Ce]=le.defaultField}),ye=_extends({},ye,ce.rule.fields);var be={};Object.keys(ye).forEach(function(Ce){var xe=ye[Ce],Ne=Array.isArray(xe)?xe:[xe];be[Ce]=Ne.map(pe.bind(null,Ce))});var Se=new H(be);Se.messages(ee.messages),ce.rule.options&&(ce.rule.options.messages=ee.messages,ce.rule.options.error=ee.error),Se.validate(ce.value,ce.rule.options||ee,function(Ce){var xe=[];ve&&ve.length&&xe.push.apply(xe,ve),Ce&&Ce.length&&xe.push.apply(xe,Ce),de(xe.length?xe:null)})}}var ue;if(le.asyncValidator)ue=le.asyncValidator(le,ce.value,me,ce.source,ee);else if(le.validator){try{ue=le.validator(le,ce.value,me,ce.source,ee)}catch(ge){console.error?.(ge),ee.suppressValidatorError||setTimeout(function(){throw ge},0),me(ge.message)}ue===!0?me():ue===!1?me(typeof le.message=="function"?le.message(le.fullField||le.field):le.message||(le.fullField||le.field)+" fails"):ue instanceof Array?me(ue):ue instanceof Error&&me(ue.message)}ue&&ue.then&&ue.then(function(){return me()},function(ge){return me(ge)})},function(ce){te(ce)},Z)},K.getType=function(G){if(G.type===void 0&&G.pattern instanceof RegExp&&(G.type="pattern"),typeof G.validator!="function"&&G.type&&!validators.hasOwnProperty(G.type))throw new Error(format("Unknown rule type %s",G.type));return G.type||"string"},K.getValidationMethod=function(G){if(typeof G.validator=="function")return G.validator;var U=Object.keys(G),X=U.indexOf("message");return X!==-1&&U.splice(X,1),U.length===1&&U[0]==="required"?validators.required:validators[this.getType(G)]||void 0},H}();Schema.register=function(K,W){if(typeof W!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators[K]=W};Schema.warning=warning;Schema.messages=messages;Schema.validators=validators;function toArray$3(H){return H==null?[]:Array.isArray(H)?H:[H]}function get(H,K){let W=H;for(let G=0;G<K.length;G+=1){if(W==null)return;W=W[K[G]]}return W}function internalSet(H,K,W,G){if(!K.length)return W;const[U,...X]=K;let Q;return!H&&typeof U=="number"?Q=[]:Array.isArray(H)?Q=[...H]:Q=_extends$1({},H),G&&W===void 0&&X.length===1?delete Q[U][X[0]]:Q[U]=internalSet(Q[U],X,W,G),Q}function set(H,K,W){let G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return K.length&&G&&W===void 0&&!get(H,K.slice(0,-1))?H:internalSet(H,K,W,G)}function getNamePath(H){return toArray$3(H)}function getValue(H,K){return get(H,K)}function setValue(H,K,W){let G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return set(H,K,W,G)}function containsNamePath(H,K){return H&&H.some(W=>matchNamePath(W,K))}function isObject(H){return typeof H=="object"&&H!==null&&Object.getPrototypeOf(H)===Object.prototype}function internalSetValues(H,K){const W=Array.isArray(H)?[...H]:_extends$1({},H);return K&&Object.keys(K).forEach(G=>{const U=W[G],X=K[G],Q=isObject(U)&&isObject(X);W[G]=Q?internalSetValues(U,X||{}):X}),W}function setValues(H){for(var K=arguments.length,W=new Array(K>1?K-1:0),G=1;G<K;G++)W[G-1]=arguments[G];return W.reduce((U,X)=>internalSetValues(U,X),H)}function cloneByNamePathList(H,K){let W={};return K.forEach(G=>{const U=getValue(H,G);W=setValue(W,G,U)}),W}function matchNamePath(H,K){return!H||!K||H.length!==K.length?!1:H.every((W,G)=>K[G]===W)}const typeTemplate="'${name}' is not a valid ${type}",defaultValidateMessages={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:typeTemplate,method:typeTemplate,array:typeTemplate,object:typeTemplate,number:typeTemplate,date:typeTemplate,boolean:typeTemplate,integer:typeTemplate,float:typeTemplate,regexp:typeTemplate,email:typeTemplate,url:typeTemplate,hex:typeTemplate},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};var __awaiter=function(H,K,W,G){function U(X){return X instanceof W?X:new W(function(Q){Q(X)})}return new(W||(W=Promise))(function(X,Q){function Z(te){try{ne(G.next(te))}catch(oe){Q(oe)}}function ee(te){try{ne(G.throw(te))}catch(oe){Q(oe)}}function ne(te){te.done?X(te.value):U(te.value).then(Z,ee)}ne((G=G.apply(H,K||[])).next())})};const AsyncValidator=Schema;function replaceMessage(H,K){return H.replace(/\$\{\w+\}/g,W=>{const G=W.slice(2,-1);return K[G]})}function validateRule(H,K,W,G,U){return __awaiter(this,void 0,void 0,function*(){const X=_extends$1({},W);delete X.ruleIndex,delete X.trigger;let Q=null;X&&X.type==="array"&&X.defaultField&&(Q=X.defaultField,delete X.defaultField);const Z=new AsyncValidator({[H]:[X]}),ee=setValues({},defaultValidateMessages,G.validateMessages);Z.messages(ee);let ne=[];try{yield Promise.resolve(Z.validate({[H]:K},_extends$1({},G)))}catch(re){re.errors?ne=re.errors.map((ae,se)=>{let{message:ce}=ae;return isValidElement(ce)?cloneVNode(ce,{key:`error_${se}`}):ce}):(console.error(re),ne=[ee.default()])}if(!ne.length&&Q)return(yield Promise.all(K.map((ae,se)=>validateRule(`${H}.${se}`,ae,Q,G,U)))).reduce((ae,se)=>[...ae,...se],[]);const te=_extends$1(_extends$1(_extends$1({},W),{name:H,enum:(W.enum||[]).join(", ")}),U);return ne.map(re=>typeof re=="string"?replaceMessage(re,te):re)})}function validateRules(H,K,W,G,U,X){const Q=H.join("."),Z=W.map((ne,te)=>{const oe=ne.validator,re=_extends$1(_extends$1({},ne),{ruleIndex:te});return oe&&(re.validator=(ae,se,ce)=>{let de=!1;const fe=oe(ae,se,function(){for(var pe=arguments.length,me=new Array(pe),ue=0;ue<pe;ue++)me[ue]=arguments[ue];Promise.resolve().then(()=>{de||ce(...me)})});de=fe&&typeof fe.then=="function"&&typeof fe.catch=="function",de&&fe.then(()=>{ce()}).catch(pe=>{ce(pe||" ")})}),re}).sort((ne,te)=>{let{warningOnly:oe,ruleIndex:re}=ne,{warningOnly:ae,ruleIndex:se}=te;return!!oe==!!ae?re-se:oe?1:-1});let ee;if(U===!0)ee=new Promise((ne,te)=>__awaiter(this,void 0,void 0,function*(){for(let oe=0;oe<Z.length;oe+=1){const re=Z[oe],ae=yield validateRule(Q,K,re,G,X);if(ae.length){te([{errors:ae,rule:re}]);return}}ne([])}));else{const ne=Z.map(te=>validateRule(Q,K,te,G,X).then(oe=>({errors:oe,rule:te})));ee=(U?finishOnFirstFailed(ne):finishOnAllFailed(ne)).then(te=>Promise.reject(te))}return ee.catch(ne=>ne),ee}function finishOnAllFailed(H){return __awaiter(this,void 0,void 0,function*(){return Promise.all(H).then(K=>[].concat(...K))})}function finishOnFirstFailed(H){return __awaiter(this,void 0,void 0,function*(){let K=0;return new Promise(W=>{H.forEach(G=>{G.then(U=>{U.errors.length&&W([U]),K+=1,K===H.length&&W([])})})})})}const FormContextKey=Symbol("formContextKey"),useProvideForm=H=>{provide(FormContextKey,H)},useInjectForm=()=>inject(FormContextKey,{name:computed(()=>{}),labelAlign:computed(()=>"right"),vertical:computed(()=>!1),addField:(H,K)=>{},removeField:H=>{},model:computed(()=>{}),rules:computed(()=>{}),colon:computed(()=>{}),labelWrap:computed(()=>{}),labelCol:computed(()=>{}),requiredMark:computed(()=>!1),validateTrigger:computed(()=>{}),onValidate:()=>{},validateMessages:computed(()=>defaultValidateMessages)}),FormItemPrefixContextKey=Symbol("formItemPrefixContextKey"),useProvideFormItemPrefix=H=>{provide(FormItemPrefixContextKey,H)},useInjectFormItemPrefix=()=>inject(FormItemPrefixContextKey,{prefixCls:computed(()=>"")});function parseFlex(H){return typeof H=="number"?`${H} ${H} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(H)?`0 0 ${H}`:H}const colProps=()=>({span:[String,Number],order:[String,Number],offset:[String,Number],push:[String,Number],pull:[String,Number],xs:{type:[String,Number,Object],default:void 0},sm:{type:[String,Number,Object],default:void 0},md:{type:[String,Number,Object],default:void 0},lg:{type:[String,Number,Object],default:void 0},xl:{type:[String,Number,Object],default:void 0},xxl:{type:[String,Number,Object],default:void 0},prefixCls:String,flex:[String,Number]}),sizes=["xs","sm","md","lg","xl","xxl"],Col=defineComponent({compatConfig:{MODE:3},name:"ACol",inheritAttrs:!1,props:colProps(),setup(H,K){let{slots:W,attrs:G}=K;const{gutter:U,supportFlexGap:X,wrap:Q}=useInjectRow(),{prefixCls:Z,direction:ee}=useConfigInject("col",H),[ne,te]=useColStyle(Z),oe=computed(()=>{const{span:ae,order:se,offset:ce,push:de,pull:le}=H,fe=Z.value;let pe={};return sizes.forEach(me=>{let ue={};const ge=H[me];typeof ge=="number"?ue.span=ge:typeof ge=="object"&&(ue=ge||{}),pe=_extends$1(_extends$1({},pe),{[`${fe}-${me}-${ue.span}`]:ue.span!==void 0,[`${fe}-${me}-order-${ue.order}`]:ue.order||ue.order===0,[`${fe}-${me}-offset-${ue.offset}`]:ue.offset||ue.offset===0,[`${fe}-${me}-push-${ue.push}`]:ue.push||ue.push===0,[`${fe}-${me}-pull-${ue.pull}`]:ue.pull||ue.pull===0,[`${fe}-rtl`]:ee.value==="rtl"})}),classNames(fe,{[`${fe}-${ae}`]:ae!==void 0,[`${fe}-order-${se}`]:se,[`${fe}-offset-${ce}`]:ce,[`${fe}-push-${de}`]:de,[`${fe}-pull-${le}`]:le},pe,G.class,te.value)}),re=computed(()=>{const{flex:ae}=H,se=U.value,ce={};if(se&&se[0]>0){const de=`${se[0]/2}px`;ce.paddingLeft=de,ce.paddingRight=de}if(se&&se[1]>0&&!X.value){const de=`${se[1]/2}px`;ce.paddingTop=de,ce.paddingBottom=de}return ae&&(ce.flex=parseFlex(ae),Q.value===!1&&!ce.minWidth&&(ce.minWidth=0)),ce});return()=>{var ae;return ne(createVNode("div",_objectSpread2$1(_objectSpread2$1({},G),{},{class:oe.value,style:[re.value,G.style]}),[(ae=W.default)===null||ae===void 0?void 0:ae.call(W)]))}}});var QuestionCircleOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};function _objectSpread$w(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$w(H,U,W[U])})}return H}function _defineProperty$w(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var QuestionCircleOutlined=function(K,W){var G=_objectSpread$w({},K,W.attrs);return createVNode(Icon,_objectSpread$w({},G,{icon:QuestionCircleOutlined$1}),null)};QuestionCircleOutlined.displayName="QuestionCircleOutlined";QuestionCircleOutlined.inheritAttrs=!1;const FormItemLabel=(H,K)=>{let{slots:W,emit:G,attrs:U}=K;var X,Q,Z,ee,ne;const{prefixCls:te,htmlFor:oe,labelCol:re,labelAlign:ae,colon:se,required:ce,requiredMark:de}=_extends$1(_extends$1({},H),U),[le]=useLocaleReceiver("Form"),fe=(X=H.label)!==null&&X!==void 0?X:(Q=W.label)===null||Q===void 0?void 0:Q.call(W);if(!fe)return null;const{vertical:pe,labelAlign:me,labelCol:ue,labelWrap:ge,colon:he}=useInjectForm(),ve=re||ue?.value||{},ye=ae||me?.value,be=`${te}-item-label`,Se=classNames(be,ye==="left"&&`${be}-left`,ve.class,{[`${be}-wrap`]:!!ge.value});let Ce=fe;const xe=se===!0||he?.value!==!1&&se!==!1;if(xe&&!pe.value&&typeof fe=="string"&&fe.trim()!==""&&(Ce=fe.replace(/[:|]\s*$/,"")),H.tooltip||W.tooltip){const Ee=createVNode("span",{class:`${te}-item-tooltip`},[createVNode(__unplugin_components_3$3,{title:H.tooltip},{default:()=>[createVNode(QuestionCircleOutlined,null,null)]})]);Ce=createVNode(Fragment,null,[Ce,W.tooltip?(Z=W.tooltip)===null||Z===void 0?void 0:Z.call(W,{class:`${te}-item-tooltip`}):Ee])}de==="optional"&&!ce&&(Ce=createVNode(Fragment,null,[Ce,createVNode("span",{class:`${te}-item-optional`},[((ee=le.value)===null||ee===void 0?void 0:ee.optional)||((ne=localeValues.Form)===null||ne===void 0?void 0:ne.optional)])]));const $e=classNames({[`${te}-item-required`]:ce,[`${te}-item-required-mark-optional`]:de==="optional",[`${te}-item-no-colon`]:!xe});return createVNode(Col,_objectSpread2$1(_objectSpread2$1({},ve),{},{class:Se}),{default:()=>[createVNode("label",{for:oe,class:$e,title:typeof fe=="string"?fe:"",onClick:Ee=>G("click",Ee)},[Ce])]})};FormItemLabel.displayName="FormItemLabel";FormItemLabel.inheritAttrs=!1;const genFormValidateMotionStyle=H=>{const{componentCls:K}=H,W=`${K}-show-help`,G=`${K}-show-help-item`;return{[W]:{transition:`opacity ${H.motionDurationSlow} ${H.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[G]:{overflow:"hidden",transition:`height ${H.motionDurationSlow} ${H.motionEaseInOut},
                     opacity ${H.motionDurationSlow} ${H.motionEaseInOut},
                     transform ${H.motionDurationSlow} ${H.motionEaseInOut} !important`,[`&${G}-appear, &${G}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${G}-leave-active`]:{transform:"translateY(-5px)"}}}}},resetForm=H=>({legend:{display:"block",width:"100%",marginBottom:H.marginLG,padding:0,color:H.colorTextDescription,fontSize:H.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${H.lineWidth}px ${H.lineType} ${H.colorBorder}`},label:{fontSize:H.fontSize},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${H.controlOutlineWidth}px ${H.controlOutline}`},output:{display:"block",paddingTop:15,color:H.colorText,fontSize:H.fontSize,lineHeight:H.lineHeight}}),genFormSize=(H,K)=>{const{formItemCls:W}=H;return{[W]:{[`${W}-label > label`]:{height:K},[`${W}-control-input`]:{minHeight:K}}}},genFormStyle=H=>{const{componentCls:K}=H;return{[H.componentCls]:_extends$1(_extends$1(_extends$1({},resetComponent(H)),resetForm(H)),{[`${K}-text`]:{display:"inline-block",paddingInlineEnd:H.paddingSM},"&-small":_extends$1({},genFormSize(H,H.controlHeightSM)),"&-large":_extends$1({},genFormSize(H,H.controlHeightLG))})}},genFormItemStyle=H=>{const{formItemCls:K,iconCls:W,componentCls:G,rootPrefixCls:U}=H;return{[K]:_extends$1(_extends$1({},resetComponent(H)),{marginBottom:H.marginLG,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden.${U}-row`]:{display:"none"},"&-has-warning":{[`${K}-split`]:{color:H.colorError}},"&-has-error":{[`${K}-split`]:{color:H.colorWarning}},[`${K}-label`]:{display:"inline-block",flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:`${H.lineHeight} - 0.25em`,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:H.controlHeight,color:H.colorTextHeading,fontSize:H.fontSize,[`> ${W}`]:{fontSize:H.fontSize,verticalAlign:"top"},[`&${K}-required:not(${K}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:H.marginXXS,color:H.colorError,fontSize:H.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${G}-hide-required-mark &`]:{display:"none"}},[`${K}-optional`]:{display:"inline-block",marginInlineStart:H.marginXXS,color:H.colorTextDescription,[`${G}-hide-required-mark &`]:{display:"none"}},[`${K}-tooltip`]:{color:H.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:H.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:H.marginXXS/2,marginInlineEnd:H.marginXS},[`&${K}-no-colon::after`]:{content:'" "'}}},[`${K}-control`]:{display:"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${U}-col-'"]):not([class*="' ${U}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:H.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[K]:{"&-explain, &-extra":{clear:"both",color:H.colorTextDescription,fontSize:H.fontSize,lineHeight:H.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:H.controlHeightSM,transition:`color ${H.motionDurationMid} ${H.motionEaseOut}`},"&-explain":{"&-error":{color:H.colorError},"&-warning":{color:H.colorWarning}}},[`&-with-help ${K}-explain`]:{height:"auto",opacity:1},[`${K}-feedback-icon`]:{fontSize:H.fontSize,textAlign:"center",visibility:"visible",animationName:zoomIn,animationDuration:H.motionDurationMid,animationTimingFunction:H.motionEaseOutBack,pointerEvents:"none","&-success":{color:H.colorSuccess},"&-error":{color:H.colorError},"&-warning":{color:H.colorWarning},"&-validating":{color:H.colorPrimary}}})}},genHorizontalStyle=H=>{const{componentCls:K,formItemCls:W,rootPrefixCls:G}=H;return{[`${K}-horizontal`]:{[`${W}-label`]:{flexGrow:0},[`${W}-control`]:{flex:"1 1 0",minWidth:0},[`${W}-label.${G}-col-24 + ${W}-control`]:{minWidth:"unset"}}}},genInlineStyle=H=>{const{componentCls:K,formItemCls:W}=H;return{[`${K}-inline`]:{display:"flex",flexWrap:"wrap",[W]:{flex:"none",flexWrap:"nowrap",marginInlineEnd:H.margin,marginBottom:0,"&-with-help":{marginBottom:H.marginLG},[`> ${W}-label,
        > ${W}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${W}-label`]:{flex:"none"},[`${K}-text`]:{display:"inline-block"},[`${W}-has-feedback`]:{display:"inline-block"}}}}},makeVerticalLayoutLabel=H=>({margin:0,padding:`0 0 ${H.paddingXS}px`,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{display:"none"}}}),makeVerticalLayout=H=>{const{componentCls:K,formItemCls:W}=H;return{[`${W} ${W}-label`]:makeVerticalLayoutLabel(H),[K]:{[W]:{flexWrap:"wrap",[`${W}-label,
          ${W}-control`]:{flex:"0 0 100%",maxWidth:"100%"}}}}},genVerticalStyle=H=>{const{componentCls:K,formItemCls:W,rootPrefixCls:G}=H;return{[`${K}-vertical`]:{[W]:{"&-row":{flexDirection:"column"},"&-label > label":{height:"auto"},[`${K}-item-control`]:{width:"100%"}}},[`${K}-vertical ${W}-label,
      .${G}-col-24${W}-label,
      .${G}-col-xl-24${W}-label`]:makeVerticalLayoutLabel(H),[`@media (max-width: ${H.screenXSMax}px)`]:[makeVerticalLayout(H),{[K]:{[`.${G}-col-xs-24${W}-label`]:makeVerticalLayoutLabel(H)}}],[`@media (max-width: ${H.screenSMMax}px)`]:{[K]:{[`.${G}-col-sm-24${W}-label`]:makeVerticalLayoutLabel(H)}},[`@media (max-width: ${H.screenMDMax}px)`]:{[K]:{[`.${G}-col-md-24${W}-label`]:makeVerticalLayoutLabel(H)}},[`@media (max-width: ${H.screenLGMax}px)`]:{[K]:{[`.${G}-col-lg-24${W}-label`]:makeVerticalLayoutLabel(H)}}}},useStyle$i=genComponentStyleHook("Form",(H,K)=>{let{rootPrefixCls:W}=K;const G=merge(H,{formItemCls:`${H.componentCls}-item`,rootPrefixCls:W});return[genFormStyle(G),genFormItemStyle(G),genFormValidateMotionStyle(G),genHorizontalStyle(G),genInlineStyle(G),genVerticalStyle(G),genCollapseMotion(G),zoomIn]}),ErrorList=defineComponent({compatConfig:{MODE:3},name:"ErrorList",inheritAttrs:!1,props:["errors","help","onErrorVisibleChanged","helpStatus","warnings"],setup(H,K){let{attrs:W}=K;const{prefixCls:G,status:U}=useInjectFormItemPrefix(),X=computed(()=>`${G.value}-item-explain`),Q=computed(()=>!!(H.errors&&H.errors.length)),Z=ref(U.value),[,ee]=useStyle$i(G);return watch([Q,U],()=>{Q.value&&(Z.value=U.value)}),()=>{var ne,te;const oe=collapseMotion(`${G.value}-show-help-item`),re=getTransitionGroupProps(`${G.value}-show-help-item`,oe);return re.role="alert",re.class=[ee.value,X.value,W.class,`${G.value}-show-help`],createVNode(Transition,_objectSpread2$1(_objectSpread2$1({},getTransitionProps(`${G.value}-show-help`)),{},{onAfterEnter:()=>H.onErrorVisibleChanged(!0),onAfterLeave:()=>H.onErrorVisibleChanged(!1)}),{default:()=>[withDirectives(createVNode(TransitionGroup,_objectSpread2$1(_objectSpread2$1({},re),{},{tag:"div"}),{default:()=>[(te=H.errors)===null||te===void 0?void 0:te.map((ae,se)=>createVNode("div",{key:se,class:Z.value?`${X.value}-${Z.value}`:""},[ae]))]}),[[vShow,!!(!((ne=H.errors)===null||ne===void 0)&&ne.length)]])]})}}}),FormItemInput=defineComponent({compatConfig:{MODE:3},slots:Object,inheritAttrs:!1,props:["prefixCls","errors","hasFeedback","onDomErrorVisibleChange","wrapperCol","help","extra","status","marginBottom","onErrorVisibleChanged"],setup(H,K){let{slots:W}=K;const G=useInjectForm(),{wrapperCol:U}=G,X=_extends$1({},G);return delete X.labelCol,delete X.wrapperCol,useProvideForm(X),useProvideFormItemPrefix({prefixCls:computed(()=>H.prefixCls),status:computed(()=>H.status)}),()=>{var Q,Z,ee;const{prefixCls:ne,wrapperCol:te,marginBottom:oe,onErrorVisibleChanged:re,help:ae=(Q=W.help)===null||Q===void 0?void 0:Q.call(W),errors:se=filterEmpty((Z=W.errors)===null||Z===void 0?void 0:Z.call(W)),extra:ce=(ee=W.extra)===null||ee===void 0?void 0:ee.call(W)}=H,de=`${ne}-item`,le=te||U?.value||{},fe=classNames(`${de}-control`,le.class);return createVNode(Col,_objectSpread2$1(_objectSpread2$1({},le),{},{class:fe}),{default:()=>{var pe;return createVNode(Fragment,null,[createVNode("div",{class:`${de}-control-input`},[createVNode("div",{class:`${de}-control-input-content`},[(pe=W.default)===null||pe===void 0?void 0:pe.call(W)])]),oe!==null||se.length?createVNode("div",{style:{display:"flex",flexWrap:"nowrap"}},[createVNode(ErrorList,{errors:se,help:ae,class:`${de}-explain-connected`,onErrorVisibleChanged:re},null),!!oe&&createVNode("div",{style:{width:0,height:`${oe}px`}},null)]):null,ce?createVNode("div",{class:`${de}-extra`},[ce]):null])}})}}});function useDebounce(H){const K=shallowRef(H.value.slice());let W=null;return watchEffect(()=>{clearTimeout(W),W=setTimeout(()=>{K.value=H.value},H.value.length?0:10)}),K}tuple("success","warning","error","validating","");const iconMap={success:CheckCircleFilled,warning:ExclamationCircleFilled,error:CloseCircleFilled,validating:LoadingOutlined};function getPropByPath$1(H,K,W){let G=H;const U=K;let X=0;try{for(let Q=U.length;X<Q-1&&!(!G&&!W);++X){const Z=U[X];if(Z in G)G=G[Z];else{if(W)throw Error("please transfer a valid name path to form item!");break}}if(W&&!G)throw Error("please transfer a valid name path to form item!")}catch{console.error("please transfer a valid name path to form item!")}return{o:G,k:U[X],v:G?G[U[X]]:void 0}}const formItemProps=()=>({htmlFor:String,prefixCls:String,label:PropTypes.any,help:PropTypes.any,extra:PropTypes.any,labelCol:{type:Object},wrapperCol:{type:Object},hasFeedback:{type:Boolean,default:!1},colon:{type:Boolean,default:void 0},labelAlign:String,prop:{type:[String,Number,Array]},name:{type:[String,Number,Array]},rules:[Array,Object],autoLink:{type:Boolean,default:!0},required:{type:Boolean,default:void 0},validateFirst:{type:Boolean,default:void 0},validateStatus:PropTypes.oneOf(tuple("","success","warning","error","validating")),validateTrigger:{type:[String,Array]},messageVariables:{type:Object},hidden:Boolean,noStyle:Boolean,tooltip:String});let indexGuid$1=0;const defaultItemNamePrefixCls="form_item",__unplugin_components_16=defineComponent({compatConfig:{MODE:3},name:"AFormItem",inheritAttrs:!1,__ANT_NEW_FORM_ITEM:!0,props:formItemProps(),slots:Object,setup(H,K){let{slots:W,attrs:G,expose:U}=K;H.prop;const X=`form-item-${++indexGuid$1}`,{prefixCls:Q}=useConfigInject("form",H),[Z,ee]=useStyle$i(Q),ne=shallowRef(),te=useInjectForm(),oe=computed(()=>H.name||H.prop),re=shallowRef([]),ae=shallowRef(!1),se=shallowRef(),ce=computed(()=>{const Re=oe.value;return getNamePath(Re)}),de=computed(()=>{if(ce.value.length){const Re=te.name.value,Ke=ce.value.join("_");return Re?`${Re}_${Ke}`:`${defaultItemNamePrefixCls}_${Ke}`}else return}),le=()=>{const Re=te.model.value;if(!(!Re||!oe.value))return getPropByPath$1(Re,ce.value,!0).v},fe=computed(()=>le()),pe=shallowRef(cloneDeep(fe.value)),me=computed(()=>{let Re=H.validateTrigger!==void 0?H.validateTrigger:te.validateTrigger.value;return Re=Re===void 0?"change":Re,toArray$3(Re)}),ue=computed(()=>{let Re=te.rules.value;const Ke=H.rules,we=H.required!==void 0?{required:!!H.required,trigger:me.value}:[],_e=getPropByPath$1(Re,ce.value);Re=Re?_e.o[_e.k]||_e.v:[];const Ve=[].concat(Ke||Re||[]);return find$1(Ve,je=>je.required)?Ve:Ve.concat(we)}),ge=computed(()=>{const Re=ue.value;let Ke=!1;return Re&&Re.length&&Re.every(we=>we.required?(Ke=!0,!1):!0),Ke||H.required}),he=shallowRef();watchEffect(()=>{he.value=H.validateStatus});const ve=computed(()=>{let Re={};return typeof H.label=="string"?Re.label=H.label:H.name&&(Re.label=String(H.name)),H.messageVariables&&(Re=_extends$1(_extends$1({},Re),H.messageVariables)),Re}),ye=Re=>{if(ce.value.length===0)return;const{validateFirst:Ke=!1}=H,{triggerName:we}=Re||{};let _e=ue.value;if(we&&(_e=_e.filter(je=>{const{trigger:qe}=je;return!qe&&!me.value.length?!0:toArray$3(qe||me.value).includes(we)})),!_e.length)return Promise.resolve();const Ve=validateRules(ce.value,fe.value,_e,_extends$1({validateMessages:te.validateMessages.value},Re),Ke,ve.value);return he.value="validating",re.value=[],Ve.catch(je=>je).then(function(){let je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(he.value==="validating"){const qe=je.filter(Pe=>Pe&&Pe.errors.length);he.value=qe.length?"error":"success",re.value=qe.map(Pe=>Pe.errors),te.onValidate(oe.value,!re.value.length,re.value.length?toRaw(re.value[0]):null)}}),Ve},be=()=>{ye({triggerName:"blur"})},Se=()=>{if(ae.value){ae.value=!1;return}ye({triggerName:"change"})},Ce=()=>{he.value=H.validateStatus,ae.value=!1,re.value=[]},xe=()=>{var Re;he.value=H.validateStatus,ae.value=!0,re.value=[];const Ke=te.model.value||{},we=fe.value,_e=getPropByPath$1(Ke,ce.value,!0);Array.isArray(we)?_e.o[_e.k]=[].concat((Re=pe.value)!==null&&Re!==void 0?Re:[]):_e.o[_e.k]=pe.value,nextTick(()=>{ae.value=!1})},Ne=computed(()=>H.htmlFor===void 0?de.value:H.htmlFor),$e=()=>{const Re=Ne.value;if(!Re||!se.value)return;const Ke=se.value.$el.querySelector(`[id="${Re}"]`);Ke&&Ke.focus&&Ke.focus()};U({onFieldBlur:be,onFieldChange:Se,clearValidate:Ce,resetField:xe}),useProvideFormItemContext({id:de,onFieldBlur:()=>{H.autoLink&&be()},onFieldChange:()=>{H.autoLink&&Se()},clearValidate:Ce},computed(()=>!!(H.autoLink&&te.model.value&&oe.value)));let Ee=!1;watch(oe,Re=>{Re?Ee||(Ee=!0,te.addField(X,{fieldValue:fe,fieldId:de,fieldName:oe,resetField:xe,clearValidate:Ce,namePath:ce,validateRules:ye,rules:ue})):(Ee=!1,te.removeField(X))},{immediate:!0}),onBeforeUnmount(()=>{te.removeField(X)});const Te=useDebounce(re),Be=computed(()=>H.validateStatus!==void 0?H.validateStatus:Te.value.length?"error":he.value),Ae=computed(()=>({[`${Q.value}-item`]:!0,[ee.value]:!0,[`${Q.value}-item-has-feedback`]:Be.value&&H.hasFeedback,[`${Q.value}-item-has-success`]:Be.value==="success",[`${Q.value}-item-has-warning`]:Be.value==="warning",[`${Q.value}-item-has-error`]:Be.value==="error",[`${Q.value}-item-is-validating`]:Be.value==="validating",[`${Q.value}-item-hidden`]:H.hidden})),ze=reactive({});FormItemInputContext.useProvide(ze),watchEffect(()=>{let Re;if(H.hasFeedback){const Ke=Be.value&&iconMap[Be.value];Re=Ke?createVNode("span",{class:classNames(`${Q.value}-item-feedback-icon`,`${Q.value}-item-feedback-icon-${Be.value}`)},[createVNode(Ke,null,null)]):null}_extends$1(ze,{status:Be.value,hasFeedback:H.hasFeedback,feedbackIcon:Re,isFormItemInput:!0})});const We=shallowRef(null),Le=shallowRef(!1),Ze=()=>{if(ne.value){const Re=getComputedStyle(ne.value);We.value=parseInt(Re.marginBottom,10)}};onMounted(()=>{watch(Le,()=>{Le.value&&Ze()},{flush:"post",immediate:!0})});const Ye=Re=>{Re||(We.value=null)};return()=>{var Re,Ke;if(H.noStyle)return(Re=W.default)===null||Re===void 0?void 0:Re.call(W);const we=(Ke=H.help)!==null&&Ke!==void 0?Ke:W.help?filterEmpty(W.help()):null,_e=!!(we!=null&&Array.isArray(we)&&we.length||Te.value.length);return Le.value=_e,Z(createVNode("div",{class:[Ae.value,_e?`${Q.value}-item-with-help`:"",G.class],ref:ne},[createVNode(ARow,_objectSpread2$1(_objectSpread2$1({},G),{},{class:`${Q.value}-item-row`,key:"row"}),{default:()=>{var Ve,je;return createVNode(Fragment,null,[createVNode(FormItemLabel,_objectSpread2$1(_objectSpread2$1({},H),{},{htmlFor:Ne.value,required:ge.value,requiredMark:te.requiredMark.value,prefixCls:Q.value,onClick:$e,label:H.label}),{label:W.label,tooltip:W.tooltip}),createVNode(FormItemInput,_objectSpread2$1(_objectSpread2$1({},H),{},{errors:we!=null?toArray$3(we):Te.value,marginBottom:We.value,prefixCls:Q.value,status:Be.value,ref:se,help:we,extra:(Ve=H.extra)!==null&&Ve!==void 0?Ve:(je=W.extra)===null||je===void 0?void 0:je.call(W),onErrorVisibleChanged:Ye}),{default:W.default})])}}),!!We.value&&createVNode("div",{class:`${Q.value}-margin-offset`,style:{marginBottom:`-${We.value}px`}},null)]))}}});function allPromiseFinish(H){let K=!1,W=H.length;const G=[];return H.length?new Promise((U,X)=>{H.forEach((Q,Z)=>{Q.catch(ee=>(K=!0,ee)).then(ee=>{W-=1,G[Z]=ee,!(W>0)&&(K&&X(G),U(G))})})}):Promise.resolve([])}function isRequired(H){let K=!1;return H&&H.length&&H.every(W=>W.required?(K=!0,!1):!0),K}function toArray$2(H){return H==null?[]:Array.isArray(H)?H:[H]}function getPropByPath(H,K,W){let G=H;K=K.replace(/\[(\w+)\]/g,".$1"),K=K.replace(/^\./,"");const U=K.split(".");let X=0;for(let Q=U.length;X<Q-1&&!(!G&&!W);++X){const Z=U[X];if(Z in G)G=G[Z];else{if(W)throw new Error("please transfer a valid name path to validate!");break}}return{o:G,k:U[X],v:G?G[U[X]]:null,isValid:G&&U[X]in G}}function useForm(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ref({}),W=arguments.length>2?arguments[2]:void 0;const G=cloneDeep(unref(H)),U=reactive({}),X=shallowRef([]),Q=pe=>{_extends$1(unref(H),_extends$1(_extends$1({},cloneDeep(G)),pe)),nextTick(()=>{Object.keys(U).forEach(me=>{U[me]={autoLink:!1,required:isRequired(unref(K)[me])}})})},Z=function(){let pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],me=arguments.length>1?arguments[1]:void 0;return me.length?pe.filter(ue=>{const ge=toArray$2(ue.trigger||"change");return intersection(ge,me).length}):pe};let ee=null;const ne=function(pe){let me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue=arguments.length>2?arguments[2]:void 0;const ge=[],he={};for(let be=0;be<pe.length;be++){const Se=pe[be],Ce=getPropByPath(unref(H),Se,ue);if(!Ce.isValid)continue;he[Se]=Ce.v;const xe=Z(unref(K)[Se],toArray$2(me&&me.trigger));xe.length&&ge.push(te(Se,Ce.v,xe,me||{}).then(()=>({name:Se,errors:[],warnings:[]})).catch(Ne=>{const $e=[],Ee=[];return Ne.forEach(Te=>{let{rule:{warningOnly:Be},errors:Ae}=Te;Be?Ee.push(...Ae):$e.push(...Ae)}),$e.length?Promise.reject({name:Se,errors:$e,warnings:Ee}):{name:Se,errors:$e,warnings:Ee}}))}const ve=allPromiseFinish(ge);ee=ve;const ye=ve.then(()=>ee===ve?Promise.resolve(he):Promise.reject([])).catch(be=>{const Se=be.filter(Ce=>Ce&&Ce.errors.length);return Se.length?Promise.reject({values:he,errorFields:Se,outOfDate:ee!==ve}):Promise.resolve(he)});return ye.catch(be=>be),ye},te=function(pe,me,ue){let ge=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const he=validateRules([pe],me,ue,_extends$1({validateMessages:defaultValidateMessages},ge),!!ge.validateFirst);return U[pe]?(U[pe].validateStatus="validating",he.catch(ve=>ve).then(function(){let ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];var ye;if(U[pe].validateStatus==="validating"){const be=ve.filter(Se=>Se&&Se.errors.length);U[pe].validateStatus=be.length?"error":"success",U[pe].help=be.length?be.map(Se=>Se.errors):null,(ye=W?.onValidate)===null||ye===void 0||ye.call(W,pe,!be.length,be.length?toRaw(U[pe].help[0]):null)}}),he):he.catch(ve=>ve)},oe=(pe,me)=>{let ue=[],ge=!0;pe?Array.isArray(pe)?ue=pe:ue=[pe]:(ge=!1,ue=X.value);const he=ne(ue,me||{},ge);return he.catch(ve=>ve),he},re=pe=>{let me=[];pe?Array.isArray(pe)?me=pe:me=[pe]:me=X.value,me.forEach(ue=>{U[ue]&&_extends$1(U[ue],{validateStatus:"",help:null})})},ae=pe=>{const me={autoLink:!1},ue=[],ge=Array.isArray(pe)?pe:[pe];for(let he=0;he<ge.length;he++){const ve=ge[he];ve?.validateStatus==="error"&&(me.validateStatus="error",ve.help&&ue.push(ve.help)),me.required=me.required||ve?.required}return me.help=ue,me};let se=G,ce=!0;const de=pe=>{const me=[];X.value.forEach(ue=>{const ge=getPropByPath(pe,ue,!1),he=getPropByPath(se,ue,!1);(ce&&W?.immediate&&ge.isValid||!isEqual$1(ge.v,he.v))&&me.push(ue)}),oe(me,{trigger:"change"}),ce=!1,se=cloneDeep(toRaw(pe))},le=W?.debounce;let fe=!0;return watch(K,()=>{X.value=K?Object.keys(unref(K)):[],!fe&&W&&W.validateOnRuleChange&&oe(),fe=!1},{deep:!0,immediate:!0}),watch(X,()=>{const pe={};X.value.forEach(me=>{pe[me]=_extends$1({},U[me],{autoLink:!1,required:isRequired(unref(K)[me])}),delete U[me]});for(const me in U)Object.prototype.hasOwnProperty.call(U,me)&&delete U[me];_extends$1(U,pe)},{immediate:!0}),watch(H,le&&le.wait?debounce$1(de,le.wait,omit(le,["wait"])):de,{immediate:W&&!!W.immediate,deep:!0}),{modelRef:H,rulesRef:K,initialModel:G,validateInfos:U,resetFields:Q,validate:oe,validateField:te,mergeValidateInfo:ae,clearValidate:re}}const formProps=()=>({layout:PropTypes.oneOf(tuple("horizontal","inline","vertical")),labelCol:objectType(),wrapperCol:objectType(),colon:booleanType(),labelAlign:stringType(),labelWrap:booleanType(),prefixCls:String,requiredMark:someType([String,Boolean]),hideRequiredMark:booleanType(),model:PropTypes.object,rules:objectType(),validateMessages:objectType(),validateOnRuleChange:booleanType(),scrollToFirstError:anyType(),onSubmit:functionType(),name:String,validateTrigger:someType([String,Array]),size:stringType(),disabled:booleanType(),onValuesChange:functionType(),onFieldsChange:functionType(),onFinish:functionType(),onFinishFailed:functionType(),onValidate:functionType()});function isEqualName(H,K){return isEqual$1(toArray$3(H),toArray$3(K))}const Form=defineComponent({compatConfig:{MODE:3},name:"AForm",inheritAttrs:!1,props:initDefaultProps(formProps(),{layout:"horizontal",hideRequiredMark:!1,colon:!0}),Item:__unplugin_components_16,useForm,setup(H,K){let{emit:W,slots:G,expose:U,attrs:X}=K;const{prefixCls:Q,direction:Z,form:ee,size:ne,disabled:te}=useConfigInject("form",H),oe=computed(()=>H.requiredMark===""||H.requiredMark),re=computed(()=>{var Te;return oe.value!==void 0?oe.value:ee&&((Te=ee.value)===null||Te===void 0?void 0:Te.requiredMark)!==void 0?ee.value.requiredMark:!H.hideRequiredMark});useProviderSize(ne),useProviderDisabled(te);const ae=computed(()=>{var Te,Be;return(Te=H.colon)!==null&&Te!==void 0?Te:(Be=ee.value)===null||Be===void 0?void 0:Be.colon}),{validateMessages:se}=useInjectGlobalForm(),ce=computed(()=>_extends$1(_extends$1(_extends$1({},defaultValidateMessages),se.value),H.validateMessages)),[de,le]=useStyle$i(Q),fe=computed(()=>classNames(Q.value,{[`${Q.value}-${H.layout}`]:!0,[`${Q.value}-hide-required-mark`]:re.value===!1,[`${Q.value}-rtl`]:Z.value==="rtl",[`${Q.value}-${ne.value}`]:ne.value},le.value)),pe=ref(),me={},ue=(Te,Be)=>{me[Te]=Be},ge=Te=>{delete me[Te]},he=Te=>{const Be=!!Te,Ae=Be?toArray$3(Te).map(getNamePath):[];return Be?Object.values(me).filter(ze=>Ae.findIndex(We=>isEqualName(We,ze.fieldName.value))>-1):Object.values(me)},ve=Te=>{H.model&&he(Te).forEach(Be=>{Be.resetField()})},ye=Te=>{he(Te).forEach(Be=>{Be.clearValidate()})},be=Te=>{const{scrollToFirstError:Be}=H;if(W("finishFailed",Te),Be&&Te.errorFields.length){let Ae={};typeof Be=="object"&&(Ae=Be),Ce(Te.errorFields[0].name,Ae)}},Se=function(){return $e(...arguments)},Ce=function(Te){let Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const Ae=he(Te?[Te]:void 0);if(Ae.length){const ze=Ae[0].fieldId.value,We=ze?document.getElementById(ze):null;We&&scrollIntoView$2(We,_extends$1({scrollMode:"if-needed",block:"nearest"},Be))}},xe=function(){let Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(Te===!0){const Be=[];return Object.values(me).forEach(Ae=>{let{namePath:ze}=Ae;Be.push(ze.value)}),cloneByNamePathList(H.model,Be)}else return cloneByNamePathList(H.model,Te)},Ne=(Te,Be)=>{if(!H.model)return Promise.reject("Form `model` is required for validateFields to work.");const Ae=!!Te,ze=Ae?toArray$3(Te).map(getNamePath):[],We=[];Object.values(me).forEach(Ye=>{var Re;if(Ae||ze.push(Ye.namePath.value),!(!((Re=Ye.rules)===null||Re===void 0)&&Re.value.length))return;const Ke=Ye.namePath.value;if(!Ae||containsNamePath(ze,Ke)){const we=Ye.validateRules(_extends$1({validateMessages:ce.value},Be));We.push(we.then(()=>({name:Ke,errors:[],warnings:[]})).catch(_e=>{const Ve=[],je=[];return _e.forEach(qe=>{let{rule:{warningOnly:Pe},errors:ke}=qe;Pe?je.push(...ke):Ve.push(...ke)}),Ve.length?Promise.reject({name:Ke,errors:Ve,warnings:je}):{name:Ke,errors:Ve,warnings:je}}))}});const Le=allPromiseFinish(We);pe.value=Le;const Ze=Le.then(()=>pe.value===Le?Promise.resolve(xe(ze)):Promise.reject([])).catch(Ye=>{const Re=Ye.filter(Ke=>Ke&&Ke.errors.length);return Promise.reject({values:xe(ze),errorFields:Re,outOfDate:pe.value!==Le})});return Ze.catch(Ye=>Ye),Ze},$e=function(){return Ne(...arguments)},Ee=Te=>{Te.preventDefault(),Te.stopPropagation(),W("submit",Te),H.model&&Ne().then(Ae=>{W("finish",Ae)}).catch(Ae=>{be(Ae)})};return U({resetFields:ve,clearValidate:ye,validateFields:Ne,getFieldsValue:xe,validate:Se,scrollToField:Ce}),useProvideForm({model:computed(()=>H.model),name:computed(()=>H.name),labelAlign:computed(()=>H.labelAlign),labelCol:computed(()=>H.labelCol),labelWrap:computed(()=>H.labelWrap),wrapperCol:computed(()=>H.wrapperCol),vertical:computed(()=>H.layout==="vertical"),colon:ae,requiredMark:re,validateTrigger:computed(()=>H.validateTrigger),rules:computed(()=>H.rules),addField:ue,removeField:ge,onValidate:(Te,Be,Ae)=>{W("validate",Te,Be,Ae)},validateMessages:ce}),watch(()=>H.rules,()=>{H.validateOnRuleChange&&Ne()}),()=>{var Te;return de(createVNode("form",_objectSpread2$1(_objectSpread2$1({},X),{},{onSubmit:Ee,class:[fe.value,X.class]}),[(Te=G.default)===null||Te===void 0?void 0:Te.call(G)]))}}});Form.useInjectFormItemContext=useInjectFormItemContext;Form.ItemRest=FormItemRest;Form.install=function(H){return H.component(Form.name,Form),H.component(Form.Item.name,Form.Item),H.component(FormItemRest.name,FormItemRest),H};const antCheckboxEffect=new Keyframe("antCheckboxEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),genCheckboxStyle=H=>{const{checkboxCls:K}=H,W=`${K}-wrapper`;return[{[`${K}-group`]:_extends$1(_extends$1({},resetComponent(H)),{display:"inline-flex",flexWrap:"wrap",columnGap:H.marginXS,[`> ${H.antCls}-row`]:{flex:1}}),[W]:_extends$1(_extends$1({},resetComponent(H)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${W}`]:{marginInlineStart:0},[`&${W}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[K]:_extends$1(_extends$1({},resetComponent(H)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",alignSelf:"center",[`${K}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${K}-inner`]:_extends$1({},genFocusOutline(H))},[`${K}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:H.checkboxSize,height:H.checkboxSize,direction:"ltr",backgroundColor:H.colorBgContainer,border:`${H.lineWidth}px ${H.lineType} ${H.colorBorder}`,borderRadius:H.borderRadiusSM,borderCollapse:"separate",transition:`all ${H.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:H.checkboxSize/14*5,height:H.checkboxSize/14*8,border:`${H.lineWidthBold}px solid ${H.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${H.motionDurationFast} ${H.motionEaseInBack}, opacity ${H.motionDurationFast}`}},"& + span":{paddingInlineStart:H.paddingXS,paddingInlineEnd:H.paddingXS}})},{[K]:{"&-indeterminate":{[`${K}-inner`]:{"&:after":{top:"50%",insetInlineStart:"50%",width:H.fontSizeLG/2,height:H.fontSizeLG/2,backgroundColor:H.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${W}:hover ${K}:after`]:{visibility:"visible"},[`
        ${W}:not(${W}-disabled),
        ${K}:not(${K}-disabled)
      `]:{[`&:hover ${K}-inner`]:{borderColor:H.colorPrimary}},[`${W}:not(${W}-disabled)`]:{[`&:hover ${K}-checked:not(${K}-disabled) ${K}-inner`]:{backgroundColor:H.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${K}-checked:not(${K}-disabled):after`]:{borderColor:H.colorPrimaryHover}}},{[`${K}-checked`]:{[`${K}-inner`]:{backgroundColor:H.colorPrimary,borderColor:H.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${H.motionDurationMid} ${H.motionEaseOutBack} ${H.motionDurationFast}`}},"&:after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderRadius:H.borderRadiusSM,visibility:"hidden",border:`${H.lineWidthBold}px solid ${H.colorPrimary}`,animationName:antCheckboxEffect,animationDuration:H.motionDurationSlow,animationTimingFunction:"ease-in-out",animationFillMode:"backwards",content:'""',transition:`all ${H.motionDurationSlow}`}},[`
        ${W}-checked:not(${W}-disabled),
        ${K}-checked:not(${K}-disabled)
      `]:{[`&:hover ${K}-inner`]:{backgroundColor:H.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${K}:after`]:{borderColor:H.colorPrimaryHover}}},{[`${W}-disabled`]:{cursor:"not-allowed"},[`${K}-disabled`]:{[`&, ${K}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${K}-inner`]:{background:H.colorBgContainerDisabled,borderColor:H.colorBorder,"&:after":{borderColor:H.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:H.colorTextDisabled},[`&${K}-indeterminate ${K}-inner::after`]:{background:H.colorTextDisabled}}}]};function getStyle$1(H,K){const W=merge(K,{checkboxCls:`.${H}`,checkboxSize:K.controlInteractiveSize});return[genCheckboxStyle(W)]}const useStyle$h=genComponentStyleHook("Checkbox",(H,K)=>{let{prefixCls:W}=K;return[getStyle$1(W,H)]}),abstractCheckboxGroupProps=()=>({name:String,prefixCls:String,options:arrayType([]),disabled:Boolean,id:String}),checkboxGroupProps=()=>_extends$1(_extends$1({},abstractCheckboxGroupProps()),{defaultValue:arrayType(),value:arrayType(),onChange:functionType(),"onUpdate:value":functionType()}),abstractCheckboxProps=()=>({prefixCls:String,defaultChecked:booleanType(),checked:booleanType(),disabled:booleanType(),isGroup:booleanType(),value:PropTypes.any,name:String,id:String,indeterminate:booleanType(),type:stringType("checkbox"),autofocus:booleanType(),onChange:functionType(),"onUpdate:checked":functionType(),onClick:functionType(),skipGroup:booleanType(!1)}),checkboxProps=()=>_extends$1(_extends$1({},abstractCheckboxProps()),{indeterminate:booleanType(!1)}),CheckboxGroupContextKey=Symbol("CheckboxGroupContext");var __rest$r=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const Checkbox=defineComponent({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:checkboxProps(),setup(H,K){let{emit:W,attrs:G,slots:U,expose:X}=K;const Q=useInjectFormItemContext(),Z=FormItemInputContext.useInject(),{prefixCls:ee,direction:ne,disabled:te}=useConfigInject("checkbox",H),oe=useInjectDisabled(),[re,ae]=useStyle$h(ee),se=inject(CheckboxGroupContextKey,void 0),ce=Symbol("checkboxUniId"),de=computed(()=>se?.disabled.value||te.value);watchEffect(()=>{!H.skipGroup&&se&&se.registerValue(ce,H.value)}),onBeforeUnmount(()=>{se&&se.cancelValue(ce)}),onMounted(()=>{warning$2(!!(H.checked!==void 0||se||H.value===void 0))});const le=ue=>{const ge=ue.target.checked;W("update:checked",ge),W("change",ue),Q.onFieldChange()},fe=ref();return X({focus:()=>{var ue;(ue=fe.value)===null||ue===void 0||ue.focus()},blur:()=>{var ue;(ue=fe.value)===null||ue===void 0||ue.blur()}}),()=>{var ue;const ge=flattenChildren((ue=U.default)===null||ue===void 0?void 0:ue.call(U)),{indeterminate:he,skipGroup:ve,id:ye=Q.id.value}=H,be=__rest$r(H,["indeterminate","skipGroup","id"]),{onMouseenter:Se,onMouseleave:Ce,onInput:xe,class:Ne,style:$e}=G,Ee=__rest$r(G,["onMouseenter","onMouseleave","onInput","class","style"]),Te=_extends$1(_extends$1(_extends$1(_extends$1({},be),{id:ye,prefixCls:ee.value}),Ee),{disabled:de.value});se&&!ve?(Te.onChange=function(){for(var We=arguments.length,Le=new Array(We),Ze=0;Ze<We;Ze++)Le[Ze]=arguments[Ze];W("change",...Le),se.toggleOption({label:ge,value:H.value})},Te.name=se.name.value,Te.checked=se.mergedValue.value.includes(H.value),Te.disabled=de.value||oe.value,Te.indeterminate=he):Te.onChange=le;const Be=classNames({[`${ee.value}-wrapper`]:!0,[`${ee.value}-rtl`]:ne.value==="rtl",[`${ee.value}-wrapper-checked`]:Te.checked,[`${ee.value}-wrapper-disabled`]:Te.disabled,[`${ee.value}-wrapper-in-form-item`]:Z.isFormItemInput},Ne,ae.value),Ae=classNames({[`${ee.value}-indeterminate`]:he},ae.value);return re(createVNode("label",{class:Be,style:$e,onMouseenter:Se,onMouseleave:Ce},[createVNode(VcCheckbox,_objectSpread2$1(_objectSpread2$1({"aria-checked":he?"mixed":void 0},Te),{},{class:Ae,ref:fe}),null),ge.length?createVNode("span",null,[ge]):null]))}}}),CheckboxGroup=defineComponent({compatConfig:{MODE:3},name:"ACheckboxGroup",inheritAttrs:!1,props:checkboxGroupProps(),setup(H,K){let{slots:W,attrs:G,emit:U,expose:X}=K;const Q=useInjectFormItemContext(),{prefixCls:Z,direction:ee}=useConfigInject("checkbox",H),ne=computed(()=>`${Z.value}-group`),[te,oe]=useStyle$h(ne),re=ref((H.value===void 0?H.defaultValue:H.value)||[]);watch(()=>H.value,()=>{re.value=H.value||[]});const ae=computed(()=>H.options.map(me=>typeof me=="string"||typeof me=="number"?{label:me,value:me}:me)),se=ref(Symbol()),ce=ref(new Map),de=me=>{ce.value.delete(me),se.value=Symbol()},le=(me,ue)=>{ce.value.set(me,ue),se.value=Symbol()},fe=ref(new Map);return watch(se,()=>{const me=new Map;for(const ue of ce.value.values())me.set(ue,!0);fe.value=me}),provide(CheckboxGroupContextKey,{cancelValue:de,registerValue:le,toggleOption:me=>{const ue=re.value.indexOf(me.value),ge=[...re.value];ue===-1?ge.push(me.value):ge.splice(ue,1),H.value===void 0&&(re.value=ge);const he=ge.filter(ve=>fe.value.has(ve)).sort((ve,ye)=>{const be=ae.value.findIndex(Ce=>Ce.value===ve),Se=ae.value.findIndex(Ce=>Ce.value===ye);return be-Se});U("update:value",he),U("change",he),Q.onFieldChange()},mergedValue:re,name:computed(()=>H.name),disabled:computed(()=>H.disabled)}),X({mergedValue:re}),()=>{var me;const{id:ue=Q.id.value}=H;let ge=null;return ae.value&&ae.value.length>0&&(ge=ae.value.map(he=>{var ve;return createVNode(Checkbox,{prefixCls:Z.value,key:he.value.toString(),disabled:"disabled"in he?he.disabled:H.disabled,indeterminate:he.indeterminate,value:he.value,checked:re.value.indexOf(he.value)!==-1,onChange:he.onChange,class:`${ne.value}-item`},{default:()=>[W.label!==void 0?(ve=W.label)===null||ve===void 0?void 0:ve.call(W,he):he.label]})})),te(createVNode("div",_objectSpread2$1(_objectSpread2$1({},G),{},{class:[ne.value,{[`${ne.value}-rtl`]:ee.value==="rtl"},G.class,oe.value],id:ue}),[ge||((me=W.default)===null||me===void 0?void 0:me.call(W))]))}}});Checkbox.Group=CheckboxGroup;Checkbox.install=function(H){return H.component(Checkbox.name,Checkbox),H.component(CheckboxGroup.name,CheckboxGroup),H};const __unplugin_components_3$1=withInstall(Col);let runtimeLocale=_extends$1({},localeValues.Modal);function changeConfirmLocale(H){H?runtimeLocale=_extends$1(_extends$1({},runtimeLocale),H):runtimeLocale=_extends$1({},localeValues.Modal)}function getConfirmLocale(){return runtimeLocale}const ANT_MARK="internalMark",LocaleProvider=defineComponent({compatConfig:{MODE:3},name:"ALocaleProvider",props:{locale:{type:Object},ANT_MARK__:String},setup(H,K){let{slots:W}=K;warning$2(H.ANT_MARK__===ANT_MARK);const G=reactive({antLocale:_extends$1(_extends$1({},H.locale),{exist:!0}),ANT_MARK__:ANT_MARK});return provide("localeData",G),watch(()=>H.locale,U=>{changeConfirmLocale(U&&U.Modal),G.antLocale=_extends$1(_extends$1({},U),{exist:!0})},{immediate:!0}),()=>{var U;return(U=W.default)===null||U===void 0?void 0:U.call(W)}}});LocaleProvider.install=function(H){return H.component(LocaleProvider.name,LocaleProvider),H};const locale=withInstall(LocaleProvider),Notice=defineComponent({name:"Notice",inheritAttrs:!1,props:["prefixCls","duration","updateMark","noticeKey","closeIcon","closable","props","onClick","onClose","holder","visible"],setup(H,K){let{attrs:W,slots:G}=K,U,X=!1;const Q=computed(()=>H.duration===void 0?4.5:H.duration),Z=()=>{Q.value&&!X&&(U=setTimeout(()=>{ne()},Q.value*1e3))},ee=()=>{U&&(clearTimeout(U),U=null)},ne=oe=>{oe&&oe.stopPropagation(),ee();const{onClose:re,noticeKey:ae}=H;re&&re(ae)},te=()=>{ee(),Z()};return onMounted(()=>{Z()}),onUnmounted(()=>{X=!0,ee()}),watch([Q,()=>H.updateMark,()=>H.visible],(oe,re)=>{let[ae,se,ce]=oe,[de,le,fe]=re;(ae!==de||se!==le||ce!==fe&&fe)&&te()},{flush:"post"}),()=>{var oe,re;const{prefixCls:ae,closable:se,closeIcon:ce=(oe=G.closeIcon)===null||oe===void 0?void 0:oe.call(G),onClick:de,holder:le}=H,{class:fe,style:pe}=W,me=`${ae}-notice`,ue=Object.keys(W).reduce((he,ve)=>((ve.startsWith("data-")||ve.startsWith("aria-")||ve==="role")&&(he[ve]=W[ve]),he),{}),ge=createVNode("div",_objectSpread2$1({class:classNames(me,fe,{[`${me}-closable`]:se}),style:pe,onMouseenter:ee,onMouseleave:Z,onClick:de},ue),[createVNode("div",{class:`${me}-content`},[(re=G.default)===null||re===void 0?void 0:re.call(G)]),se?createVNode("a",{tabindex:0,onClick:ne,class:`${me}-close`},[ce||createVNode("span",{class:`${me}-close-x`},null)]):null]);return le?createVNode(Teleport,{to:le},{default:()=>ge}):ge}}});var __rest$q=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};let seed$1=0;const now$1=Date.now();function getUuid$1(){const H=seed$1;return seed$1+=1,`rcNotification_${now$1}_${H}`}const Notification$1=defineComponent({name:"Notification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon","hashId"],setup(H,K){let{attrs:W,expose:G,slots:U}=K;const X=new Map,Q=ref([]),Z=computed(()=>{const{prefixCls:te,animation:oe="fade"}=H;let re=H.transitionName;return!re&&oe&&(re=`${te}-${oe}`),getTransitionGroupProps(re)}),ee=(te,oe)=>{const re=te.key||getUuid$1(),ae=_extends$1(_extends$1({},te),{key:re}),{maxCount:se}=H,ce=Q.value.map(le=>le.notice.key).indexOf(re),de=Q.value.concat();ce!==-1?de.splice(ce,1,{notice:ae,holderCallback:oe}):(se&&Q.value.length>=se&&(ae.key=de[0].notice.key,ae.updateMark=getUuid$1(),ae.userPassKey=re,de.shift()),de.push({notice:ae,holderCallback:oe})),Q.value=de},ne=te=>{Q.value=toRaw(Q.value).filter(oe=>{let{notice:{key:re,userPassKey:ae}}=oe;return(ae||re)!==te})};return G({add:ee,remove:ne,notices:Q}),()=>{var te;const{prefixCls:oe,closeIcon:re=(te=U.closeIcon)===null||te===void 0?void 0:te.call(U,{prefixCls:oe})}=H,ae=Q.value.map((ce,de)=>{let{notice:le,holderCallback:fe}=ce;const pe=de===Q.value.length-1?le.updateMark:void 0,{key:me,userPassKey:ue}=le,{content:ge}=le,he=_extends$1(_extends$1(_extends$1({prefixCls:oe,closeIcon:typeof re=="function"?re({prefixCls:oe}):re},le),le.props),{key:me,noticeKey:ue||me,updateMark:pe,onClose:ve=>{var ye;ne(ve),(ye=le.onClose)===null||ye===void 0||ye.call(le)},onClick:le.onClick});return fe?createVNode("div",{key:me,class:`${oe}-hook-holder`,ref:ve=>{typeof me>"u"||(ve?(X.set(me,ve),fe(ve,he)):X.delete(me))}},null):createVNode(Notice,_objectSpread2$1(_objectSpread2$1({},he),{},{class:classNames(he.class,H.hashId)}),{default:()=>[typeof ge=="function"?ge({prefixCls:oe}):ge]})}),se={[oe]:1,[W.class]:!!W.class,[H.hashId]:!0};return createVNode("div",{class:se,style:W.style||{top:"65px",left:"50%"}},[createVNode(TransitionGroup,_objectSpread2$1({tag:"div"},Z.value),{default:()=>[ae]})])}}});Notification$1.newInstance=function(K,W){const G=K||{},{name:U="notification",getContainer:X,appContext:Q,prefixCls:Z,rootPrefixCls:ee,transitionName:ne,hasTransitionName:te,useStyle:oe}=G,re=__rest$q(G,["name","getContainer","appContext","prefixCls","rootPrefixCls","transitionName","hasTransitionName","useStyle"]),ae=document.createElement("div");X?X().appendChild(ae):document.body.appendChild(ae);const ce=createVNode(defineComponent({compatConfig:{MODE:3},name:"NotificationWrapper",setup(de,le){let{attrs:fe}=le;const pe=shallowRef(),me=computed(()=>globalConfigForApi.getPrefixCls(U,Z)),[,ue]=oe(me);return onMounted(()=>{W({notice(ge){var he;(he=pe.value)===null||he===void 0||he.add(ge)},removeNotice(ge){var he;(he=pe.value)===null||he===void 0||he.remove(ge)},destroy(){render(null,ae),ae.parentNode&&ae.parentNode.removeChild(ae)},component:pe})}),()=>{const ge=globalConfigForApi,he=ge.getRootPrefixCls(ee,me.value),ve=te?ne:`${me.value}-${ne}`;return createVNode(ConfigProvider,_objectSpread2$1(_objectSpread2$1({},ge),{},{prefixCls:he}),{default:()=>[createVNode(Notification$1,_objectSpread2$1(_objectSpread2$1({ref:pe},fe),{},{prefixCls:me.value,transitionName:ve,hashId:ue.value}),null)]})}}}),re);ce.appContext=Q||ce.appContext,render(ce,ae)};let seed=0;const now=Date.now();function getUuid(){const H=seed;return seed+=1,`rcNotification_${now}_${H}`}const Notification=defineComponent({name:"HookNotification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon","hashId","remove","notices","getStyles","getClassName","onAllRemoved","getContainer"],setup(H,K){let{attrs:W,slots:G}=K;const U=new Map,X=computed(()=>H.notices),Q=computed(()=>{let te=H.transitionName;if(!te&&H.animation)switch(typeof H.animation){case"string":te=H.animation;break;case"function":te=H.animation().name;break;case"object":te=H.animation.name;break;default:te=`${H.prefixCls}-fade`;break}return getTransitionGroupProps(te)}),Z=te=>H.remove(te),ee=ref({});watch(X,()=>{const te={};Object.keys(ee.value).forEach(oe=>{te[oe]=[]}),H.notices.forEach(oe=>{const{placement:re="topRight"}=oe.notice;re&&(te[re]=te[re]||[],te[re].push(oe))}),ee.value=te});const ne=computed(()=>Object.keys(ee.value));return()=>{var te;const{prefixCls:oe,closeIcon:re=(te=G.closeIcon)===null||te===void 0?void 0:te.call(G,{prefixCls:oe})}=H,ae=ne.value.map(se=>{var ce,de;const le=ee.value[se],fe=(ce=H.getClassName)===null||ce===void 0?void 0:ce.call(H,se),pe=(de=H.getStyles)===null||de===void 0?void 0:de.call(H,se),me=le.map((he,ve)=>{let{notice:ye,holderCallback:be}=he;const Se=ve===X.value.length-1?ye.updateMark:void 0,{key:Ce,userPassKey:xe}=ye,{content:Ne}=ye,$e=_extends$1(_extends$1(_extends$1({prefixCls:oe,closeIcon:typeof re=="function"?re({prefixCls:oe}):re},ye),ye.props),{key:Ce,noticeKey:xe||Ce,updateMark:Se,onClose:Ee=>{var Te;Z(Ee),(Te=ye.onClose)===null||Te===void 0||Te.call(ye)},onClick:ye.onClick});return be?createVNode("div",{key:Ce,class:`${oe}-hook-holder`,ref:Ee=>{typeof Ce>"u"||(Ee?(U.set(Ce,Ee),be(Ee,$e)):U.delete(Ce))}},null):createVNode(Notice,_objectSpread2$1(_objectSpread2$1({},$e),{},{class:classNames($e.class,H.hashId)}),{default:()=>[typeof Ne=="function"?Ne({prefixCls:oe}):Ne]})}),ue={[oe]:1,[`${oe}-${se}`]:1,[W.class]:!!W.class,[H.hashId]:!0,[fe]:!!fe};function ge(){var he;le.length>0||(Reflect.deleteProperty(ee.value,se),(he=H.onAllRemoved)===null||he===void 0||he.call(H))}return createVNode("div",{key:se,class:ue,style:W.style||pe||{top:"65px",left:"50%"}},[createVNode(TransitionGroup,_objectSpread2$1(_objectSpread2$1({tag:"div"},Q.value),{},{onAfterLeave:ge}),{default:()=>[me]})])});return createVNode(Portal$1,{getContainer:H.getContainer},{default:()=>[ae]})}}});var __rest$p=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const defaultGetContainer$1=()=>document.body;let uniqueKey=0;function mergeConfig(){const H={};for(var K=arguments.length,W=new Array(K),G=0;G<K;G++)W[G]=arguments[G];return W.forEach(U=>{U&&Object.keys(U).forEach(X=>{const Q=U[X];Q!==void 0&&(H[X]=Q)})}),H}function useNotification$1(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{getContainer:K=defaultGetContainer$1,motion:W,prefixCls:G,maxCount:U,getClassName:X,getStyles:Q,onAllRemoved:Z}=H,ee=__rest$p(H,["getContainer","motion","prefixCls","maxCount","getClassName","getStyles","onAllRemoved"]),ne=shallowRef([]),te=shallowRef(),oe=(le,fe)=>{const pe=le.key||getUuid(),me=_extends$1(_extends$1({},le),{key:pe}),ue=ne.value.map(he=>he.notice.key).indexOf(pe),ge=ne.value.concat();ue!==-1?ge.splice(ue,1,{notice:me,holderCallback:fe}):(U&&ne.value.length>=U&&(me.key=ge[0].notice.key,me.updateMark=getUuid(),me.userPassKey=pe,ge.shift()),ge.push({notice:me,holderCallback:fe})),ne.value=ge},re=le=>{ne.value=ne.value.filter(fe=>{let{notice:{key:pe,userPassKey:me}}=fe;return(me||pe)!==le})},ae=()=>{ne.value=[]},se=()=>createVNode(Notification,{ref:te,prefixCls:G,maxCount:U,notices:ne.value,remove:re,getClassName:X,getStyles:Q,animation:W,hashId:H.hashId,onAllRemoved:Z,getContainer:K},null),ce=shallowRef([]),de={open:le=>{const fe=mergeConfig(ee,le);(fe.key===null||fe.key===void 0)&&(fe.key=`vc-notification-${uniqueKey}`,uniqueKey+=1),ce.value=[...ce.value,{type:"open",config:fe}]},close:le=>{ce.value=[...ce.value,{type:"close",key:le}]},destroy:()=>{ce.value=[...ce.value,{type:"destroy"}]}};return watch(ce,()=>{ce.value.length&&(ce.value.forEach(le=>{switch(le.type){case"open":oe(le.config);break;case"close":re(le.key);break;case"destroy":ae();break}}),ce.value=[])}),[de,se]}const genMessageStyle=H=>{const{componentCls:K,iconCls:W,boxShadowSecondary:G,colorBgElevated:U,colorSuccess:X,colorError:Q,colorWarning:Z,colorInfo:ee,fontSizeLG:ne,motionEaseInOutCirc:te,motionDurationSlow:oe,marginXS:re,paddingXS:ae,borderRadiusLG:se,zIndexPopup:ce,messageNoticeContentPadding:de}=H,le=new Keyframe("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:ae,transform:"translateY(0)",opacity:1}}),fe=new Keyframe("MessageMoveOut",{"0%":{maxHeight:H.height,padding:ae,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}});return[{[K]:_extends$1(_extends$1({},resetComponent(H)),{position:"fixed",top:re,left:"50%",transform:"translateX(-50%)",width:"100%",pointerEvents:"none",zIndex:ce,[`${K}-move-up`]:{animationFillMode:"forwards"},[`
        ${K}-move-up-appear,
        ${K}-move-up-enter
      `]:{animationName:le,animationDuration:oe,animationPlayState:"paused",animationTimingFunction:te},[`
        ${K}-move-up-appear${K}-move-up-appear-active,
        ${K}-move-up-enter${K}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${K}-move-up-leave`]:{animationName:fe,animationDuration:oe,animationPlayState:"paused",animationTimingFunction:te},[`${K}-move-up-leave${K}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[`${K}-notice`]:{padding:ae,textAlign:"center",[W]:{verticalAlign:"text-bottom",marginInlineEnd:re,fontSize:ne},[`${K}-notice-content`]:{display:"inline-block",padding:de,background:U,borderRadius:se,boxShadow:G,pointerEvents:"all"},[`${K}-success ${W}`]:{color:X},[`${K}-error ${W}`]:{color:Q},[`${K}-warning ${W}`]:{color:Z},[`
        ${K}-info ${W},
        ${K}-loading ${W}`]:{color:ee}}},{[`${K}-notice-pure-panel`]:{padding:0,textAlign:"start"}}]},useStyle$g=genComponentStyleHook("Message",H=>{const K=merge(H,{messageNoticeContentPadding:`${(H.controlHeightLG-H.fontSize*H.lineHeight)/2}px ${H.paddingSM}px`});return[genMessageStyle(K)]},H=>({height:150,zIndexPopup:H.zIndexPopupBase+10})),TypeIcon={info:createVNode(InfoCircleFilled,null,null),success:createVNode(CheckCircleFilled,null,null),error:createVNode(CloseCircleFilled,null,null),warning:createVNode(ExclamationCircleFilled,null,null),loading:createVNode(LoadingOutlined,null,null)},PureContent$1=defineComponent({name:"PureContent",inheritAttrs:!1,props:["prefixCls","type","icon"],setup(H,K){let{slots:W}=K;return()=>{var G;return createVNode("div",{class:classNames(`${H.prefixCls}-custom-content`,`${H.prefixCls}-${H.type}`)},[H.icon||TypeIcon[H.type],createVNode("span",null,[(G=W.default)===null||G===void 0?void 0:G.call(W)])])}}});var __rest$o=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const DEFAULT_OFFSET$1=8,DEFAULT_DURATION$1=3,Holder$1=defineComponent({name:"Holder",inheritAttrs:!1,props:["top","prefixCls","getContainer","maxCount","duration","rtl","transitionName","onAllRemoved","animation","staticGetContainer"],setup(H,K){let{expose:W}=K;var G,U;const{getPrefixCls:X,getPopupContainer:Q}=useConfigInject("message",H),Z=computed(()=>X("message",H.prefixCls)),[,ee]=useStyle$g(Z),ne=()=>{var ce;const de=(ce=H.top)!==null&&ce!==void 0?ce:DEFAULT_OFFSET$1;return{left:"50%",transform:"translateX(-50%)",top:typeof de=="number"?`${de}px`:de}},te=()=>classNames(ee.value,H.rtl?`${Z.value}-rtl`:""),oe=()=>{var ce;return getMotion$1({prefixCls:Z.value,animation:(ce=H.animation)!==null&&ce!==void 0?ce:"move-up",transitionName:H.transitionName})},re=createVNode("span",{class:`${Z.value}-close-x`},[createVNode(CloseOutlined,{class:`${Z.value}-close-icon`},null)]),[ae,se]=useNotification$1({getStyles:ne,prefixCls:Z.value,getClassName:te,motion:oe,closable:!1,closeIcon:re,duration:(G=H.duration)!==null&&G!==void 0?G:DEFAULT_DURATION$1,getContainer:(U=H.staticGetContainer)!==null&&U!==void 0?U:Q.value,maxCount:H.maxCount,onAllRemoved:H.onAllRemoved});return W(_extends$1(_extends$1({},ae),{prefixCls:Z,hashId:ee})),se}});let keyIndex=0;function useInternalMessage(H){const K=shallowRef(null),W=Symbol("messageHolderKey"),G=ee=>{var ne;(ne=K.value)===null||ne===void 0||ne.close(ee)},U=ee=>{if(!K.value){const ue=()=>{};return ue.then=()=>{},ue}const{open:ne,prefixCls:te,hashId:oe}=K.value,re=`${te}-notice`,{content:ae,icon:se,type:ce,key:de,class:le,onClose:fe}=ee,pe=__rest$o(ee,["content","icon","type","key","class","onClose"]);let me=de;return me==null&&(keyIndex+=1,me=`antd-message-${keyIndex}`),wrapPromiseFn(ue=>(ne(_extends$1(_extends$1({},pe),{key:me,content:()=>createVNode(PureContent$1,{prefixCls:te,type:ce,icon:typeof se=="function"?se():se},{default:()=>[typeof ae=="function"?ae():ae]}),placement:"top",class:classNames(ce&&`${re}-${ce}`,oe,le),onClose:()=>{fe?.(),ue()}})),()=>{G(me)}))},Q={open:U,destroy:ee=>{var ne;ee!==void 0?G(ee):(ne=K.value)===null||ne===void 0||ne.destroy()}};return["info","success","warning","error","loading"].forEach(ee=>{const ne=(te,oe,re)=>{let ae;te&&typeof te=="object"&&"content"in te?ae=te:ae={content:te};let se,ce;typeof oe=="function"?ce=oe:(se=oe,ce=re);const de=_extends$1(_extends$1({onClose:ce,duration:se},ae),{type:ee});return U(de)};Q[ee]=ne}),[Q,()=>createVNode(Holder$1,_objectSpread2$1(_objectSpread2$1({key:W},H),{},{ref:K}),null)]}function useMessage(H){return useInternalMessage(H)}let defaultDuration$1=3,defaultTop$1,messageInstance,key=1,localPrefixCls="",transitionName="move-up",hasTransitionName=!1,getContainer=()=>document.body,maxCount$1,rtl$1=!1;function getKeyThenIncreaseKey(){return key++}function setMessageConfig(H){H.top!==void 0&&(defaultTop$1=H.top,messageInstance=null),H.duration!==void 0&&(defaultDuration$1=H.duration),H.prefixCls!==void 0&&(localPrefixCls=H.prefixCls),H.getContainer!==void 0&&(getContainer=H.getContainer,messageInstance=null),H.transitionName!==void 0&&(transitionName=H.transitionName,messageInstance=null,hasTransitionName=!0),H.maxCount!==void 0&&(maxCount$1=H.maxCount,messageInstance=null),H.rtl!==void 0&&(rtl$1=H.rtl)}function getMessageInstance(H,K){if(messageInstance){K(messageInstance);return}Notification$1.newInstance({appContext:H.appContext,prefixCls:H.prefixCls||localPrefixCls,rootPrefixCls:H.rootPrefixCls,transitionName,hasTransitionName,style:{top:defaultTop$1},getContainer:getContainer||H.getPopupContainer,maxCount:maxCount$1,name:"message",useStyle:useStyle$g},W=>{if(messageInstance){K(messageInstance);return}messageInstance=W,K(W)})}const typeToIcon$2={info:InfoCircleFilled,success:CheckCircleFilled,error:CloseCircleFilled,warning:ExclamationCircleFilled,loading:LoadingOutlined},typeList=Object.keys(typeToIcon$2);function notice$1(H){const K=H.duration!==void 0?H.duration:defaultDuration$1,W=H.key||getKeyThenIncreaseKey(),G=new Promise(X=>{const Q=()=>(typeof H.onClose=="function"&&H.onClose(),X(!0));getMessageInstance(H,Z=>{Z.notice({key:W,duration:K,style:H.style||{},class:H.class,content:ee=>{let{prefixCls:ne}=ee;const te=typeToIcon$2[H.type],oe=te?createVNode(te,null,null):"",re=classNames(`${ne}-custom-content`,{[`${ne}-${H.type}`]:H.type,[`${ne}-rtl`]:rtl$1===!0});return createVNode("div",{class:re},[typeof H.icon=="function"?H.icon():H.icon||oe,createVNode("span",null,[typeof H.content=="function"?H.content():H.content])])},onClose:Q,onClick:H.onClick})})}),U=()=>{messageInstance&&messageInstance.removeNotice(W)};return U.then=(X,Q)=>G.then(X,Q),U.promise=G,U}function isArgsProps(H){return Object.prototype.toString.call(H)==="[object Object]"&&!!H.content}const api$1={open:notice$1,config:setMessageConfig,destroy(H){if(messageInstance)if(H){const{removeNotice:K}=messageInstance;K(H)}else{const{destroy:K}=messageInstance;K(),messageInstance=null}}};function attachTypeApi(H,K){H[K]=(W,G,U)=>isArgsProps(W)?H.open(_extends$1(_extends$1({},W),{type:K})):(typeof G=="function"&&(U=G,G=void 0),H.open({content:W,duration:G,type:K,onClose:U}))}typeList.forEach(H=>attachTypeApi(api$1,H));api$1.warn=api$1.warning;api$1.useMessage=useMessage;const genNotificationPlacementStyle=H=>{const{componentCls:K,width:W,notificationMarginEdge:G}=H,U=new Keyframe("antNotificationTopFadeIn",{"0%":{marginTop:"-100%",opacity:0},"100%":{marginTop:0,opacity:1}}),X=new Keyframe("antNotificationBottomFadeIn",{"0%":{marginBottom:"-100%",opacity:0},"100%":{marginBottom:0,opacity:1}}),Q=new Keyframe("antNotificationLeftFadeIn",{"0%":{right:{_skip_check_:!0,value:W},opacity:0},"100%":{right:{_skip_check_:!0,value:0},opacity:1}});return{[`&${K}-top, &${K}-bottom`]:{marginInline:0},[`&${K}-top`]:{[`${K}-fade-enter${K}-fade-enter-active, ${K}-fade-appear${K}-fade-appear-active`]:{animationName:U}},[`&${K}-bottom`]:{[`${K}-fade-enter${K}-fade-enter-active, ${K}-fade-appear${K}-fade-appear-active`]:{animationName:X}},[`&${K}-topLeft, &${K}-bottomLeft`]:{marginInlineEnd:0,marginInlineStart:G,[`${K}-fade-enter${K}-fade-enter-active, ${K}-fade-appear${K}-fade-appear-active`]:{animationName:Q}}}},genNotificationStyle=H=>{const{iconCls:K,componentCls:W,boxShadowSecondary:G,fontSizeLG:U,notificationMarginBottom:X,borderRadiusLG:Q,colorSuccess:Z,colorInfo:ee,colorWarning:ne,colorError:te,colorTextHeading:oe,notificationBg:re,notificationPadding:ae,notificationMarginEdge:se,motionDurationMid:ce,motionEaseInOut:de,fontSize:le,lineHeight:fe,width:pe,notificationIconSize:me}=H,ue=`${W}-notice`,ge=new Keyframe("antNotificationFadeIn",{"0%":{left:{_skip_check_:!0,value:pe},opacity:0},"100%":{left:{_skip_check_:!0,value:0},opacity:1}}),he=new Keyframe("antNotificationFadeOut",{"0%":{maxHeight:H.animationMaxHeight,marginBottom:X,opacity:1},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[W]:_extends$1(_extends$1(_extends$1(_extends$1({},resetComponent(H)),{position:"fixed",zIndex:H.zIndexPopup,marginInlineEnd:se,[`${W}-hook-holder`]:{position:"relative"},[`&${W}-top, &${W}-bottom`]:{[`${W}-notice`]:{marginInline:"auto auto"}},[`&${W}-topLeft, &${W}-bottomLeft`]:{[`${W}-notice`]:{marginInlineEnd:"auto",marginInlineStart:0}},[`${W}-fade-enter, ${W}-fade-appear`]:{animationDuration:H.motionDurationMid,animationTimingFunction:de,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${W}-fade-leave`]:{animationTimingFunction:de,animationFillMode:"both",animationDuration:ce,animationPlayState:"paused"},[`${W}-fade-enter${W}-fade-enter-active, ${W}-fade-appear${W}-fade-appear-active`]:{animationName:ge,animationPlayState:"running"},[`${W}-fade-leave${W}-fade-leave-active`]:{animationName:he,animationPlayState:"running"}}),genNotificationPlacementStyle(H)),{"&-rtl":{direction:"rtl",[`${W}-notice-btn`]:{float:"left"}}})},{[ue]:{position:"relative",width:pe,maxWidth:`calc(100vw - ${se*2}px)`,marginBottom:X,marginInlineStart:"auto",padding:ae,overflow:"hidden",lineHeight:fe,wordWrap:"break-word",background:re,borderRadius:Q,boxShadow:G,[`${W}-close-icon`]:{fontSize:le,cursor:"pointer"},[`${ue}-message`]:{marginBottom:H.marginXS,color:oe,fontSize:U,lineHeight:H.lineHeightLG},[`${ue}-description`]:{fontSize:le},[`&${ue}-closable ${ue}-message`]:{paddingInlineEnd:H.paddingLG},[`${ue}-with-icon ${ue}-message`]:{marginBottom:H.marginXS,marginInlineStart:H.marginSM+me,fontSize:U},[`${ue}-with-icon ${ue}-description`]:{marginInlineStart:H.marginSM+me,fontSize:le},[`${ue}-icon`]:{position:"absolute",fontSize:me,lineHeight:0,[`&-success${K}`]:{color:Z},[`&-info${K}`]:{color:ee},[`&-warning${K}`]:{color:ne},[`&-error${K}`]:{color:te}},[`${ue}-close`]:{position:"absolute",top:H.notificationPaddingVertical,insetInlineEnd:H.notificationPaddingHorizontal,color:H.colorIcon,outline:"none",width:H.notificationCloseButtonSize,height:H.notificationCloseButtonSize,borderRadius:H.borderRadiusSM,transition:`background-color ${H.motionDurationMid}, color ${H.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:H.colorIconHover,backgroundColor:H.wireframe?"transparent":H.colorFillContent}},[`${ue}-btn`]:{float:"right",marginTop:H.marginSM}}},{[`${ue}-pure-panel`]:{margin:0}}]},useStyle$f=genComponentStyleHook("Notification",H=>{const K=H.paddingMD,W=H.paddingLG,G=merge(H,{notificationBg:H.colorBgElevated,notificationPaddingVertical:K,notificationPaddingHorizontal:W,notificationPadding:`${H.paddingMD}px ${H.paddingContentHorizontalLG}px`,notificationMarginBottom:H.margin,notificationMarginEdge:H.marginLG,animationMaxHeight:150,notificationIconSize:H.fontSizeLG*H.lineHeightLG,notificationCloseButtonSize:H.controlHeightLG*.55});return[genNotificationStyle(G)]},H=>({zIndexPopup:H.zIndexPopupBase+50,width:384}));function getCloseIcon(H,K){return K||createVNode("span",{class:`${H}-close-x`},[createVNode(CloseOutlined,{class:`${H}-close-icon`},null)])}createVNode(InfoCircleFilled,null,null),createVNode(CheckCircleFilled,null,null),createVNode(CloseCircleFilled,null,null),createVNode(ExclamationCircleFilled,null,null),createVNode(LoadingOutlined,null,null);const typeToIcon$1={success:CheckCircleFilled,info:InfoCircleFilled,error:CloseCircleFilled,warning:ExclamationCircleFilled};function PureContent(H){let{prefixCls:K,icon:W,type:G,message:U,description:X,btn:Q}=H,Z=null;if(W)Z=createVNode("span",{class:`${K}-icon`},[renderHelper(W)]);else if(G){const ee=typeToIcon$1[G];Z=createVNode(ee,{class:`${K}-icon ${K}-icon-${G}`},null)}return createVNode("div",{class:classNames({[`${K}-with-icon`]:Z}),role:"alert"},[Z,createVNode("div",{class:`${K}-message`},[U]),createVNode("div",{class:`${K}-description`},[X]),Q&&createVNode("div",{class:`${K}-btn`},[Q])])}function getPlacementStyle(H,K,W){let G;switch(K=typeof K=="number"?`${K}px`:K,W=typeof W=="number"?`${W}px`:W,H){case"top":G={left:"50%",transform:"translateX(-50%)",right:"auto",top:K,bottom:"auto"};break;case"topLeft":G={left:0,top:K,bottom:"auto"};break;case"topRight":G={right:0,top:K,bottom:"auto"};break;case"bottom":G={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:W};break;case"bottomLeft":G={left:0,top:"auto",bottom:W};break;default:G={right:0,top:"auto",bottom:W};break}return G}function getMotion(H){return{name:`${H}-fade`}}var __rest$n=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const DEFAULT_OFFSET=24,DEFAULT_DURATION=4.5,Holder=defineComponent({name:"Holder",inheritAttrs:!1,props:["prefixCls","class","type","icon","content","onAllRemoved"],setup(H,K){let{expose:W}=K;const{getPrefixCls:G,getPopupContainer:U}=useConfigInject("notification",H),X=computed(()=>H.prefixCls||G("notification")),Q=re=>{var ae,se;return getPlacementStyle(re,(ae=H.top)!==null&&ae!==void 0?ae:DEFAULT_OFFSET,(se=H.bottom)!==null&&se!==void 0?se:DEFAULT_OFFSET)},[,Z]=useStyle$f(X),ee=()=>classNames(Z.value,{[`${X.value}-rtl`]:H.rtl}),ne=()=>getMotion(X.value),[te,oe]=useNotification$1({prefixCls:X.value,getStyles:Q,getClassName:ee,motion:ne,closable:!0,closeIcon:getCloseIcon(X.value),duration:DEFAULT_DURATION,getContainer:()=>{var re,ae;return((re=H.getPopupContainer)===null||re===void 0?void 0:re.call(H))||((ae=U.value)===null||ae===void 0?void 0:ae.call(U))||document.body},maxCount:H.maxCount,hashId:Z.value,onAllRemoved:H.onAllRemoved});return W(_extends$1(_extends$1({},te),{prefixCls:X.value,hashId:Z})),oe}});function useInternalNotification(H){const K=shallowRef(null),W=Symbol("notificationHolderKey"),G=Z=>{if(!K.value)return;const{open:ee,prefixCls:ne,hashId:te}=K.value,oe=`${ne}-notice`,{message:re,description:ae,icon:se,type:ce,btn:de,class:le}=Z,fe=__rest$n(Z,["message","description","icon","type","btn","class"]);return ee(_extends$1(_extends$1({placement:"topRight"},fe),{content:()=>createVNode(PureContent,{prefixCls:oe,icon:typeof se=="function"?se():se,type:ce,message:typeof re=="function"?re():re,description:typeof ae=="function"?ae():ae,btn:typeof de=="function"?de():de},null),class:classNames(ce&&`${oe}-${ce}`,te,le)}))},X={open:G,destroy:Z=>{var ee,ne;Z!==void 0?(ee=K.value)===null||ee===void 0||ee.close(Z):(ne=K.value)===null||ne===void 0||ne.destroy()}};return["success","info","warning","error"].forEach(Z=>{X[Z]=ee=>G(_extends$1(_extends$1({},ee),{type:Z}))}),[X,()=>createVNode(Holder,_objectSpread2$1(_objectSpread2$1({key:W},H),{},{ref:K}),null)]}function useNotification(H){return useInternalNotification(H)}const notificationInstance={};let defaultDuration=4.5,defaultTop="24px",defaultBottom="24px",defaultPrefixCls$1="",defaultPlacement="topRight",defaultGetContainer=()=>document.body,defaultCloseIcon=null,rtl=!1,maxCount;function setNotificationConfig(H){const{duration:K,placement:W,bottom:G,top:U,getContainer:X,closeIcon:Q,prefixCls:Z}=H;Z!==void 0&&(defaultPrefixCls$1=Z),K!==void 0&&(defaultDuration=K),W!==void 0&&(defaultPlacement=W),G!==void 0&&(defaultBottom=typeof G=="number"?`${G}px`:G),U!==void 0&&(defaultTop=typeof U=="number"?`${U}px`:U),X!==void 0&&(defaultGetContainer=X),Q!==void 0&&(defaultCloseIcon=Q),H.rtl!==void 0&&(rtl=H.rtl),H.maxCount!==void 0&&(maxCount=H.maxCount)}function getNotificationInstance(H,K){let{prefixCls:W,placement:G=defaultPlacement,getContainer:U=defaultGetContainer,top:X,bottom:Q,closeIcon:Z=defaultCloseIcon,appContext:ee}=H;const{getPrefixCls:ne}=globalConfig(),te=ne("notification",W||defaultPrefixCls$1),oe=`${te}-${G}-${rtl}`,re=notificationInstance[oe];if(re){Promise.resolve(re).then(se=>{K(se)});return}const ae=classNames(`${te}-${G}`,{[`${te}-rtl`]:rtl===!0});Notification$1.newInstance({name:"notification",prefixCls:W||defaultPrefixCls$1,useStyle:useStyle$f,class:ae,style:getPlacementStyle(G,X??defaultTop,Q??defaultBottom),appContext:ee,getContainer:U,closeIcon:se=>{let{prefixCls:ce}=se;return createVNode("span",{class:`${ce}-close-x`},[renderHelper(Z,{},createVNode(CloseOutlined,{class:`${ce}-close-icon`},null))])},maxCount,hasTransitionName:!0},se=>{notificationInstance[oe]=se,K(se)})}const typeToIcon={success:CheckCircleOutlined,info:InfoCircleOutlined,error:CloseCircleOutlined,warning:ExclamationCircleOutlined};function notice(H){const{icon:K,type:W,description:G,message:U,btn:X}=H,Q=H.duration===void 0?defaultDuration:H.duration;getNotificationInstance(H,Z=>{Z.notice({content:ee=>{let{prefixCls:ne}=ee;const te=`${ne}-notice`;let oe=null;if(K)oe=()=>createVNode("span",{class:`${te}-icon`},[renderHelper(K)]);else if(W){const re=typeToIcon[W];oe=()=>createVNode(re,{class:`${te}-icon ${te}-icon-${W}`},null)}return createVNode("div",{class:oe?`${te}-with-icon`:""},[oe&&oe(),createVNode("div",{class:`${te}-message`},[!G&&oe?createVNode("span",{class:`${te}-message-single-line-auto-margin`},null):null,renderHelper(U)]),createVNode("div",{class:`${te}-description`},[renderHelper(G)]),X?createVNode("span",{class:`${te}-btn`},[renderHelper(X)]):null])},duration:Q,closable:!0,onClose:H.onClose,onClick:H.onClick,key:H.key,style:H.style||{},class:H.class})})}const api={open:notice,close(H){Object.keys(notificationInstance).forEach(K=>Promise.resolve(notificationInstance[K]).then(W=>{W.removeNotice(H)}))},config:setNotificationConfig,destroy(){Object.keys(notificationInstance).forEach(H=>{Promise.resolve(notificationInstance[H]).then(K=>{K.destroy()}),delete notificationInstance[H]})}},iconTypes=["success","info","warning","error"];iconTypes.forEach(H=>{api[H]=K=>api.open(_extends$1(_extends$1({},K),{type:H}))});api.warn=api.warning;api.useNotification=useNotification;const dynamicStyleMark=`-ant-${Date.now()}-${Math.random()}`;function getStyle(H,K){const W={},G=(Q,Z)=>{let ee=Q.clone();return ee=Z?.(ee)||ee,ee.toRgbString()},U=(Q,Z)=>{const ee=new TinyColor(Q),ne=generate$1(ee.toRgbString());W[`${Z}-color`]=G(ee),W[`${Z}-color-disabled`]=ne[1],W[`${Z}-color-hover`]=ne[4],W[`${Z}-color-active`]=ne[6],W[`${Z}-color-outline`]=ee.clone().setAlpha(.2).toRgbString(),W[`${Z}-color-deprecated-bg`]=ne[0],W[`${Z}-color-deprecated-border`]=ne[2]};if(K.primaryColor){U(K.primaryColor,"primary");const Q=new TinyColor(K.primaryColor),Z=generate$1(Q.toRgbString());Z.forEach((ne,te)=>{W[`primary-${te+1}`]=ne}),W["primary-color-deprecated-l-35"]=G(Q,ne=>ne.lighten(35)),W["primary-color-deprecated-l-20"]=G(Q,ne=>ne.lighten(20)),W["primary-color-deprecated-t-20"]=G(Q,ne=>ne.tint(20)),W["primary-color-deprecated-t-50"]=G(Q,ne=>ne.tint(50)),W["primary-color-deprecated-f-12"]=G(Q,ne=>ne.setAlpha(ne.getAlpha()*.12));const ee=new TinyColor(Z[0]);W["primary-color-active-deprecated-f-30"]=G(ee,ne=>ne.setAlpha(ne.getAlpha()*.3)),W["primary-color-active-deprecated-d-02"]=G(ee,ne=>ne.darken(2))}return K.successColor&&U(K.successColor,"success"),K.warningColor&&U(K.warningColor,"warning"),K.errorColor&&U(K.errorColor,"error"),K.infoColor&&U(K.infoColor,"info"),`
  :root {
    ${Object.keys(W).map(Q=>`--${H}-${Q}: ${W[Q]};`).join(`
`)}
  }
  `.trim()}function registerTheme(H,K){const W=getStyle(H,K);canUseDom$1()&&updateCSS$1(W,`${dynamicStyleMark}-dynamic-theme`)}const useStyle$e=H=>{const[K,W]=useToken();return useStyleRegister(computed(()=>({theme:K.value,token:W.value,hashId:"",path:["ant-design-icons",H.value]})),()=>[{[`.${H.value}`]:_extends$1(_extends$1({},resetIcon()),{[`.${H.value} .${H.value}-icon`]:{display:"block"}})}])};function useTheme(H,K){const W=computed(()=>H?.value||{}),G=computed(()=>W.value.inherit===!1||!K?.value?defaultConfig$1:K.value);return computed(()=>{if(!H?.value)return K?.value;const X=_extends$1({},G.value.components);return Object.keys(H.value.components||{}).forEach(Q=>{X[Q]=_extends$1(_extends$1({},X[Q]),H.value.components[Q])}),_extends$1(_extends$1(_extends$1({},G.value),W.value),{token:_extends$1(_extends$1({},G.value.token),W.value.token),components:X})})}var __rest$m=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const defaultPrefixCls="ant";function getGlobalPrefixCls(){return globalConfigForApi.prefixCls||defaultPrefixCls}function getGlobalIconPrefixCls(){return globalConfigForApi.iconPrefixCls||defaultIconPrefixCls}const globalConfigBySet=reactive({}),globalConfigForApi=reactive({});watchEffect(()=>{_extends$1(globalConfigForApi,globalConfigBySet),globalConfigForApi.prefixCls=getGlobalPrefixCls(),globalConfigForApi.iconPrefixCls=getGlobalIconPrefixCls(),globalConfigForApi.getPrefixCls=(H,K)=>K||(H?`${globalConfigForApi.prefixCls}-${H}`:globalConfigForApi.prefixCls),globalConfigForApi.getRootPrefixCls=()=>globalConfigForApi.prefixCls?globalConfigForApi.prefixCls:getGlobalPrefixCls()});let stopWatchEffect;const setGlobalConfig=H=>{stopWatchEffect&&stopWatchEffect(),stopWatchEffect=watchEffect(()=>{_extends$1(globalConfigBySet,reactive(H)),_extends$1(globalConfigForApi,reactive(H))}),H.theme&&registerTheme(getGlobalPrefixCls(),H.theme)},globalConfig=()=>({getPrefixCls:(H,K)=>K||(H?`${getGlobalPrefixCls()}-${H}`:getGlobalPrefixCls()),getIconPrefixCls:getGlobalIconPrefixCls,getRootPrefixCls:()=>globalConfigForApi.prefixCls?globalConfigForApi.prefixCls:getGlobalPrefixCls()}),ConfigProvider=defineComponent({compatConfig:{MODE:3},name:"AConfigProvider",inheritAttrs:!1,props:configProviderProps(),setup(H,K){let{slots:W}=K;const G=useConfigContextInject(),U=($e,Ee)=>{const{prefixCls:Te="ant"}=H;if(Ee)return Ee;const Be=Te||G.getPrefixCls("");return $e?`${Be}-${$e}`:Be},X=computed(()=>H.iconPrefixCls||G.iconPrefixCls.value||defaultIconPrefixCls),Q=computed(()=>X.value!==G.iconPrefixCls.value),Z=computed(()=>{var $e;return H.csp||(($e=G.csp)===null||$e===void 0?void 0:$e.value)}),ee=useStyle$e(X),ne=useTheme(computed(()=>H.theme),computed(()=>{var $e;return($e=G.theme)===null||$e===void 0?void 0:$e.value})),te=$e=>(H.renderEmpty||W.renderEmpty||G.renderEmpty||renderEmpty)($e),oe=computed(()=>{var $e,Ee;return($e=H.autoInsertSpaceInButton)!==null&&$e!==void 0?$e:(Ee=G.autoInsertSpaceInButton)===null||Ee===void 0?void 0:Ee.value}),re=computed(()=>{var $e;return H.locale||(($e=G.locale)===null||$e===void 0?void 0:$e.value)});watch(re,()=>{globalConfigBySet.locale=re.value},{immediate:!0});const ae=computed(()=>{var $e;return H.direction||(($e=G.direction)===null||$e===void 0?void 0:$e.value)}),se=computed(()=>{var $e,Ee;return($e=H.space)!==null&&$e!==void 0?$e:(Ee=G.space)===null||Ee===void 0?void 0:Ee.value}),ce=computed(()=>{var $e,Ee;return($e=H.virtual)!==null&&$e!==void 0?$e:(Ee=G.virtual)===null||Ee===void 0?void 0:Ee.value}),de=computed(()=>{var $e,Ee;return($e=H.dropdownMatchSelectWidth)!==null&&$e!==void 0?$e:(Ee=G.dropdownMatchSelectWidth)===null||Ee===void 0?void 0:Ee.value}),le=computed(()=>{var $e;return H.getTargetContainer!==void 0?H.getTargetContainer:($e=G.getTargetContainer)===null||$e===void 0?void 0:$e.value}),fe=computed(()=>{var $e;return H.getPopupContainer!==void 0?H.getPopupContainer:($e=G.getPopupContainer)===null||$e===void 0?void 0:$e.value}),pe=computed(()=>{var $e;return H.pageHeader!==void 0?H.pageHeader:($e=G.pageHeader)===null||$e===void 0?void 0:$e.value}),me=computed(()=>{var $e;return H.input!==void 0?H.input:($e=G.input)===null||$e===void 0?void 0:$e.value}),ue=computed(()=>{var $e;return H.pagination!==void 0?H.pagination:($e=G.pagination)===null||$e===void 0?void 0:$e.value}),ge=computed(()=>{var $e;return H.form!==void 0?H.form:($e=G.form)===null||$e===void 0?void 0:$e.value}),he=computed(()=>{var $e;return H.select!==void 0?H.select:($e=G.select)===null||$e===void 0?void 0:$e.value}),ve=computed(()=>H.componentSize),ye=computed(()=>H.componentDisabled),be=computed(()=>{var $e,Ee;return($e=H.wave)!==null&&$e!==void 0?$e:(Ee=G.wave)===null||Ee===void 0?void 0:Ee.value}),Se={csp:Z,autoInsertSpaceInButton:oe,locale:re,direction:ae,space:se,virtual:ce,dropdownMatchSelectWidth:de,getPrefixCls:U,iconPrefixCls:X,theme:computed(()=>{var $e,Ee;return($e=ne.value)!==null&&$e!==void 0?$e:(Ee=G.theme)===null||Ee===void 0?void 0:Ee.value}),renderEmpty:te,getTargetContainer:le,getPopupContainer:fe,pageHeader:pe,input:me,pagination:ue,form:ge,select:he,componentSize:ve,componentDisabled:ye,transformCellText:computed(()=>H.transformCellText),wave:be},Ce=computed(()=>{const $e=ne.value||{},{algorithm:Ee,token:Te}=$e,Be=__rest$m($e,["algorithm","token"]),Ae=Ee&&(!Array.isArray(Ee)||Ee.length>0)?createTheme(Ee):void 0;return _extends$1(_extends$1({},Be),{theme:Ae,token:_extends$1(_extends$1({},seedToken),Te)})}),xe=computed(()=>{var $e,Ee;let Te={};return re.value&&(Te=(($e=re.value.Form)===null||$e===void 0?void 0:$e.defaultValidateMessages)||((Ee=localeValues.Form)===null||Ee===void 0?void 0:Ee.defaultValidateMessages)||{}),H.form&&H.form.validateMessages&&(Te=_extends$1(_extends$1({},Te),H.form.validateMessages)),Te});useConfigContextProvider(Se),useProvideGlobalForm({validateMessages:xe}),useProviderSize(ve),useProviderDisabled(ye);const Ne=$e=>{var Ee,Te;let Be=Q.value?ee((Ee=W.default)===null||Ee===void 0?void 0:Ee.call(W)):(Te=W.default)===null||Te===void 0?void 0:Te.call(W);if(H.theme){const Ae=function(){return Be}();Be=createVNode(DesignTokenProvider,{value:Ce.value},{default:()=>[Ae]})}return createVNode(locale,{locale:re.value||$e,ANT_MARK__:ANT_MARK},{default:()=>[Be]})};return watchEffect(()=>{ae.value&&(api$1.config({rtl:ae.value==="rtl"}),api.config({rtl:ae.value==="rtl"}))}),()=>createVNode(LocaleReceiver,{children:($e,Ee,Te)=>Ne(Te)},null)}});ConfigProvider.config=setGlobalConfig;ConfigProvider.install=function(H){H.component(ConfigProvider.name,ConfigProvider)};const genTagStatusStyle=(H,K,W)=>{const G=capitalize(W);return{[`${H.componentCls}-${K}`]:{color:H[`color${W}`],background:H[`color${G}Bg`],borderColor:H[`color${G}Border`],[`&${H.componentCls}-borderless`]:{borderColor:"transparent"}}}},genPresetStyle=H=>genPresetColor(H,(K,W)=>{let{textColor:G,lightBorderColor:U,lightColor:X,darkColor:Q}=W;return{[`${H.componentCls}-${K}`]:{color:G,background:X,borderColor:U,"&-inverse":{color:H.colorTextLightSolid,background:Q,borderColor:Q},[`&${H.componentCls}-borderless`]:{borderColor:"transparent"}}}}),genBaseStyle$3=H=>{const{paddingXXS:K,lineWidth:W,tagPaddingHorizontal:G,componentCls:U}=H,X=G-W,Q=K-W;return{[U]:_extends$1(_extends$1({},resetComponent(H)),{display:"inline-block",height:"auto",marginInlineEnd:H.marginXS,paddingInline:X,fontSize:H.tagFontSize,lineHeight:`${H.tagLineHeight}px`,whiteSpace:"nowrap",background:H.tagDefaultBg,border:`${H.lineWidth}px ${H.lineType} ${H.colorBorder}`,borderRadius:H.borderRadiusSM,opacity:1,transition:`all ${H.motionDurationMid}`,textAlign:"start",[`&${U}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:H.tagDefaultColor},[`${U}-close-icon`]:{marginInlineStart:Q,color:H.colorTextDescription,fontSize:H.tagIconSize,cursor:"pointer",transition:`all ${H.motionDurationMid}`,"&:hover":{color:H.colorTextHeading}},[`&${U}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${H.iconCls}-close, ${H.iconCls}-close:hover`]:{color:H.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${U}-checkable-checked):hover`]:{color:H.colorPrimary,backgroundColor:H.colorFillSecondary},"&:active, &-checked":{color:H.colorTextLightSolid},"&-checked":{backgroundColor:H.colorPrimary,"&:hover":{backgroundColor:H.colorPrimaryHover}},"&:active":{backgroundColor:H.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${H.iconCls} + span, > span + ${H.iconCls}`]:{marginInlineStart:X}}),[`${U}-borderless`]:{borderColor:"transparent",background:H.tagBorderlessBg}}},useStyle$d=genComponentStyleHook("Tag",H=>{const{fontSize:K,lineHeight:W,lineWidth:G,fontSizeIcon:U}=H,X=Math.round(K*W),Q=H.fontSizeSM,Z=X-G*2,ee=H.colorFillAlter,ne=H.colorText,te=merge(H,{tagFontSize:Q,tagLineHeight:Z,tagDefaultBg:ee,tagDefaultColor:ne,tagIconSize:U-2*G,tagPaddingHorizontal:8,tagBorderlessBg:H.colorFillTertiary});return[genBaseStyle$3(te),genPresetStyle(te),genTagStatusStyle(te,"success","Success"),genTagStatusStyle(te,"processing","Info"),genTagStatusStyle(te,"error","Error"),genTagStatusStyle(te,"warning","Warning")]}),checkableTagProps=()=>({prefixCls:String,checked:{type:Boolean,default:void 0},onChange:{type:Function},onClick:{type:Function},"onUpdate:checked":Function}),CheckableTag=defineComponent({compatConfig:{MODE:3},name:"ACheckableTag",inheritAttrs:!1,props:checkableTagProps(),setup(H,K){let{slots:W,emit:G,attrs:U}=K;const{prefixCls:X}=useConfigInject("tag",H),[Q,Z]=useStyle$d(X),ee=te=>{const{checked:oe}=H;G("update:checked",!oe),G("change",!oe),G("click",te)},ne=computed(()=>classNames(X.value,Z.value,{[`${X.value}-checkable`]:!0,[`${X.value}-checkable-checked`]:H.checked}));return()=>{var te;return Q(createVNode("span",_objectSpread2$1(_objectSpread2$1({},U),{},{class:[ne.value,U.class],onClick:ee}),[(te=W.default)===null||te===void 0?void 0:te.call(W)]))}}}),tagProps=()=>({prefixCls:String,color:{type:String},closable:{type:Boolean,default:!1},closeIcon:PropTypes.any,visible:{type:Boolean,default:void 0},onClose:{type:Function},onClick:eventType(),"onUpdate:visible":Function,icon:PropTypes.any,bordered:{type:Boolean,default:!0}}),Tag$1=defineComponent({compatConfig:{MODE:3},name:"ATag",inheritAttrs:!1,props:tagProps(),slots:Object,setup(H,K){let{slots:W,emit:G,attrs:U}=K;const{prefixCls:X,direction:Q}=useConfigInject("tag",H),[Z,ee]=useStyle$d(X),ne=shallowRef(!0);watchEffect(()=>{H.visible!==void 0&&(ne.value=H.visible)});const te=se=>{se.stopPropagation(),G("update:visible",!1),G("close",se),!se.defaultPrevented&&H.visible===void 0&&(ne.value=!1)},oe=computed(()=>isPresetColor(H.color)||isPresetStatusColor(H.color)),re=computed(()=>classNames(X.value,ee.value,{[`${X.value}-${H.color}`]:oe.value,[`${X.value}-has-color`]:H.color&&!oe.value,[`${X.value}-hidden`]:!ne.value,[`${X.value}-rtl`]:Q.value==="rtl",[`${X.value}-borderless`]:!H.bordered})),ae=se=>{G("click",se)};return()=>{var se,ce,de;const{icon:le=(se=W.icon)===null||se===void 0?void 0:se.call(W),color:fe,closeIcon:pe=(ce=W.closeIcon)===null||ce===void 0?void 0:ce.call(W),closable:me=!1}=H,ue=()=>me?pe?createVNode("span",{class:`${X.value}-close-icon`,onClick:te},[pe]):createVNode(CloseOutlined,{class:`${X.value}-close-icon`,onClick:te},null):null,ge={backgroundColor:fe&&!oe.value?fe:void 0},he=le||null,ve=(de=W.default)===null||de===void 0?void 0:de.call(W),ye=he?createVNode(Fragment,null,[he,createVNode("span",null,[ve])]):ve,be=H.onClick!==void 0,Se=createVNode("span",_objectSpread2$1(_objectSpread2$1({},U),{},{onClick:ae,class:[re.value,U.class],style:[ge,U.style]}),[ye,ue()]);return Z(be?createVNode(Wave,null,{default:()=>[Se]}):Se)}}});Tag$1.CheckableTag=CheckableTag;Tag$1.install=function(H){return H.component(Tag$1.name,Tag$1),H.component(CheckableTag.name,CheckableTag),H};const genSharedDividerStyle=H=>{const{componentCls:K,sizePaddingEdgeHorizontal:W,colorSplit:G,lineWidth:U}=H;return{[K]:_extends$1(_extends$1({},resetComponent(H)),{borderBlockStart:`${U}px solid ${G}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",margin:`0 ${H.dividerVerticalGutterMargin}px`,verticalAlign:"middle",borderTop:0,borderInlineStart:`${U}px solid ${G}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${H.dividerHorizontalGutterMargin}px 0`},[`&-horizontal${K}-with-text`]:{display:"flex",alignItems:"center",margin:`${H.dividerHorizontalWithTextGutterMargin}px 0`,color:H.colorTextHeading,fontWeight:500,fontSize:H.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${G}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${U}px solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${K}-with-text-left`]:{"&::before":{width:"5%"},"&::after":{width:"95%"}},[`&-horizontal${K}-with-text-right`]:{"&::before":{width:"95%"},"&::after":{width:"5%"}},[`${K}-inner-text`]:{display:"inline-block",padding:"0 1em"},"&-dashed":{background:"none",borderColor:G,borderStyle:"dashed",borderWidth:`${U}px 0 0`},[`&-horizontal${K}-with-text${K}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${K}-dashed`]:{borderInlineStartWidth:U,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${K}-with-text`]:{color:H.colorText,fontWeight:"normal",fontSize:H.fontSize},[`&-horizontal${K}-with-text-left${K}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${K}-inner-text`]:{paddingInlineStart:W}},[`&-horizontal${K}-with-text-right${K}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${K}-inner-text`]:{paddingInlineEnd:W}}})}},useStyle$c=genComponentStyleHook("Divider",H=>{const K=merge(H,{dividerVerticalGutterMargin:H.marginXS,dividerHorizontalWithTextGutterMargin:H.margin,dividerHorizontalGutterMargin:H.marginLG});return[genSharedDividerStyle(K)]},{sizePaddingEdgeHorizontal:0}),dividerProps=()=>({prefixCls:String,type:{type:String,default:"horizontal"},dashed:{type:Boolean,default:!1},orientation:{type:String,default:"center"},plain:{type:Boolean,default:!1},orientationMargin:[String,Number]}),Divider=defineComponent({name:"ADivider",inheritAttrs:!1,compatConfig:{MODE:3},props:dividerProps(),setup(H,K){let{slots:W,attrs:G}=K;const{prefixCls:U,direction:X}=useConfigInject("divider",H),[Q,Z]=useStyle$c(U),ee=computed(()=>H.orientation==="left"&&H.orientationMargin!=null),ne=computed(()=>H.orientation==="right"&&H.orientationMargin!=null),te=computed(()=>{const{type:ae,dashed:se,plain:ce}=H,de=U.value;return{[de]:!0,[Z.value]:!!Z.value,[`${de}-${ae}`]:!0,[`${de}-dashed`]:!!se,[`${de}-plain`]:!!ce,[`${de}-rtl`]:X.value==="rtl",[`${de}-no-default-orientation-margin-left`]:ee.value,[`${de}-no-default-orientation-margin-right`]:ne.value}}),oe=computed(()=>{const ae=typeof H.orientationMargin=="number"?`${H.orientationMargin}px`:H.orientationMargin;return _extends$1(_extends$1({},ee.value&&{marginLeft:ae}),ne.value&&{marginRight:ae})}),re=computed(()=>H.orientation.length>0?"-"+H.orientation:H.orientation);return()=>{var ae;const se=flattenChildren((ae=W.default)===null||ae===void 0?void 0:ae.call(W));return Q(createVNode("div",_objectSpread2$1(_objectSpread2$1({},G),{},{class:[te.value,se.length?`${U.value}-with-text ${U.value}-with-text${re.value}`:"",G.class],role:"separator"}),[se.length?createVNode("span",{class:`${U.value}-inner-text`,style:oe.value},[se]):null]))}}}),__unplugin_components_2$1=withInstall(Divider);Dropdown.Button=DropdownButton;Dropdown.install=function(H){return H.component(Dropdown.name,Dropdown),H.component(DropdownButton.name,DropdownButton),H};const isValid$1=H=>H!=null&&(Array.isArray(H)?filterEmpty(H).length:!0);function hasPrefixSuffix(H){return isValid$1(H.prefix)||isValid$1(H.suffix)||isValid$1(H.allowClear)}function hasAddon$1(H){return isValid$1(H.addonBefore)||isValid$1(H.addonAfter)}function fixControlledValue(H){return typeof H>"u"||H===null?"":String(H)}function resolveOnChange(H,K,W,G){if(!W)return;const U=K;if(K.type==="click"){Object.defineProperty(U,"target",{writable:!0}),Object.defineProperty(U,"currentTarget",{writable:!0});const X=H.cloneNode(!0);U.target=X,U.currentTarget=X,X.value="",W(U);return}if(G!==void 0){Object.defineProperty(U,"target",{writable:!0}),Object.defineProperty(U,"currentTarget",{writable:!0}),U.target=H,U.currentTarget=H,H.value=G,W(U);return}W(U)}function triggerFocus(H,K){if(!H)return;H.focus(K);const{cursor:W}=K||{};if(W){const G=H.value.length;switch(W){case"start":H.setSelectionRange(0,0);break;case"end":H.setSelectionRange(G,G);break;default:H.setSelectionRange(0,G)}}}const commonInputProps=()=>({addonBefore:PropTypes.any,addonAfter:PropTypes.any,prefix:PropTypes.any,suffix:PropTypes.any,clearIcon:PropTypes.any,affixWrapperClassName:String,groupClassName:String,wrapperClassName:String,inputClassName:String,allowClear:{type:Boolean,default:void 0}}),baseInputProps=()=>_extends$1(_extends$1({},commonInputProps()),{value:{type:[String,Number,Symbol],default:void 0},defaultValue:{type:[String,Number,Symbol],default:void 0},inputElement:PropTypes.any,prefixCls:String,disabled:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},triggerFocus:Function,readonly:{type:Boolean,default:void 0},handleReset:Function,hidden:{type:Boolean,default:void 0}}),inputProps$1=()=>_extends$1(_extends$1({},baseInputProps()),{id:String,placeholder:{type:[String,Number]},autocomplete:String,type:stringType("text"),name:String,size:{type:String},autofocus:{type:Boolean,default:void 0},lazy:{type:Boolean,default:!0},maxlength:Number,loading:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},showCount:{type:[Boolean,Object]},htmlSize:Number,onPressEnter:Function,onKeydown:Function,onKeyup:Function,onFocus:Function,onBlur:Function,onChange:Function,onInput:Function,"onUpdate:value":Function,onCompositionstart:Function,onCompositionend:Function,valueModifiers:Object,hidden:{type:Boolean,default:void 0},status:String}),BaseInput=defineComponent({name:"BaseInput",inheritAttrs:!1,props:baseInputProps(),setup(H,K){let{slots:W,attrs:G}=K;const U=ref(),X=Z=>{var ee;if(!((ee=U.value)===null||ee===void 0)&&ee.contains(Z.target)){const{triggerFocus:ne}=H;ne?.()}},Q=()=>{var Z;const{allowClear:ee,value:ne,disabled:te,readonly:oe,handleReset:re,suffix:ae=W.suffix,prefixCls:se}=H;if(!ee)return null;const ce=!te&&!oe&&ne,de=`${se}-clear-icon`,le=((Z=W.clearIcon)===null||Z===void 0?void 0:Z.call(W))||"*";return createVNode("span",{onClick:re,onMousedown:fe=>fe.preventDefault(),class:classNames({[`${de}-hidden`]:!ce,[`${de}-has-suffix`]:!!ae},de),role:"button",tabindex:-1},[le])};return()=>{var Z,ee;const{focused:ne,value:te,disabled:oe,allowClear:re,readonly:ae,hidden:se,prefixCls:ce,prefix:de=(Z=W.prefix)===null||Z===void 0?void 0:Z.call(W),suffix:le=(ee=W.suffix)===null||ee===void 0?void 0:ee.call(W),addonAfter:fe=W.addonAfter,addonBefore:pe=W.addonBefore,inputElement:me,affixWrapperClassName:ue,wrapperClassName:ge,groupClassName:he}=H;let ve=cloneElement(me,{value:te,hidden:se});if(hasPrefixSuffix({prefix:de,suffix:le,allowClear:re})){const ye=`${ce}-affix-wrapper`,be=classNames(ye,{[`${ye}-disabled`]:oe,[`${ye}-focused`]:ne,[`${ye}-readonly`]:ae,[`${ye}-input-with-clear-btn`]:le&&re&&te},!hasAddon$1({addonAfter:fe,addonBefore:pe})&&G.class,ue),Se=(le||re)&&createVNode("span",{class:`${ce}-suffix`},[Q(),le]);ve=createVNode("span",{class:be,style:G.style,hidden:!hasAddon$1({addonAfter:fe,addonBefore:pe})&&se,onMousedown:X,ref:U},[de&&createVNode("span",{class:`${ce}-prefix`},[de]),cloneElement(me,{style:null,value:te,hidden:null}),Se])}if(hasAddon$1({addonAfter:fe,addonBefore:pe})){const ye=`${ce}-group`,be=`${ye}-addon`,Se=classNames(`${ce}-wrapper`,ye,ge),Ce=classNames(`${ce}-group-wrapper`,G.class,he);return createVNode("span",{class:Ce,style:G.style,hidden:se},[createVNode("span",{class:Se},[pe&&createVNode("span",{class:be},[pe]),cloneElement(ve,{style:null,hidden:null}),fe&&createVNode("span",{class:be},[fe])])])}return ve}}});var __rest$l=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const VcInput=defineComponent({name:"VCInput",inheritAttrs:!1,props:inputProps$1(),setup(H,K){let{slots:W,attrs:G,expose:U,emit:X}=K;const Q=shallowRef(H.value===void 0?H.defaultValue:H.value),Z=shallowRef(!1),ee=shallowRef(),ne=shallowRef();watch(()=>H.value,()=>{Q.value=H.value}),watch(()=>H.disabled,()=>{H.disabled&&(Z.value=!1)});const te=he=>{ee.value&&triggerFocus(ee.value.input,he)},oe=()=>{var he;(he=ee.value.input)===null||he===void 0||he.blur()},re=(he,ve,ye)=>{var be;(be=ee.value.input)===null||be===void 0||be.setSelectionRange(he,ve,ye)},ae=()=>{var he;(he=ee.value.input)===null||he===void 0||he.select()};U({focus:te,blur:oe,input:computed(()=>{var he;return(he=ee.value.input)===null||he===void 0?void 0:he.input}),stateValue:Q,setSelectionRange:re,select:ae});const se=he=>{X("change",he)},ce=(he,ve)=>{Q.value!==he&&(H.value===void 0?Q.value=he:nextTick(()=>{var ye;ee.value.input.value!==Q.value&&((ye=ne.value)===null||ye===void 0||ye.$forceUpdate())}),nextTick(()=>{ve&&ve()}))},de=he=>{const{value:ve}=he.target;if(Q.value===ve)return;const ye=he.target.value;resolveOnChange(ee.value.input,he,se),ce(ye)},le=he=>{he.keyCode===13&&X("pressEnter",he),X("keydown",he)},fe=he=>{Z.value=!0,X("focus",he)},pe=he=>{Z.value=!1,X("blur",he)},me=he=>{resolveOnChange(ee.value.input,he,se),ce("",()=>{te()})},ue=()=>{var he,ve;const{addonBefore:ye=W.addonBefore,addonAfter:be=W.addonAfter,disabled:Se,valueModifiers:Ce={},htmlSize:xe,autocomplete:Ne,prefixCls:$e,inputClassName:Ee,prefix:Te=(he=W.prefix)===null||he===void 0?void 0:he.call(W),suffix:Be=(ve=W.suffix)===null||ve===void 0?void 0:ve.call(W),allowClear:Ae,type:ze="text"}=H,We=omit$1(H,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","bordered","htmlSize","lazy","showCount","valueModifiers","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName"]),Le=_extends$1(_extends$1(_extends$1({},We),G),{autocomplete:Ne,onChange:de,onInput:de,onFocus:fe,onBlur:pe,onKeydown:le,class:classNames($e,{[`${$e}-disabled`]:Se},Ee,!hasAddon$1({addonAfter:be,addonBefore:ye})&&!hasPrefixSuffix({prefix:Te,suffix:Be,allowClear:Ae})&&G.class),ref:ee,key:"ant-input",size:xe,type:ze,lazy:H.lazy});return Ce.lazy&&delete Le.onInput,Le.autofocus||delete Le.autofocus,createVNode(BaseInput$1,omit$1(Le,["size"]),null)},ge=()=>{var he;const{maxlength:ve,suffix:ye=(he=W.suffix)===null||he===void 0?void 0:he.call(W),showCount:be,prefixCls:Se}=H,Ce=Number(ve)>0;if(ye||be){const xe=[...fixControlledValue(Q.value)].length,Ne=typeof be=="object"?be.formatter({count:xe,maxlength:ve}):`${xe}${Ce?` / ${ve}`:""}`;return createVNode(Fragment,null,[!!be&&createVNode("span",{class:classNames(`${Se}-show-count-suffix`,{[`${Se}-show-count-has-suffix`]:!!ye})},[Ne]),ye])}return null};return onMounted(()=>{}),()=>{const{prefixCls:he,disabled:ve}=H,ye=__rest$l(H,["prefixCls","disabled"]);return createVNode(BaseInput,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},ye),G),{},{ref:ne,prefixCls:he,inputElement:ue(),handleReset:me,value:fixControlledValue(Q.value),focused:Z.value,triggerFocus:te,suffix:ge(),disabled:ve}),W)}}}),inputProps=()=>omit$1(inputProps$1(),["wrapperClassName","groupClassName","inputClassName","affixWrapperClassName"]),textAreaProps=()=>_extends$1(_extends$1({},omit$1(inputProps(),["prefix","addonBefore","addonAfter","suffix"])),{rows:Number,autosize:{type:[Boolean,Object],default:void 0},autoSize:{type:[Boolean,Object],default:void 0},onResize:{type:Function},onCompositionstart:eventType(),onCompositionend:eventType(),valueModifiers:Object});var __rest$k=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const Input=defineComponent({compatConfig:{MODE:3},name:"AInput",inheritAttrs:!1,props:inputProps(),setup(H,K){let{slots:W,attrs:G,expose:U,emit:X}=K;const Q=ref(),Z=useInjectFormItemContext(),ee=FormItemInputContext.useInject(),ne=computed(()=>getMergedStatus(ee.status,H.status)),{direction:te,prefixCls:oe,size:re,autocomplete:ae}=useConfigInject("input",H),{compactSize:se,compactItemClassnames:ce}=useCompactItemContext(oe,te),de=computed(()=>se.value||re.value),[le,fe]=useStyle$n(oe),pe=useInjectDisabled();U({focus:xe=>{var Ne;(Ne=Q.value)===null||Ne===void 0||Ne.focus(xe)},blur:()=>{var xe;(xe=Q.value)===null||xe===void 0||xe.blur()},input:Q,setSelectionRange:(xe,Ne,$e)=>{var Ee;(Ee=Q.value)===null||Ee===void 0||Ee.setSelectionRange(xe,Ne,$e)},select:()=>{var xe;(xe=Q.value)===null||xe===void 0||xe.select()}});const ve=ref([]),ye=()=>{ve.value.push(setTimeout(()=>{var xe,Ne,$e,Ee;!((xe=Q.value)===null||xe===void 0)&&xe.input&&((Ne=Q.value)===null||Ne===void 0?void 0:Ne.input.getAttribute("type"))==="password"&&(!(($e=Q.value)===null||$e===void 0)&&$e.input.hasAttribute("value"))&&((Ee=Q.value)===null||Ee===void 0||Ee.input.removeAttribute("value"))}))};onMounted(()=>{ye()}),onBeforeUpdate(()=>{ve.value.forEach(xe=>clearTimeout(xe))}),onBeforeUnmount(()=>{ve.value.forEach(xe=>clearTimeout(xe))});const be=xe=>{ye(),X("blur",xe),Z.onFieldBlur()},Se=xe=>{ye(),X("focus",xe)},Ce=xe=>{X("update:value",xe.target.value),X("change",xe),X("input",xe),Z.onFieldChange()};return()=>{var xe,Ne,$e,Ee,Te,Be;const{hasFeedback:Ae,feedbackIcon:ze}=ee,{allowClear:We,bordered:Le=!0,prefix:Ze=(xe=W.prefix)===null||xe===void 0?void 0:xe.call(W),suffix:Ye=(Ne=W.suffix)===null||Ne===void 0?void 0:Ne.call(W),addonAfter:Re=($e=W.addonAfter)===null||$e===void 0?void 0:$e.call(W),addonBefore:Ke=(Ee=W.addonBefore)===null||Ee===void 0?void 0:Ee.call(W),id:we=(Te=Z.id)===null||Te===void 0?void 0:Te.value}=H,_e=__rest$k(H,["allowClear","bordered","prefix","suffix","addonAfter","addonBefore","id"]),Ve=(Ae||Ye)&&createVNode(Fragment,null,[Ye,Ae&&ze]),je=oe.value,qe=hasPrefixSuffix({prefix:Ze,suffix:Ye})||!!Ae,Pe=W.clearIcon||(()=>createVNode(CloseCircleFilled,null,null));return le(createVNode(VcInput,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},G),omit$1(_e,["onUpdate:value","onChange","onInput"])),{},{onChange:Ce,id:we,disabled:(Be=H.disabled)!==null&&Be!==void 0?Be:pe.value,ref:Q,prefixCls:je,autocomplete:ae.value,onBlur:be,onFocus:Se,prefix:Ze,suffix:Ve,allowClear:We,addonAfter:Re&&createVNode(NoCompactStyle,null,{default:()=>[createVNode(NoFormStatus,null,{default:()=>[Re]})]}),addonBefore:Ke&&createVNode(NoCompactStyle,null,{default:()=>[createVNode(NoFormStatus,null,{default:()=>[Ke]})]}),class:[G.class,ce.value],inputClassName:classNames({[`${je}-sm`]:de.value==="small",[`${je}-lg`]:de.value==="large",[`${je}-rtl`]:te.value==="rtl",[`${je}-borderless`]:!Le},!qe&&getStatusClassNames(je,ne.value),fe.value),affixWrapperClassName:classNames({[`${je}-affix-wrapper-sm`]:de.value==="small",[`${je}-affix-wrapper-lg`]:de.value==="large",[`${je}-affix-wrapper-rtl`]:te.value==="rtl",[`${je}-affix-wrapper-borderless`]:!Le},getStatusClassNames(`${je}-affix-wrapper`,ne.value,Ae),fe.value),wrapperClassName:classNames({[`${je}-group-rtl`]:te.value==="rtl"},fe.value),groupClassName:classNames({[`${je}-group-wrapper-sm`]:de.value==="small",[`${je}-group-wrapper-lg`]:de.value==="large",[`${je}-group-wrapper-rtl`]:te.value==="rtl"},getStatusClassNames(`${je}-group-wrapper`,ne.value,Ae),fe.value)}),_extends$1(_extends$1({},W),{clearIcon:Pe})))}}}),__unplugin_components_2=defineComponent({compatConfig:{MODE:3},name:"AInputGroup",inheritAttrs:!1,props:{prefixCls:String,size:{type:String},compact:{type:Boolean,default:void 0}},setup(H,K){let{slots:W,attrs:G}=K;const{prefixCls:U,direction:X,getPrefixCls:Q}=useConfigInject("input-group",H),Z=FormItemInputContext.useInject();FormItemInputContext.useProvide(Z,{isFormItemInput:!1});const ee=computed(()=>Q("input")),[ne,te]=useStyle$n(ee),oe=computed(()=>{const re=U.value;return{[`${re}`]:!0,[te.value]:!0,[`${re}-lg`]:H.size==="large",[`${re}-sm`]:H.size==="small",[`${re}-compact`]:H.compact,[`${re}-rtl`]:X.value==="rtl"}});return()=>{var re;return ne(createVNode("span",_objectSpread2$1(_objectSpread2$1({},G),{},{class:classNames(oe.value,G.class)}),[(re=W.default)===null||re===void 0?void 0:re.call(W)]))}}});var __rest$j=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const Search=defineComponent({compatConfig:{MODE:3},name:"AInputSearch",inheritAttrs:!1,props:_extends$1(_extends$1({},inputProps()),{inputPrefixCls:String,enterButton:PropTypes.any,onSearch:{type:Function}}),setup(H,K){let{slots:W,attrs:G,expose:U,emit:X}=K;const Q=shallowRef(),Z=shallowRef(!1);U({focus:()=>{var ue;(ue=Q.value)===null||ue===void 0||ue.focus()},blur:()=>{var ue;(ue=Q.value)===null||ue===void 0||ue.blur()}});const te=ue=>{X("update:value",ue.target.value),ue&&ue.target&&ue.type==="click"&&X("search",ue.target.value,ue),X("change",ue)},oe=ue=>{var ge;document.activeElement===((ge=Q.value)===null||ge===void 0?void 0:ge.input)&&ue.preventDefault()},re=ue=>{var ge,he;X("search",(he=(ge=Q.value)===null||ge===void 0?void 0:ge.input)===null||he===void 0?void 0:he.stateValue,ue)},ae=ue=>{Z.value||H.loading||re(ue)},se=ue=>{Z.value=!0,X("compositionstart",ue)},ce=ue=>{Z.value=!1,X("compositionend",ue)},{prefixCls:de,getPrefixCls:le,direction:fe,size:pe}=useConfigInject("input-search",H),me=computed(()=>le("input",H.inputPrefixCls));return()=>{var ue,ge,he,ve;const{disabled:ye,loading:be,addonAfter:Se=(ue=W.addonAfter)===null||ue===void 0?void 0:ue.call(W),suffix:Ce=(ge=W.suffix)===null||ge===void 0?void 0:ge.call(W)}=H,xe=__rest$j(H,["disabled","loading","addonAfter","suffix"]);let{enterButton:Ne=(ve=(he=W.enterButton)===null||he===void 0?void 0:he.call(W))!==null&&ve!==void 0?ve:!1}=H;Ne=Ne||Ne==="";const $e=typeof Ne=="boolean"?createVNode(SearchOutlined,null,null):null,Ee=`${de.value}-button`,Te=Array.isArray(Ne)?Ne[0]:Ne;let Be;const Ae=Te.type&&isPlainObject(Te.type)&&Te.type.__ANT_BUTTON;if(Ae||Te.tagName==="button")Be=cloneElement(Te,_extends$1({onMousedown:oe,onClick:re,key:"enterButton"},Ae?{class:Ee,size:pe.value}:{}),!1);else{const We=$e&&!Ne;Be=createVNode(Button$1,{class:Ee,type:Ne?"primary":void 0,size:pe.value,disabled:ye,key:"enterButton",onMousedown:oe,onClick:re,loading:be,icon:We?$e:null},{default:()=>[We?null:$e||Ne]})}Se&&(Be=[Be,Se]);const ze=classNames(de.value,{[`${de.value}-rtl`]:fe.value==="rtl",[`${de.value}-${pe.value}`]:!!pe.value,[`${de.value}-with-button`]:!!Ne},G.class);return createVNode(Input,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({ref:Q},omit$1(xe,["onUpdate:value","onSearch","enterButton"])),G),{},{onPressEnter:ae,onCompositionstart:se,onCompositionend:ce,size:pe.value,prefixCls:me.value,addonAfter:Be,suffix:Ce,onChange:te,class:ze,disabled:ye}),W)}}}),isValid=H=>H!=null&&(Array.isArray(H)?filterEmpty(H).length:!0);function hasAddon(H){return isValid(H.addonBefore)||isValid(H.addonAfter)}const ClearableInputType=["text","input"],ClearableLabeledInput=defineComponent({compatConfig:{MODE:3},name:"ClearableLabeledInput",inheritAttrs:!1,props:{prefixCls:String,inputType:PropTypes.oneOf(tuple("text","input")),value:anyType(),defaultValue:anyType(),allowClear:{type:Boolean,default:void 0},element:anyType(),handleReset:Function,disabled:{type:Boolean,default:void 0},direction:{type:String},size:{type:String},suffix:anyType(),prefix:anyType(),addonBefore:anyType(),addonAfter:anyType(),readonly:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},bordered:{type:Boolean,default:!0},triggerFocus:{type:Function},hidden:Boolean,status:String,hashId:String},setup(H,K){let{slots:W,attrs:G}=K;const U=FormItemInputContext.useInject(),X=Z=>{const{value:ee,disabled:ne,readonly:te,handleReset:oe,suffix:re=W.suffix}=H,ae=!ne&&!te&&ee,se=`${Z}-clear-icon`;return createVNode(CloseCircleFilled,{onClick:oe,onMousedown:ce=>ce.preventDefault(),class:classNames({[`${se}-hidden`]:!ae,[`${se}-has-suffix`]:!!re},se),role:"button"},null)},Q=(Z,ee)=>{const{value:ne,allowClear:te,direction:oe,bordered:re,hidden:ae,status:se,addonAfter:ce=W.addonAfter,addonBefore:de=W.addonBefore,hashId:le}=H,{status:fe,hasFeedback:pe}=U;if(!te)return cloneElement(ee,{value:ne,disabled:H.disabled});const me=classNames(`${Z}-affix-wrapper`,`${Z}-affix-wrapper-textarea-with-clear-btn`,getStatusClassNames(`${Z}-affix-wrapper`,getMergedStatus(fe,se),pe),{[`${Z}-affix-wrapper-rtl`]:oe==="rtl",[`${Z}-affix-wrapper-borderless`]:!re,[`${G.class}`]:!hasAddon({addonAfter:ce,addonBefore:de})&&G.class},le);return createVNode("span",{class:me,style:G.style,hidden:ae},[cloneElement(ee,{style:null,value:ne,disabled:H.disabled}),X(Z)])};return()=>{var Z;const{prefixCls:ee,inputType:ne,element:te=(Z=W.element)===null||Z===void 0?void 0:Z.call(W)}=H;return ne===ClearableInputType[0]?Q(ee,te):null}}}),HIDDEN_TEXTAREA_STYLE=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,SIZING_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],computedStyleCache={};let hiddenTextarea;function calculateNodeStyling(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const W=H.getAttribute("id")||H.getAttribute("data-reactid")||H.getAttribute("name");if(K&&computedStyleCache[W])return computedStyleCache[W];const G=window.getComputedStyle(H),U=G.getPropertyValue("box-sizing")||G.getPropertyValue("-moz-box-sizing")||G.getPropertyValue("-webkit-box-sizing"),X=parseFloat(G.getPropertyValue("padding-bottom"))+parseFloat(G.getPropertyValue("padding-top")),Q=parseFloat(G.getPropertyValue("border-bottom-width"))+parseFloat(G.getPropertyValue("border-top-width")),ee={sizingStyle:SIZING_STYLE.map(ne=>`${ne}:${G.getPropertyValue(ne)}`).join(";"),paddingSize:X,borderSize:Q,boxSizing:U};return K&&W&&(computedStyleCache[W]=ee),ee}function calculateAutoSizeStyle(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),hiddenTextarea.setAttribute("tab-index","-1"),hiddenTextarea.setAttribute("aria-hidden","true"),document.body.appendChild(hiddenTextarea)),H.getAttribute("wrap")?hiddenTextarea.setAttribute("wrap",H.getAttribute("wrap")):hiddenTextarea.removeAttribute("wrap");const{paddingSize:U,borderSize:X,boxSizing:Q,sizingStyle:Z}=calculateNodeStyling(H,K);hiddenTextarea.setAttribute("style",`${Z};${HIDDEN_TEXTAREA_STYLE}`),hiddenTextarea.value=H.value||H.placeholder||"";let ee,ne,te,oe=hiddenTextarea.scrollHeight;if(Q==="border-box"?oe+=X:Q==="content-box"&&(oe-=U),W!==null||G!==null){hiddenTextarea.value=" ";const ae=hiddenTextarea.scrollHeight-U;W!==null&&(ee=ae*W,Q==="border-box"&&(ee=ee+U+X),oe=Math.max(ee,oe)),G!==null&&(ne=ae*G,Q==="border-box"&&(ne=ne+U+X),te=oe>ne?"":"hidden",oe=Math.min(ne,oe))}const re={height:`${oe}px`,overflowY:te,resize:"none"};return ee&&(re.minHeight=`${ee}px`),ne&&(re.maxHeight=`${ne}px`),re}const RESIZE_START=0,RESIZE_MEASURING=1,RESIZE_STABLE=2,ResizableTextArea=defineComponent({compatConfig:{MODE:3},name:"ResizableTextArea",inheritAttrs:!1,props:textAreaProps(),setup(H,K){let{attrs:W,emit:G,expose:U}=K,X,Q;const Z=ref(),ee=ref({}),ne=ref(RESIZE_STABLE);onBeforeUnmount(()=>{wrapperRaf.cancel(X),wrapperRaf.cancel(Q)});const te=()=>{try{if(Z.value&&document.activeElement===Z.value.input){const ge=Z.value.getSelectionStart(),he=Z.value.getSelectionEnd(),ve=Z.value.getScrollTop();Z.value.setSelectionRange(ge,he),Z.value.setScrollTop(ve)}}catch{}},oe=ref(),re=ref();watchEffect(()=>{const ge=H.autoSize||H.autosize;ge?(oe.value=ge.minRows,re.value=ge.maxRows):(oe.value=void 0,re.value=void 0)});const ae=computed(()=>!!(H.autoSize||H.autosize)),se=()=>{ne.value=RESIZE_START};watch([()=>H.value,oe,re,ae],()=>{ae.value&&se()},{immediate:!0});const ce=ref();watch([ne,Z],()=>{if(Z.value)if(ne.value===RESIZE_START)ne.value=RESIZE_MEASURING;else if(ne.value===RESIZE_MEASURING){const ge=calculateAutoSizeStyle(Z.value.input,!1,oe.value,re.value);ne.value=RESIZE_STABLE,ce.value=ge}else te()},{immediate:!0,flush:"post"});const de=getCurrentInstance(),le=ref(),fe=()=>{wrapperRaf.cancel(le.value)},pe=ge=>{ne.value===RESIZE_STABLE&&(G("resize",ge),ae.value&&(fe(),le.value=wrapperRaf(()=>{se()})))};onBeforeUnmount(()=>{fe()}),U({resizeTextarea:()=>{se()},textArea:computed(()=>{var ge;return(ge=Z.value)===null||ge===void 0?void 0:ge.input}),instance:de}),warning$2(H.autosize===void 0);const ue=()=>{const{prefixCls:ge,disabled:he}=H,ve=omit$1(H,["prefixCls","onPressEnter","autoSize","autosize","defaultValue","allowClear","type","maxlength","valueModifiers"]),ye=classNames(ge,W.class,{[`${ge}-disabled`]:he}),be=ae.value?ce.value:null,Se=[W.style,ee.value,be],Ce=_extends$1(_extends$1(_extends$1({},ve),W),{style:Se,class:ye});return(ne.value===RESIZE_START||ne.value===RESIZE_MEASURING)&&Se.push({overflowX:"hidden",overflowY:"hidden"}),Ce.autofocus||delete Ce.autofocus,Ce.rows===0&&delete Ce.rows,createVNode(ResizeObserver$1,{onResize:pe,disabled:!ae.value},{default:()=>[createVNode(BaseInput$1,_objectSpread2$1(_objectSpread2$1({},Ce),{},{ref:Z,tag:"textarea"}),null)]})};return()=>ue()}});function fixEmojiLength(H,K){return[...H||""].slice(0,K).join("")}function setTriggerValue(H,K,W,G){let U=W;return H?U=fixEmojiLength(W,G):[...K||""].length<W.length&&[...W||""].length>G&&(U=K),U}const __unplugin_components_17=defineComponent({compatConfig:{MODE:3},name:"ATextarea",inheritAttrs:!1,props:textAreaProps(),setup(H,K){let{attrs:W,expose:G,emit:U}=K;var X;const Q=useInjectFormItemContext(),Z=FormItemInputContext.useInject(),ee=computed(()=>getMergedStatus(Z.status,H.status)),ne=shallowRef((X=H.value)!==null&&X!==void 0?X:H.defaultValue),te=shallowRef(),oe=shallowRef(""),{prefixCls:re,size:ae,direction:se}=useConfigInject("input",H),[ce,de]=useStyle$n(re),le=useInjectDisabled(),fe=computed(()=>H.showCount===""||H.showCount||!1),pe=computed(()=>Number(H.maxlength)>0),me=shallowRef(!1),ue=shallowRef(),ge=shallowRef(0),he=Ae=>{me.value=!0,ue.value=oe.value,ge.value=Ae.currentTarget.selectionStart,U("compositionstart",Ae)},ve=Ae=>{var ze;me.value=!1;let We=Ae.currentTarget.value;if(pe.value){const Le=ge.value>=H.maxlength+1||ge.value===((ze=ue.value)===null||ze===void 0?void 0:ze.length);We=setTriggerValue(Le,ue.value,We,H.maxlength)}We!==oe.value&&(Ce(We),resolveOnChange(Ae.currentTarget,Ae,$e,We)),U("compositionend",Ae)},ye=getCurrentInstance();watch(()=>H.value,()=>{var Ae;"value"in ye.vnode.props,ne.value=(Ae=H.value)!==null&&Ae!==void 0?Ae:""});const be=Ae=>{var ze;triggerFocus((ze=te.value)===null||ze===void 0?void 0:ze.textArea,Ae)},Se=()=>{var Ae,ze;(ze=(Ae=te.value)===null||Ae===void 0?void 0:Ae.textArea)===null||ze===void 0||ze.blur()},Ce=(Ae,ze)=>{ne.value!==Ae&&(H.value===void 0?ne.value=Ae:nextTick(()=>{var We,Le,Ze;te.value.textArea.value!==oe.value&&((Ze=(We=te.value)===null||We===void 0?void 0:(Le=We.instance).update)===null||Ze===void 0||Ze.call(Le))}),nextTick(()=>{ze&&ze()}))},xe=Ae=>{Ae.keyCode===13&&U("pressEnter",Ae),U("keydown",Ae)},Ne=Ae=>{const{onBlur:ze}=H;ze?.(Ae),Q.onFieldBlur()},$e=Ae=>{U("update:value",Ae.target.value),U("change",Ae),U("input",Ae),Q.onFieldChange()},Ee=Ae=>{resolveOnChange(te.value.textArea,Ae,$e),Ce("",()=>{be()})},Te=Ae=>{let ze=Ae.target.value;if(ne.value!==ze){if(pe.value){const We=Ae.target,Le=We.selectionStart>=H.maxlength+1||We.selectionStart===ze.length||!We.selectionStart;ze=setTriggerValue(Le,oe.value,ze,H.maxlength)}resolveOnChange(Ae.currentTarget,Ae,$e,ze),Ce(ze)}},Be=()=>{var Ae,ze;const{class:We}=W,{bordered:Le=!0}=H,Ze=_extends$1(_extends$1(_extends$1({},omit$1(H,["allowClear"])),W),{class:[{[`${re.value}-borderless`]:!Le,[`${We}`]:We&&!fe.value,[`${re.value}-sm`]:ae.value==="small",[`${re.value}-lg`]:ae.value==="large"},getStatusClassNames(re.value,ee.value),de.value],disabled:le.value,showCount:null,prefixCls:re.value,onInput:Te,onChange:Te,onBlur:Ne,onKeydown:xe,onCompositionstart:he,onCompositionend:ve});return!((Ae=H.valueModifiers)===null||Ae===void 0)&&Ae.lazy&&delete Ze.onInput,createVNode(ResizableTextArea,_objectSpread2$1(_objectSpread2$1({},Ze),{},{id:(ze=Ze?.id)!==null&&ze!==void 0?ze:Q.id.value,ref:te,maxlength:H.maxlength,lazy:H.lazy}),null)};return G({focus:be,blur:Se,resizableTextArea:te}),watchEffect(()=>{let Ae=fixControlledValue(ne.value);!me.value&&pe.value&&(H.value===null||H.value===void 0)&&(Ae=fixEmojiLength(Ae,H.maxlength)),oe.value=Ae}),()=>{var Ae;const{maxlength:ze,bordered:We=!0,hidden:Le}=H,{style:Ze,class:Ye}=W,Re=_extends$1(_extends$1(_extends$1({},H),W),{prefixCls:re.value,inputType:"text",handleReset:Ee,direction:se.value,bordered:We,style:fe.value?void 0:Ze,hashId:de.value,disabled:(Ae=H.disabled)!==null&&Ae!==void 0?Ae:le.value});let Ke=createVNode(ClearableLabeledInput,_objectSpread2$1(_objectSpread2$1({},Re),{},{value:oe.value,status:H.status}),{element:Be});if(fe.value||Z.hasFeedback){const we=[...oe.value].length;let _e="";typeof fe.value=="object"?_e=fe.value.formatter({value:oe.value,count:we,maxlength:ze}):_e=`${we}${pe.value?` / ${ze}`:""}`,Ke=createVNode("div",{hidden:Le,class:classNames(`${re.value}-textarea`,{[`${re.value}-textarea-rtl`]:se.value==="rtl",[`${re.value}-textarea-show-count`]:fe.value,[`${re.value}-textarea-in-form-item`]:Z.isFormItemInput},`${re.value}-textarea-show-count`,Ye,de.value),style:Ze,"data-count":typeof _e!="object"?_e:void 0},[Ke,Z.hasFeedback&&createVNode("span",{class:`${re.value}-textarea-suffix`},[Z.feedbackIcon])])}return ce(Ke)}}});var EyeOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};function _objectSpread$v(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$v(H,U,W[U])})}return H}function _defineProperty$v(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var EyeOutlined=function(K,W){var G=_objectSpread$v({},K,W.attrs);return createVNode(Icon,_objectSpread$v({},G,{icon:EyeOutlined$1}),null)};EyeOutlined.displayName="EyeOutlined";EyeOutlined.inheritAttrs=!1;var EyeInvisibleOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};function _objectSpread$u(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$u(H,U,W[U])})}return H}function _defineProperty$u(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var EyeInvisibleOutlined=function(K,W){var G=_objectSpread$u({},K,W.attrs);return createVNode(Icon,_objectSpread$u({},G,{icon:EyeInvisibleOutlined$1}),null)};EyeInvisibleOutlined.displayName="EyeInvisibleOutlined";EyeInvisibleOutlined.inheritAttrs=!1;var __rest$i=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const ActionMap={click:"onClick",hover:"onMouseover"},defaultIconRender=H=>createVNode(H?EyeOutlined:EyeInvisibleOutlined,null,null),Password=defineComponent({compatConfig:{MODE:3},name:"AInputPassword",inheritAttrs:!1,props:_extends$1(_extends$1({},inputProps()),{prefixCls:String,inputPrefixCls:String,action:{type:String,default:"click"},visibilityToggle:{type:Boolean,default:!0},visible:{type:Boolean,default:void 0},"onUpdate:visible":Function,iconRender:Function}),setup(H,K){let{slots:W,attrs:G,expose:U,emit:X}=K;const Q=shallowRef(!1),Z=()=>{const{disabled:de}=H;de||(Q.value=!Q.value,X("update:visible",Q.value))};watchEffect(()=>{H.visible!==void 0&&(Q.value=!!H.visible)});const ee=shallowRef();U({focus:()=>{var de;(de=ee.value)===null||de===void 0||de.focus()},blur:()=>{var de;(de=ee.value)===null||de===void 0||de.blur()}});const oe=de=>{const{action:le,iconRender:fe=W.iconRender||defaultIconRender}=H,pe=ActionMap[le]||"",me=fe(Q.value),ue={[pe]:Z,class:`${de}-icon`,key:"passwordIcon",onMousedown:ge=>{ge.preventDefault()},onMouseup:ge=>{ge.preventDefault()}};return cloneElement(isValidElement(me)?me:createVNode("span",null,[me]),ue)},{prefixCls:re,getPrefixCls:ae}=useConfigInject("input-password",H),se=computed(()=>ae("input",H.inputPrefixCls)),ce=()=>{const{size:de,visibilityToggle:le}=H,fe=__rest$i(H,["size","visibilityToggle"]),pe=le&&oe(re.value),me=classNames(re.value,G.class,{[`${re.value}-${de}`]:!!de}),ue=_extends$1(_extends$1(_extends$1({},omit$1(fe,["suffix","iconRender","action"])),G),{type:Q.value?"text":"password",class:me,prefixCls:se.value,suffix:pe});return de&&(ue.size=de),createVNode(Input,_objectSpread2$1({ref:ee},ue),W)};return()=>ce()}});Input.Group=__unplugin_components_2;Input.Search=Search;Input.TextArea=__unplugin_components_17;Input.Password=Password;Input.install=function(H){return H.component(Input.name,Input),H.component(Input.Group.name,Input.Group),H.component(Input.Search.name,Input.Search),H.component(Input.TextArea.name,Input.TextArea),H.component(Input.Password.name,Input.Password),H};function dialogPropTypes(){return{keyboard:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},afterClose:Function,closable:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},destroyOnClose:{type:Boolean,default:void 0},mousePosition:PropTypes.shape({x:Number,y:Number}).loose,title:PropTypes.any,footer:PropTypes.any,transitionName:String,maskTransitionName:String,animation:PropTypes.any,maskAnimation:PropTypes.any,wrapStyle:{type:Object,default:void 0},bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},prefixCls:String,wrapClassName:String,rootClassName:String,width:[String,Number],height:[String,Number],zIndex:Number,bodyProps:PropTypes.any,maskProps:PropTypes.any,wrapProps:PropTypes.any,getContainer:PropTypes.any,dialogStyle:{type:Object,default:void 0},dialogClass:String,closeIcon:PropTypes.any,forceRender:{type:Boolean,default:void 0},getOpenCount:Function,focusTriggerAfterClose:{type:Boolean,default:void 0},onClose:Function,modalRender:Function}}function getMotionName(H,K,W){let G=K;return!G&&W&&(G=`${H}-${W}`),G}let uuid$1=-1;function getUUID(){return uuid$1+=1,uuid$1}function getScroll(H,K){let W=H[`page${K?"Y":"X"}Offset`];const G=`scroll${K?"Top":"Left"}`;if(typeof W!="number"){const U=H.document;W=U.documentElement[G],typeof W!="number"&&(W=U.body[G])}return W}function offset$1(H){const K=H.getBoundingClientRect(),W={left:K.left,top:K.top},G=H.ownerDocument,U=G.defaultView||G.parentWindow;return W.left+=getScroll(U),W.top+=getScroll(U,!0),W}const sentinelStyle={width:0,height:0,overflow:"hidden",outline:"none"},entityStyle={outline:"none"},Content$1=defineComponent({compatConfig:{MODE:3},name:"DialogContent",inheritAttrs:!1,props:_extends$1(_extends$1({},dialogPropTypes()),{motionName:String,ariaId:String,onVisibleChanged:Function,onMousedown:Function,onMouseup:Function}),setup(H,K){let{expose:W,slots:G,attrs:U}=K;const X=ref(),Q=ref(),Z=ref();W({focus:()=>{var re;(re=X.value)===null||re===void 0||re.focus({preventScroll:!0})},changeActive:re=>{const{activeElement:ae}=document;re&&ae===Q.value?X.value.focus({preventScroll:!0}):!re&&ae===X.value&&Q.value.focus({preventScroll:!0})}});const ee=ref(),ne=computed(()=>{const{width:re,height:ae}=H,se={};return re!==void 0&&(se.width=typeof re=="number"?`${re}px`:re),ae!==void 0&&(se.height=typeof ae=="number"?`${ae}px`:ae),ee.value&&(se.transformOrigin=ee.value),se}),te=()=>{nextTick(()=>{if(Z.value){const re=offset$1(Z.value);ee.value=H.mousePosition?`${H.mousePosition.x-re.left}px ${H.mousePosition.y-re.top}px`:""}})},oe=re=>{H.onVisibleChanged(re)};return()=>{var re,ae,se,ce;const{prefixCls:de,footer:le=(re=G.footer)===null||re===void 0?void 0:re.call(G),title:fe=(ae=G.title)===null||ae===void 0?void 0:ae.call(G),ariaId:pe,closable:me,closeIcon:ue=(se=G.closeIcon)===null||se===void 0?void 0:se.call(G),onClose:ge,bodyStyle:he,bodyProps:ve,onMousedown:ye,onMouseup:be,visible:Se,modalRender:Ce=G.modalRender,destroyOnClose:xe,motionName:Ne}=H;let $e;le&&($e=createVNode("div",{class:`${de}-footer`},[le]));let Ee;fe&&(Ee=createVNode("div",{class:`${de}-header`},[createVNode("div",{class:`${de}-title`,id:pe},[fe])]));let Te;me&&(Te=createVNode("button",{type:"button",onClick:ge,"aria-label":"Close",class:`${de}-close`},[ue||createVNode("span",{class:`${de}-close-x`},null)]));const Be=createVNode("div",{class:`${de}-content`},[Te,Ee,createVNode("div",_objectSpread2$1({class:`${de}-body`,style:he},ve),[(ce=G.default)===null||ce===void 0?void 0:ce.call(G)]),$e]),Ae=getTransitionProps(Ne);return createVNode(Transition,_objectSpread2$1(_objectSpread2$1({},Ae),{},{onBeforeEnter:te,onAfterEnter:()=>oe(!0),onAfterLeave:()=>oe(!1)}),{default:()=>[Se||!xe?withDirectives(createVNode("div",_objectSpread2$1(_objectSpread2$1({},U),{},{ref:Z,key:"dialog-element",role:"document",style:[ne.value,U.style],class:[de,U.class],onMousedown:ye,onMouseup:be}),[createVNode("div",{tabindex:0,ref:X,style:entityStyle},[Ce?Ce({originVNode:Be}):Be]),createVNode("div",{tabindex:0,ref:Q,style:sentinelStyle},null)]),[[vShow,Se]]):null]})}}}),Mask=defineComponent({compatConfig:{MODE:3},name:"DialogMask",props:{prefixCls:String,visible:Boolean,motionName:String,maskProps:Object},setup(H,K){return()=>{const{prefixCls:W,visible:G,maskProps:U,motionName:X}=H,Q=getTransitionProps(X);return createVNode(Transition,Q,{default:()=>[withDirectives(createVNode("div",_objectSpread2$1({class:`${W}-mask`},U),null),[[vShow,G]])]})}}}),Dialog=defineComponent({compatConfig:{MODE:3},name:"VcDialog",inheritAttrs:!1,props:initDefaultProps(_extends$1(_extends$1({},dialogPropTypes()),{getOpenCount:Function,scrollLocker:Object}),{mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog",getOpenCount:()=>null,focusTriggerAfterClose:!0}),setup(H,K){let{attrs:W,slots:G}=K;const U=shallowRef(),X=shallowRef(),Q=shallowRef(),Z=shallowRef(H.visible),ee=shallowRef(`vcDialogTitle${getUUID()}`),ne=le=>{var fe,pe;if(le)contains$2(X.value,document.activeElement)||(U.value=document.activeElement,(fe=Q.value)===null||fe===void 0||fe.focus());else{const me=Z.value;if(Z.value=!1,H.mask&&U.value&&H.focusTriggerAfterClose){try{U.value.focus({preventScroll:!0})}catch{}U.value=null}me&&((pe=H.afterClose)===null||pe===void 0||pe.call(H))}},te=le=>{var fe;(fe=H.onClose)===null||fe===void 0||fe.call(H,le)},oe=shallowRef(!1),re=shallowRef(),ae=()=>{clearTimeout(re.value),oe.value=!0},se=()=>{re.value=setTimeout(()=>{oe.value=!1})},ce=le=>{if(!H.maskClosable)return null;oe.value?oe.value=!1:X.value===le.target&&te(le)},de=le=>{if(H.keyboard&&le.keyCode===KeyCode.ESC){le.stopPropagation(),te(le);return}H.visible&&le.keyCode===KeyCode.TAB&&Q.value.changeActive(!le.shiftKey)};return watch(()=>H.visible,()=>{H.visible&&(Z.value=!0)},{flush:"post"}),onBeforeUnmount(()=>{var le;clearTimeout(re.value),(le=H.scrollLocker)===null||le===void 0||le.unLock()}),watchEffect(()=>{var le,fe;(le=H.scrollLocker)===null||le===void 0||le.unLock(),Z.value&&((fe=H.scrollLocker)===null||fe===void 0||fe.lock())}),()=>{const{prefixCls:le,mask:fe,visible:pe,maskTransitionName:me,maskAnimation:ue,zIndex:ge,wrapClassName:he,rootClassName:ve,wrapStyle:ye,closable:be,maskProps:Se,maskStyle:Ce,transitionName:xe,animation:Ne,wrapProps:$e,title:Ee=G.title}=H,{style:Te,class:Be}=W;return createVNode("div",_objectSpread2$1({class:[`${le}-root`,ve]},pickAttrs(H,{data:!0})),[createVNode(Mask,{prefixCls:le,visible:fe&&pe,motionName:getMotionName(le,me,ue),style:_extends$1({zIndex:ge},Ce),maskProps:Se},null),createVNode("div",_objectSpread2$1({tabIndex:-1,onKeydown:de,class:classNames(`${le}-wrap`,he),ref:X,onClick:ce,role:"dialog","aria-labelledby":Ee?ee.value:null,style:_extends$1(_extends$1({zIndex:ge},ye),{display:Z.value?null:"none"})},$e),[createVNode(Content$1,_objectSpread2$1(_objectSpread2$1({},omit$1(H,["scrollLocker"])),{},{style:Te,class:Be,onMousedown:ae,onMouseup:se,ref:Q,closable:be,ariaId:ee.value,prefixCls:le,visible:pe,onClose:te,onVisibleChanged:ne,motionName:getMotionName(le,xe,Ne)}),G)])])}}}),IDialogPropTypes=dialogPropTypes(),DialogWrap=defineComponent({compatConfig:{MODE:3},name:"DialogWrap",inheritAttrs:!1,props:initDefaultProps(IDialogPropTypes,{visible:!1}),setup(H,K){let{attrs:W,slots:G}=K;const U=ref(H.visible);return useProvidePortal({},{inTriggerContext:!1}),watch(()=>H.visible,()=>{H.visible&&(U.value=!0)},{flush:"post"}),()=>{const{visible:X,getContainer:Q,forceRender:Z,destroyOnClose:ee=!1,afterClose:ne}=H;let te=_extends$1(_extends$1(_extends$1({},H),W),{ref:"_component",key:"dialog"});return Q===!1?createVNode(Dialog,_objectSpread2$1(_objectSpread2$1({},te),{},{getOpenCount:()=>2}),G):!Z&&ee&&!U.value?null:createVNode(Portal,{autoLock:!0,visible:X,forceRender:Z,getContainer:Q},{default:oe=>(te=_extends$1(_extends$1(_extends$1({},te),oe),{afterClose:()=>{ne?.(),U.value=!1}}),createVNode(Dialog,te,G))})}}});var ZoomInOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};function _objectSpread$t(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$t(H,U,W[U])})}return H}function _defineProperty$t(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var ZoomInOutlined=function(K,W){var G=_objectSpread$t({},K,W.attrs);return createVNode(Icon,_objectSpread$t({},G,{icon:ZoomInOutlined$1}),null)};ZoomInOutlined.displayName="ZoomInOutlined";ZoomInOutlined.inheritAttrs=!1;function box(H){return{position:H,top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0}}const genModalMaskStyle=H=>{const{componentCls:K}=H;return[{[`${K}-root`]:{[`${K}${H.antCls}-zoom-enter, ${K}${H.antCls}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:H.motionDurationSlow,userSelect:"none"},[`${K}${H.antCls}-zoom-leave ${K}-content`]:{pointerEvents:"none"},[`${K}-mask`]:_extends$1(_extends$1({},box("fixed")),{zIndex:H.zIndexPopupBase,height:"100%",backgroundColor:H.colorBgMask,[`${K}-hidden`]:{display:"none"}}),[`${K}-wrap`]:_extends$1(_extends$1({},box("fixed")),{overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${K}-root`]:initFadeMotion(H)}]},genModalStyle=H=>{const{componentCls:K}=H;return[{[`${K}-root`]:{[`${K}-wrap`]:{zIndex:H.zIndexPopupBase,position:"fixed",inset:0,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"},[`${K}-wrap-rtl`]:{direction:"rtl"},[`${K}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[K]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${H.screenSMMax})`]:{[K]:{maxWidth:"calc(100vw - 16px)",margin:`${H.marginXS} auto`},[`${K}-centered`]:{[K]:{flex:1}}}}},{[K]:_extends$1(_extends$1({},resetComponent(H)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${H.margin*2}px)`,margin:"0 auto",paddingBottom:H.paddingLG,[`${K}-title`]:{margin:0,color:H.modalHeadingColor,fontWeight:H.fontWeightStrong,fontSize:H.modalHeaderTitleFontSize,lineHeight:H.modalHeaderTitleLineHeight,wordWrap:"break-word"},[`${K}-content`]:{position:"relative",backgroundColor:H.modalContentBg,backgroundClip:"padding-box",border:0,borderRadius:H.borderRadiusLG,boxShadow:H.boxShadowSecondary,pointerEvents:"auto",padding:`${H.paddingMD}px ${H.paddingContentHorizontalLG}px`},[`${K}-close`]:_extends$1({position:"absolute",top:(H.modalHeaderCloseSize-H.modalCloseBtnSize)/2,insetInlineEnd:(H.modalHeaderCloseSize-H.modalCloseBtnSize)/2,zIndex:H.zIndexPopupBase+10,padding:0,color:H.modalCloseColor,fontWeight:H.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:H.borderRadiusSM,width:H.modalConfirmIconSize,height:H.modalConfirmIconSize,border:0,outline:0,cursor:"pointer",transition:`color ${H.motionDurationMid}, background-color ${H.motionDurationMid}`,"&-x":{display:"block",fontSize:H.fontSizeLG,fontStyle:"normal",lineHeight:`${H.modalCloseBtnSize}px`,textAlign:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:H.modalIconHoverColor,backgroundColor:H.wireframe?"transparent":H.colorFillContent,textDecoration:"none"},"&:active":{backgroundColor:H.wireframe?"transparent":H.colorFillContentHover}},genFocusStyle(H)),[`${K}-header`]:{color:H.colorText,background:H.modalHeaderBg,borderRadius:`${H.borderRadiusLG}px ${H.borderRadiusLG}px 0 0`,marginBottom:H.marginXS},[`${K}-body`]:{fontSize:H.fontSize,lineHeight:H.lineHeight,wordWrap:"break-word"},[`${K}-footer`]:{textAlign:"end",background:H.modalFooterBg,marginTop:H.marginSM,[`${H.antCls}-btn + ${H.antCls}-btn:not(${H.antCls}-dropdown-trigger)`]:{marginBottom:0,marginInlineStart:H.marginXS}},[`${K}-open`]:{overflow:"hidden"}})},{[`${K}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${K}-content,
          ${K}-body,
          ${K}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${K}-confirm-body`]:{marginBottom:"auto"}}}]},genModalConfirmStyle=H=>{const{componentCls:K}=H,W=`${K}-confirm`;return{[W]:{"&-rtl":{direction:"rtl"},[`${H.antCls}-modal-header`]:{display:"none"},[`${W}-body-wrapper`]:_extends$1({},clearFix()),[`${W}-body`]:{display:"flex",flexWrap:"wrap",alignItems:"center",[`${W}-title`]:{flex:"0 0 100%",display:"block",overflow:"hidden",color:H.colorTextHeading,fontWeight:H.fontWeightStrong,fontSize:H.modalHeaderTitleFontSize,lineHeight:H.modalHeaderTitleLineHeight,[`+ ${W}-content`]:{marginBlockStart:H.marginXS,flexBasis:"100%",maxWidth:`calc(100% - ${H.modalConfirmIconSize+H.marginSM}px)`}},[`${W}-content`]:{color:H.colorText,fontSize:H.fontSize},[`> ${H.iconCls}`]:{flex:"none",marginInlineEnd:H.marginSM,fontSize:H.modalConfirmIconSize,[`+ ${W}-title`]:{flex:1},[`+ ${W}-title + ${W}-content`]:{marginInlineStart:H.modalConfirmIconSize+H.marginSM}}},[`${W}-btns`]:{textAlign:"end",marginTop:H.marginSM,[`${H.antCls}-btn + ${H.antCls}-btn`]:{marginBottom:0,marginInlineStart:H.marginXS}}},[`${W}-error ${W}-body > ${H.iconCls}`]:{color:H.colorError},[`${W}-warning ${W}-body > ${H.iconCls},
        ${W}-confirm ${W}-body > ${H.iconCls}`]:{color:H.colorWarning},[`${W}-info ${W}-body > ${H.iconCls}`]:{color:H.colorInfo},[`${W}-success ${W}-body > ${H.iconCls}`]:{color:H.colorSuccess},[`${K}-zoom-leave ${K}-btns`]:{pointerEvents:"none"}}},genRTLStyle=H=>{const{componentCls:K}=H;return{[`${K}-root`]:{[`${K}-wrap-rtl`]:{direction:"rtl",[`${K}-confirm-body`]:{direction:"rtl"}}}}},genWireframeStyle=H=>{const{componentCls:K,antCls:W}=H,G=`${K}-confirm`;return{[K]:{[`${K}-content`]:{padding:0},[`${K}-header`]:{padding:H.modalHeaderPadding,borderBottom:`${H.modalHeaderBorderWidth}px ${H.modalHeaderBorderStyle} ${H.modalHeaderBorderColorSplit}`,marginBottom:0},[`${K}-body`]:{padding:H.modalBodyPadding},[`${K}-footer`]:{padding:`${H.modalFooterPaddingVertical}px ${H.modalFooterPaddingHorizontal}px`,borderTop:`${H.modalFooterBorderWidth}px ${H.modalFooterBorderStyle} ${H.modalFooterBorderColorSplit}`,borderRadius:`0 0 ${H.borderRadiusLG}px ${H.borderRadiusLG}px`,marginTop:0}},[G]:{[`${W}-modal-body`]:{padding:`${H.padding*2}px ${H.padding*2}px ${H.paddingLG}px`},[`${G}-body`]:{[`> ${H.iconCls}`]:{marginInlineEnd:H.margin,[`+ ${G}-title + ${G}-content`]:{marginInlineStart:H.modalConfirmIconSize+H.margin}}},[`${G}-btns`]:{marginTop:H.marginLG}}}},useStyle$b=genComponentStyleHook("Modal",H=>{const K=H.padding,W=H.fontSizeHeading5,G=H.lineHeightHeading5,U=merge(H,{modalBodyPadding:H.paddingLG,modalHeaderBg:H.colorBgElevated,modalHeaderPadding:`${K}px ${H.paddingLG}px`,modalHeaderBorderWidth:H.lineWidth,modalHeaderBorderStyle:H.lineType,modalHeaderTitleLineHeight:G,modalHeaderTitleFontSize:W,modalHeaderBorderColorSplit:H.colorSplit,modalHeaderCloseSize:G*W+K*2,modalContentBg:H.colorBgElevated,modalHeadingColor:H.colorTextHeading,modalCloseColor:H.colorTextDescription,modalFooterBg:"transparent",modalFooterBorderColorSplit:H.colorSplit,modalFooterBorderStyle:H.lineType,modalFooterPaddingVertical:H.paddingXS,modalFooterPaddingHorizontal:H.padding,modalFooterBorderWidth:H.lineWidth,modalConfirmTitleFontSize:H.fontSizeLG,modalIconHoverColor:H.colorIconHover,modalConfirmIconSize:H.fontSize*H.lineHeight,modalCloseBtnSize:H.controlHeightLG*.55});return[genModalStyle(U),genModalConfirmStyle(U),genRTLStyle(U),genModalMaskStyle(U),H.wireframe&&genWireframeStyle(U),initZoomMotion(U,"zoom")]});var UpOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};function _objectSpread$s(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$s(H,U,W[U])})}return H}function _defineProperty$s(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var UpOutlined=function(K,W){var G=_objectSpread$s({},K,W.attrs);return createVNode(Icon,_objectSpread$s({},G,{icon:UpOutlined$1}),null)};UpOutlined.displayName="UpOutlined";UpOutlined.inheritAttrs=!1;function supportBigInt(){return typeof BigInt=="function"}function trimNumber(H){let K=H.trim(),W=K.startsWith("-");W&&(K=K.slice(1)),K=K.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),K.startsWith(".")&&(K=`0${K}`);const G=K||"0",U=G.split("."),X=U[0]||"0",Q=U[1]||"0";X==="0"&&Q==="0"&&(W=!1);const Z=W?"-":"";return{negative:W,negativeStr:Z,trimStr:G,integerStr:X,decimalStr:Q,fullStr:`${Z}${G}`}}function isE(H){const K=String(H);return!Number.isNaN(Number(K))&&K.includes("e")}function getNumberPrecision(H){const K=String(H);if(isE(H)){let W=Number(K.slice(K.indexOf("e-")+2));const G=K.match(/\.(\d+)/);return G?.[1]&&(W+=G[1].length),W}return K.includes(".")&&validateNumber(K)?K.length-K.indexOf(".")-1:0}function num2str(H){let K=String(H);if(isE(H)){if(H>Number.MAX_SAFE_INTEGER)return String(supportBigInt()?BigInt(H).toString():Number.MAX_SAFE_INTEGER);if(H<Number.MIN_SAFE_INTEGER)return String(supportBigInt()?BigInt(H).toString():Number.MIN_SAFE_INTEGER);K=H.toFixed(getNumberPrecision(K))}return trimNumber(K).fullStr}function validateNumber(H){return typeof H=="number"?!Number.isNaN(H):H?/^\s*-?\d+(\.\d+)?\s*$/.test(H)||/^\s*-?\d+\.\s*$/.test(H)||/^\s*-?\.\d+\s*$/.test(H):!1}function isEmpty(H){return!H&&H!==0&&!Number.isNaN(H)||!String(H).trim()}class NumberDecimal{constructor(K){if(this.origin="",isEmpty(K)){this.empty=!0;return}this.origin=String(K),this.number=Number(K)}negate(){return new NumberDecimal(-this.toNumber())}add(K){if(this.isInvalidate())return new NumberDecimal(K);const W=Number(K);if(Number.isNaN(W))return this;const G=this.number+W;if(G>Number.MAX_SAFE_INTEGER)return new NumberDecimal(Number.MAX_SAFE_INTEGER);if(G<Number.MIN_SAFE_INTEGER)return new NumberDecimal(Number.MIN_SAFE_INTEGER);const U=Math.max(getNumberPrecision(this.number),getNumberPrecision(W));return new NumberDecimal(G.toFixed(U))}isEmpty(){return this.empty}isNaN(){return Number.isNaN(this.number)}isInvalidate(){return this.isEmpty()||this.isNaN()}equals(K){return this.toNumber()===K?.toNumber()}lessEquals(K){return this.add(K.negate().toString()).toNumber()<=0}toNumber(){return this.number}toString(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)?this.isInvalidate()?"":num2str(this.number):this.origin}}class BigIntDecimal{constructor(K){if(this.origin="",isEmpty(K)){this.empty=!0;return}if(this.origin=String(K),K==="-"||Number.isNaN(K)){this.nan=!0;return}let W=K;if(isE(W)&&(W=Number(W)),W=typeof W=="string"?W:num2str(W),validateNumber(W)){const G=trimNumber(W);this.negative=G.negative;const U=G.trimStr.split(".");this.integer=BigInt(U[0]);const X=U[1]||"0";this.decimal=BigInt(X),this.decimalLen=X.length}else this.nan=!0}getMark(){return this.negative?"-":""}getIntegerStr(){return this.integer.toString()}getDecimalStr(){return this.decimal.toString().padStart(this.decimalLen,"0")}alignDecimal(K){const W=`${this.getMark()}${this.getIntegerStr()}${this.getDecimalStr().padEnd(K,"0")}`;return BigInt(W)}negate(){const K=new BigIntDecimal(this.toString());return K.negative=!K.negative,K}add(K){if(this.isInvalidate())return new BigIntDecimal(K);const W=new BigIntDecimal(K);if(W.isInvalidate())return this;const G=Math.max(this.getDecimalStr().length,W.getDecimalStr().length),U=this.alignDecimal(G),X=W.alignDecimal(G),Q=(U+X).toString(),{negativeStr:Z,trimStr:ee}=trimNumber(Q),ne=`${Z}${ee.padStart(G+1,"0")}`;return new BigIntDecimal(`${ne.slice(0,-G)}.${ne.slice(-G)}`)}isEmpty(){return this.empty}isNaN(){return this.nan}isInvalidate(){return this.isEmpty()||this.isNaN()}equals(K){return this.toString()===K?.toString()}lessEquals(K){return this.add(K.negate().toString()).toNumber()<=0}toNumber(){return this.isNaN()?NaN:Number(this.toString())}toString(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)?this.isInvalidate()?"":trimNumber(`${this.getMark()}${this.getIntegerStr()}.${this.getDecimalStr()}`).fullStr:this.origin}}function getMiniDecimal(H){return supportBigInt()?new BigIntDecimal(H):new NumberDecimal(H)}function toFixed(H,K,W){let G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(H==="")return"";const{negativeStr:U,integerStr:X,decimalStr:Q}=trimNumber(H),Z=`${K}${Q}`,ee=`${U}${X}`;if(W>=0){const ne=Number(Q[W]);if(ne>=5&&!G){const te=getMiniDecimal(H).add(`${U}0.${"0".repeat(W)}${10-ne}`);return toFixed(te.toString(),K,W,G)}return W===0?ee:`${ee}${K}${Q.padEnd(W,"0").slice(0,W)}`}return Z===".0"?ee:`${ee}${Z}`}const STEP_INTERVAL=200,STEP_DELAY=600,StepHandler=defineComponent({compatConfig:{MODE:3},name:"StepHandler",inheritAttrs:!1,props:{prefixCls:String,upDisabled:Boolean,downDisabled:Boolean,onStep:functionType()},slots:Object,setup(H,K){let{slots:W,emit:G}=K;const U=ref(),X=(Z,ee)=>{Z.preventDefault(),G("step",ee);function ne(){G("step",ee),U.value=setTimeout(ne,STEP_INTERVAL)}U.value=setTimeout(ne,STEP_DELAY)},Q=()=>{clearTimeout(U.value)};return onBeforeUnmount(()=>{Q()}),()=>{if(isMobile())return null;const{prefixCls:Z,upDisabled:ee,downDisabled:ne}=H,te=`${Z}-handler`,oe=classNames(te,`${te}-up`,{[`${te}-up-disabled`]:ee}),re=classNames(te,`${te}-down`,{[`${te}-down-disabled`]:ne}),ae={unselectable:"on",role:"button",onMouseup:Q,onMouseleave:Q},{upNode:se,downNode:ce}=W;return createVNode("div",{class:`${te}-wrap`},[createVNode("span",_objectSpread2$1(_objectSpread2$1({},ae),{},{onMousedown:de=>{X(de,!0)},"aria-label":"Increase Value","aria-disabled":ee,class:oe}),[se?.()||createVNode("span",{unselectable:"on",class:`${Z}-handler-up-inner`},null)]),createVNode("span",_objectSpread2$1(_objectSpread2$1({},ae),{},{onMousedown:de=>{X(de,!1)},"aria-label":"Decrease Value","aria-disabled":ne,class:re}),[ce?.()||createVNode("span",{unselectable:"on",class:`${Z}-handler-down-inner`},null)])])}}});function useCursor(H,K){const W=ref(null);function G(){try{const{selectionStart:X,selectionEnd:Q,value:Z}=H.value,ee=Z.substring(0,X),ne=Z.substring(Q);W.value={start:X,end:Q,value:Z,beforeTxt:ee,afterTxt:ne}}catch{}}function U(){if(H.value&&W.value&&K.value)try{const{value:X}=H.value,{beforeTxt:Q,afterTxt:Z,start:ee}=W.value;let ne=X.length;if(X.endsWith(Z))ne=X.length-W.value.afterTxt.length;else if(X.startsWith(Q))ne=Q.length;else{const te=Q[ee-1],oe=X.indexOf(te,ee-1);oe!==-1&&(ne=oe+1)}H.value.setSelectionRange(ne,ne)}catch(X){`${X.message}`}}return[G,U]}const useFrame=()=>{const H=shallowRef(0),K=()=>{wrapperRaf.cancel(H.value)};return onBeforeUnmount(()=>{K()}),W=>{K(),H.value=wrapperRaf(()=>{W()})}};var __rest$h=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const getDecimalValue=(H,K)=>H||K.isEmpty()?K.toString():K.toNumber(),getDecimalIfValidate=H=>{const K=getMiniDecimal(H);return K.isInvalidate()?null:K},inputNumberProps$1=()=>({stringMode:booleanType(),defaultValue:someType([String,Number]),value:someType([String,Number]),prefixCls:stringType(),min:someType([String,Number]),max:someType([String,Number]),step:someType([String,Number],1),tabindex:Number,controls:booleanType(!0),readonly:booleanType(),disabled:booleanType(),autofocus:booleanType(),keyboard:booleanType(!0),parser:functionType(),formatter:functionType(),precision:Number,decimalSeparator:String,onInput:functionType(),onChange:functionType(),onPressEnter:functionType(),onStep:functionType(),onBlur:functionType(),onFocus:functionType()}),VcInputNumber=defineComponent({compatConfig:{MODE:3},name:"InnerInputNumber",inheritAttrs:!1,props:_extends$1(_extends$1({},inputNumberProps$1()),{lazy:Boolean}),slots:Object,setup(H,K){let{attrs:W,slots:G,emit:U,expose:X}=K;const Q=shallowRef(),Z=shallowRef(!1),ee=shallowRef(!1),ne=shallowRef(!1),te=shallowRef(getMiniDecimal(H.value));function oe(Le){H.value===void 0&&(te.value=Le)}const re=(Le,Ze)=>{if(!Ze)return H.precision>=0?H.precision:Math.max(getNumberPrecision(Le),getNumberPrecision(H.step))},ae=Le=>{const Ze=String(Le);if(H.parser)return H.parser(Ze);let Ye=Ze;return H.decimalSeparator&&(Ye=Ye.replace(H.decimalSeparator,".")),Ye.replace(/[^\w.-]+/g,"")},se=shallowRef(""),ce=(Le,Ze)=>{if(H.formatter)return H.formatter(Le,{userTyping:Ze,input:String(se.value)});let Ye=typeof Le=="number"?num2str(Le):Le;if(!Ze){const Re=re(Ye,Ze);if(validateNumber(Ye)&&(H.decimalSeparator||Re>=0)){const Ke=H.decimalSeparator||".";Ye=toFixed(Ye,Ke,Re)}}return Ye},de=(()=>{const Le=H.value;return te.value.isInvalidate()&&["string","number"].includes(typeof Le)?Number.isNaN(Le)?"":Le:ce(te.value.toString(),!1)})();se.value=de;function le(Le,Ze){se.value=ce(Le.isInvalidate()?Le.toString(!1):Le.toString(!Ze),Ze)}const fe=computed(()=>getDecimalIfValidate(H.max)),pe=computed(()=>getDecimalIfValidate(H.min)),me=computed(()=>!fe.value||!te.value||te.value.isInvalidate()?!1:fe.value.lessEquals(te.value)),ue=computed(()=>!pe.value||!te.value||te.value.isInvalidate()?!1:te.value.lessEquals(pe.value)),[ge,he]=useCursor(Q,Z),ve=Le=>fe.value&&!Le.lessEquals(fe.value)?fe.value:pe.value&&!pe.value.lessEquals(Le)?pe.value:null,ye=Le=>!ve(Le),be=(Le,Ze)=>{var Ye;let Re=Le,Ke=ye(Re)||Re.isEmpty();if(!Re.isEmpty()&&!Ze&&(Re=ve(Re)||Re,Ke=!0),!H.readonly&&!H.disabled&&Ke){const we=Re.toString(),_e=re(we,Ze);return _e>=0&&(Re=getMiniDecimal(toFixed(we,".",_e))),Re.equals(te.value)||(oe(Re),(Ye=H.onChange)===null||Ye===void 0||Ye.call(H,Re.isEmpty()?null:getDecimalValue(H.stringMode,Re)),H.value===void 0&&le(Re,Ze)),Re}return te.value},Se=useFrame(),Ce=Le=>{var Ze;if(ge(),se.value=Le,!ne.value){const Ye=ae(Le),Re=getMiniDecimal(Ye);Re.isNaN()||be(Re,!0)}(Ze=H.onInput)===null||Ze===void 0||Ze.call(H,Le),Se(()=>{let Ye=Le;H.parser||(Ye=Le.replace(//g,".")),Ye!==Le&&Ce(Ye)})},xe=()=>{ne.value=!0},Ne=()=>{ne.value=!1,Ce(Q.value.value)},$e=Le=>{Ce(Le.target.value)},Ee=Le=>{var Ze,Ye;if(Le&&me.value||!Le&&ue.value)return;ee.value=!1;let Re=getMiniDecimal(H.step);Le||(Re=Re.negate());const Ke=(te.value||getMiniDecimal(0)).add(Re.toString()),we=be(Ke,!1);(Ze=H.onStep)===null||Ze===void 0||Ze.call(H,getDecimalValue(H.stringMode,we),{offset:H.step,type:Le?"up":"down"}),(Ye=Q.value)===null||Ye===void 0||Ye.focus()},Te=Le=>{const Ze=getMiniDecimal(ae(se.value));let Ye=Ze;Ze.isNaN()?Ye=te.value:Ye=be(Ze,Le),H.value!==void 0?le(te.value,!1):Ye.isNaN()||le(Ye,!1)},Be=()=>{ee.value=!0},Ae=Le=>{var Ze;const{which:Ye}=Le;ee.value=!0,Ye===KeyCode.ENTER&&(ne.value||(ee.value=!1),Te(!1),(Ze=H.onPressEnter)===null||Ze===void 0||Ze.call(H,Le)),H.keyboard!==!1&&!ne.value&&[KeyCode.UP,KeyCode.DOWN].includes(Ye)&&(Ee(KeyCode.UP===Ye),Le.preventDefault())},ze=()=>{ee.value=!1},We=Le=>{Te(!1),Z.value=!1,ee.value=!1,U("blur",Le)};return watch(()=>H.precision,()=>{te.value.isInvalidate()||le(te.value,!1)},{flush:"post"}),watch(()=>H.value,()=>{const Le=getMiniDecimal(H.value);te.value=Le;const Ze=getMiniDecimal(ae(se.value));(!Le.equals(Ze)||!ee.value||H.formatter)&&le(Le,ee.value)},{flush:"post"}),watch(se,()=>{H.formatter&&he()},{flush:"post"}),watch(()=>H.disabled,Le=>{Le&&(Z.value=!1)}),X({focus:()=>{var Le;(Le=Q.value)===null||Le===void 0||Le.focus()},blur:()=>{var Le;(Le=Q.value)===null||Le===void 0||Le.blur()}}),()=>{const Le=_extends$1(_extends$1({},W),H),{prefixCls:Ze="rc-input-number",min:Ye,max:Re,step:Ke=1,defaultValue:we,value:_e,disabled:Ve,readonly:je,keyboard:qe,controls:Pe=!0,autofocus:ke,stringMode:Ue,parser:He,formatter:Me,precision:Je,decimalSeparator:Fe,onChange:Oe,onInput:Qe,onPressEnter:Ie,onStep:De,lazy:ot,class:st,style:et}=Le,nt=__rest$h(Le,["prefixCls","min","max","step","defaultValue","value","disabled","readonly","keyboard","controls","autofocus","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","lazy","class","style"]),{upHandler:it,downHandler:ct}=G,pt=`${Ze}-input`,ht={};return ot?ht.onChange=$e:ht.onInput=$e,createVNode("div",{class:classNames(Ze,st,{[`${Ze}-focused`]:Z.value,[`${Ze}-disabled`]:Ve,[`${Ze}-readonly`]:je,[`${Ze}-not-a-number`]:te.value.isNaN(),[`${Ze}-out-of-range`]:!te.value.isInvalidate()&&!ye(te.value)}),style:et,onKeydown:Ae,onKeyup:ze},[Pe&&createVNode(StepHandler,{prefixCls:Ze,upDisabled:me.value,downDisabled:ue.value,onStep:Ee},{upNode:it,downNode:ct}),createVNode("div",{class:`${pt}-wrap`},[createVNode("input",_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({autofocus:ke,autocomplete:"off",role:"spinbutton","aria-valuemin":Ye,"aria-valuemax":Re,"aria-valuenow":te.value.isInvalidate()?null:te.value.toString(),step:Ke},nt),{},{ref:Q,class:pt,value:se.value,disabled:Ve,readonly:je,onFocus:Ge=>{Z.value=!0,U("focus",Ge)}},ht),{},{onBlur:We,onCompositionstart:xe,onCompositionend:Ne,onBeforeinput:Be}),null)])])}}});function isValidValue(H){return H!=null}const genInputNumberStyles=H=>{const{componentCls:K,lineWidth:W,lineType:G,colorBorder:U,borderRadius:X,fontSizeLG:Q,controlHeightLG:Z,controlHeightSM:ee,colorError:ne,inputPaddingHorizontalSM:te,colorTextDescription:oe,motionDurationMid:re,colorPrimary:ae,controlHeight:se,inputPaddingHorizontal:ce,colorBgContainer:de,colorTextDisabled:le,borderRadiusSM:fe,borderRadiusLG:pe,controlWidth:me,handleVisible:ue}=H;return[{[K]:_extends$1(_extends$1(_extends$1(_extends$1({},resetComponent(H)),genBasicInputStyle(H)),genStatusStyle(H,K)),{display:"inline-block",width:me,margin:0,padding:0,border:`${W}px ${G} ${U}`,borderRadius:X,"&-rtl":{direction:"rtl",[`${K}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:Q,borderRadius:pe,[`input${K}-input`]:{height:Z-2*W}},"&-sm":{padding:0,borderRadius:fe,[`input${K}-input`]:{height:ee-2*W,padding:`0 ${te}px`}},"&:hover":_extends$1({},genHoverStyle(H)),"&-focused":_extends$1({},genActiveStyle(H)),"&-disabled":_extends$1(_extends$1({},genDisabledStyle(H)),{[`${K}-input`]:{cursor:"not-allowed"}}),"&-out-of-range":{input:{color:ne}},"&-group":_extends$1(_extends$1(_extends$1({},resetComponent(H)),genInputGroupStyle(H)),{"&-wrapper":{display:"inline-block",textAlign:"start",verticalAlign:"top",[`${K}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${K}-group-addon`]:{borderRadius:pe}},"&-sm":{[`${K}-group-addon`]:{borderRadius:fe}}}}),[K]:{"&-input":_extends$1(_extends$1({width:"100%",height:se-2*W,padding:`0 ${ce}px`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:X,outline:0,transition:`all ${re} linear`,appearance:"textfield",color:H.colorText,fontSize:"inherit",verticalAlign:"top"},genPlaceholderStyle(H.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})}})},{[K]:{[`&:hover ${K}-handler-wrap, &-focused ${K}-handler-wrap`]:{opacity:1},[`${K}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:H.handleWidth,height:"100%",background:de,borderStartStartRadius:0,borderStartEndRadius:X,borderEndEndRadius:X,borderEndStartRadius:0,opacity:ue===!0?1:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`opacity ${re} linear ${re}`,[`${K}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${K}-handler-up-inner,
              ${K}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:H.handleFontSize}}},[`${K}-handler`]:{height:"50%",overflow:"hidden",color:oe,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${W}px ${G} ${U}`,transition:`all ${re} linear`,"&:active":{background:H.colorFillAlter},"&:hover":{height:"60%",[`
              ${K}-handler-up-inner,
              ${K}-handler-down-inner
            `]:{color:ae}},"&-up-inner, &-down-inner":_extends$1(_extends$1({},resetIcon()),{color:oe,transition:`all ${re} linear`,userSelect:"none"})},[`${K}-handler-up`]:{borderStartEndRadius:X},[`${K}-handler-down`]:{borderBlockStart:`${W}px ${G} ${U}`,borderEndEndRadius:X},"&-disabled, &-readonly":{[`${K}-handler-wrap`]:{display:"none"},[`${K}-input`]:{color:"inherit"}},[`
          ${K}-handler-up-disabled,
          ${K}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${K}-handler-up-disabled:hover &-handler-up-inner,
          ${K}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:le}}},{[`${K}-borderless`]:{borderColor:"transparent",boxShadow:"none",[`${K}-handler-down`]:{borderBlockStartWidth:0}}}]},genAffixWrapperStyles=H=>{const{componentCls:K,inputPaddingHorizontal:W,inputAffixPadding:G,controlWidth:U,borderRadiusLG:X,borderRadiusSM:Q}=H;return{[`${K}-affix-wrapper`]:_extends$1(_extends$1(_extends$1({},genBasicInputStyle(H)),genStatusStyle(H,`${K}-affix-wrapper`)),{position:"relative",display:"inline-flex",width:U,padding:0,paddingInlineStart:W,"&-lg":{borderRadius:X},"&-sm":{borderRadius:Q},[`&:not(${K}-affix-wrapper-disabled):hover`]:_extends$1(_extends$1({},genHoverStyle(H)),{zIndex:1}),"&-focused, &:focus":{zIndex:1},"&-disabled":{[`${K}[disabled]`]:{background:"transparent"}},[`> div${K}`]:{width:"100%",border:"none",outline:"none",[`&${K}-focused`]:{boxShadow:"none !important"}},[`input${K}-input`]:{padding:0},"&::before":{width:0,visibility:"hidden",content:'"\\a0"'},[`${K}-handler-wrap`]:{zIndex:2},[K]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:G},"&-suffix":{position:"absolute",insetBlockStart:0,insetInlineEnd:0,zIndex:1,height:"100%",marginInlineEnd:W,marginInlineStart:G}}})}},useStyle$a=genComponentStyleHook("InputNumber",H=>{const K=initInputToken(H);return[genInputNumberStyles(K),genAffixWrapperStyles(K),genCompactItemStyle(K)]},H=>({controlWidth:90,handleWidth:H.controlHeightSM-H.lineWidth*2,handleFontSize:H.fontSize/2,handleVisible:"auto"}));var __rest$g=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const baseProps=inputNumberProps$1(),inputNumberProps=()=>_extends$1(_extends$1({},baseProps),{size:stringType(),bordered:booleanType(!0),placeholder:String,name:String,id:String,type:String,addonBefore:PropTypes.any,addonAfter:PropTypes.any,prefix:PropTypes.any,"onUpdate:value":baseProps.onChange,valueModifiers:Object,status:stringType()}),InputNumber=defineComponent({compatConfig:{MODE:3},name:"AInputNumber",inheritAttrs:!1,props:inputNumberProps(),slots:Object,setup(H,K){let{emit:W,expose:G,attrs:U,slots:X}=K;var Q;const Z=useInjectFormItemContext(),ee=FormItemInputContext.useInject(),ne=computed(()=>getMergedStatus(ee.status,H.status)),{prefixCls:te,size:oe,direction:re,disabled:ae}=useConfigInject("input-number",H),{compactSize:se,compactItemClassnames:ce}=useCompactItemContext(te,re),de=useInjectDisabled(),le=computed(()=>{var xe;return(xe=ae.value)!==null&&xe!==void 0?xe:de.value}),[fe,pe]=useStyle$a(te),me=computed(()=>se.value||oe.value),ue=shallowRef((Q=H.value)!==null&&Q!==void 0?Q:H.defaultValue),ge=shallowRef(!1);watch(()=>H.value,()=>{ue.value=H.value});const he=shallowRef(null),ve=()=>{var xe;(xe=he.value)===null||xe===void 0||xe.focus()};G({focus:ve,blur:()=>{var xe;(xe=he.value)===null||xe===void 0||xe.blur()}});const be=xe=>{H.value===void 0&&(ue.value=xe),W("update:value",xe),W("change",xe),Z.onFieldChange()},Se=xe=>{ge.value=!1,W("blur",xe),Z.onFieldBlur()},Ce=xe=>{ge.value=!0,W("focus",xe)};return()=>{var xe,Ne,$e,Ee;const{hasFeedback:Te,isFormItemInput:Be,feedbackIcon:Ae}=ee,ze=(xe=H.id)!==null&&xe!==void 0?xe:Z.id.value,We=_extends$1(_extends$1(_extends$1({},U),H),{id:ze,disabled:le.value}),{class:Le,bordered:Ze,readonly:Ye,style:Re,addonBefore:Ke=(Ne=X.addonBefore)===null||Ne===void 0?void 0:Ne.call(X),addonAfter:we=($e=X.addonAfter)===null||$e===void 0?void 0:$e.call(X),prefix:_e=(Ee=X.prefix)===null||Ee===void 0?void 0:Ee.call(X),valueModifiers:Ve={}}=We,je=__rest$g(We,["class","bordered","readonly","style","addonBefore","addonAfter","prefix","valueModifiers"]),qe=te.value,Pe=classNames({[`${qe}-lg`]:me.value==="large",[`${qe}-sm`]:me.value==="small",[`${qe}-rtl`]:re.value==="rtl",[`${qe}-readonly`]:Ye,[`${qe}-borderless`]:!Ze,[`${qe}-in-form-item`]:Be},getStatusClassNames(qe,ne.value),Le,ce.value,pe.value);let ke=createVNode(VcInputNumber,_objectSpread2$1(_objectSpread2$1({},omit$1(je,["size","defaultValue"])),{},{ref:he,lazy:!!Ve.lazy,value:ue.value,class:Pe,prefixCls:qe,readonly:Ye,onChange:be,onBlur:Se,onFocus:Ce}),{upHandler:X.upIcon?()=>createVNode("span",{class:`${qe}-handler-up-inner`},[X.upIcon()]):()=>createVNode(UpOutlined,{class:`${qe}-handler-up-inner`},null),downHandler:X.downIcon?()=>createVNode("span",{class:`${qe}-handler-down-inner`},[X.downIcon()]):()=>createVNode(DownOutlined,{class:`${qe}-handler-down-inner`},null)});const Ue=isValidValue(Ke)||isValidValue(we),He=isValidValue(_e);if(He||Te){const Me=classNames(`${qe}-affix-wrapper`,getStatusClassNames(`${qe}-affix-wrapper`,ne.value,Te),{[`${qe}-affix-wrapper-focused`]:ge.value,[`${qe}-affix-wrapper-disabled`]:le.value,[`${qe}-affix-wrapper-sm`]:me.value==="small",[`${qe}-affix-wrapper-lg`]:me.value==="large",[`${qe}-affix-wrapper-rtl`]:re.value==="rtl",[`${qe}-affix-wrapper-readonly`]:Ye,[`${qe}-affix-wrapper-borderless`]:!Ze,[`${Le}`]:!Ue&&Le},pe.value);ke=createVNode("div",{class:Me,style:Re,onClick:ve},[He&&createVNode("span",{class:`${qe}-prefix`},[_e]),ke,Te&&createVNode("span",{class:`${qe}-suffix`},[Ae])])}if(Ue){const Me=`${qe}-group`,Je=`${Me}-addon`,Fe=Ke?createVNode("div",{class:Je},[Ke]):null,Oe=we?createVNode("div",{class:Je},[we]):null,Qe=classNames(`${qe}-wrapper`,Me,{[`${Me}-rtl`]:re.value==="rtl"},pe.value),Ie=classNames(`${qe}-group-wrapper`,{[`${qe}-group-wrapper-sm`]:me.value==="small",[`${qe}-group-wrapper-lg`]:me.value==="large",[`${qe}-group-wrapper-rtl`]:re.value==="rtl"},getStatusClassNames(`${te}-group-wrapper`,ne.value,Te),Le,pe.value);ke=createVNode("div",{class:Ie,style:Re},[createVNode("div",{class:Qe},[Fe&&createVNode(NoCompactStyle,null,{default:()=>[createVNode(NoFormStatus,null,{default:()=>[Fe]})]}),ke,Oe&&createVNode(NoCompactStyle,null,{default:()=>[createVNode(NoFormStatus,null,{default:()=>[Oe]})]})])])}return fe(cloneElement(ke,{style:Re}))}}}),__unplugin_components_11$1=_extends$1(InputNumber,{install:H=>(H.component(InputNumber.name,InputNumber),H)}),genLayoutLightStyle=H=>{const{componentCls:K,colorBgContainer:W,colorBgBody:G,colorText:U}=H;return{[`${K}-sider-light`]:{background:W,[`${K}-sider-trigger`]:{color:U,background:W},[`${K}-sider-zero-width-trigger`]:{color:U,background:W,border:`1px solid ${G}`,borderInlineStart:0}}}},genLayoutStyle=H=>{const{antCls:K,componentCls:W,colorText:G,colorTextLightSolid:U,colorBgHeader:X,colorBgBody:Q,colorBgTrigger:Z,layoutHeaderHeight:ee,layoutHeaderPaddingInline:ne,layoutHeaderColor:te,layoutFooterPadding:oe,layoutTriggerHeight:re,layoutZeroTriggerSize:ae,motionDurationMid:se,motionDurationSlow:ce,fontSize:de,borderRadius:le}=H;return{[W]:_extends$1(_extends$1({display:"flex",flex:"auto",flexDirection:"column",color:G,minHeight:0,background:Q,"&, *":{boxSizing:"border-box"},[`&${W}-has-sider`]:{flexDirection:"row",[`> ${W}, > ${W}-content`]:{width:0}},[`${W}-header, &${W}-footer`]:{flex:"0 0 auto"},[`${W}-header`]:{height:ee,paddingInline:ne,color:te,lineHeight:`${ee}px`,background:X,[`${K}-menu`]:{lineHeight:"inherit"}},[`${W}-footer`]:{padding:oe,color:G,fontSize:de,background:Q},[`${W}-content`]:{flex:"auto",minHeight:0},[`${W}-sider`]:{position:"relative",minWidth:0,background:X,transition:`all ${se}, background 0s`,"&-children":{height:"100%",marginTop:-.1,paddingTop:.1,[`${K}-menu${K}-menu-inline-collapsed`]:{width:"auto"}},"&-has-trigger":{paddingBottom:re},"&-right":{order:1},"&-trigger":{position:"fixed",bottom:0,zIndex:1,height:re,color:U,lineHeight:`${re}px`,textAlign:"center",background:Z,cursor:"pointer",transition:`all ${se}`},"&-zero-width":{"> *":{overflow:"hidden"},"&-trigger":{position:"absolute",top:ee,insetInlineEnd:-ae,zIndex:1,width:ae,height:ae,color:U,fontSize:H.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:X,borderStartStartRadius:0,borderStartEndRadius:le,borderEndEndRadius:le,borderEndStartRadius:0,cursor:"pointer",transition:`background ${ce} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${ce}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:-ae,borderStartStartRadius:le,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:le}}}}},genLayoutLightStyle(H)),{"&-rtl":{direction:"rtl"}})}},useStyle$9=genComponentStyleHook("Layout",H=>{const{colorText:K,controlHeightSM:W,controlHeight:G,controlHeightLG:U,marginXXS:X}=H,Q=U*1.25,Z=merge(H,{layoutHeaderHeight:G*2,layoutHeaderPaddingInline:Q,layoutHeaderColor:K,layoutFooterPadding:`${W}px ${Q}px`,layoutTriggerHeight:U+X*2,layoutZeroTriggerSize:U});return[genLayoutStyle(Z)]},H=>{const{colorBgLayout:K}=H;return{colorBgHeader:"#001529",colorBgBody:K,colorBgTrigger:"#002140"}}),basicProps=()=>({prefixCls:String,hasSider:{type:Boolean,default:void 0},tagName:String});function generator(H){let{suffixCls:K,tagName:W,name:G}=H;return U=>defineComponent({compatConfig:{MODE:3},name:G,props:basicProps(),setup(Q,Z){let{slots:ee}=Z;const{prefixCls:ne}=useConfigInject(K,Q);return()=>{const te=_extends$1(_extends$1({},Q),{prefixCls:ne.value,tagName:W});return createVNode(U,te,ee)}}})}const Basic=defineComponent({compatConfig:{MODE:3},props:basicProps(),setup(H,K){let{slots:W}=K;return()=>createVNode(H.tagName,{class:H.prefixCls},W)}}),BasicLayout=defineComponent({compatConfig:{MODE:3},inheritAttrs:!1,props:basicProps(),setup(H,K){let{slots:W,attrs:G}=K;const{prefixCls:U,direction:X}=useConfigInject("",H),[Q,Z]=useStyle$9(U),ee=ref([]);provide(SiderHookProviderKey,{addSider:oe=>{ee.value=[...ee.value,oe]},removeSider:oe=>{ee.value=ee.value.filter(re=>re!==oe)}});const te=computed(()=>{const{prefixCls:oe,hasSider:re}=H;return{[Z.value]:!0,[`${oe}`]:!0,[`${oe}-has-sider`]:typeof re=="boolean"?re:ee.value.length>0,[`${oe}-rtl`]:X.value==="rtl"}});return()=>{const{tagName:oe}=H;return Q(createVNode(oe,_extends$1(_extends$1({},G),{class:[te.value,G.class]}),W))}}}),Layout=generator({suffixCls:"layout",tagName:"section",name:"ALayout"})(BasicLayout),Header$1=generator({suffixCls:"layout-header",tagName:"header",name:"ALayoutHeader"})(Basic),Footer$1=generator({suffixCls:"layout-footer",tagName:"footer",name:"ALayoutFooter"})(Basic),Content=generator({suffixCls:"layout-content",tagName:"main",name:"ALayoutContent"})(Basic);var BarsOutlined$1={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};function _objectSpread$r(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$r(H,U,W[U])})}return H}function _defineProperty$r(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var BarsOutlined=function(K,W){var G=_objectSpread$r({},K,W.attrs);return createVNode(Icon,_objectSpread$r({},G,{icon:BarsOutlined$1}),null)};BarsOutlined.displayName="BarsOutlined";BarsOutlined.inheritAttrs=!1;const dimensionMaxMap={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px",xxxl:"1999.98px"},siderProps=()=>({prefixCls:String,collapsible:{type:Boolean,default:void 0},collapsed:{type:Boolean,default:void 0},defaultCollapsed:{type:Boolean,default:void 0},reverseArrow:{type:Boolean,default:void 0},zeroWidthTriggerStyle:{type:Object,default:void 0},trigger:PropTypes.any,width:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),collapsedWidth:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),breakpoint:PropTypes.oneOf(tuple("xs","sm","md","lg","xl","xxl","xxxl")),theme:PropTypes.oneOf(tuple("light","dark")).def("dark"),onBreakpoint:Function,onCollapse:Function}),generateId=(()=>{let H=0;return function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return H+=1,`${K}${H}`}})(),Sider=defineComponent({compatConfig:{MODE:3},name:"ALayoutSider",inheritAttrs:!1,props:initDefaultProps(siderProps(),{collapsible:!1,defaultCollapsed:!1,reverseArrow:!1,width:200,collapsedWidth:80}),emits:["breakpoint","update:collapsed","collapse"],setup(H,K){let{emit:W,attrs:G,slots:U}=K;const{prefixCls:X}=useConfigInject("layout-sider",H),Q=inject(SiderHookProviderKey,void 0),Z=shallowRef(!!(H.collapsed!==void 0?H.collapsed:H.defaultCollapsed)),ee=shallowRef(!1);watch(()=>H.collapsed,()=>{Z.value=!!H.collapsed}),provide(SiderCollapsedKey,Z);const ne=(ce,de)=>{H.collapsed===void 0&&(Z.value=ce),W("update:collapsed",ce),W("collapse",ce,de)},te=shallowRef(ce=>{ee.value=ce.matches,W("breakpoint",ce.matches),Z.value!==ce.matches&&ne(ce.matches,"responsive")});let oe;function re(ce){return te.value(ce)}const ae=generateId("ant-sider-");Q&&Q.addSider(ae),onMounted(()=>{watch(()=>H.breakpoint,()=>{try{oe?.removeEventListener("change",re)}catch{oe?.removeListener(re)}if(typeof window<"u"){const{matchMedia:ce}=window;if(ce&&H.breakpoint&&H.breakpoint in dimensionMaxMap){oe=ce(`(max-width: ${dimensionMaxMap[H.breakpoint]})`);try{oe.addEventListener("change",re)}catch{oe.addListener(re)}re(oe)}}},{immediate:!0})}),onBeforeUnmount(()=>{try{oe?.removeEventListener("change",re)}catch{oe?.removeListener(re)}Q&&Q.removeSider(ae)});const se=()=>{ne(!Z.value,"clickTrigger")};return()=>{var ce,de;const le=X.value,{collapsedWidth:fe,width:pe,reverseArrow:me,zeroWidthTriggerStyle:ue,trigger:ge=(ce=U.trigger)===null||ce===void 0?void 0:ce.call(U),collapsible:he,theme:ve}=H,ye=Z.value?fe:pe,be=isNumeric(ye)?`${ye}px`:String(ye),Se=parseFloat(String(fe||0))===0?createVNode("span",{onClick:se,class:classNames(`${le}-zero-width-trigger`,`${le}-zero-width-trigger-${me?"right":"left"}`),style:ue},[ge||createVNode(BarsOutlined,null,null)]):null,Ce={expanded:createVNode(me?RightOutlined:LeftOutlined,null,null),collapsed:createVNode(me?LeftOutlined:RightOutlined,null,null)},xe=Z.value?"collapsed":"expanded",Ne=Ce[xe],$e=ge!==null?Se||createVNode("div",{class:`${le}-trigger`,onClick:se,style:{width:be}},[ge||Ne]):null,Ee=[G.style,{flex:`0 0 ${be}`,maxWidth:be,minWidth:be,width:be}],Te=classNames(le,`${le}-${ve}`,{[`${le}-collapsed`]:!!Z.value,[`${le}-has-trigger`]:he&&ge!==null&&!Se,[`${le}-below`]:!!ee.value,[`${le}-zero-width`]:parseFloat(be)===0},G.class);return createVNode("aside",_objectSpread2$1(_objectSpread2$1({},G),{},{class:Te,style:Ee}),[createVNode("div",{class:`${le}-children`},[(de=U.default)===null||de===void 0?void 0:de.call(U)]),he||ee.value&&Se?$e:null])}}}),LayoutSider=Sider,LayoutContent=Content,__unplugin_components_11=_extends$1(Layout,{Header:Header$1,Footer:Footer$1,Content,Sider,install:H=>(H.component(Layout.name,Layout),H.component(Header$1.name,Header$1),H.component(Footer$1.name,Footer$1),H.component(Sider.name,Sider),H.component(Content.name,Content),H)});function throttle(H,K,W){var G=W||{},U=G.noTrailing,X=U===void 0?!1:U,Q=G.noLeading,Z=Q===void 0?!1:Q,ee=G.debounceMode,ne=ee===void 0?void 0:ee,te,oe=!1,re=0;function ae(){te&&clearTimeout(te)}function se(de){var le=de||{},fe=le.upcomingOnly,pe=fe===void 0?!1:fe;ae(),oe=!pe}function ce(){for(var de=arguments.length,le=new Array(de),fe=0;fe<de;fe++)le[fe]=arguments[fe];var pe=this,me=Date.now()-re;if(oe)return;function ue(){re=Date.now(),K.apply(pe,le)}function ge(){te=void 0}!Z&&ne&&!te&&ue(),ae(),ne===void 0&&me>H?Z?(re=Date.now(),X||(te=setTimeout(ne?ge:ue,H))):ue():X!==!0&&(te=setTimeout(ne?ge:ue,ne===void 0?H-me:H))}return ce.cancel=se,ce}function debounce(H,K,W){var G={},U=G.atBegin,X=U===void 0?!1:U;return throttle(H,K,{debounceMode:X!==!1})}const antSpinMove=new Keyframe("antSpinMove",{to:{opacity:1}}),antRotate=new Keyframe("antRotate",{to:{transform:"rotate(405deg)"}}),genSpinStyle=H=>({[`${H.componentCls}`]:_extends$1(_extends$1({},resetComponent(H)),{position:"absolute",display:"none",color:H.colorPrimary,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${H.motionDurationSlow} ${H.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":{position:"relative",[`> div > ${H.componentCls}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:H.contentHeight,[`${H.componentCls}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-H.spinDotSize/2},[`${H.componentCls}-text`]:{position:"absolute",top:"50%",width:"100%",paddingTop:(H.spinDotSize-H.fontSize)/2+2,textShadow:`0 1px 2px ${H.colorBgContainer}`},[`&${H.componentCls}-show-text ${H.componentCls}-dot`]:{marginTop:-(H.spinDotSize/2)-10},"&-sm":{[`${H.componentCls}-dot`]:{margin:-H.spinDotSizeSM/2},[`${H.componentCls}-text`]:{paddingTop:(H.spinDotSizeSM-H.fontSize)/2+2},[`&${H.componentCls}-show-text ${H.componentCls}-dot`]:{marginTop:-(H.spinDotSizeSM/2)-10}},"&-lg":{[`${H.componentCls}-dot`]:{margin:-(H.spinDotSizeLG/2)},[`${H.componentCls}-text`]:{paddingTop:(H.spinDotSizeLG-H.fontSize)/2+2},[`&${H.componentCls}-show-text ${H.componentCls}-dot`]:{marginTop:-(H.spinDotSizeLG/2)-10}}},[`${H.componentCls}-container`]:{position:"relative",transition:`opacity ${H.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:H.colorBgContainer,opacity:0,transition:`all ${H.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${H.componentCls}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:H.spinDotDefault},[`${H.componentCls}-dot`]:{position:"relative",display:"inline-block",fontSize:H.spinDotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(H.spinDotSize-H.marginXXS/2)/2,height:(H.spinDotSize-H.marginXXS/2)/2,backgroundColor:H.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:antSpinMove,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:antRotate,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${H.componentCls}-dot`]:{fontSize:H.spinDotSizeSM,i:{width:(H.spinDotSizeSM-H.marginXXS/2)/2,height:(H.spinDotSizeSM-H.marginXXS/2)/2}},[`&-lg ${H.componentCls}-dot`]:{fontSize:H.spinDotSizeLG,i:{width:(H.spinDotSizeLG-H.marginXXS)/2,height:(H.spinDotSizeLG-H.marginXXS)/2}},[`&${H.componentCls}-show-text ${H.componentCls}-text`]:{display:"block"}})}),useStyle$8=genComponentStyleHook("Spin",H=>{const K=merge(H,{spinDotDefault:H.colorTextDescription,spinDotSize:H.controlHeightLG/2,spinDotSizeSM:H.controlHeightLG*.35,spinDotSizeLG:H.controlHeight});return[genSpinStyle(K)]},{contentHeight:400});var __rest$f=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const spinProps=()=>({prefixCls:String,spinning:{type:Boolean,default:void 0},size:String,wrapperClassName:String,tip:PropTypes.any,delay:Number,indicator:PropTypes.any});let defaultIndicator=null;function shouldDelay(H,K){return!!H&&!!K&&!isNaN(Number(K))}function setDefaultIndicator(H){const K=H.indicator;defaultIndicator=typeof K=="function"?K:()=>createVNode(K,null,null)}const Spin=defineComponent({compatConfig:{MODE:3},name:"ASpin",inheritAttrs:!1,props:initDefaultProps(spinProps(),{size:"default",spinning:!0,wrapperClassName:""}),setup(H,K){let{attrs:W,slots:G}=K;const{prefixCls:U,size:X,direction:Q}=useConfigInject("spin",H),[Z,ee]=useStyle$8(U),ne=shallowRef(H.spinning&&!shouldDelay(H.spinning,H.delay));let te;return watch([()=>H.spinning,()=>H.delay],()=>{te?.cancel(),te=debounce(H.delay,()=>{ne.value=H.spinning}),te?.()},{immediate:!0,flush:"post"}),onBeforeUnmount(()=>{te?.cancel()}),()=>{var oe,re;const{class:ae}=W,se=__rest$f(W,["class"]),{tip:ce=(oe=G.tip)===null||oe===void 0?void 0:oe.call(G)}=H,de=(re=G.default)===null||re===void 0?void 0:re.call(G),le={[ee.value]:!0,[U.value]:!0,[`${U.value}-sm`]:X.value==="small",[`${U.value}-lg`]:X.value==="large",[`${U.value}-spinning`]:ne.value,[`${U.value}-show-text`]:!!ce,[`${U.value}-rtl`]:Q.value==="rtl",[ae]:!!ae};function fe(me){const ue=`${me}-dot`;let ge=getPropsSlot(G,H,"indicator");return ge===null?null:(Array.isArray(ge)&&(ge=ge.length===1?ge[0]:ge),isVNode(ge)?cloneVNode(ge,{class:ue}):defaultIndicator&&isVNode(defaultIndicator())?cloneVNode(defaultIndicator(),{class:ue}):createVNode("span",{class:`${ue} ${me}-dot-spin`},[createVNode("i",{class:`${me}-dot-item`},null),createVNode("i",{class:`${me}-dot-item`},null),createVNode("i",{class:`${me}-dot-item`},null),createVNode("i",{class:`${me}-dot-item`},null)]))}const pe=createVNode("div",_objectSpread2$1(_objectSpread2$1({},se),{},{class:le,"aria-live":"polite","aria-busy":ne.value}),[fe(U.value),ce?createVNode("div",{class:`${U.value}-text`},[ce]):null]);if(de&&filterEmpty(de).length){const me={[`${U.value}-container`]:!0,[`${U.value}-blur`]:ne.value};return Z(createVNode("div",{class:[`${U.value}-nested-loading`,H.wrapperClassName,ee.value]},[ne.value&&createVNode("div",{key:"loading"},[pe]),createVNode("div",{class:me,key:"container"},[de])]))}return Z(pe)}}});Spin.setDefaultIndicator=setDefaultIndicator;Spin.install=function(H){return H.component(Spin.name,Spin),H};var DoubleLeftOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};function _objectSpread$q(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$q(H,U,W[U])})}return H}function _defineProperty$q(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var DoubleLeftOutlined=function(K,W){var G=_objectSpread$q({},K,W.attrs);return createVNode(Icon,_objectSpread$q({},G,{icon:DoubleLeftOutlined$1}),null)};DoubleLeftOutlined.displayName="DoubleLeftOutlined";DoubleLeftOutlined.inheritAttrs=!1;var DoubleRightOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};function _objectSpread$p(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$p(H,U,W[U])})}return H}function _defineProperty$p(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var DoubleRightOutlined=function(K,W){var G=_objectSpread$p({},K,W.attrs);return createVNode(Icon,_objectSpread$p({},G,{icon:DoubleRightOutlined$1}),null)};DoubleRightOutlined.displayName="DoubleRightOutlined";DoubleRightOutlined.inheritAttrs=!1;const MiniSelect=defineComponent({name:"MiniSelect",compatConfig:{MODE:3},inheritAttrs:!1,props:selectProps(),Option:Select.Option,setup(H,K){let{attrs:W,slots:G}=K;return()=>{const U=_extends$1(_extends$1(_extends$1({},H),{size:"small"}),W);return createVNode(Select,U,G)}}}),MiddleSelect=defineComponent({name:"MiddleSelect",inheritAttrs:!1,props:selectProps(),Option:Select.Option,setup(H,K){let{attrs:W,slots:G}=K;return()=>{const U=_extends$1(_extends$1(_extends$1({},H),{size:"middle"}),W);return createVNode(Select,U,G)}}}),Pager=defineComponent({compatConfig:{MODE:3},name:"Pager",inheritAttrs:!1,props:{rootPrefixCls:String,page:Number,active:{type:Boolean,default:void 0},last:{type:Boolean,default:void 0},locale:PropTypes.object,showTitle:{type:Boolean,default:void 0},itemRender:{type:Function,default:()=>{}},onClick:{type:Function},onKeypress:{type:Function}},eimt:["click","keypress"],setup(H,K){let{emit:W,attrs:G}=K;const U=()=>{W("click",H.page)},X=Q=>{W("keypress",Q,U,H.page)};return()=>{const{showTitle:Q,page:Z,itemRender:ee}=H,{class:ne,style:te}=G,oe=`${H.rootPrefixCls}-item`,re=classNames(oe,`${oe}-${H.page}`,{[`${oe}-active`]:H.active,[`${oe}-disabled`]:!H.page},ne);return createVNode("li",{onClick:U,onKeypress:X,title:Q?String(Z):null,tabindex:"0",class:re,style:te},[ee({page:Z,type:"page",originalElement:createVNode("a",{rel:"nofollow"},[Z])})])}}}),KEYCODE={ENTER:13,ARROW_UP:38,ARROW_DOWN:40},Options=defineComponent({compatConfig:{MODE:3},props:{disabled:{type:Boolean,default:void 0},changeSize:Function,quickGo:Function,selectComponentClass:PropTypes.any,current:Number,pageSizeOptions:PropTypes.array.def(["10","20","50","100"]),pageSize:Number,buildOptionText:Function,locale:PropTypes.object,rootPrefixCls:String,selectPrefixCls:String,goButton:PropTypes.any},setup(H){const K=ref(""),W=computed(()=>!K.value||isNaN(K.value)?void 0:Number(K.value)),G=ee=>`${ee.value} ${H.locale.items_per_page}`,U=ee=>{const{value:ne}=ee.target;K.value!==ne&&(K.value=ne)},X=ee=>{const{goButton:ne,quickGo:te,rootPrefixCls:oe}=H;if(!(ne||K.value===""))if(ee.relatedTarget&&(ee.relatedTarget.className.indexOf(`${oe}-item-link`)>=0||ee.relatedTarget.className.indexOf(`${oe}-item`)>=0)){K.value="";return}else te(W.value),K.value=""},Q=ee=>{K.value!==""&&(ee.keyCode===KEYCODE.ENTER||ee.type==="click")&&(H.quickGo(W.value),K.value="")},Z=computed(()=>{const{pageSize:ee,pageSizeOptions:ne}=H;return ne.some(te=>te.toString()===ee.toString())?ne:ne.concat([ee.toString()]).sort((te,oe)=>{const re=isNaN(Number(te))?0:Number(te),ae=isNaN(Number(oe))?0:Number(oe);return re-ae})});return()=>{const{rootPrefixCls:ee,locale:ne,changeSize:te,quickGo:oe,goButton:re,selectComponentClass:ae,selectPrefixCls:se,pageSize:ce,disabled:de}=H,le=`${ee}-options`;let fe=null,pe=null,me=null;if(!te&&!oe)return null;if(te&&ae){const ue=H.buildOptionText||G,ge=Z.value.map((he,ve)=>createVNode(ae.Option,{key:ve,value:he},{default:()=>[ue({value:he})]}));fe=createVNode(ae,{disabled:de,prefixCls:se,showSearch:!1,class:`${le}-size-changer`,optionLabelProp:"children",value:(ce||Z.value[0]).toString(),onChange:he=>te(Number(he)),getPopupContainer:he=>he.parentNode},{default:()=>[ge]})}return oe&&(re&&(me=typeof re=="boolean"?createVNode("button",{type:"button",onClick:Q,onKeyup:Q,disabled:de,class:`${le}-quick-jumper-button`},[ne.jump_to_confirm]):createVNode("span",{onClick:Q,onKeyup:Q},[re])),pe=createVNode("div",{class:`${le}-quick-jumper`},[ne.jump_to,createVNode(BaseInput$1,{disabled:de,type:"text",value:K.value,onInput:U,onChange:U,onKeyup:Q,onBlur:X},null),ne.page,me])),createVNode("li",{class:`${le}`},[fe,pe])}}}),LOCALE={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 "};var __rest$e=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};function isInteger(H){return typeof H=="number"&&isFinite(H)&&Math.floor(H)===H}function defaultItemRender(H){let{originalElement:K}=H;return K}function calculatePage(H,K,W){const G=typeof H>"u"?K.statePageSize:H;return Math.floor((W.total-1)/G)+1}const VcPagination=defineComponent({compatConfig:{MODE:3},name:"Pagination",mixins:[BaseMixin],inheritAttrs:!1,props:{disabled:{type:Boolean,default:void 0},prefixCls:PropTypes.string.def("rc-pagination"),selectPrefixCls:PropTypes.string.def("rc-select"),current:Number,defaultCurrent:PropTypes.number.def(1),total:PropTypes.number.def(0),pageSize:Number,defaultPageSize:PropTypes.number.def(10),hideOnSinglePage:{type:Boolean,default:!1},showSizeChanger:{type:Boolean,default:void 0},showLessItems:{type:Boolean,default:!1},selectComponentClass:PropTypes.any,showPrevNextJumpers:{type:Boolean,default:!0},showQuickJumper:PropTypes.oneOfType([PropTypes.looseBool,PropTypes.object]).def(!1),showTitle:{type:Boolean,default:!0},pageSizeOptions:PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number,PropTypes.string])),buildOptionText:Function,showTotal:Function,simple:{type:Boolean,default:void 0},locale:PropTypes.object.def(LOCALE),itemRender:PropTypes.func.def(defaultItemRender),prevIcon:PropTypes.any,nextIcon:PropTypes.any,jumpPrevIcon:PropTypes.any,jumpNextIcon:PropTypes.any,totalBoundaryShowSizeChanger:PropTypes.number.def(50)},data(){const H=this.$props;let K=firstNotUndefined([this.current,this.defaultCurrent]);const W=firstNotUndefined([this.pageSize,this.defaultPageSize]);return K=Math.min(K,calculatePage(W,void 0,H)),{stateCurrent:K,stateCurrentInputValue:K,statePageSize:W}},watch:{current(H){this.setState({stateCurrent:H,stateCurrentInputValue:H})},pageSize(H){const K={};let W=this.stateCurrent;const G=calculatePage(H,this.$data,this.$props);W=W>G?G:W,hasProp(this,"current")||(K.stateCurrent=W,K.stateCurrentInputValue=W),K.statePageSize=H,this.setState(K)},stateCurrent(H,K){this.$nextTick(()=>{if(this.$refs.paginationNode){const W=this.$refs.paginationNode.querySelector(`.${this.prefixCls}-item-${K}`);W&&document.activeElement===W&&W.blur()}})},total(){const H={},K=calculatePage(this.pageSize,this.$data,this.$props);if(hasProp(this,"current")){const W=Math.min(this.current,K);H.stateCurrent=W,H.stateCurrentInputValue=W}else{let W=this.stateCurrent;W===0&&K>0?W=1:W=Math.min(this.stateCurrent,K),H.stateCurrent=W}this.setState(H)}},methods:{getJumpPrevPage(){return Math.max(1,this.stateCurrent-(this.showLessItems?3:5))},getJumpNextPage(){return Math.min(calculatePage(void 0,this.$data,this.$props),this.stateCurrent+(this.showLessItems?3:5))},getItemIcon(H,K){const{prefixCls:W}=this.$props;return getComponent(this,H,this.$props)||createVNode("button",{type:"button","aria-label":K,class:`${W}-item-link`},null)},getValidValue(H){const K=H.target.value,W=calculatePage(void 0,this.$data,this.$props),{stateCurrentInputValue:G}=this.$data;let U;return K===""?U=K:isNaN(Number(K))?U=G:K>=W?U=W:U=Number(K),U},isValid(H){return isInteger(H)&&H!==this.stateCurrent},shouldDisplayQuickJumper(){const{showQuickJumper:H,pageSize:K,total:W}=this.$props;return W<=K?!1:H},handleKeyDown(H){(H.keyCode===KEYCODE.ARROW_UP||H.keyCode===KEYCODE.ARROW_DOWN)&&H.preventDefault()},handleKeyUp(H){const K=this.getValidValue(H),W=this.stateCurrentInputValue;K!==W&&this.setState({stateCurrentInputValue:K}),H.keyCode===KEYCODE.ENTER?this.handleChange(K):H.keyCode===KEYCODE.ARROW_UP?this.handleChange(K-1):H.keyCode===KEYCODE.ARROW_DOWN&&this.handleChange(K+1)},changePageSize(H){let K=this.stateCurrent;const W=K,G=calculatePage(H,this.$data,this.$props);K=K>G?G:K,G===0&&(K=this.stateCurrent),typeof H=="number"&&(hasProp(this,"pageSize")||this.setState({statePageSize:H}),hasProp(this,"current")||this.setState({stateCurrent:K,stateCurrentInputValue:K})),this.__emit("update:pageSize",H),K!==W&&this.__emit("update:current",K),this.__emit("showSizeChange",K,H),this.__emit("change",K,H)},handleChange(H){const{disabled:K}=this.$props;let W=H;if(this.isValid(W)&&!K){const G=calculatePage(void 0,this.$data,this.$props);return W>G?W=G:W<1&&(W=1),hasProp(this,"current")||this.setState({stateCurrent:W,stateCurrentInputValue:W}),this.__emit("update:current",W),this.__emit("change",W,this.statePageSize),W}return this.stateCurrent},prev(){this.hasPrev()&&this.handleChange(this.stateCurrent-1)},next(){this.hasNext()&&this.handleChange(this.stateCurrent+1)},jumpPrev(){this.handleChange(this.getJumpPrevPage())},jumpNext(){this.handleChange(this.getJumpNextPage())},hasPrev(){return this.stateCurrent>1},hasNext(){return this.stateCurrent<calculatePage(void 0,this.$data,this.$props)},getShowSizeChanger(){const{showSizeChanger:H,total:K,totalBoundaryShowSizeChanger:W}=this.$props;return typeof H<"u"?H:K>W},runIfEnter(H,K){if(H.key==="Enter"||H.charCode===13){H.preventDefault();for(var W=arguments.length,G=new Array(W>2?W-2:0),U=2;U<W;U++)G[U-2]=arguments[U];K(...G)}},runIfEnterPrev(H){this.runIfEnter(H,this.prev)},runIfEnterNext(H){this.runIfEnter(H,this.next)},runIfEnterJumpPrev(H){this.runIfEnter(H,this.jumpPrev)},runIfEnterJumpNext(H){this.runIfEnter(H,this.jumpNext)},handleGoTO(H){(H.keyCode===KEYCODE.ENTER||H.type==="click")&&this.handleChange(this.stateCurrentInputValue)},renderPrev(H){const{itemRender:K}=this.$props,W=K({page:H,type:"prev",originalElement:this.getItemIcon("prevIcon","prev page")}),G=!this.hasPrev();return isValidElement(W)?cloneElement(W,G?{disabled:G}:{}):W},renderNext(H){const{itemRender:K}=this.$props,W=K({page:H,type:"next",originalElement:this.getItemIcon("nextIcon","next page")}),G=!this.hasNext();return isValidElement(W)?cloneElement(W,G?{disabled:G}:{}):W}},render(){const{prefixCls:H,disabled:K,hideOnSinglePage:W,total:G,locale:U,showQuickJumper:X,showLessItems:Q,showTitle:Z,showTotal:ee,simple:ne,itemRender:te,showPrevNextJumpers:oe,jumpPrevIcon:re,jumpNextIcon:ae,selectComponentClass:se,selectPrefixCls:ce,pageSizeOptions:de}=this.$props,{stateCurrent:le,statePageSize:fe}=this,pe=splitAttrs(this.$attrs).extraAttrs,{class:me}=pe,ue=__rest$e(pe,["class"]);if(W===!0&&this.total<=fe)return null;const ge=calculatePage(void 0,this.$data,this.$props),he=[];let ve=null,ye=null,be=null,Se=null,Ce=null;const xe=X&&X.goButton,Ne=Q?1:2,$e=le-1>0?le-1:0,Ee=le+1<ge?le+1:ge,Te=this.hasPrev(),Be=this.hasNext();if(ne)return xe&&(typeof xe=="boolean"?Ce=createVNode("button",{type:"button",onClick:this.handleGoTO,onKeyup:this.handleGoTO},[U.jump_to_confirm]):Ce=createVNode("span",{onClick:this.handleGoTO,onKeyup:this.handleGoTO},[xe]),Ce=createVNode("li",{title:Z?`${U.jump_to}${le}/${ge}`:null,class:`${H}-simple-pager`},[Ce])),createVNode("ul",_objectSpread2$1({class:classNames(`${H} ${H}-simple`,{[`${H}-disabled`]:K},me)},ue),[createVNode("li",{title:Z?U.prev_page:null,onClick:this.prev,tabindex:Te?0:null,onKeypress:this.runIfEnterPrev,class:classNames(`${H}-prev`,{[`${H}-disabled`]:!Te}),"aria-disabled":!Te},[this.renderPrev($e)]),createVNode("li",{title:Z?`${le}/${ge}`:null,class:`${H}-simple-pager`},[createVNode(BaseInput$1,{type:"text",value:this.stateCurrentInputValue,disabled:K,onKeydown:this.handleKeyDown,onKeyup:this.handleKeyUp,onInput:this.handleKeyUp,onChange:this.handleKeyUp,size:"3"},null),createVNode("span",{class:`${H}-slash`},[createTextVNode("")]),ge]),createVNode("li",{title:Z?U.next_page:null,onClick:this.next,tabindex:Be?0:null,onKeypress:this.runIfEnterNext,class:classNames(`${H}-next`,{[`${H}-disabled`]:!Be}),"aria-disabled":!Be},[this.renderNext(Ee)]),Ce]);if(ge<=3+Ne*2){const Ze={locale:U,rootPrefixCls:H,showTitle:Z,itemRender:te,onClick:this.handleChange,onKeypress:this.runIfEnter};ge||he.push(createVNode(Pager,_objectSpread2$1(_objectSpread2$1({},Ze),{},{key:"noPager",page:1,class:`${H}-item-disabled`}),null));for(let Ye=1;Ye<=ge;Ye+=1){const Re=le===Ye;he.push(createVNode(Pager,_objectSpread2$1(_objectSpread2$1({},Ze),{},{key:Ye,page:Ye,active:Re}),null))}}else{const Ze=Q?U.prev_3:U.prev_5,Ye=Q?U.next_3:U.next_5;oe&&(ve=createVNode("li",{title:this.showTitle?Ze:null,key:"prev",onClick:this.jumpPrev,tabindex:"0",onKeypress:this.runIfEnterJumpPrev,class:classNames(`${H}-jump-prev`,{[`${H}-jump-prev-custom-icon`]:!!re})},[te({page:this.getJumpPrevPage(),type:"jump-prev",originalElement:this.getItemIcon("jumpPrevIcon","prev page")})]),ye=createVNode("li",{title:this.showTitle?Ye:null,key:"next",tabindex:"0",onClick:this.jumpNext,onKeypress:this.runIfEnterJumpNext,class:classNames(`${H}-jump-next`,{[`${H}-jump-next-custom-icon`]:!!ae})},[te({page:this.getJumpNextPage(),type:"jump-next",originalElement:this.getItemIcon("jumpNextIcon","next page")})])),Se=createVNode(Pager,{locale:U,last:!0,rootPrefixCls:H,onClick:this.handleChange,onKeypress:this.runIfEnter,key:ge,page:ge,active:!1,showTitle:Z,itemRender:te},null),be=createVNode(Pager,{locale:U,rootPrefixCls:H,onClick:this.handleChange,onKeypress:this.runIfEnter,key:1,page:1,active:!1,showTitle:Z,itemRender:te},null);let Re=Math.max(1,le-Ne),Ke=Math.min(le+Ne,ge);le-1<=Ne&&(Ke=1+Ne*2),ge-le<=Ne&&(Re=ge-Ne*2);for(let we=Re;we<=Ke;we+=1){const _e=le===we;he.push(createVNode(Pager,{locale:U,rootPrefixCls:H,onClick:this.handleChange,onKeypress:this.runIfEnter,key:we,page:we,active:_e,showTitle:Z,itemRender:te},null))}le-1>=Ne*2&&le!==3&&(he[0]=createVNode(Pager,{locale:U,rootPrefixCls:H,onClick:this.handleChange,onKeypress:this.runIfEnter,key:Re,page:Re,class:`${H}-item-after-jump-prev`,active:!1,showTitle:this.showTitle,itemRender:te},null),he.unshift(ve)),ge-le>=Ne*2&&le!==ge-2&&(he[he.length-1]=createVNode(Pager,{locale:U,rootPrefixCls:H,onClick:this.handleChange,onKeypress:this.runIfEnter,key:Ke,page:Ke,class:`${H}-item-before-jump-next`,active:!1,showTitle:this.showTitle,itemRender:te},null),he.push(ye)),Re!==1&&he.unshift(be),Ke!==ge&&he.push(Se)}let Ae=null;ee&&(Ae=createVNode("li",{class:`${H}-total-text`},[ee(G,[G===0?0:(le-1)*fe+1,le*fe>G?G:le*fe])]));const ze=!Te||!ge,We=!Be||!ge,Le=this.buildOptionText||this.$slots.buildOptionText;return createVNode("ul",_objectSpread2$1(_objectSpread2$1({unselectable:"on",ref:"paginationNode"},ue),{},{class:classNames({[`${H}`]:!0,[`${H}-disabled`]:K},me)}),[Ae,createVNode("li",{title:Z?U.prev_page:null,onClick:this.prev,tabindex:ze?null:0,onKeypress:this.runIfEnterPrev,class:classNames(`${H}-prev`,{[`${H}-disabled`]:ze}),"aria-disabled":ze},[this.renderPrev($e)]),he,createVNode("li",{title:Z?U.next_page:null,onClick:this.next,tabindex:We?null:0,onKeypress:this.runIfEnterNext,class:classNames(`${H}-next`,{[`${H}-disabled`]:We}),"aria-disabled":We},[this.renderNext(Ee)]),createVNode(Options,{disabled:K,locale:U,rootPrefixCls:H,selectComponentClass:se,selectPrefixCls:ce,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:le,pageSize:fe,pageSizeOptions:de,buildOptionText:Le||null,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:xe},null)])}}),genPaginationDisabledStyle=H=>{const{componentCls:K}=H;return{[`${K}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${K}-item-link`]:{color:H.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${K}-item-link`]:{color:H.colorTextDisabled,cursor:"not-allowed"}}},[`&${K}-disabled`]:{cursor:"not-allowed",[`&${K}-mini`]:{[`
          &:hover ${K}-item:not(${K}-item-active),
          &:active ${K}-item:not(${K}-item-active),
          &:hover ${K}-item-link,
          &:active ${K}-item-link
        `]:{backgroundColor:"transparent"}},[`${K}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:H.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:H.colorBorder,backgroundColor:H.paginationItemDisabledBgActive,"&:hover, &:active":{backgroundColor:H.paginationItemDisabledBgActive},a:{color:H.paginationItemDisabledColorActive}}},[`${K}-item-link`]:{color:H.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${K}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${K}-simple-pager`]:{color:H.colorTextDisabled},[`${K}-jump-prev, ${K}-jump-next`]:{[`${K}-item-link-icon`]:{opacity:0},[`${K}-item-ellipsis`]:{opacity:1}}},[`&${K}-simple`]:{[`${K}-prev, ${K}-next`]:{[`&${K}-disabled ${K}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},genPaginationMiniStyle=H=>{const{componentCls:K}=H;return{[`&${K}-mini ${K}-total-text, &${K}-mini ${K}-simple-pager`]:{height:H.paginationItemSizeSM,lineHeight:`${H.paginationItemSizeSM}px`},[`&${K}-mini ${K}-item`]:{minWidth:H.paginationItemSizeSM,height:H.paginationItemSizeSM,margin:0,lineHeight:`${H.paginationItemSizeSM-2}px`},[`&${K}-mini ${K}-item:not(${K}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:H.colorBgTextHover},"&:active":{backgroundColor:H.colorBgTextActive}},[`&${K}-mini ${K}-prev, &${K}-mini ${K}-next`]:{minWidth:H.paginationItemSizeSM,height:H.paginationItemSizeSM,margin:0,lineHeight:`${H.paginationItemSizeSM}px`,[`&:hover ${K}-item-link`]:{backgroundColor:H.colorBgTextHover},[`&:active ${K}-item-link`]:{backgroundColor:H.colorBgTextActive},[`&${K}-disabled:hover ${K}-item-link`]:{backgroundColor:"transparent"}},[`
    &${K}-mini ${K}-prev ${K}-item-link,
    &${K}-mini ${K}-next ${K}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:H.paginationItemSizeSM,lineHeight:`${H.paginationItemSizeSM}px`}},[`&${K}-mini ${K}-jump-prev, &${K}-mini ${K}-jump-next`]:{height:H.paginationItemSizeSM,marginInlineEnd:0,lineHeight:`${H.paginationItemSizeSM}px`},[`&${K}-mini ${K}-options`]:{marginInlineStart:H.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:H.paginationMiniOptionsSizeChangerTop},"&-quick-jumper":{height:H.paginationItemSizeSM,lineHeight:`${H.paginationItemSizeSM}px`,input:_extends$1(_extends$1({},genInputSmallStyle(H)),{width:H.paginationMiniQuickJumperInputWidth,height:H.controlHeightSM})}}}},genPaginationSimpleStyle=H=>{const{componentCls:K}=H;return{[`
    &${K}-simple ${K}-prev,
    &${K}-simple ${K}-next
    `]:{height:H.paginationItemSizeSM,lineHeight:`${H.paginationItemSizeSM}px`,verticalAlign:"top",[`${K}-item-link`]:{height:H.paginationItemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:H.colorBgTextHover},"&:active":{backgroundColor:H.colorBgTextActive},"&::after":{height:H.paginationItemSizeSM,lineHeight:`${H.paginationItemSizeSM}px`}}},[`&${K}-simple ${K}-simple-pager`]:{display:"inline-block",height:H.paginationItemSizeSM,marginInlineEnd:H.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:H.marginXS,padding:`0 ${H.paginationItemPaddingInline}px`,textAlign:"center",backgroundColor:H.paginationItemInputBg,border:`${H.lineWidth}px ${H.lineType} ${H.colorBorder}`,borderRadius:H.borderRadius,outline:"none",transition:`border-color ${H.motionDurationMid}`,color:"inherit","&:hover":{borderColor:H.colorPrimary},"&:focus":{borderColor:H.colorPrimaryHover,boxShadow:`${H.inputOutlineOffset}px 0 ${H.controlOutlineWidth}px ${H.controlOutline}`},"&[disabled]":{color:H.colorTextDisabled,backgroundColor:H.colorBgContainerDisabled,borderColor:H.colorBorder,cursor:"not-allowed"}}}}},genPaginationJumpStyle=H=>{const{componentCls:K}=H;return{[`${K}-jump-prev, ${K}-jump-next`]:{outline:0,[`${K}-item-container`]:{position:"relative",[`${K}-item-link-icon`]:{color:H.colorPrimary,fontSize:H.fontSizeSM,opacity:0,transition:`all ${H.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${K}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:H.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:H.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:H.paginationEllipsisTextIndent,opacity:1,transition:`all ${H.motionDurationMid}`}},"&:hover":{[`${K}-item-link-icon`]:{opacity:1},[`${K}-item-ellipsis`]:{opacity:0}},"&:focus-visible":_extends$1({[`${K}-item-link-icon`]:{opacity:1},[`${K}-item-ellipsis`]:{opacity:0}},genFocusOutline(H))},[`
    ${K}-prev,
    ${K}-jump-prev,
    ${K}-jump-next
    `]:{marginInlineEnd:H.marginXS},[`
    ${K}-prev,
    ${K}-next,
    ${K}-jump-prev,
    ${K}-jump-next
    `]:{display:"inline-block",minWidth:H.paginationItemSize,height:H.paginationItemSize,color:H.colorText,fontFamily:H.paginationFontFamily,lineHeight:`${H.paginationItemSize}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:H.borderRadius,cursor:"pointer",transition:`all ${H.motionDurationMid}`},[`${K}-prev, ${K}-next`]:{fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:H.colorText,cursor:"pointer",userSelect:"none"},[`${K}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:H.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${H.lineWidth}px ${H.lineType} transparent`,borderRadius:H.borderRadius,outline:"none",transition:`all ${H.motionDurationMid}`},[`&:focus-visible ${K}-item-link`]:_extends$1({},genFocusOutline(H)),[`&:hover ${K}-item-link`]:{backgroundColor:H.colorBgTextHover},[`&:active ${K}-item-link`]:{backgroundColor:H.colorBgTextActive},[`&${K}-disabled:hover`]:{[`${K}-item-link`]:{backgroundColor:"transparent"}}},[`${K}-slash`]:{marginInlineEnd:H.paginationSlashMarginInlineEnd,marginInlineStart:H.paginationSlashMarginInlineStart},[`${K}-options`]:{display:"inline-block",marginInlineStart:H.margin,verticalAlign:"middle","&-size-changer.-select":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:H.controlHeight,marginInlineStart:H.marginXS,lineHeight:`${H.controlHeight}px`,verticalAlign:"top",input:_extends$1(_extends$1({},genBasicInputStyle(H)),{width:H.controlHeightLG*1.25,height:H.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:H.marginXS,marginInlineEnd:H.marginXS})}}}},genPaginationItemStyle=H=>{const{componentCls:K}=H;return{[`${K}-item`]:_extends$1(_extends$1({display:"inline-block",minWidth:H.paginationItemSize,height:H.paginationItemSize,marginInlineEnd:H.marginXS,fontFamily:H.paginationFontFamily,lineHeight:`${H.paginationItemSize-2}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:`${H.lineWidth}px ${H.lineType} transparent`,borderRadius:H.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${H.paginationItemPaddingInline}px`,color:H.colorText,transition:"none","&:hover":{textDecoration:"none"}},[`&:not(${K}-item-active)`]:{"&:hover":{transition:`all ${H.motionDurationMid}`,backgroundColor:H.colorBgTextHover},"&:active":{backgroundColor:H.colorBgTextActive}}},genFocusStyle(H)),{"&-active":{fontWeight:H.paginationFontWeightActive,backgroundColor:H.paginationItemBgActive,borderColor:H.colorPrimary,a:{color:H.colorPrimary},"&:hover":{borderColor:H.colorPrimaryHover},"&:hover a":{color:H.colorPrimaryHover}}})}},genPaginationStyle$1=H=>{const{componentCls:K}=H;return{[K]:_extends$1(_extends$1(_extends$1(_extends$1(_extends$1(_extends$1(_extends$1(_extends$1({},resetComponent(H)),{"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${K}-total-text`]:{display:"inline-block",height:H.paginationItemSize,marginInlineEnd:H.marginXS,lineHeight:`${H.paginationItemSize-2}px`,verticalAlign:"middle"}}),genPaginationItemStyle(H)),genPaginationJumpStyle(H)),genPaginationSimpleStyle(H)),genPaginationMiniStyle(H)),genPaginationDisabledStyle(H)),{[`@media only screen and (max-width: ${H.screenLG}px)`]:{[`${K}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${H.screenSM}px)`]:{[`${K}-options`]:{display:"none"}}}),[`&${H.componentCls}-rtl`]:{direction:"rtl"}}},genBorderedStyle$2=H=>{const{componentCls:K}=H;return{[`${K}${K}-disabled`]:{"&, &:hover":{[`${K}-item-link`]:{borderColor:H.colorBorder}},"&:focus-visible":{[`${K}-item-link`]:{borderColor:H.colorBorder}},[`${K}-item, ${K}-item-link`]:{backgroundColor:H.colorBgContainerDisabled,borderColor:H.colorBorder,[`&:hover:not(${K}-item-active)`]:{backgroundColor:H.colorBgContainerDisabled,borderColor:H.colorBorder,a:{color:H.colorTextDisabled}},[`&${K}-item-active`]:{backgroundColor:H.paginationItemDisabledBgActive}},[`${K}-prev, ${K}-next`]:{"&:hover button":{backgroundColor:H.colorBgContainerDisabled,borderColor:H.colorBorder,color:H.colorTextDisabled},[`${K}-item-link`]:{backgroundColor:H.colorBgContainerDisabled,borderColor:H.colorBorder}}},[K]:{[`${K}-prev, ${K}-next`]:{"&:hover button":{borderColor:H.colorPrimaryHover,backgroundColor:H.paginationItemBg},[`${K}-item-link`]:{backgroundColor:H.paginationItemLinkBg,borderColor:H.colorBorder},[`&:hover ${K}-item-link`]:{borderColor:H.colorPrimary,backgroundColor:H.paginationItemBg,color:H.colorPrimary},[`&${K}-disabled`]:{[`${K}-item-link`]:{borderColor:H.colorBorder,color:H.colorTextDisabled}}},[`${K}-item`]:{backgroundColor:H.paginationItemBg,border:`${H.lineWidth}px ${H.lineType} ${H.colorBorder}`,[`&:hover:not(${K}-item-active)`]:{borderColor:H.colorPrimary,backgroundColor:H.paginationItemBg,a:{color:H.colorPrimary}},"&-active":{borderColor:H.colorPrimary}}}}},useStyle$7=genComponentStyleHook("Pagination",H=>{const K=merge(H,{paginationItemSize:H.controlHeight,paginationFontFamily:H.fontFamily,paginationItemBg:H.colorBgContainer,paginationItemBgActive:H.colorBgContainer,paginationFontWeightActive:H.fontWeightStrong,paginationItemSizeSM:H.controlHeightSM,paginationItemInputBg:H.colorBgContainer,paginationMiniOptionsSizeChangerTop:0,paginationItemDisabledBgActive:H.controlItemBgActiveDisabled,paginationItemDisabledColorActive:H.colorTextDisabled,paginationItemLinkBg:H.colorBgContainer,inputOutlineOffset:"0 0",paginationMiniOptionsMarginInlineStart:H.marginXXS/2,paginationMiniQuickJumperInputWidth:H.controlHeightLG*1.1,paginationItemPaddingInline:H.marginXXS*1.5,paginationEllipsisLetterSpacing:H.marginXXS/2,paginationSlashMarginInlineStart:H.marginXXS,paginationSlashMarginInlineEnd:H.marginSM,paginationEllipsisTextIndent:"0.13em"},initInputToken(H));return[genPaginationStyle$1(K),H.wireframe&&genBorderedStyle$2(K)]});var __rest$d=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const paginationProps=()=>({total:Number,defaultCurrent:Number,disabled:booleanType(),current:Number,defaultPageSize:Number,pageSize:Number,hideOnSinglePage:booleanType(),showSizeChanger:booleanType(),pageSizeOptions:arrayType(),buildOptionText:functionType(),showQuickJumper:someType([Boolean,Object]),showTotal:functionType(),size:stringType(),simple:booleanType(),locale:Object,prefixCls:String,selectPrefixCls:String,totalBoundaryShowSizeChanger:Number,selectComponentClass:String,itemRender:functionType(),role:String,responsive:Boolean,showLessItems:booleanType(),onChange:functionType(),onShowSizeChange:functionType(),"onUpdate:current":functionType(),"onUpdate:pageSize":functionType()}),Pagination$1=defineComponent({compatConfig:{MODE:3},name:"APagination",inheritAttrs:!1,props:paginationProps(),setup(H,K){let{slots:W,attrs:G}=K;const{prefixCls:U,configProvider:X,direction:Q,size:Z}=useConfigInject("pagination",H),[ee,ne]=useStyle$7(U),te=computed(()=>X.getPrefixCls("select",H.selectPrefixCls)),oe=useBreakpoint(),[re]=useLocaleReceiver("Pagination",enUS,toRef(H,"locale")),ae=se=>{const ce=createVNode("span",{class:`${se}-item-ellipsis`},[createTextVNode("")]),de=createVNode("button",{class:`${se}-item-link`,type:"button",tabindex:-1},[Q.value==="rtl"?createVNode(RightOutlined,null,null):createVNode(LeftOutlined,null,null)]),le=createVNode("button",{class:`${se}-item-link`,type:"button",tabindex:-1},[Q.value==="rtl"?createVNode(LeftOutlined,null,null):createVNode(RightOutlined,null,null)]),fe=createVNode("a",{rel:"nofollow",class:`${se}-item-link`},[createVNode("div",{class:`${se}-item-container`},[Q.value==="rtl"?createVNode(DoubleRightOutlined,{class:`${se}-item-link-icon`},null):createVNode(DoubleLeftOutlined,{class:`${se}-item-link-icon`},null),ce])]),pe=createVNode("a",{rel:"nofollow",class:`${se}-item-link`},[createVNode("div",{class:`${se}-item-container`},[Q.value==="rtl"?createVNode(DoubleLeftOutlined,{class:`${se}-item-link-icon`},null):createVNode(DoubleRightOutlined,{class:`${se}-item-link-icon`},null),ce])]);return{prevIcon:de,nextIcon:le,jumpPrevIcon:fe,jumpNextIcon:pe}};return()=>{var se;const{itemRender:ce=W.itemRender,buildOptionText:de=W.buildOptionText,selectComponentClass:le,responsive:fe}=H,pe=__rest$d(H,["itemRender","buildOptionText","selectComponentClass","responsive"]),me=Z.value==="small"||!!(!((se=oe.value)===null||se===void 0)&&se.xs&&!Z.value&&fe),ue=_extends$1(_extends$1(_extends$1(_extends$1(_extends$1({},pe),ae(U.value)),{prefixCls:U.value,selectPrefixCls:te.value,selectComponentClass:le||(me?MiniSelect:MiddleSelect),locale:re.value,buildOptionText:de}),G),{class:classNames({[`${U.value}-mini`]:me,[`${U.value}-rtl`]:Q.value==="rtl"},G.class,ne.value),itemRender:ce});return ee(createVNode(VcPagination,ue,null))}}}),Pagination=withInstall(Pagination$1),listItemMetaProps=()=>({avatar:PropTypes.any,description:PropTypes.any,prefixCls:String,title:PropTypes.any}),ItemMeta=defineComponent({compatConfig:{MODE:3},name:"AListItemMeta",props:listItemMetaProps(),displayName:"AListItemMeta",__ANT_LIST_ITEM_META:!0,slots:Object,setup(H,K){let{slots:W}=K;const{prefixCls:G}=useConfigInject("list",H);return()=>{var U,X,Q,Z,ee,ne;const te=`${G.value}-item-meta`,oe=(U=H.title)!==null&&U!==void 0?U:(X=W.title)===null||X===void 0?void 0:X.call(W),re=(Q=H.description)!==null&&Q!==void 0?Q:(Z=W.description)===null||Z===void 0?void 0:Z.call(W),ae=(ee=H.avatar)!==null&&ee!==void 0?ee:(ne=W.avatar)===null||ne===void 0?void 0:ne.call(W),se=createVNode("div",{class:`${G.value}-item-meta-content`},[oe&&createVNode("h4",{class:`${G.value}-item-meta-title`},[oe]),re&&createVNode("div",{class:`${G.value}-item-meta-description`},[re])]);return createVNode("div",{class:te},[ae&&createVNode("div",{class:`${G.value}-item-meta-avatar`},[ae]),(oe||re)&&se])}}}),ListContextKey=Symbol("ListContextKey");var __rest$c=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const listItemProps=()=>({prefixCls:String,extra:PropTypes.any,actions:PropTypes.array,grid:Object,colStyle:{type:Object,default:void 0}}),__unplugin_components_4$2=defineComponent({compatConfig:{MODE:3},name:"AListItem",inheritAttrs:!1,Meta:ItemMeta,props:listItemProps(),slots:Object,setup(H,K){let{slots:W,attrs:G}=K;const{itemLayout:U,grid:X}=inject(ListContextKey,{grid:ref(),itemLayout:ref()}),{prefixCls:Q}=useConfigInject("list",H),Z=()=>{var ne;const te=((ne=W.default)===null||ne===void 0?void 0:ne.call(W))||[];let oe;return te.forEach(re=>{isStringElement(re)&&!isEmptyElement(re)&&(oe=!0)}),oe&&te.length>1},ee=()=>{var ne,te;const oe=(ne=H.extra)!==null&&ne!==void 0?ne:(te=W.extra)===null||te===void 0?void 0:te.call(W);return U.value==="vertical"?!!oe:!Z()};return()=>{var ne,te,oe,re,ae;const{class:se}=G,ce=__rest$c(G,["class"]),de=Q.value,le=(ne=H.extra)!==null&&ne!==void 0?ne:(te=W.extra)===null||te===void 0?void 0:te.call(W),fe=(oe=W.default)===null||oe===void 0?void 0:oe.call(W);let pe=(re=H.actions)!==null&&re!==void 0?re:flattenChildren((ae=W.actions)===null||ae===void 0?void 0:ae.call(W));pe=pe&&!Array.isArray(pe)?[pe]:pe;const me=pe&&pe.length>0&&createVNode("ul",{class:`${de}-item-action`,key:"actions"},[pe.map((he,ve)=>createVNode("li",{key:`${de}-item-action-${ve}`},[he,ve!==pe.length-1&&createVNode("em",{class:`${de}-item-action-split`},null)]))]),ue=X.value?"div":"li",ge=createVNode(ue,_objectSpread2$1(_objectSpread2$1({},ce),{},{class:classNames(`${de}-item`,{[`${de}-item-no-flex`]:!ee()},se)}),{default:()=>[U.value==="vertical"&&le?[createVNode("div",{class:`${de}-item-main`,key:"content"},[fe,me]),createVNode("div",{class:`${de}-item-extra`,key:"extra"},[le])]:[fe,me,cloneElement(le,{key:"extra"})]]});return X.value?createVNode(Col,{flex:1,style:H.colStyle},{default:()=>[ge]}):ge}}}),genBorderedStyle$1=H=>{const{listBorderedCls:K,componentCls:W,paddingLG:G,margin:U,padding:X,listItemPaddingSM:Q,marginLG:Z,borderRadiusLG:ee}=H;return{[`${K}`]:{border:`${H.lineWidth}px ${H.lineType} ${H.colorBorder}`,borderRadius:ee,[`${W}-header,${W}-footer,${W}-item`]:{paddingInline:G},[`${W}-pagination`]:{margin:`${U}px ${Z}px`}},[`${K}${W}-sm`]:{[`${W}-item,${W}-header,${W}-footer`]:{padding:Q}},[`${K}${W}-lg`]:{[`${W}-item,${W}-header,${W}-footer`]:{padding:`${X}px ${G}px`}}}},genResponsiveStyle=H=>{const{componentCls:K,screenSM:W,screenMD:G,marginLG:U,marginSM:X,margin:Q}=H;return{[`@media screen and (max-width:${G})`]:{[`${K}`]:{[`${K}-item`]:{[`${K}-item-action`]:{marginInlineStart:U}}},[`${K}-vertical`]:{[`${K}-item`]:{[`${K}-item-extra`]:{marginInlineStart:U}}}},[`@media screen and (max-width: ${W})`]:{[`${K}`]:{[`${K}-item`]:{flexWrap:"wrap",[`${K}-action`]:{marginInlineStart:X}}},[`${K}-vertical`]:{[`${K}-item`]:{flexWrap:"wrap-reverse",[`${K}-item-main`]:{minWidth:H.contentWidth},[`${K}-item-extra`]:{margin:`auto auto ${Q}px`}}}}}},genBaseStyle$2=H=>{const{componentCls:K,antCls:W,controlHeight:G,minHeight:U,paddingSM:X,marginLG:Q,padding:Z,listItemPadding:ee,colorPrimary:ne,listItemPaddingSM:te,listItemPaddingLG:oe,paddingXS:re,margin:ae,colorText:se,colorTextDescription:ce,motionDurationSlow:de,lineWidth:le}=H;return{[`${K}`]:_extends$1(_extends$1({},resetComponent(H)),{position:"relative","*":{outline:"none"},[`${K}-header, ${K}-footer`]:{background:"transparent",paddingBlock:X},[`${K}-pagination`]:{marginBlockStart:Q,textAlign:"end",[`${W}-pagination-options`]:{textAlign:"start"}},[`${K}-spin`]:{minHeight:U,textAlign:"center"},[`${K}-items`]:{margin:0,padding:0,listStyle:"none"},[`${K}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:ee,color:se,[`${K}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${K}-item-meta-avatar`]:{marginInlineEnd:Z},[`${K}-item-meta-content`]:{flex:"1 0",width:0,color:se},[`${K}-item-meta-title`]:{marginBottom:H.marginXXS,color:se,fontSize:H.fontSize,lineHeight:H.lineHeight,"> a":{color:se,transition:`all ${de}`,"&:hover":{color:ne}}},[`${K}-item-meta-description`]:{color:ce,fontSize:H.fontSize,lineHeight:H.lineHeight}},[`${K}-item-action`]:{flex:"0 0 auto",marginInlineStart:H.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${re}px`,color:ce,fontSize:H.fontSize,lineHeight:H.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${K}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:le,height:Math.ceil(H.fontSize*H.lineHeight)-H.marginXXS*2,transform:"translateY(-50%)",backgroundColor:H.colorSplit}}},[`${K}-empty`]:{padding:`${Z}px 0`,color:ce,fontSize:H.fontSizeSM,textAlign:"center"},[`${K}-empty-text`]:{padding:Z,color:H.colorTextDisabled,fontSize:H.fontSize,textAlign:"center"},[`${K}-item-no-flex`]:{display:"block"}}),[`${K}-grid ${W}-col > ${K}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:ae,paddingBlock:0,borderBlockEnd:"none"},[`${K}-vertical ${K}-item`]:{alignItems:"initial",[`${K}-item-main`]:{display:"block",flex:1},[`${K}-item-extra`]:{marginInlineStart:Q},[`${K}-item-meta`]:{marginBlockEnd:Z,[`${K}-item-meta-title`]:{marginBlockEnd:X,color:se,fontSize:H.fontSizeLG,lineHeight:H.lineHeightLG}},[`${K}-item-action`]:{marginBlockStart:Z,marginInlineStart:"auto","> li":{padding:`0 ${Z}px`,"&:first-child":{paddingInlineStart:0}}}},[`${K}-split ${K}-item`]:{borderBlockEnd:`${H.lineWidth}px ${H.lineType} ${H.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${K}-split ${K}-header`]:{borderBlockEnd:`${H.lineWidth}px ${H.lineType} ${H.colorSplit}`},[`${K}-split${K}-empty ${K}-footer`]:{borderTop:`${H.lineWidth}px ${H.lineType} ${H.colorSplit}`},[`${K}-loading ${K}-spin-nested-loading`]:{minHeight:G},[`${K}-split${K}-something-after-last-item ${W}-spin-container > ${K}-items > ${K}-item:last-child`]:{borderBlockEnd:`${H.lineWidth}px ${H.lineType} ${H.colorSplit}`},[`${K}-lg ${K}-item`]:{padding:oe},[`${K}-sm ${K}-item`]:{padding:te},[`${K}:not(${K}-vertical)`]:{[`${K}-item-no-flex`]:{[`${K}-item-action`]:{float:"right"}}}}},useStyle$6=genComponentStyleHook("List",H=>{const K=merge(H,{listBorderedCls:`${H.componentCls}-bordered`,minHeight:H.controlHeightLG,listItemPadding:`${H.paddingContentVertical}px ${H.paddingContentHorizontalLG}px`,listItemPaddingSM:`${H.paddingContentVerticalSM}px ${H.paddingContentHorizontal}px`,listItemPaddingLG:`${H.paddingContentVerticalLG}px ${H.paddingContentHorizontalLG}px`});return[genBaseStyle$2(K),genBorderedStyle$1(K),genResponsiveStyle(K)]},{contentWidth:220}),listProps=()=>({bordered:booleanType(),dataSource:arrayType(),extra:vNodeType(),grid:objectType(),itemLayout:String,loading:someType([Boolean,Object]),loadMore:vNodeType(),pagination:someType([Boolean,Object]),prefixCls:String,rowKey:someType([String,Number,Function]),renderItem:functionType(),size:String,split:booleanType(),header:vNodeType(),footer:vNodeType(),locale:objectType()}),List=defineComponent({compatConfig:{MODE:3},name:"AList",inheritAttrs:!1,Item:__unplugin_components_4$2,props:initDefaultProps(listProps(),{dataSource:[],bordered:!1,split:!0,loading:!1,pagination:!1}),slots:Object,setup(H,K){let{slots:W,attrs:G}=K;var U,X;provide(ListContextKey,{grid:toRef(H,"grid"),itemLayout:toRef(H,"itemLayout")});const Q={current:1,total:0},{prefixCls:Z,direction:ee,renderEmpty:ne}=useConfigInject("list",H),[te,oe]=useStyle$6(Z),re=computed(()=>H.pagination&&typeof H.pagination=="object"?H.pagination:{}),ae=ref((U=re.value.defaultCurrent)!==null&&U!==void 0?U:1),se=ref((X=re.value.defaultPageSize)!==null&&X!==void 0?X:10);watch(re,()=>{"current"in re.value&&(ae.value=re.value.current),"pageSize"in re.value&&(se.value=re.value.pageSize)});const ce=[],de=xe=>(Ne,$e)=>{ae.value=Ne,se.value=$e,re.value[xe]&&re.value[xe](Ne,$e)},le=de("onChange"),fe=de("onShowSizeChange"),pe=computed(()=>typeof H.loading=="boolean"?{spinning:H.loading}:H.loading),me=computed(()=>pe.value&&pe.value.spinning),ue=computed(()=>{let xe="";switch(H.size){case"large":xe="lg";break;case"small":xe="sm";break}return xe}),ge=computed(()=>({[`${Z.value}`]:!0,[`${Z.value}-vertical`]:H.itemLayout==="vertical",[`${Z.value}-${ue.value}`]:ue.value,[`${Z.value}-split`]:H.split,[`${Z.value}-bordered`]:H.bordered,[`${Z.value}-loading`]:me.value,[`${Z.value}-grid`]:!!H.grid,[`${Z.value}-rtl`]:ee.value==="rtl"})),he=computed(()=>{const xe=_extends$1(_extends$1(_extends$1({},Q),{total:H.dataSource.length,current:ae.value,pageSize:se.value}),H.pagination||{}),Ne=Math.ceil(xe.total/xe.pageSize);return xe.current>Ne&&(xe.current=Ne),xe}),ve=computed(()=>{let xe=[...H.dataSource];return H.pagination&&H.dataSource.length>(he.value.current-1)*he.value.pageSize&&(xe=[...H.dataSource].splice((he.value.current-1)*he.value.pageSize,he.value.pageSize)),xe}),ye=useBreakpoint(),be=eagerComputed(()=>{for(let xe=0;xe<responsiveArray.length;xe+=1){const Ne=responsiveArray[xe];if(ye.value[Ne])return Ne}}),Se=computed(()=>{if(!H.grid)return;const xe=be.value&&H.grid[be.value]?H.grid[be.value]:H.grid.column;if(xe)return{width:`${100/xe}%`,maxWidth:`${100/xe}%`}}),Ce=(xe,Ne)=>{var $e;const Ee=($e=H.renderItem)!==null&&$e!==void 0?$e:W.renderItem;if(!Ee)return null;let Te;const Be=typeof H.rowKey;return Be==="function"?Te=H.rowKey(xe):Be==="string"||Be==="number"?Te=xe[H.rowKey]:Te=xe.key,Te||(Te=`list-item-${Ne}`),ce[Ne]=Te,Ee({item:xe,index:Ne})};return()=>{var xe,Ne,$e,Ee,Te,Be,Ae,ze;const We=(xe=H.loadMore)!==null&&xe!==void 0?xe:(Ne=W.loadMore)===null||Ne===void 0?void 0:Ne.call(W),Le=($e=H.footer)!==null&&$e!==void 0?$e:(Ee=W.footer)===null||Ee===void 0?void 0:Ee.call(W),Ze=(Te=H.header)!==null&&Te!==void 0?Te:(Be=W.header)===null||Be===void 0?void 0:Be.call(W),Ye=flattenChildren((Ae=W.default)===null||Ae===void 0?void 0:Ae.call(W)),Re=!!(We||H.pagination||Le),Ke=classNames(_extends$1(_extends$1({},ge.value),{[`${Z.value}-something-after-last-item`]:Re}),G.class,oe.value),we=H.pagination?createVNode("div",{class:`${Z.value}-pagination`},[createVNode(Pagination,_objectSpread2$1(_objectSpread2$1({},he.value),{},{onChange:le,onShowSizeChange:fe}),null)]):null;let _e=me.value&&createVNode("div",{style:{minHeight:"53px"}},null);if(ve.value.length>0){ce.length=0;const je=ve.value.map((Pe,ke)=>Ce(Pe,ke)),qe=je.map((Pe,ke)=>createVNode("div",{key:ce[ke],style:Se.value},[Pe]));_e=H.grid?createVNode(ARow,{gutter:H.grid.gutter},{default:()=>[qe]}):createVNode("ul",{class:`${Z.value}-items`},[je])}else!Ye.length&&!me.value&&(_e=createVNode("div",{class:`${Z.value}-empty-text`},[((ze=H.locale)===null||ze===void 0?void 0:ze.emptyText)||ne("List")]));const Ve=he.value.position||"bottom";return te(createVNode("div",_objectSpread2$1(_objectSpread2$1({},G),{},{class:Ke}),[(Ve==="top"||Ve==="both")&&we,Ze&&createVNode("div",{class:`${Z.value}-header`},[Ze]),createVNode(Spin,pe.value,{default:()=>[_e,Ye]}),Le&&createVNode("div",{class:`${Z.value}-footer`},[Le]),We||(Ve==="bottom"||Ve==="both")&&we]))}}});List.install=function(H){return H.component(List.name,List),H.component(List.Item.name,List.Item),H.component(List.Item.Meta.name,List.Item.Meta),H};var __rest$b=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};let mousePosition;const getClickPosition=H=>{mousePosition={x:H.pageX,y:H.pageY},setTimeout(()=>mousePosition=null,100)};canUseDocElement()&&addEventListenerWrap(document.documentElement,"click",getClickPosition,!0);const modalProps=()=>({prefixCls:String,visible:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},confirmLoading:{type:Boolean,default:void 0},title:PropTypes.any,closable:{type:Boolean,default:void 0},closeIcon:PropTypes.any,onOk:Function,onCancel:Function,"onUpdate:visible":Function,"onUpdate:open":Function,onChange:Function,afterClose:Function,centered:{type:Boolean,default:void 0},width:[String,Number],footer:PropTypes.any,okText:PropTypes.any,okType:String,cancelText:PropTypes.any,icon:PropTypes.any,maskClosable:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},okButtonProps:objectType(),cancelButtonProps:objectType(),destroyOnClose:{type:Boolean,default:void 0},wrapClassName:String,maskTransitionName:String,transitionName:String,getContainer:{type:[String,Function,Boolean,Object],default:void 0},zIndex:Number,bodyStyle:objectType(),maskStyle:objectType(),mask:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},wrapProps:Object,focusTriggerAfterClose:{type:Boolean,default:void 0},modalRender:Function,mousePosition:objectType()}),Modal=defineComponent({compatConfig:{MODE:3},name:"AModal",inheritAttrs:!1,props:initDefaultProps(modalProps(),{width:520,confirmLoading:!1,okType:"primary"}),setup(H,K){let{emit:W,slots:G,attrs:U}=K;const[X]=useLocaleReceiver("Modal"),{prefixCls:Q,rootPrefixCls:Z,direction:ee,getPopupContainer:ne}=useConfigInject("modal",H),[te,oe]=useStyle$b(Q);warning$2(H.visible===void 0);const re=ce=>{W("update:visible",!1),W("update:open",!1),W("cancel",ce),W("change",!1)},ae=ce=>{W("ok",ce)},se=()=>{var ce,de;const{okText:le=(ce=G.okText)===null||ce===void 0?void 0:ce.call(G),okType:fe,cancelText:pe=(de=G.cancelText)===null||de===void 0?void 0:de.call(G),confirmLoading:me}=H;return createVNode(Fragment,null,[createVNode(Button$1,_objectSpread2$1({onClick:re},H.cancelButtonProps),{default:()=>[pe||X.value.cancelText]}),createVNode(Button$1,_objectSpread2$1(_objectSpread2$1({},convertLegacyProps(fe)),{},{loading:me,onClick:ae},H.okButtonProps),{default:()=>[le||X.value.okText]})])};return()=>{var ce,de;const{prefixCls:le,visible:fe,open:pe,wrapClassName:me,centered:ue,getContainer:ge,closeIcon:he=(ce=G.closeIcon)===null||ce===void 0?void 0:ce.call(G),focusTriggerAfterClose:ve=!0}=H,ye=__rest$b(H,["prefixCls","visible","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),be=classNames(me,{[`${Q.value}-centered`]:!!ue,[`${Q.value}-wrap-rtl`]:ee.value==="rtl"});return te(createVNode(DialogWrap,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},ye),U),{},{rootClassName:oe.value,class:classNames(oe.value,U.class),getContainer:ge||ne?.value,prefixCls:Q.value,wrapClassName:be,visible:pe??fe,onClose:re,focusTriggerAfterClose:ve,transitionName:getTransitionName(Z.value,"zoom",H.transitionName),maskTransitionName:getTransitionName(Z.value,"fade",H.maskTransitionName),mousePosition:(de=ye.mousePosition)!==null&&de!==void 0?de:mousePosition}),_extends$1(_extends$1({},G),{footer:G.footer||se,closeIcon:()=>createVNode("span",{class:`${Q.value}-close-x`},[he||createVNode(CloseOutlined,{class:`${Q.value}-close-icon`},null)])})))}}}),useDestroyed=()=>{const H=shallowRef(!1);return onBeforeUnmount(()=>{H.value=!0}),H},actionButtonProps={type:{type:String},actionFn:Function,close:Function,autofocus:Boolean,prefixCls:String,buttonProps:objectType(),emitEvent:Boolean,quitOnNullishReturnValue:Boolean};function isThenable(H){return!!(H&&H.then)}const ActionButton=defineComponent({compatConfig:{MODE:3},name:"ActionButton",props:actionButtonProps,setup(H,K){let{slots:W}=K;const G=shallowRef(!1),U=shallowRef(),X=shallowRef(!1);let Q;const Z=useDestroyed();onMounted(()=>{H.autofocus&&(Q=setTimeout(()=>{var oe,re;return(re=(oe=findDOMNode(U.value))===null||oe===void 0?void 0:oe.focus)===null||re===void 0?void 0:re.call(oe)}))}),onBeforeUnmount(()=>{clearTimeout(Q)});const ee=function(){for(var oe,re=arguments.length,ae=new Array(re),se=0;se<re;se++)ae[se]=arguments[se];(oe=H.close)===null||oe===void 0||oe.call(H,...ae)},ne=oe=>{isThenable(oe)&&(X.value=!0,oe.then(function(){Z.value||(X.value=!1),ee(...arguments),G.value=!1},re=>(Z.value||(X.value=!1),G.value=!1,Promise.reject(re))))},te=oe=>{const{actionFn:re}=H;if(G.value)return;if(G.value=!0,!re){ee();return}let ae;if(H.emitEvent){if(ae=re(oe),H.quitOnNullishReturnValue&&!isThenable(ae)){G.value=!1,ee(oe);return}}else if(re.length)ae=re(H.close),G.value=!1;else if(ae=re(),!ae){ee();return}ne(ae)};return()=>{const{type:oe,prefixCls:re,buttonProps:ae}=H;return createVNode(Button$1,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},convertLegacyProps(oe)),{},{onClick:te,loading:X.value,prefixCls:re},ae),{},{ref:U}),W)}}});function renderSomeContent(H){return typeof H=="function"?H():H}const ConfirmDialog=defineComponent({name:"ConfirmDialog",inheritAttrs:!1,props:["icon","onCancel","onOk","close","closable","zIndex","afterClose","visible","open","keyboard","centered","getContainer","maskStyle","okButtonProps","cancelButtonProps","okType","prefixCls","okCancel","width","mask","maskClosable","okText","cancelText","autoFocusButton","transitionName","maskTransitionName","type","title","content","direction","rootPrefixCls","bodyStyle","closeIcon","modalRender","focusTriggerAfterClose","wrapClassName","confirmPrefixCls","footer"],setup(H,K){let{attrs:W}=K;const[G]=useLocaleReceiver("Modal");return()=>{const{icon:U,onCancel:X,onOk:Q,close:Z,okText:ee,closable:ne=!1,zIndex:te,afterClose:oe,keyboard:re,centered:ae,getContainer:se,maskStyle:ce,okButtonProps:de,cancelButtonProps:le,okCancel:fe,width:pe=416,mask:me=!0,maskClosable:ue=!1,type:ge,open:he,title:ve,content:ye,direction:be,closeIcon:Se,modalRender:Ce,focusTriggerAfterClose:xe,rootPrefixCls:Ne,bodyStyle:$e,wrapClassName:Ee,footer:Te}=H;let Be=U;if(!U&&U!==null)switch(ge){case"info":Be=createVNode(InfoCircleFilled,null,null);break;case"success":Be=createVNode(CheckCircleFilled,null,null);break;case"error":Be=createVNode(CloseCircleFilled,null,null);break;default:Be=createVNode(ExclamationCircleFilled,null,null)}const Ae=H.okType||"primary",ze=H.prefixCls||"ant-modal",We=`${ze}-confirm`,Le=W.style||{},Ze=fe??ge==="confirm",Ye=H.autoFocusButton===null?!1:H.autoFocusButton||"ok",Re=`${ze}-confirm`,Ke=classNames(Re,`${Re}-${H.type}`,{[`${Re}-rtl`]:be==="rtl"},W.class),we=G.value,_e=Ze&&createVNode(ActionButton,{actionFn:X,close:Z,autofocus:Ye==="cancel",buttonProps:le,prefixCls:`${Ne}-btn`},{default:()=>[renderSomeContent(H.cancelText)||we.cancelText]});return createVNode(Modal,{prefixCls:ze,class:Ke,wrapClassName:classNames({[`${Re}-centered`]:!!ae},Ee),onCancel:Ve=>Z?.({triggerCancel:!0},Ve),open:he,title:"",footer:"",transitionName:getTransitionName(Ne,"zoom",H.transitionName),maskTransitionName:getTransitionName(Ne,"fade",H.maskTransitionName),mask:me,maskClosable:ue,maskStyle:ce,style:Le,bodyStyle:$e,width:pe,zIndex:te,afterClose:oe,keyboard:re,centered:ae,getContainer:se,closable:ne,closeIcon:Se,modalRender:Ce,focusTriggerAfterClose:xe},{default:()=>[createVNode("div",{class:`${We}-body-wrapper`},[createVNode("div",{class:`${We}-body`},[renderSomeContent(Be),ve===void 0?null:createVNode("span",{class:`${We}-title`},[renderSomeContent(ve)]),createVNode("div",{class:`${We}-content`},[renderSomeContent(ye)])]),Te!==void 0?renderSomeContent(Te):createVNode("div",{class:`${We}-btns`},[_e,createVNode(ActionButton,{type:Ae,actionFn:Q,close:Z,autofocus:Ye==="ok",buttonProps:de,prefixCls:`${Ne}-btn`},{default:()=>[renderSomeContent(ee)||(Ze?we.okText:we.justOkText)]})])])]})}}}),destroyFns=[],confirm=H=>{const K=document.createDocumentFragment();let W=_extends$1(_extends$1({},omit$1(H,["parentContext","appContext"])),{close:X,open:!0}),G=null;function U(){G&&(render(null,K),G=null);for(var ne=arguments.length,te=new Array(ne),oe=0;oe<ne;oe++)te[oe]=arguments[oe];const re=te.some(ae=>ae&&ae.triggerCancel);H.onCancel&&re&&H.onCancel(()=>{},...te.slice(1));for(let ae=0;ae<destroyFns.length;ae++)if(destroyFns[ae]===X){destroyFns.splice(ae,1);break}}function X(){for(var ne=arguments.length,te=new Array(ne),oe=0;oe<ne;oe++)te[oe]=arguments[oe];W=_extends$1(_extends$1({},W),{open:!1,afterClose:()=>{typeof H.afterClose=="function"&&H.afterClose(),U.apply(this,te)}}),W.visible&&delete W.visible,Q(W)}function Q(ne){typeof ne=="function"?W=ne(W):W=_extends$1(_extends$1({},W),ne),G&&triggerVNodeUpdate(G,W,K)}const Z=ne=>{const te=globalConfigForApi,oe=te.prefixCls,re=ne.prefixCls||`${oe}-modal`,ae=te.iconPrefixCls,se=getConfirmLocale();return createVNode(ConfigProvider,_objectSpread2$1(_objectSpread2$1({},te),{},{prefixCls:oe}),{default:()=>[createVNode(ConfirmDialog,_objectSpread2$1(_objectSpread2$1({},ne),{},{rootPrefixCls:oe,prefixCls:re,iconPrefixCls:ae,locale:se,cancelText:ne.cancelText||se.cancelText}),null)]})};function ee(ne){const te=createVNode(Z,_extends$1({},ne));return te.appContext=H.parentContext||H.appContext||te.appContext,render(te,K),te}return G=ee(W),destroyFns.push(X),{destroy:X,update:Q}};function withWarn(H){return _extends$1(_extends$1({},H),{type:"warning"})}function withInfo(H){return _extends$1(_extends$1({},H),{type:"info"})}function withSuccess(H){return _extends$1(_extends$1({},H),{type:"success"})}function withError(H){return _extends$1(_extends$1({},H),{type:"error"})}function withConfirm(H){return _extends$1(_extends$1({},H),{type:"confirm"})}const comfirmFuncProps=()=>({config:Object,afterClose:Function,destroyAction:Function,open:Boolean}),HookModal=defineComponent({name:"HookModal",inheritAttrs:!1,props:initDefaultProps(comfirmFuncProps(),{config:{width:520,okType:"primary"}}),setup(H,K){let{expose:W}=K;var G;const U=computed(()=>H.open),X=computed(()=>H.config),{direction:Q,getPrefixCls:Z}=useConfigContextInject(),ee=Z("modal"),ne=Z(),te=()=>{var se,ce;H?.afterClose(),(ce=(se=X.value).afterClose)===null||ce===void 0||ce.call(se)},oe=function(){H.destroyAction(...arguments)};W({destroy:oe});const re=(G=X.value.okCancel)!==null&&G!==void 0?G:X.value.type==="confirm",[ae]=useLocaleReceiver("Modal",localeValues.Modal);return()=>createVNode(ConfirmDialog,_objectSpread2$1(_objectSpread2$1({prefixCls:ee,rootPrefixCls:ne},X.value),{},{close:oe,open:U.value,afterClose:te,okText:X.value.okText||(re?ae?.value.okText:ae?.value.justOkText),direction:X.value.direction||Q.value,cancelText:X.value.cancelText||ae?.value.cancelText}),null)}});let uuid=0;const ElementsHolder=defineComponent({name:"ElementsHolder",inheritAttrs:!1,setup(H,K){let{expose:W}=K;const G=shallowRef([]);return W({addModal:X=>(G.value.push(X),G.value=G.value.slice(),()=>{G.value=G.value.filter(Q=>Q!==X)})}),()=>G.value.map(X=>X())}});function useModal(){const H=shallowRef(null),K=shallowRef([]);watch(K,()=>{K.value.length&&([...K.value].forEach(Q=>{Q()}),K.value=[])},{immediate:!0});const W=X=>function(Z){var ee;uuid+=1;const ne=shallowRef(!0),te=shallowRef(null),oe=shallowRef(unref(Z)),re=shallowRef({});watch(()=>Z,pe=>{de(_extends$1(_extends$1({},isRef(pe)?pe.value:pe),re.value))});const ae=function(){ne.value=!1;for(var pe=arguments.length,me=new Array(pe),ue=0;ue<pe;ue++)me[ue]=arguments[ue];const ge=me.some(he=>he&&he.triggerCancel);oe.value.onCancel&&ge&&oe.value.onCancel(()=>{},...me.slice(1))};let se;const ce=()=>createVNode(HookModal,{key:`modal-${uuid}`,config:X(oe.value),ref:te,open:ne.value,destroyAction:ae,afterClose:()=>{se?.()}},null);se=(ee=H.value)===null||ee===void 0?void 0:ee.addModal(ce),se&&destroyFns.push(se);const de=pe=>{oe.value=_extends$1(_extends$1({},oe.value),pe)};return{destroy:()=>{te.value?ae():K.value=[...K.value,ae]},update:pe=>{re.value=pe,te.value?de(pe):K.value=[...K.value,()=>de(pe)]}}},G=computed(()=>({info:W(withInfo),success:W(withSuccess),error:W(withError),warning:W(withWarn),confirm:W(withConfirm)})),U=Symbol("modalHolderKey");return[G.value,()=>createVNode(ElementsHolder,{key:U,ref:H},null)]}function modalWarn(H){return confirm(withWarn(H))}Modal.useModal=useModal;Modal.info=function(K){return confirm(withInfo(K))};Modal.success=function(K){return confirm(withSuccess(K))};Modal.error=function(K){return confirm(withError(K))};Modal.warning=modalWarn;Modal.warn=modalWarn;Modal.confirm=function(K){return confirm(withConfirm(K))};Modal.destroyAll=function(){for(;destroyFns.length;){const K=destroyFns.pop();K&&K()}};Modal.install=function(H){return H.component(Modal.name,Modal),H};const StatisticNumber=H=>{const{value:K,formatter:W,precision:G,decimalSeparator:U,groupSeparator:X="",prefixCls:Q}=H;let Z;if(typeof W=="function")Z=W({value:K});else{const ee=String(K),ne=ee.match(/^(-?)(\d*)(\.(\d+))?$/);if(!ne)Z=ee;else{const te=ne[1];let oe=ne[2]||"0",re=ne[4]||"";oe=oe.replace(/\B(?=(\d{3})+(?!\d))/g,X),typeof G=="number"&&(re=re.padEnd(G,"0").slice(0,G>0?G:0)),re&&(re=`${U}${re}`),Z=[createVNode("span",{key:"int",class:`${Q}-content-value-int`},[te,oe]),re&&createVNode("span",{key:"decimal",class:`${Q}-content-value-decimal`},[re])]}}return createVNode("span",{class:`${Q}-content-value`},[Z])};StatisticNumber.displayName="StatisticNumber";const genStatisticStyle=H=>{const{componentCls:K,marginXXS:W,padding:G,colorTextDescription:U,statisticTitleFontSize:X,colorTextHeading:Q,statisticContentFontSize:Z,statisticFontFamily:ee}=H;return{[`${K}`]:_extends$1(_extends$1({},resetComponent(H)),{[`${K}-title`]:{marginBottom:W,color:U,fontSize:X},[`${K}-skeleton`]:{paddingTop:G},[`${K}-content`]:{color:Q,fontSize:Z,fontFamily:ee,[`${K}-content-value`]:{display:"inline-block",direction:"ltr"},[`${K}-content-prefix, ${K}-content-suffix`]:{display:"inline-block"},[`${K}-content-prefix`]:{marginInlineEnd:W},[`${K}-content-suffix`]:{marginInlineStart:W}}})}},useStyle$5=genComponentStyleHook("Statistic",H=>{const{fontSizeHeading3:K,fontSize:W,fontFamily:G}=H,U=merge(H,{statisticTitleFontSize:W,statisticContentFontSize:K,statisticFontFamily:G});return[genStatisticStyle(U)]}),statisticProps=()=>({prefixCls:String,decimalSeparator:String,groupSeparator:String,format:String,value:someType([Number,String,Object]),valueStyle:{type:Object,default:void 0},valueRender:functionType(),formatter:anyType(),precision:Number,prefix:vNodeType(),suffix:vNodeType(),title:vNodeType(),loading:booleanType()}),Statistic=defineComponent({compatConfig:{MODE:3},name:"AStatistic",inheritAttrs:!1,props:initDefaultProps(statisticProps(),{decimalSeparator:".",groupSeparator:",",loading:!1}),slots:Object,setup(H,K){let{slots:W,attrs:G}=K;const{prefixCls:U,direction:X}=useConfigInject("statistic",H),[Q,Z]=useStyle$5(U);return()=>{var ee,ne,te,oe,re,ae,se;const{value:ce=0,valueStyle:de,valueRender:le}=H,fe=U.value,pe=(ee=H.title)!==null&&ee!==void 0?ee:(ne=W.title)===null||ne===void 0?void 0:ne.call(W),me=(te=H.prefix)!==null&&te!==void 0?te:(oe=W.prefix)===null||oe===void 0?void 0:oe.call(W),ue=(re=H.suffix)!==null&&re!==void 0?re:(ae=W.suffix)===null||ae===void 0?void 0:ae.call(W),ge=(se=H.formatter)!==null&&se!==void 0?se:W.formatter;let he=createVNode(StatisticNumber,_objectSpread2$1({"data-for-update":Date.now()},_extends$1(_extends$1({},H),{prefixCls:fe,value:ce,formatter:ge})),null);return le&&(he=le(he)),Q(createVNode("div",_objectSpread2$1(_objectSpread2$1({},G),{},{class:[fe,{[`${fe}-rtl`]:X.value==="rtl"},G.class,Z.value]}),[pe&&createVNode("div",{class:`${fe}-title`},[pe]),createVNode(Skeleton,{paragraph:!1,loading:H.loading},{default:()=>[createVNode("div",{style:de,class:`${fe}-content`},[me&&createVNode("span",{class:`${fe}-content-prefix`},[me]),he,ue&&createVNode("span",{class:`${fe}-content-suffix`},[ue])])]})]))}}}),timeUnits=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function formatTimeStr(H,K){let W=H;const G=/\[[^\]]*]/g,U=(K.match(G)||[]).map(ee=>ee.slice(1,-1)),X=K.replace(G,"[]"),Q=timeUnits.reduce((ee,ne)=>{let[te,oe]=ne;if(ee.includes(te)){const re=Math.floor(W/oe);return W-=re*oe,ee.replace(new RegExp(`${te}+`,"g"),ae=>{const se=ae.length;return re.toString().padStart(se,"0")})}return ee},X);let Z=0;return Q.replace(G,()=>{const ee=U[Z];return Z+=1,ee})}function formatCountdown(H,K){const{format:W=""}=K,G=new Date(H).getTime(),U=Date.now(),X=Math.max(G-U,0);return formatTimeStr(X,W)}const REFRESH_INTERVAL=1e3/30;function getTime(H){return new Date(H).getTime()}const countdownProps=()=>_extends$1(_extends$1({},statisticProps()),{value:someType([Number,String,Object]),format:String,onFinish:Function,onChange:Function}),Countdown=defineComponent({compatConfig:{MODE:3},name:"AStatisticCountdown",props:initDefaultProps(countdownProps(),{format:"HH:mm:ss"}),setup(H,K){let{emit:W,slots:G}=K;const U=ref(),X=ref(),Q=()=>{const{value:oe}=H;getTime(oe)>=Date.now()?Z():ee()},Z=()=>{if(U.value)return;const oe=getTime(H.value);U.value=setInterval(()=>{X.value.$forceUpdate(),oe>Date.now()&&W("change",oe-Date.now()),Q()},REFRESH_INTERVAL)},ee=()=>{const{value:oe}=H;U.value&&(clearInterval(U.value),U.value=void 0,getTime(oe)<Date.now()&&W("finish"))},ne=oe=>{let{value:re,config:ae}=oe;const{format:se}=H;return formatCountdown(re,_extends$1(_extends$1({},ae),{format:se}))},te=oe=>oe;return onMounted(()=>{Q()}),onUpdated(()=>{Q()}),onBeforeUnmount(()=>{ee()}),()=>{const oe=H.value;return createVNode(Statistic,_objectSpread2$1({ref:X},_extends$1(_extends$1({},omit$1(H,["onFinish","onChange"])),{value:oe,valueRender:te,formatter:ne})),G)}}});Statistic.Countdown=Countdown;Statistic.install=function(H){return H.component(Statistic.name,Statistic),H.component(Statistic.Countdown.name,Statistic.Countdown),H};Statistic.Countdown;const spaceSize={small:8,middle:16,large:24},spaceProps=()=>({prefixCls:String,size:{type:[String,Number,Array]},direction:PropTypes.oneOf(tuple("horizontal","vertical")).def("horizontal"),align:PropTypes.oneOf(tuple("start","end","center","baseline")),wrap:booleanType()});function getNumberSize(H){return typeof H=="string"?spaceSize[H]:H||0}const Space=defineComponent({compatConfig:{MODE:3},name:"ASpace",inheritAttrs:!1,props:spaceProps(),slots:Object,setup(H,K){let{slots:W,attrs:G}=K;const{prefixCls:U,space:X,direction:Q}=useConfigInject("space",H),[Z,ee]=useStyle$v(U),ne=useFlexGapSupport(),te=computed(()=>{var le,fe,pe;return(pe=(le=H.size)!==null&&le!==void 0?le:(fe=X?.value)===null||fe===void 0?void 0:fe.size)!==null&&pe!==void 0?pe:"small"}),oe=ref(),re=ref();watch(te,()=>{[oe.value,re.value]=(Array.isArray(te.value)?te.value:[te.value,te.value]).map(le=>getNumberSize(le))},{immediate:!0});const ae=computed(()=>H.align===void 0&&H.direction==="horizontal"?"center":H.align),se=computed(()=>classNames(U.value,ee.value,`${U.value}-${H.direction}`,{[`${U.value}-rtl`]:Q.value==="rtl",[`${U.value}-align-${ae.value}`]:ae.value})),ce=computed(()=>Q.value==="rtl"?"marginLeft":"marginRight"),de=computed(()=>{const le={};return ne.value&&(le.columnGap=`${oe.value}px`,le.rowGap=`${re.value}px`),_extends$1(_extends$1({},le),H.wrap&&{flexWrap:"wrap",marginBottom:`${-re.value}px`})});return()=>{var le,fe;const{wrap:pe,direction:me="horizontal"}=H,ue=(le=W.default)===null||le===void 0?void 0:le.call(W),ge=filterEmpty(ue),he=ge.length;if(he===0)return null;const ve=(fe=W.split)===null||fe===void 0?void 0:fe.call(W),ye=`${U.value}-item`,be=oe.value,Se=he-1;return createVNode("div",_objectSpread2$1(_objectSpread2$1({},G),{},{class:[se.value,G.class],style:[de.value,G.style]}),[ge.map((Ce,xe)=>{let Ne=ue.indexOf(Ce);Ne===-1&&(Ne=`$$space-${xe}`);let $e={};return ne.value||(me==="vertical"?xe<Se&&($e={marginBottom:`${be/(ve?2:1)}px`}):$e=_extends$1(_extends$1({},xe<Se&&{[ce.value]:`${be/(ve?2:1)}px`}),pe&&{paddingBottom:`${re.value}px`})),Z(createVNode(Fragment,{key:Ne},[createVNode("div",{class:ye,style:$e},[Ce]),xe<Se&&ve&&createVNode("span",{class:`${ye}-split`,style:$e},[ve])]))})])}}});Space.Compact=Compact;Space.install=function(H){return H.component(Space.name,Space),H.component(Compact.name,Compact),H};const progressStatuses=["normal","exception","active","success"],progressProps=()=>({prefixCls:String,type:stringType(),percent:Number,format:functionType(),status:stringType(),showInfo:booleanType(),strokeWidth:Number,strokeLinecap:stringType(),strokeColor:anyType(),trailColor:String,width:Number,success:objectType(),gapDegree:Number,gapPosition:stringType(),size:someType([String,Number,Array]),steps:Number,successPercent:Number,title:String,progressStatus:stringType()});function validProgress(H){return!H||H<0?0:H>100?100:H}function getSuccessPercent(H){let{success:K,successPercent:W}=H,G=W;return K&&"progress"in K&&(devWarning(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),G=K.progress),K&&"percent"in K&&(G=K.percent),G}function getPercentage(H){let{percent:K,success:W,successPercent:G}=H;const U=validProgress(getSuccessPercent({success:W,successPercent:G}));return[U,validProgress(validProgress(K)-U)]}function getStrokeColor(H){let{success:K={},strokeColor:W}=H;const{strokeColor:G}=K;return[G||presetPrimaryColors.green,W||null]}const getSize=(H,K,W)=>{var G,U,X,Q;let Z=-1,ee=-1;if(K==="step"){const ne=W.steps,te=W.strokeWidth;typeof H=="string"||typeof H>"u"?(Z=H==="small"?2:14,ee=te??8):typeof H=="number"?[Z,ee]=[H,H]:[Z=14,ee=8]=H,Z*=ne}else if(K==="line"){const ne=W?.strokeWidth;typeof H=="string"||typeof H>"u"?ee=ne||(H==="small"?6:8):typeof H=="number"?[Z,ee]=[H,H]:[Z=-1,ee=8]=H}else(K==="circle"||K==="dashboard")&&(typeof H=="string"||typeof H>"u"?[Z,ee]=H==="small"?[60,60]:[120,120]:typeof H=="number"?[Z,ee]=[H,H]:(Z=(U=(G=H[0])!==null&&G!==void 0?G:H[1])!==null&&U!==void 0?U:120,ee=(Q=(X=H[0])!==null&&X!==void 0?X:H[1])!==null&&Q!==void 0?Q:120));return{width:Z,height:ee}};var __rest$a=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const lineProps=()=>_extends$1(_extends$1({},progressProps()),{strokeColor:anyType(),direction:stringType()}),sortGradient=H=>{let K=[];return Object.keys(H).forEach(W=>{const G=parseFloat(W.replace(/%/g,""));isNaN(G)||K.push({key:G,value:H[W]})}),K=K.sort((W,G)=>W.key-G.key),K.map(W=>{let{key:G,value:U}=W;return`${U} ${G}%`}).join(", ")},handleGradient=(H,K)=>{const{from:W=presetPrimaryColors.blue,to:G=presetPrimaryColors.blue,direction:U=K==="rtl"?"to left":"to right"}=H,X=__rest$a(H,["from","to","direction"]);if(Object.keys(X).length!==0){const Q=sortGradient(X);return{backgroundImage:`linear-gradient(${U}, ${Q})`}}return{backgroundImage:`linear-gradient(${U}, ${W}, ${G})`}},Line$1=defineComponent({compatConfig:{MODE:3},name:"ProgressLine",inheritAttrs:!1,props:lineProps(),setup(H,K){let{slots:W,attrs:G}=K;const U=computed(()=>{const{strokeColor:ae,direction:se}=H;return ae&&typeof ae!="string"?handleGradient(ae,se):{backgroundColor:ae}}),X=computed(()=>H.strokeLinecap==="square"||H.strokeLinecap==="butt"?0:void 0),Q=computed(()=>H.trailColor?{backgroundColor:H.trailColor}:void 0),Z=computed(()=>{var ae;return(ae=H.size)!==null&&ae!==void 0?ae:[-1,H.strokeWidth||(H.size==="small"?6:8)]}),ee=computed(()=>getSize(Z.value,"line",{strokeWidth:H.strokeWidth})),ne=computed(()=>{const{percent:ae}=H;return _extends$1({width:`${validProgress(ae)}%`,height:`${ee.value.height}px`,borderRadius:X.value},U.value)}),te=computed(()=>getSuccessPercent(H)),oe=computed(()=>{const{success:ae}=H;return{width:`${validProgress(te.value)}%`,height:`${ee.value.height}px`,borderRadius:X.value,backgroundColor:ae?.strokeColor}}),re={width:ee.value.width<0?"100%":ee.value.width,height:`${ee.value.height}px`};return()=>{var ae;return createVNode(Fragment,null,[createVNode("div",_objectSpread2$1(_objectSpread2$1({},G),{},{class:[`${H.prefixCls}-outer`,G.class],style:[G.style,re]}),[createVNode("div",{class:`${H.prefixCls}-inner`,style:Q.value},[createVNode("div",{class:`${H.prefixCls}-bg`,style:ne.value},null),te.value!==void 0?createVNode("div",{class:`${H.prefixCls}-success-bg`,style:oe.value},null):null])]),(ae=W.default)===null||ae===void 0?void 0:ae.call(W)])}}}),defaultProps={percent:0,prefixCls:"vc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1},useTransitionDuration=H=>{const K=ref(null);return onUpdated(()=>{const W=Date.now();let G=!1;H.value.forEach(U=>{const X=U?.$el||U;if(!X)return;G=!0;const Q=X.style;Q.transitionDuration=".3s, .3s, .3s, .06s",K.value&&W-K.value<100&&(Q.transitionDuration="0s, 0s")}),G&&(K.value=Date.now())}),H},propTypes={gapDegree:Number,gapPosition:{type:String},percent:{type:[Array,Number]},prefixCls:String,strokeColor:{type:[Object,String,Array]},strokeLinecap:{type:String},strokeWidth:Number,trailColor:String,trailWidth:Number,transition:String};var __rest$9=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};initDefaultProps(propTypes,defaultProps);var __rest$8=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};let gradientSeed=0;function stripPercentToNumber(H){return+H.replace("%","")}function toArray$1(H){return Array.isArray(H)?H:[H]}function getPathStyles(H,K,W,G){let U=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,X=arguments.length>5?arguments[5]:void 0;const Q=50-G/2;let Z=0,ee=-Q,ne=0,te=-2*Q;switch(X){case"left":Z=-Q,ee=0,ne=2*Q,te=0;break;case"right":Z=Q,ee=0,ne=-2*Q,te=0;break;case"bottom":ee=Q,te=2*Q;break}const oe=`M 50,50 m ${Z},${ee}
   a ${Q},${Q} 0 1 1 ${ne},${-te}
   a ${Q},${Q} 0 1 1 ${-ne},${te}`,re=Math.PI*2*Q,ae={stroke:W,strokeDasharray:`${K/100*(re-U)}px ${re}px`,strokeDashoffset:`-${U/2+H/100*(re-U)}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:oe,pathStyle:ae}}const VCCircle=defineComponent({compatConfig:{MODE:3},name:"VCCircle",props:initDefaultProps(propTypes,defaultProps),setup(H){gradientSeed+=1;const K=ref(gradientSeed),W=computed(()=>toArray$1(H.percent)),G=computed(()=>toArray$1(H.strokeColor)),[U,X]=useRefs();useTransitionDuration(X);const Q=()=>{const{prefixCls:Z,strokeWidth:ee,strokeLinecap:ne,gapDegree:te,gapPosition:oe}=H;let re=0;return W.value.map((ae,se)=>{const ce=G.value[se]||G.value[G.value.length-1],de=Object.prototype.toString.call(ce)==="[object Object]"?`url(#${Z}-gradient-${K.value})`:"",{pathString:le,pathStyle:fe}=getPathStyles(re,ae,ce,ee,te,oe);re+=ae;const pe={key:se,d:le,stroke:de,"stroke-linecap":ne,"stroke-width":ee,opacity:ae===0?0:1,"fill-opacity":"0",class:`${Z}-circle-path`,style:fe};return createVNode("path",_objectSpread2$1({ref:U(se)},pe),null)})};return()=>{const{prefixCls:Z,strokeWidth:ee,trailWidth:ne,gapDegree:te,gapPosition:oe,trailColor:re,strokeLinecap:ae,strokeColor:se}=H,ce=__rest$8(H,["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","strokeColor"]),{pathString:de,pathStyle:le}=getPathStyles(0,100,re,ee,te,oe);delete ce.percent;const fe=G.value.find(me=>Object.prototype.toString.call(me)==="[object Object]"),pe={d:de,stroke:re,"stroke-linecap":ae,"stroke-width":ne||ee,"fill-opacity":"0",class:`${Z}-circle-trail`,style:le};return createVNode("svg",_objectSpread2$1({class:`${Z}-circle`,viewBox:"0 0 100 100"},ce),[fe&&createVNode("defs",null,[createVNode("linearGradient",{id:`${Z}-gradient-${K.value}`,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[Object.keys(fe).sort((me,ue)=>stripPercentToNumber(me)-stripPercentToNumber(ue)).map((me,ue)=>createVNode("stop",{key:ue,offset:me,"stop-color":fe[me]},null))])]),createVNode("path",pe,null),Q().reverse()])}}}),circleProps=()=>_extends$1(_extends$1({},progressProps()),{strokeColor:anyType()}),CIRCLE_MIN_STROKE_WIDTH=3,getMinPercent=H=>CIRCLE_MIN_STROKE_WIDTH/H*100,Circle=defineComponent({compatConfig:{MODE:3},name:"ProgressCircle",inheritAttrs:!1,props:initDefaultProps(circleProps(),{trailColor:null}),setup(H,K){let{slots:W,attrs:G}=K;const U=computed(()=>{var ce;return(ce=H.width)!==null&&ce!==void 0?ce:120}),X=computed(()=>{var ce;return(ce=H.size)!==null&&ce!==void 0?ce:[U.value,U.value]}),Q=computed(()=>getSize(X.value,"circle")),Z=computed(()=>{if(H.gapDegree||H.gapDegree===0)return H.gapDegree;if(H.type==="dashboard")return 75}),ee=computed(()=>({width:`${Q.value.width}px`,height:`${Q.value.height}px`,fontSize:`${Q.value.width*.15+6}px`})),ne=computed(()=>{var ce;return(ce=H.strokeWidth)!==null&&ce!==void 0?ce:Math.max(getMinPercent(Q.value.width),6)}),te=computed(()=>H.gapPosition||H.type==="dashboard"&&"bottom"||void 0),oe=computed(()=>getPercentage(H)),re=computed(()=>Object.prototype.toString.call(H.strokeColor)==="[object Object]"),ae=computed(()=>getStrokeColor({success:H.success,strokeColor:H.strokeColor})),se=computed(()=>({[`${H.prefixCls}-inner`]:!0,[`${H.prefixCls}-circle-gradient`]:re.value}));return()=>{var ce;const de=createVNode(VCCircle,{percent:oe.value,strokeWidth:ne.value,trailWidth:ne.value,strokeColor:ae.value,strokeLinecap:H.strokeLinecap,trailColor:H.trailColor,prefixCls:H.prefixCls,gapDegree:Z.value,gapPosition:te.value},null);return createVNode("div",_objectSpread2$1(_objectSpread2$1({},G),{},{class:[se.value,G.class],style:[G.style,ee.value]}),[Q.value.width<=20?createVNode(__unplugin_components_3$3,null,{default:()=>[createVNode("span",null,[de])],title:W.default}):createVNode(Fragment,null,[de,(ce=W.default)===null||ce===void 0?void 0:ce.call(W)])])}}}),stepsProps=()=>_extends$1(_extends$1({},progressProps()),{steps:Number,strokeColor:someType(),trailColor:String}),Steps=defineComponent({compatConfig:{MODE:3},name:"Steps",props:stepsProps(),setup(H,K){let{slots:W}=K;const G=computed(()=>Math.round(H.steps*((H.percent||0)/100))),U=computed(()=>{var Z;return(Z=H.size)!==null&&Z!==void 0?Z:[H.size==="small"?2:14,H.strokeWidth||8]}),X=computed(()=>getSize(U.value,"step",{steps:H.steps,strokeWidth:H.strokeWidth||8})),Q=computed(()=>{const{steps:Z,strokeColor:ee,trailColor:ne,prefixCls:te}=H,oe=[];for(let re=0;re<Z;re+=1){const ae=Array.isArray(ee)?ee[re]:ee,se={[`${te}-steps-item`]:!0,[`${te}-steps-item-active`]:re<=G.value-1};oe.push(createVNode("div",{key:re,class:se,style:{backgroundColor:re<=G.value-1?ae:ne,width:`${X.value.width/Z}px`,height:`${X.value.height}px`}},null))}return oe});return()=>{var Z;return createVNode("div",{class:`${H.prefixCls}-steps-outer`},[Q.value,(Z=W.default)===null||Z===void 0?void 0:Z.call(W)])}}}),antProgressActive=new Keyframe("antProgressActive",{"0%":{transform:"translateX(-100%) scaleX(0)",opacity:.1},"20%":{transform:"translateX(-100%) scaleX(0)",opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}}),genBaseStyle$1=H=>{const{componentCls:K,iconCls:W}=H;return{[K]:_extends$1(_extends$1({},resetComponent(H)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:H.fontSize,marginInlineEnd:H.marginXS,marginBottom:H.marginXS},[`${K}-outer`]:{display:"inline-block",width:"100%"},[`&${K}-show-info`]:{[`${K}-outer`]:{marginInlineEnd:`calc(-2em - ${H.marginXS}px)`,paddingInlineEnd:`calc(2em + ${H.paddingXS}px)`}},[`${K}-inner`]:{position:"relative",display:"inline-block",width:"100%",overflow:"hidden",verticalAlign:"middle",backgroundColor:H.progressRemainingColor,borderRadius:H.progressLineRadius},[`${K}-inner:not(${K}-circle-gradient)`]:{[`${K}-circle-path`]:{stroke:H.colorInfo}},[`${K}-success-bg, ${K}-bg`]:{position:"relative",backgroundColor:H.colorInfo,borderRadius:H.progressLineRadius,transition:`all ${H.motionDurationSlow} ${H.motionEaseInOutCirc}`},[`${K}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:H.colorSuccess},[`${K}-text`]:{display:"inline-block",width:"2em",marginInlineStart:H.marginXS,color:H.progressInfoTextColor,lineHeight:1,whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[W]:{fontSize:H.fontSize}},[`&${K}-status-active`]:{[`${K}-bg::before`]:{position:"absolute",inset:0,backgroundColor:H.colorBgContainer,borderRadius:H.progressLineRadius,opacity:0,animationName:antProgressActive,animationDuration:H.progressActiveMotionDuration,animationTimingFunction:H.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${K}-status-exception`]:{[`${K}-bg`]:{backgroundColor:H.colorError},[`${K}-text`]:{color:H.colorError}},[`&${K}-status-exception ${K}-inner:not(${K}-circle-gradient)`]:{[`${K}-circle-path`]:{stroke:H.colorError}},[`&${K}-status-success`]:{[`${K}-bg`]:{backgroundColor:H.colorSuccess},[`${K}-text`]:{color:H.colorSuccess}},[`&${K}-status-success ${K}-inner:not(${K}-circle-gradient)`]:{[`${K}-circle-path`]:{stroke:H.colorSuccess}}})}},genCircleStyle=H=>{const{componentCls:K,iconCls:W}=H;return{[K]:{[`${K}-circle-trail`]:{stroke:H.progressRemainingColor},[`&${K}-circle ${K}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${K}-circle ${K}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:H.colorText,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[W]:{fontSize:`${H.fontSize/H.fontSizeSM}em`}},[`${K}-circle&-status-exception`]:{[`${K}-text`]:{color:H.colorError}},[`${K}-circle&-status-success`]:{[`${K}-text`]:{color:H.colorSuccess}}},[`${K}-inline-circle`]:{lineHeight:1,[`${K}-inner`]:{verticalAlign:"bottom"}}}},genStepStyle=H=>{const{componentCls:K}=H;return{[K]:{[`${K}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:H.progressStepMinWidth,marginInlineEnd:H.progressStepMarginInlineEnd,backgroundColor:H.progressRemainingColor,transition:`all ${H.motionDurationSlow}`,"&-active":{backgroundColor:H.colorInfo}}}}}},genSmallLine=H=>{const{componentCls:K,iconCls:W}=H;return{[K]:{[`${K}-small&-line, ${K}-small&-line ${K}-text ${W}`]:{fontSize:H.fontSizeSM}}}},useStyle$4=genComponentStyleHook("Progress",H=>{const K=H.marginXXS/2,W=merge(H,{progressLineRadius:100,progressInfoTextColor:H.colorText,progressDefaultColor:H.colorInfo,progressRemainingColor:H.colorFillSecondary,progressStepMarginInlineEnd:K,progressStepMinWidth:K,progressActiveMotionDuration:"2.4s"});return[genBaseStyle$1(W),genCircleStyle(W),genStepStyle(W),genSmallLine(W)]});var __rest$7=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const Progress=defineComponent({compatConfig:{MODE:3},name:"AProgress",inheritAttrs:!1,props:initDefaultProps(progressProps(),{type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",strokeLinecap:"round"}),slots:Object,setup(H,K){let{slots:W,attrs:G}=K;const{prefixCls:U,direction:X}=useConfigInject("progress",H),[Q,Z]=useStyle$4(U),ee=computed(()=>Array.isArray(H.strokeColor)?H.strokeColor[0]:H.strokeColor),ne=computed(()=>{const{percent:se=0}=H,ce=getSuccessPercent(H);return parseInt(ce!==void 0?ce.toString():se.toString(),10)}),te=computed(()=>{const{status:se}=H;return!progressStatuses.includes(se)&&ne.value>=100?"success":se||"normal"}),oe=computed(()=>{const{type:se,showInfo:ce,size:de}=H,le=U.value;return{[le]:!0,[`${le}-inline-circle`]:se==="circle"&&getSize(de,"circle").width<=20,[`${le}-${se==="dashboard"&&"circle"||se}`]:!0,[`${le}-status-${te.value}`]:!0,[`${le}-show-info`]:ce,[`${le}-${de}`]:de,[`${le}-rtl`]:X.value==="rtl",[Z.value]:!0}}),re=computed(()=>typeof H.strokeColor=="string"||Array.isArray(H.strokeColor)?H.strokeColor:void 0),ae=()=>{const{showInfo:se,format:ce,type:de,percent:le,title:fe}=H,pe=getSuccessPercent(H);if(!se)return null;let me;const ue=ce||W?.format||(he=>`${he}%`),ge=de==="line";return ce||W?.format||te.value!=="exception"&&te.value!=="success"?me=ue(validProgress(le),validProgress(pe)):te.value==="exception"?me=createVNode(ge?CloseCircleFilled:CloseOutlined,null,null):te.value==="success"&&(me=createVNode(ge?CheckCircleFilled:CheckOutlined,null,null)),createVNode("span",{class:`${U.value}-text`,title:fe===void 0&&typeof me=="string"?me:void 0},[me])};return()=>{const{type:se,steps:ce,title:de}=H,{class:le}=G,fe=__rest$7(G,["class"]),pe=ae();let me;return se==="line"?me=ce?createVNode(Steps,_objectSpread2$1(_objectSpread2$1({},H),{},{strokeColor:re.value,prefixCls:U.value,steps:ce}),{default:()=>[pe]}):createVNode(Line$1,_objectSpread2$1(_objectSpread2$1({},H),{},{strokeColor:ee.value,prefixCls:U.value,direction:X.value}),{default:()=>[pe]}):(se==="circle"||se==="dashboard")&&(me=createVNode(Circle,_objectSpread2$1(_objectSpread2$1({},H),{},{prefixCls:U.value,strokeColor:ee.value,progressStatus:te.value}),{default:()=>[pe]})),Q(createVNode("div",_objectSpread2$1(_objectSpread2$1({role:"progressbar"},fe),{},{class:[oe.value,le],title:de}),[me]))}}}),__unplugin_components_0$1=withInstall(Progress),__unplugin_components_4$1=withInstall(ARow),genSwitchSmallStyle=H=>{const{componentCls:K}=H,W=`${K}-inner`;return{[K]:{[`&${K}-small`]:{minWidth:H.switchMinWidthSM,height:H.switchHeightSM,lineHeight:`${H.switchHeightSM}px`,[`${K}-inner`]:{paddingInlineStart:H.switchInnerMarginMaxSM,paddingInlineEnd:H.switchInnerMarginMinSM,[`${W}-checked`]:{marginInlineStart:`calc(-100% + ${H.switchPinSizeSM+H.switchPadding*2}px - ${H.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(100% - ${H.switchPinSizeSM+H.switchPadding*2}px + ${H.switchInnerMarginMaxSM*2}px)`},[`${W}-unchecked`]:{marginTop:-H.switchHeightSM,marginInlineStart:0,marginInlineEnd:0}},[`${K}-handle`]:{width:H.switchPinSizeSM,height:H.switchPinSizeSM},[`${K}-loading-icon`]:{top:(H.switchPinSizeSM-H.switchLoadingIconSize)/2,fontSize:H.switchLoadingIconSize},[`&${K}-checked`]:{[`${K}-inner`]:{paddingInlineStart:H.switchInnerMarginMinSM,paddingInlineEnd:H.switchInnerMarginMaxSM,[`${W}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${W}-unchecked`]:{marginInlineStart:`calc(100% - ${H.switchPinSizeSM+H.switchPadding*2}px + ${H.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(-100% + ${H.switchPinSizeSM+H.switchPadding*2}px - ${H.switchInnerMarginMaxSM*2}px)`}},[`${K}-handle`]:{insetInlineStart:`calc(100% - ${H.switchPinSizeSM+H.switchPadding}px)`}},[`&:not(${K}-disabled):active`]:{[`&:not(${K}-checked) ${W}`]:{[`${W}-unchecked`]:{marginInlineStart:H.marginXXS/2,marginInlineEnd:-H.marginXXS/2}},[`&${K}-checked ${W}`]:{[`${W}-checked`]:{marginInlineStart:-H.marginXXS/2,marginInlineEnd:H.marginXXS/2}}}}}}},genSwitchLoadingStyle=H=>{const{componentCls:K}=H;return{[K]:{[`${K}-loading-icon${H.iconCls}`]:{position:"relative",top:(H.switchPinSize-H.fontSize)/2,color:H.switchLoadingIconColor,verticalAlign:"top"},[`&${K}-checked ${K}-loading-icon`]:{color:H.switchColor}}}},genSwitchHandleStyle=H=>{const{componentCls:K}=H,W=`${K}-handle`;return{[K]:{[W]:{position:"absolute",top:H.switchPadding,insetInlineStart:H.switchPadding,width:H.switchPinSize,height:H.switchPinSize,transition:`all ${H.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:H.colorWhite,borderRadius:H.switchPinSize/2,boxShadow:H.switchHandleShadow,transition:`all ${H.switchDuration} ease-in-out`,content:'""'}},[`&${K}-checked ${W}`]:{insetInlineStart:`calc(100% - ${H.switchPinSize+H.switchPadding}px)`},[`&:not(${K}-disabled):active`]:{[`${W}::before`]:{insetInlineEnd:H.switchHandleActiveInset,insetInlineStart:0},[`&${K}-checked ${W}::before`]:{insetInlineEnd:0,insetInlineStart:H.switchHandleActiveInset}}}}},genSwitchInnerStyle=H=>{const{componentCls:K}=H,W=`${K}-inner`;return{[K]:{[W]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:H.switchInnerMarginMax,paddingInlineEnd:H.switchInnerMarginMin,transition:`padding-inline-start ${H.switchDuration} ease-in-out, padding-inline-end ${H.switchDuration} ease-in-out`,[`${W}-checked, ${W}-unchecked`]:{display:"block",color:H.colorTextLightSolid,fontSize:H.fontSizeSM,transition:`margin-inline-start ${H.switchDuration} ease-in-out, margin-inline-end ${H.switchDuration} ease-in-out`,pointerEvents:"none"},[`${W}-checked`]:{marginInlineStart:`calc(-100% + ${H.switchPinSize+H.switchPadding*2}px - ${H.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(100% - ${H.switchPinSize+H.switchPadding*2}px + ${H.switchInnerMarginMax*2}px)`},[`${W}-unchecked`]:{marginTop:-H.switchHeight,marginInlineStart:0,marginInlineEnd:0}},[`&${K}-checked ${W}`]:{paddingInlineStart:H.switchInnerMarginMin,paddingInlineEnd:H.switchInnerMarginMax,[`${W}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${W}-unchecked`]:{marginInlineStart:`calc(100% - ${H.switchPinSize+H.switchPadding*2}px + ${H.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(-100% + ${H.switchPinSize+H.switchPadding*2}px - ${H.switchInnerMarginMax*2}px)`}},[`&:not(${K}-disabled):active`]:{[`&:not(${K}-checked) ${W}`]:{[`${W}-unchecked`]:{marginInlineStart:H.switchPadding*2,marginInlineEnd:-H.switchPadding*2}},[`&${K}-checked ${W}`]:{[`${W}-checked`]:{marginInlineStart:-H.switchPadding*2,marginInlineEnd:H.switchPadding*2}}}}}},genSwitchStyle=H=>{const{componentCls:K}=H;return{[K]:_extends$1(_extends$1(_extends$1(_extends$1({},resetComponent(H)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:H.switchMinWidth,height:H.switchHeight,lineHeight:`${H.switchHeight}px`,verticalAlign:"middle",background:H.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${H.motionDurationMid}`,userSelect:"none",[`&:hover:not(${K}-disabled)`]:{background:H.colorTextTertiary}}),genFocusStyle(H)),{[`&${K}-checked`]:{background:H.switchColor,[`&:hover:not(${K}-disabled)`]:{background:H.colorPrimaryHover}},[`&${K}-loading, &${K}-disabled`]:{cursor:"not-allowed",opacity:H.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${K}-rtl`]:{direction:"rtl"}})}},useStyle$3=genComponentStyleHook("Switch",H=>{const K=H.fontSize*H.lineHeight,W=H.controlHeight/2,G=2,U=K-G*2,X=W-G*2,Q=merge(H,{switchMinWidth:U*2+G*4,switchHeight:K,switchDuration:H.motionDurationMid,switchColor:H.colorPrimary,switchDisabledOpacity:H.opacityLoading,switchInnerMarginMin:U/2,switchInnerMarginMax:U+G+G*2,switchPadding:G,switchPinSize:U,switchBg:H.colorBgContainer,switchMinWidthSM:X*2+G*2,switchHeightSM:W,switchInnerMarginMinSM:X/2,switchInnerMarginMaxSM:X+G+G*2,switchPinSizeSM:X,switchHandleShadow:`0 2px 4px 0 ${new TinyColor("#00230b").setAlpha(.2).toRgbString()}`,switchLoadingIconSize:H.fontSizeIcon*.75,switchLoadingIconColor:`rgba(0, 0, 0, ${H.opacityLoading})`,switchHandleActiveInset:"-30%"});return[genSwitchStyle(Q),genSwitchInnerStyle(Q),genSwitchHandleStyle(Q),genSwitchLoadingStyle(Q),genSwitchSmallStyle(Q)]}),SwitchSizes=tuple("small","default"),switchProps=()=>({id:String,prefixCls:String,size:PropTypes.oneOf(SwitchSizes),disabled:{type:Boolean,default:void 0},checkedChildren:PropTypes.any,unCheckedChildren:PropTypes.any,tabindex:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),autofocus:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},checked:PropTypes.oneOfType([PropTypes.string,PropTypes.number,PropTypes.looseBool]),checkedValue:PropTypes.oneOfType([PropTypes.string,PropTypes.number,PropTypes.looseBool]).def(!0),unCheckedValue:PropTypes.oneOfType([PropTypes.string,PropTypes.number,PropTypes.looseBool]).def(!1),onChange:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onMouseup:{type:Function},"onUpdate:checked":{type:Function},onBlur:Function,onFocus:Function}),Switch=defineComponent({compatConfig:{MODE:3},name:"ASwitch",__ANT_SWITCH:!0,inheritAttrs:!1,props:switchProps(),slots:Object,setup(H,K){let{attrs:W,slots:G,expose:U,emit:X}=K;const Q=useInjectFormItemContext(),Z=useInjectDisabled(),ee=computed(()=>{var ye;return(ye=H.disabled)!==null&&ye!==void 0?ye:Z.value});onBeforeMount(()=>{});const ne=ref(H.checked!==void 0?H.checked:W.defaultChecked),te=computed(()=>ne.value===H.checkedValue);watch(()=>H.checked,()=>{ne.value=H.checked});const{prefixCls:oe,direction:re,size:ae}=useConfigInject("switch",H),[se,ce]=useStyle$3(oe),de=ref(),le=()=>{var ye;(ye=de.value)===null||ye===void 0||ye.focus()};U({focus:le,blur:()=>{var ye;(ye=de.value)===null||ye===void 0||ye.blur()}}),onMounted(()=>{nextTick(()=>{H.autofocus&&!ee.value&&de.value.focus()})});const pe=(ye,be)=>{ee.value||(X("update:checked",ye),X("change",ye,be),Q.onFieldChange())},me=ye=>{X("blur",ye)},ue=ye=>{le();const be=te.value?H.unCheckedValue:H.checkedValue;pe(be,ye),X("click",be,ye)},ge=ye=>{ye.keyCode===KeyCode.LEFT?pe(H.unCheckedValue,ye):ye.keyCode===KeyCode.RIGHT&&pe(H.checkedValue,ye),X("keydown",ye)},he=ye=>{var be;(be=de.value)===null||be===void 0||be.blur(),X("mouseup",ye)},ve=computed(()=>({[`${oe.value}-small`]:ae.value==="small",[`${oe.value}-loading`]:H.loading,[`${oe.value}-checked`]:te.value,[`${oe.value}-disabled`]:ee.value,[oe.value]:!0,[`${oe.value}-rtl`]:re.value==="rtl",[ce.value]:!0}));return()=>{var ye;return se(createVNode(Wave,null,{default:()=>[createVNode("button",_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},omit$1(H,["prefixCls","checkedChildren","unCheckedChildren","checked","autofocus","checkedValue","unCheckedValue","id","onChange","onUpdate:checked"])),W),{},{id:(ye=H.id)!==null&&ye!==void 0?ye:Q.id.value,onKeydown:ge,onClick:ue,onBlur:me,onMouseup:he,type:"button",role:"switch","aria-checked":ne.value,disabled:ee.value||H.loading,class:[W.class,ve.value],ref:de}),[createVNode("div",{class:`${oe.value}-handle`},[H.loading?createVNode(LoadingOutlined,{class:`${oe.value}-loading-icon`},null):null]),createVNode("span",{class:`${oe.value}-inner`},[createVNode("span",{class:`${oe.value}-inner-checked`},[getPropsSlot(G,H,"checkedChildren")]),createVNode("span",{class:`${oe.value}-inner-unchecked`},[getPropsSlot(G,H,"unCheckedChildren")])])])]}))}}}),__unplugin_components_3=withInstall(Switch),TableContextKey=Symbol("TableContextProps"),useProvideTable=H=>{provide(TableContextKey,H)},useInjectTable=()=>inject(TableContextKey,{}),INTERNAL_KEY_PREFIX="RC_TABLE_KEY";function toArray(H){return H==null?[]:Array.isArray(H)?H:[H]}function getPathValue(H,K){if(!K&&typeof K!="number")return H;const W=toArray(K);let G=H;for(let U=0;U<W.length;U+=1){if(!G)return null;const X=W[U];G=G[X]}return G}function getColumnsKey(H){const K=[],W={};return H.forEach(G=>{const{key:U,dataIndex:X}=G||{};let Q=U||toArray(X).join("-")||INTERNAL_KEY_PREFIX;for(;W[Q];)Q=`${Q}_next`;W[Q]=!0,K.push(Q)}),K}function mergeObject(){const H={};function K(X,Q){Q&&Object.keys(Q).forEach(Z=>{const ee=Q[Z];ee&&typeof ee=="object"?(X[Z]=X[Z]||{},K(X[Z],ee)):X[Z]=ee})}for(var W=arguments.length,G=new Array(W),U=0;U<W;U++)G[U]=arguments[U];return G.forEach(X=>{K(H,X)}),H}function validateValue(H){return H!=null}const SlotsContextKey=Symbol("SlotsContextProps"),useProvideSlots=H=>{provide(SlotsContextKey,H)},useInjectSlots=()=>inject(SlotsContextKey,computed(()=>({}))),ContextKey=Symbol("ContextProps"),useProvideTableContext=H=>{provide(ContextKey,H)},useInjectTableContext=()=>inject(ContextKey,{onResizeColumn:()=>{}}),INTERNAL_COL_DEFINE="RC_TABLE_INTERNAL_COL_DEFINE",HoverContextKey=Symbol("HoverContextProps"),useProvideHover=H=>{provide(HoverContextKey,H)},useInjectHover=()=>inject(HoverContextKey,{startRow:shallowRef(-1),endRow:shallowRef(-1),onHover(){}}),supportSticky=shallowRef(!1),useProvideSticky=()=>{onMounted(()=>{supportSticky.value=supportSticky.value||isStyleSupport("position","sticky")})},useInjectSticky=()=>supportSticky;var __rest$6=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};function inHoverRange(H,K,W,G){const U=H+K-1;return H<=G&&U>=W}function isRenderCell(H){return H&&typeof H=="object"&&!Array.isArray(H)&&!isVNode(H)}const Cell=defineComponent({name:"Cell",props:["prefixCls","record","index","renderIndex","dataIndex","customRender","component","colSpan","rowSpan","fixLeft","fixRight","firstFixLeft","lastFixLeft","firstFixRight","lastFixRight","appendNode","additionalProps","ellipsis","align","rowType","isSticky","column","cellType","transformCellText"],setup(H,K){let{slots:W}=K;const G=useInjectSlots(),{onHover:U,startRow:X,endRow:Q}=useInjectHover(),Z=computed(()=>{var ce,de,le,fe;return(le=(ce=H.colSpan)!==null&&ce!==void 0?ce:(de=H.additionalProps)===null||de===void 0?void 0:de.colSpan)!==null&&le!==void 0?le:(fe=H.additionalProps)===null||fe===void 0?void 0:fe.colspan}),ee=computed(()=>{var ce,de,le,fe;return(le=(ce=H.rowSpan)!==null&&ce!==void 0?ce:(de=H.additionalProps)===null||de===void 0?void 0:de.rowSpan)!==null&&le!==void 0?le:(fe=H.additionalProps)===null||fe===void 0?void 0:fe.rowspan}),ne=eagerComputed(()=>{const{index:ce}=H;return inHoverRange(ce,ee.value||1,X.value,Q.value)}),te=useInjectSticky(),oe=(ce,de)=>{var le;const{record:fe,index:pe,additionalProps:me}=H;fe&&U(pe,pe+de-1),(le=me?.onMouseenter)===null||le===void 0||le.call(me,ce)},re=ce=>{var de;const{record:le,additionalProps:fe}=H;le&&U(-1,-1),(de=fe?.onMouseleave)===null||de===void 0||de.call(fe,ce)},ae=ce=>{const de=filterEmpty(ce)[0];return isVNode(de)?de.type===Text$1?de.children:Array.isArray(de.children)?ae(de.children):void 0:de},se=shallowRef(null);return watch([ne,()=>H.prefixCls,se],()=>{const ce=findDOMNode(se.value);ce&&(ne.value?addClass(ce,`${H.prefixCls}-cell-row-hover`):removeClass(ce,`${H.prefixCls}-cell-row-hover`))}),()=>{var ce,de,le,fe,pe,me;const{prefixCls:ue,record:ge,index:he,renderIndex:ve,dataIndex:ye,customRender:be,component:Se="td",fixLeft:Ce,fixRight:xe,firstFixLeft:Ne,lastFixLeft:$e,firstFixRight:Ee,lastFixRight:Te,appendNode:Be=(ce=W.appendNode)===null||ce===void 0?void 0:ce.call(W),additionalProps:Ae={},ellipsis:ze,align:We,rowType:Le,isSticky:Ze,column:Ye={},cellType:Re}=H,Ke=`${ue}-cell`;let we,_e;const Ve=(de=W.default)===null||de===void 0?void 0:de.call(W);if(validateValue(Ve)||Re==="header")_e=Ve;else{const et=getPathValue(ge,ye);if(_e=et,be){const nt=be({text:et,value:et,record:ge,index:he,renderIndex:ve,column:Ye.__originColumn__});isRenderCell(nt)?(_e=nt.children,we=nt.props):_e=nt}if(!(INTERNAL_COL_DEFINE in Ye)&&Re==="body"&&G.value.bodyCell&&!(!((le=Ye.slots)===null||le===void 0)&&le.customRender)){const nt=customRenderSlot(G.value,"bodyCell",{text:et,value:et,record:ge,index:he,column:Ye.__originColumn__},()=>{const it=_e===void 0?et:_e;return[typeof it=="object"&&isValidElement(it)||typeof it!="object"?it:null]});_e=flattenChildren(nt)}H.transformCellText&&(_e=H.transformCellText({text:_e,record:ge,index:he,column:Ye.__originColumn__}))}typeof _e=="object"&&!Array.isArray(_e)&&!isVNode(_e)&&(_e=null),ze&&($e||Ee)&&(_e=createVNode("span",{class:`${Ke}-content`},[_e])),Array.isArray(_e)&&_e.length===1&&(_e=_e[0]);const je=we||{},{colSpan:qe,rowSpan:Pe,style:ke,class:Ue}=je,He=__rest$6(je,["colSpan","rowSpan","style","class"]),Me=(fe=qe!==void 0?qe:Z.value)!==null&&fe!==void 0?fe:1,Je=(pe=Pe!==void 0?Pe:ee.value)!==null&&pe!==void 0?pe:1;if(Me===0||Je===0)return null;const Fe={},Oe=typeof Ce=="number"&&te.value,Qe=typeof xe=="number"&&te.value;Oe&&(Fe.position="sticky",Fe.left=`${Ce}px`),Qe&&(Fe.position="sticky",Fe.right=`${xe}px`);const Ie={};We&&(Ie.textAlign=We);let De;const ot=ze===!0?{showTitle:!0}:ze;ot&&(ot.showTitle||Le==="header")&&(typeof _e=="string"||typeof _e=="number"?De=_e.toString():isVNode(_e)&&(De=ae([_e])));const st=_extends$1(_extends$1(_extends$1({title:De},He),Ae),{colSpan:Me!==1?Me:null,rowSpan:Je!==1?Je:null,class:classNames(Ke,{[`${Ke}-fix-left`]:Oe&&te.value,[`${Ke}-fix-left-first`]:Ne&&te.value,[`${Ke}-fix-left-last`]:$e&&te.value,[`${Ke}-fix-right`]:Qe&&te.value,[`${Ke}-fix-right-first`]:Ee&&te.value,[`${Ke}-fix-right-last`]:Te&&te.value,[`${Ke}-ellipsis`]:ze,[`${Ke}-with-append`]:Be,[`${Ke}-fix-sticky`]:(Oe||Qe)&&Ze&&te.value},Ae.class,Ue),onMouseenter:et=>{oe(et,Je)},onMouseleave:re,style:[Ae.style,Ie,Fe,ke]});return createVNode(Se,_objectSpread2$1(_objectSpread2$1({},st),{},{ref:se}),{default:()=>[Be,_e,(me=W.dragHandle)===null||me===void 0?void 0:me.call(W)]})}}});function getCellFixedInfo(H,K,W,G,U){const X=W[H]||{},Q=W[K]||{};let Z,ee;X.fixed==="left"?Z=G.left[H]:Q.fixed==="right"&&(ee=G.right[K]);let ne=!1,te=!1,oe=!1,re=!1;const ae=W[K+1],se=W[H-1];return U==="rtl"?Z!==void 0?re=!(se&&se.fixed==="left"):ee!==void 0&&(oe=!(ae&&ae.fixed==="right")):Z!==void 0?ne=!(ae&&ae.fixed==="left"):ee!==void 0&&(te=!(se&&se.fixed==="right")),{fixLeft:Z,fixRight:ee,lastFixLeft:ne,firstFixRight:te,lastFixRight:oe,firstFixLeft:re,isSticky:G.isSticky}}const events={mouse:{move:"mousemove",stop:"mouseup"},touch:{move:"touchmove",stop:"touchend"}},defaultMinWidth=50,DragHandleVue=defineComponent({compatConfig:{MODE:3},name:"DragHandle",props:{prefixCls:String,width:{type:Number,required:!0},minWidth:{type:Number,default:defaultMinWidth},maxWidth:{type:Number,default:1/0},column:{type:Object,default:void 0}},setup(H){let K=0,W={remove:()=>{}},G={remove:()=>{}};const U=()=>{W.remove(),G.remove()};onUnmounted(()=>{U()}),watchEffect(()=>{devWarning(!isNaN(H.width),"Table","width must be a number when use resizable")});const{onResizeColumn:X}=useInjectTableContext(),Q=computed(()=>typeof H.minWidth=="number"&&!isNaN(H.minWidth)?H.minWidth:defaultMinWidth),Z=computed(()=>typeof H.maxWidth=="number"&&!isNaN(H.maxWidth)?H.maxWidth:1/0),ee=getCurrentInstance();let ne=0;const te=shallowRef(!1);let oe;const re=pe=>{let me=0;pe.touches?pe.touches.length?me=pe.touches[0].pageX:me=pe.changedTouches[0].pageX:me=pe.pageX;const ue=K-me;let ge=Math.max(ne-ue,Q.value);ge=Math.min(ge,Z.value),wrapperRaf.cancel(oe),oe=wrapperRaf(()=>{X(ge,H.column.__originColumn__)})},ae=pe=>{re(pe)},se=pe=>{te.value=!1,re(pe),U()},ce=(pe,me)=>{te.value=!0,U(),ne=ee.vnode.el.parentNode.getBoundingClientRect().width,!(pe instanceof MouseEvent&&pe.which!==1)&&(pe.stopPropagation&&pe.stopPropagation(),K=pe.touches?pe.touches[0].pageX:pe.pageX,W=addEventListenerWrap(document.documentElement,me.move,ae),G=addEventListenerWrap(document.documentElement,me.stop,se))},de=pe=>{pe.stopPropagation(),pe.preventDefault(),ce(pe,events.mouse)},le=pe=>{pe.stopPropagation(),pe.preventDefault(),ce(pe,events.touch)},fe=pe=>{pe.stopPropagation(),pe.preventDefault()};return()=>{const{prefixCls:pe}=H,me={[supportsPassive?"onTouchstartPassive":"onTouchstart"]:ue=>le(ue)};return createVNode("div",_objectSpread2$1(_objectSpread2$1({class:`${pe}-resize-handle ${te.value?"dragging":""}`,onMousedown:de},me),{},{onClick:fe}),[createVNode("div",{class:`${pe}-resize-handle-line`},null)])}}}),HeaderRow=defineComponent({name:"HeaderRow",props:["cells","stickyOffsets","flattenColumns","rowComponent","cellComponent","index","customHeaderRow"],setup(H){const K=useInjectTable();return()=>{const{prefixCls:W,direction:G}=K,{cells:U,stickyOffsets:X,flattenColumns:Q,rowComponent:Z,cellComponent:ee,customHeaderRow:ne,index:te}=H;let oe;ne&&(oe=ne(U.map(ae=>ae.column),te));const re=getColumnsKey(U.map(ae=>ae.column));return createVNode(Z,oe,{default:()=>[U.map((ae,se)=>{const{column:ce}=ae,de=getCellFixedInfo(ae.colStart,ae.colEnd,Q,X,G);let le;ce&&ce.customHeaderCell&&(le=ae.column.customHeaderCell(ce));const fe=ce;return createVNode(Cell,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},ae),{},{cellType:"header",ellipsis:ce.ellipsis,align:ce.align,component:ee,prefixCls:W,key:re[se]},de),{},{additionalProps:le,rowType:"header",column:ce}),{default:()=>ce.title,dragHandle:()=>fe.resizable?createVNode(DragHandleVue,{prefixCls:W,width:fe.width,minWidth:fe.minWidth,maxWidth:fe.maxWidth,column:fe},null):null})})]})}}});function parseHeaderRows(H){const K=[];function W(U,X){let Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;K[Q]=K[Q]||[];let Z=X;return U.filter(Boolean).map(ne=>{const te={key:ne.key,class:classNames(ne.className,ne.class),column:ne,colStart:Z};let oe=1;const re=ne.children;return re&&re.length>0&&(oe=W(re,Z,Q+1).reduce((ae,se)=>ae+se,0),te.hasSubColumns=!0),"colSpan"in ne&&({colSpan:oe}=ne),"rowSpan"in ne&&(te.rowSpan=ne.rowSpan),te.colSpan=oe,te.colEnd=te.colStart+oe-1,K[Q].push(te),Z+=oe,oe})}W(H,0);const G=K.length;for(let U=0;U<G;U+=1)K[U].forEach(X=>{!("rowSpan"in X)&&!X.hasSubColumns&&(X.rowSpan=G-U)});return K}const Header=defineComponent({name:"TableHeader",inheritAttrs:!1,props:["columns","flattenColumns","stickyOffsets","customHeaderRow"],setup(H){const K=useInjectTable(),W=computed(()=>parseHeaderRows(H.columns));return()=>{const{prefixCls:G,getComponent:U}=K,{stickyOffsets:X,flattenColumns:Q,customHeaderRow:Z}=H,ee=U(["header","wrapper"],"thead"),ne=U(["header","row"],"tr"),te=U(["header","cell"],"th");return createVNode(ee,{class:`${G}-thead`},{default:()=>[W.value.map((oe,re)=>createVNode(HeaderRow,{key:re,flattenColumns:Q,cells:oe,stickyOffsets:X,rowComponent:ne,cellComponent:te,customHeaderRow:Z,index:re},null))]})}}}),ExpandedRowContextKey=Symbol("ExpandedRowProps"),useProvideExpandedRow=H=>{provide(ExpandedRowContextKey,H)},useInjectExpandedRow=()=>inject(ExpandedRowContextKey,{}),ExpandedRow=defineComponent({name:"ExpandedRow",inheritAttrs:!1,props:["prefixCls","component","cellComponent","expanded","colSpan","isEmpty"],setup(H,K){let{slots:W,attrs:G}=K;const U=useInjectTable(),X=useInjectExpandedRow(),{fixHeader:Q,fixColumn:Z,componentWidth:ee,horizonScroll:ne}=X;return()=>{const{prefixCls:te,component:oe,cellComponent:re,expanded:ae,colSpan:se,isEmpty:ce}=H;return createVNode(oe,{class:G.class,style:{display:ae?null:"none"}},{default:()=>[createVNode(Cell,{component:re,prefixCls:te,colSpan:se},{default:()=>{var de;let le=(de=W.default)===null||de===void 0?void 0:de.call(W);return(ce?ne.value:Z.value)&&(le=createVNode("div",{style:{width:`${ee.value-(Q.value?U.scrollbarSize:0)}px`,position:"sticky",left:0,overflow:"hidden"},class:`${te}-expanded-row-fixed`},[le])),le}})]})}}}),MeasureCell=defineComponent({name:"MeasureCell",props:["columnKey"],setup(H,K){let{emit:W}=K;const G=ref();return onMounted(()=>{G.value&&W("columnResize",H.columnKey,G.value.offsetWidth)}),()=>createVNode(ResizeObserver$1,{onResize:U=>{let{offsetWidth:X}=U;W("columnResize",H.columnKey,X)}},{default:()=>[createVNode("td",{ref:G,style:{padding:0,border:0,height:0}},[createVNode("div",{style:{height:0,overflow:"hidden"}},[createTextVNode("")])])]})}}),BodyContextKey=Symbol("BodyContextProps"),useProvideBody=H=>{provide(BodyContextKey,H)},useInjectBody=()=>inject(BodyContextKey,{}),BodyRow=defineComponent({name:"BodyRow",inheritAttrs:!1,props:["record","index","renderIndex","recordKey","expandedKeys","rowComponent","cellComponent","customRow","rowExpandable","indent","rowKey","getRowKey","childrenColumnName"],setup(H,K){let{attrs:W}=K;const G=useInjectTable(),U=useInjectBody(),X=shallowRef(!1),Q=computed(()=>H.expandedKeys&&H.expandedKeys.has(H.recordKey));watchEffect(()=>{Q.value&&(X.value=!0)});const Z=computed(()=>U.expandableType==="row"&&(!H.rowExpandable||H.rowExpandable(H.record))),ee=computed(()=>U.expandableType==="nest"),ne=computed(()=>H.childrenColumnName&&H.record&&H.record[H.childrenColumnName]),te=computed(()=>Z.value||ee.value),oe=(de,le)=>{U.onTriggerExpand(de,le)},re=computed(()=>{var de;return((de=H.customRow)===null||de===void 0?void 0:de.call(H,H.record,H.index))||{}}),ae=function(de){var le,fe;U.expandRowByClick&&te.value&&oe(H.record,de);for(var pe=arguments.length,me=new Array(pe>1?pe-1:0),ue=1;ue<pe;ue++)me[ue-1]=arguments[ue];(fe=(le=re.value)===null||le===void 0?void 0:le.onClick)===null||fe===void 0||fe.call(le,de,...me)},se=computed(()=>{const{record:de,index:le,indent:fe}=H,{rowClassName:pe}=U;return typeof pe=="string"?pe:typeof pe=="function"?pe(de,le,fe):""}),ce=computed(()=>getColumnsKey(U.flattenColumns));return()=>{const{class:de,style:le}=W,{record:fe,index:pe,rowKey:me,indent:ue=0,rowComponent:ge,cellComponent:he}=H,{prefixCls:ve,fixedInfoList:ye,transformCellText:be}=G,{flattenColumns:Se,expandedRowClassName:Ce,indentSize:xe,expandIcon:Ne,expandedRowRender:$e,expandIconColumnIndex:Ee}=U,Te=createVNode(ge,_objectSpread2$1(_objectSpread2$1({},re.value),{},{"data-row-key":me,class:classNames(de,`${ve}-row`,`${ve}-row-level-${ue}`,se.value,re.value.class),style:[le,re.value.style],onClick:ae}),{default:()=>[Se.map((Ae,ze)=>{const{customRender:We,dataIndex:Le,className:Ze}=Ae,Ye=ce[ze],Re=ye[ze];let Ke;Ae.customCell&&(Ke=Ae.customCell(fe,pe,Ae));const we=ze===(Ee||0)&&ee.value?createVNode(Fragment,null,[createVNode("span",{style:{paddingLeft:`${xe*ue}px`},class:`${ve}-row-indent indent-level-${ue}`},null),Ne({prefixCls:ve,expanded:Q.value,expandable:ne.value,record:fe,onExpand:oe})]):null;return createVNode(Cell,_objectSpread2$1(_objectSpread2$1({cellType:"body",class:Ze,ellipsis:Ae.ellipsis,align:Ae.align,component:he,prefixCls:ve,key:Ye,record:fe,index:pe,renderIndex:H.renderIndex,dataIndex:Le,customRender:We},Re),{},{additionalProps:Ke,column:Ae,transformCellText:be,appendNode:we}),null)})]});let Be;if(Z.value&&(X.value||Q.value)){const Ae=$e({record:fe,index:pe,indent:ue+1,expanded:Q.value}),ze=Ce&&Ce(fe,pe,ue);Be=createVNode(ExpandedRow,{expanded:Q.value,class:classNames(`${ve}-expanded-row`,`${ve}-expanded-row-level-${ue+1}`,ze),prefixCls:ve,component:ge,cellComponent:he,colSpan:Se.length,isEmpty:!1},{default:()=>[Ae]})}return createVNode(Fragment,null,[Te,Be])}}});function flatRecord(H,K,W,G,U,X){const Q=[];Q.push({record:H,indent:K,index:X});const Z=U(H),ee=G?.has(Z);if(H&&Array.isArray(H[W])&&ee)for(let ne=0;ne<H[W].length;ne+=1){const te=flatRecord(H[W][ne],K+1,W,G,U,ne);Q.push(...te)}return Q}function useFlattenRecords(H,K,W,G){return computed(()=>{const X=K.value,Q=W.value,Z=H.value;if(Q?.size){const ee=[];for(let ne=0;ne<Z?.length;ne+=1){const te=Z[ne];ee.push(...flatRecord(te,0,X,Q,G.value,ne))}return ee}return Z?.map((ee,ne)=>({record:ee,indent:0,index:ne}))})}const ResizeContextKey=Symbol("ResizeContextProps"),useProvideResize=H=>{provide(ResizeContextKey,H)},useInjectResize=()=>inject(ResizeContextKey,{onColumnResize:()=>{}}),Body=defineComponent({name:"TableBody",props:["data","getRowKey","measureColumnWidth","expandedKeys","customRow","rowExpandable","childrenColumnName"],setup(H,K){let{slots:W}=K;const G=useInjectResize(),U=useInjectTable(),X=useInjectBody(),Q=useFlattenRecords(toRef(H,"data"),toRef(H,"childrenColumnName"),toRef(H,"expandedKeys"),toRef(H,"getRowKey")),Z=shallowRef(-1),ee=shallowRef(-1);let ne;return useProvideHover({startRow:Z,endRow:ee,onHover:(te,oe)=>{clearTimeout(ne),ne=setTimeout(()=>{Z.value=te,ee.value=oe},100)}}),()=>{var te;const{data:oe,getRowKey:re,measureColumnWidth:ae,expandedKeys:se,customRow:ce,rowExpandable:de,childrenColumnName:le}=H,{onColumnResize:fe}=G,{prefixCls:pe,getComponent:me}=U,{flattenColumns:ue}=X,ge=me(["body","wrapper"],"tbody"),he=me(["body","row"],"tr"),ve=me(["body","cell"],"td");let ye;oe.length?ye=Q.value.map((Se,Ce)=>{const{record:xe,indent:Ne,index:$e}=Se,Ee=re(xe,Ce);return createVNode(BodyRow,{key:Ee,rowKey:Ee,record:xe,recordKey:Ee,index:Ce,renderIndex:$e,rowComponent:he,cellComponent:ve,expandedKeys:se,customRow:ce,getRowKey:re,rowExpandable:de,childrenColumnName:le,indent:Ne},null)}):ye=createVNode(ExpandedRow,{expanded:!0,class:`${pe}-placeholder`,prefixCls:pe,component:he,cellComponent:ve,colSpan:ue.length,isEmpty:!0},{default:()=>[(te=W.emptyNode)===null||te===void 0?void 0:te.call(W)]});const be=getColumnsKey(ue);return createVNode(ge,{class:`${pe}-tbody`},{default:()=>[ae&&createVNode("tr",{"aria-hidden":"true",class:`${pe}-measure-row`,style:{height:0,fontSize:0}},[be.map(Se=>createVNode(MeasureCell,{key:Se,columnKey:Se,onColumnResize:fe},null))]),ye]})}}}),EXPAND_COLUMN={};var __rest$5=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};function flatColumns(H){return H.reduce((K,W)=>{const{fixed:G}=W,U=G===!0?"left":G,X=W.children;return X&&X.length>0?[...K,...flatColumns(X).map(Q=>_extends$1({fixed:U},Q))]:[...K,_extends$1(_extends$1({},W),{fixed:U})]},[])}function revertForRtl(H){return H.map(K=>{const{fixed:W}=K,G=__rest$5(K,["fixed"]);let U=W;return W==="left"?U="right":W==="right"&&(U="left"),_extends$1({fixed:U},G)})}function useColumns$1(H,K){let{prefixCls:W,columns:G,expandable:U,expandedKeys:X,getRowKey:Q,onTriggerExpand:Z,expandIcon:ee,rowExpandable:ne,expandIconColumnIndex:te,direction:oe,expandRowByClick:re,expandColumnWidth:ae,expandFixed:se}=H;const ce=useInjectSlots(),de=computed(()=>{if(U.value){let pe=G.value.slice();if(!pe.includes(EXPAND_COLUMN)){const xe=te.value||0;xe>=0&&pe.splice(xe,0,EXPAND_COLUMN)}const me=pe.indexOf(EXPAND_COLUMN);pe=pe.filter((xe,Ne)=>xe!==EXPAND_COLUMN||Ne===me);const ue=G.value[me];let ge;(se.value==="left"||se.value)&&!te.value?ge="left":(se.value==="right"||se.value)&&te.value===G.value.length?ge="right":ge=ue?ue.fixed:null;const he=X.value,ve=ne.value,ye=ee.value,be=W.value,Se=re.value,Ce={[INTERNAL_COL_DEFINE]:{class:`${W.value}-expand-icon-col`,columnType:"EXPAND_COLUMN"},title:customRenderSlot(ce.value,"expandColumnTitle",{},()=>[""]),fixed:ge,class:`${W.value}-row-expand-icon-cell`,width:ae.value,customRender:xe=>{let{record:Ne,index:$e}=xe;const Ee=Q.value(Ne,$e),Te=he.has(Ee),Be=ve?ve(Ne):!0,Ae=ye({prefixCls:be,expanded:Te,expandable:Be,record:Ne,onExpand:Z});return Se?createVNode("span",{onClick:ze=>ze.stopPropagation()},[Ae]):Ae}};return pe.map(xe=>xe===EXPAND_COLUMN?Ce:xe)}return G.value.filter(pe=>pe!==EXPAND_COLUMN)}),le=computed(()=>{let pe=de.value;return K.value&&(pe=K.value(pe)),pe.length||(pe=[{customRender:()=>null}]),pe}),fe=computed(()=>oe.value==="rtl"?revertForRtl(flatColumns(le.value)):flatColumns(le.value));return[le,fe]}function useLayoutState(H){const K=shallowRef(H);let W;const G=shallowRef([]);function U(X){G.value.push(X),wrapperRaf.cancel(W),W=wrapperRaf(()=>{const Q=G.value;G.value=[],Q.forEach(Z=>{K.value=Z(K.value)})})}return onBeforeUnmount(()=>{wrapperRaf.cancel(W)}),[K,U]}function useTimeoutLock(H){const K=ref(null),W=ref();function G(){clearTimeout(W.value)}function U(Q){K.value=Q,G(),W.value=setTimeout(()=>{K.value=null,W.value=void 0},100)}function X(){return K.value}return onBeforeUnmount(()=>{G()}),[U,X]}function useStickyOffsets(H,K,W){return computed(()=>{const U=[],X=[];let Q=0,Z=0;const ee=H.value,ne=K.value,te=W.value;for(let oe=0;oe<ne;oe+=1)if(te==="rtl"){X[oe]=Z,Z+=ee[oe]||0;const re=ne-oe-1;U[re]=Q,Q+=ee[re]||0}else{U[oe]=Q,Q+=ee[oe]||0;const re=ne-oe-1;X[re]=Z,Z+=ee[re]||0}return{left:U,right:X}})}var __rest$4=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};function ColGroup(H){let{colWidths:K,columns:W,columCount:G}=H;const U=[],X=G||W.length;let Q=!1;for(let Z=X-1;Z>=0;Z-=1){const ee=K[Z],ne=W&&W[Z],te=ne&&ne[INTERNAL_COL_DEFINE];if(ee||te||Q){const oe=te||{},{columnType:re}=oe,ae=__rest$4(oe,["columnType"]);U.unshift(createVNode("col",_objectSpread2$1({key:Z,style:{width:typeof ee=="number"?`${ee}px`:ee}},ae),null)),Q=!0}}return createVNode("colgroup",null,[U])}function Panel(H,K){let{slots:W}=K;var G;return createVNode("div",null,[(G=W.default)===null||G===void 0?void 0:G.call(W)])}Panel.displayName="Panel";let indexGuid=0;const Summary=defineComponent({name:"TableSummary",props:["fixed"],setup(H,K){let{slots:W}=K;const G=useInjectTable(),U=`table-summary-uni-key-${++indexGuid}`,X=computed(()=>H.fixed===""||H.fixed);return watchEffect(()=>{G.summaryCollect(U,X.value)}),onBeforeUnmount(()=>{G.summaryCollect(U,!1)}),()=>{var Q;return(Q=W.default)===null||Q===void 0?void 0:Q.call(W)}}}),SummaryRow=defineComponent({compatConfig:{MODE:3},name:"ATableSummaryRow",setup(H,K){let{slots:W}=K;return()=>{var G;return createVNode("tr",null,[(G=W.default)===null||G===void 0?void 0:G.call(W)])}}}),SummaryContextKey=Symbol("SummaryContextProps"),useProvideSummary=H=>{provide(SummaryContextKey,H)},useInjectSummary=()=>inject(SummaryContextKey,{}),SummaryCell=defineComponent({name:"ATableSummaryCell",props:["index","colSpan","rowSpan","align"],setup(H,K){let{attrs:W,slots:G}=K;const U=useInjectTable(),X=useInjectSummary();return()=>{const{index:Q,colSpan:Z=1,rowSpan:ee,align:ne}=H,{prefixCls:te,direction:oe}=U,{scrollColumnIndex:re,stickyOffsets:ae,flattenColumns:se}=X,de=Q+Z-1+1===re?Z+1:Z,le=getCellFixedInfo(Q,Q+de-1,se,ae,oe);return createVNode(Cell,_objectSpread2$1({class:W.class,index:Q,component:"td",prefixCls:te,record:null,dataIndex:null,align:ne,colSpan:de,rowSpan:ee,customRender:()=>{var fe;return(fe=G.default)===null||fe===void 0?void 0:fe.call(G)}},le),null)}}}),Footer=defineComponent({name:"TableFooter",inheritAttrs:!1,props:["stickyOffsets","flattenColumns"],setup(H,K){let{slots:W}=K;const G=useInjectTable();return useProvideSummary(reactive({stickyOffsets:toRef(H,"stickyOffsets"),flattenColumns:toRef(H,"flattenColumns"),scrollColumnIndex:computed(()=>{const U=H.flattenColumns.length-1,X=H.flattenColumns[U];return X?.scrollbar?U:null})})),()=>{var U;const{prefixCls:X}=G;return createVNode("tfoot",{class:`${X}-summary`},[(U=W.default)===null||U===void 0?void 0:U.call(W)])}}}),FooterComponents=Summary;function renderExpandIcon$1(H){let{prefixCls:K,record:W,onExpand:G,expanded:U,expandable:X}=H;const Q=`${K}-row-expand-icon`;if(!X)return createVNode("span",{class:[Q,`${K}-row-spaced`]},null);const Z=ee=>{G(W,ee),ee.stopPropagation()};return createVNode("span",{class:{[Q]:!0,[`${K}-row-expanded`]:U,[`${K}-row-collapsed`]:!U},onClick:Z},null)}function findAllChildrenKeys(H,K,W){const G=[];function U(X){(X||[]).forEach((Q,Z)=>{G.push(K(Q,Z)),U(Q[W])})}return U(H),G}const StickyScrollBar=defineComponent({name:"StickyScrollBar",inheritAttrs:!1,props:["offsetScroll","container","scrollBodyRef","scrollBodySizeInfo"],emits:["scroll"],setup(H,K){let{emit:W,expose:G}=K;const U=useInjectTable(),X=shallowRef(0),Q=shallowRef(0),Z=shallowRef(0);watchEffect(()=>{X.value=H.scrollBodySizeInfo.scrollWidth||0,Q.value=H.scrollBodySizeInfo.clientWidth||0,Z.value=X.value&&Q.value*(Q.value/X.value)},{flush:"post"});const ee=shallowRef(),[ne,te]=useLayoutState({scrollLeft:0,isHiddenScrollBar:!0}),oe=ref({delta:0,x:0}),re=shallowRef(!1),ae=()=>{re.value=!1},se=he=>{oe.value={delta:he.pageX-ne.value.scrollLeft,x:0},re.value=!0,he.preventDefault()},ce=he=>{const{buttons:ve}=he||window?.event;if(!re.value||ve===0){re.value&&(re.value=!1);return}let ye=oe.value.x+he.pageX-oe.value.x-oe.value.delta;ye<=0&&(ye=0),ye+Z.value>=Q.value&&(ye=Q.value-Z.value),W("scroll",{scrollLeft:ye/Q.value*(X.value+2)}),oe.value.x=he.pageX},de=()=>{if(!H.scrollBodyRef.value)return;const he=getOffset$1(H.scrollBodyRef.value).top,ve=he+H.scrollBodyRef.value.offsetHeight,ye=H.container===window?document.documentElement.scrollTop+window.innerHeight:getOffset$1(H.container).top+H.container.clientHeight;ve-getScrollBarSize()<=ye||he>=ye-H.offsetScroll?te(be=>_extends$1(_extends$1({},be),{isHiddenScrollBar:!0})):te(be=>_extends$1(_extends$1({},be),{isHiddenScrollBar:!1}))};G({setScrollLeft:he=>{te(ve=>_extends$1(_extends$1({},ve),{scrollLeft:he/X.value*Q.value||0}))}});let fe=null,pe=null,me=null,ue=null;onMounted(()=>{fe=addEventListenerWrap(document.body,"mouseup",ae,!1),pe=addEventListenerWrap(document.body,"mousemove",ce,!1),me=addEventListenerWrap(window,"resize",de,!1)}),onActivated(()=>{nextTick(()=>{de()})}),onMounted(()=>{setTimeout(()=>{watch([Z,re],()=>{de()},{immediate:!0,flush:"post"})})}),watch(()=>H.container,()=>{ue?.remove(),ue=addEventListenerWrap(H.container,"scroll",de,!1)},{immediate:!0,flush:"post"}),onBeforeUnmount(()=>{fe?.remove(),pe?.remove(),ue?.remove(),me?.remove()}),watch(()=>_extends$1({},ne.value),(he,ve)=>{he.isHiddenScrollBar!==ve?.isHiddenScrollBar&&!he.isHiddenScrollBar&&te(ye=>{const be=H.scrollBodyRef.value;return be?_extends$1(_extends$1({},ye),{scrollLeft:be.scrollLeft/be.scrollWidth*be.clientWidth}):ye})},{immediate:!0});const ge=getScrollBarSize();return()=>{if(X.value<=Q.value||!Z.value||ne.value.isHiddenScrollBar)return null;const{prefixCls:he}=U;return createVNode("div",{style:{height:`${ge}px`,width:`${Q.value}px`,bottom:`${H.offsetScroll}px`},class:`${he}-sticky-scroll`},[createVNode("div",{onMousedown:se,ref:ee,class:classNames(`${he}-sticky-scroll-bar`,{[`${he}-sticky-scroll-bar-active`]:re.value}),style:{width:`${Z.value}px`,transform:`translate3d(${ne.value.scrollLeft}px, 0, 0)`}},null)])}}}),defaultContainer=canUseDom$1()?window:null;function useSticky(H,K){return computed(()=>{const{offsetHeader:W=0,offsetSummary:G=0,offsetScroll:U=0,getContainer:X=()=>defaultContainer}=typeof H.value=="object"?H.value:{},Q=X()||defaultContainer,Z=!!H.value;return{isSticky:Z,stickyClassName:Z?`${K.value}-sticky-holder`:"",offsetHeader:W,offsetSummary:G,offsetScroll:U,container:Q}})}function useColumnWidth(H,K){return computed(()=>{const W=[],G=H.value,U=K.value;for(let X=0;X<U;X+=1){const Q=G[X];if(Q!==void 0)W[X]=Q;else return null}return W})}const FixedHolder=defineComponent({name:"FixedHolder",inheritAttrs:!1,props:["columns","flattenColumns","stickyOffsets","customHeaderRow","noData","maxContentScroll","colWidths","columCount","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName"],emits:["scroll"],setup(H,K){let{attrs:W,slots:G,emit:U}=K;const X=useInjectTable(),Q=computed(()=>X.isSticky&&!H.fixHeader?0:X.scrollbarSize),Z=ref(),ee=ce=>{const{currentTarget:de,deltaX:le}=ce;le&&(U("scroll",{currentTarget:de,scrollLeft:de.scrollLeft+le}),ce.preventDefault())},ne=ref();onMounted(()=>{nextTick(()=>{ne.value=addEventListenerWrap(Z.value,"wheel",ee)})}),onBeforeUnmount(()=>{var ce;(ce=ne.value)===null||ce===void 0||ce.remove()});const te=computed(()=>H.flattenColumns.every(ce=>ce.width&&ce.width!==0&&ce.width!=="0px")),oe=ref([]),re=ref([]);watchEffect(()=>{const ce=H.flattenColumns[H.flattenColumns.length-1],de={fixed:ce?ce.fixed:null,scrollbar:!0,customHeaderCell:()=>({class:`${X.prefixCls}-cell-scrollbar`})};oe.value=Q.value?[...H.columns,de]:H.columns,re.value=Q.value?[...H.flattenColumns,de]:H.flattenColumns});const ae=computed(()=>{const{stickyOffsets:ce,direction:de}=H,{right:le,left:fe}=ce;return _extends$1(_extends$1({},ce),{left:de==="rtl"?[...fe.map(pe=>pe+Q.value),0]:fe,right:de==="rtl"?le:[...le.map(pe=>pe+Q.value),0],isSticky:X.isSticky})}),se=useColumnWidth(toRef(H,"colWidths"),toRef(H,"columCount"));return()=>{var ce;const{noData:de,columCount:le,stickyTopOffset:fe,stickyBottomOffset:pe,stickyClassName:me,maxContentScroll:ue}=H,{isSticky:ge}=X;return createVNode("div",{style:_extends$1({overflow:"hidden"},ge?{top:`${fe}px`,bottom:`${pe}px`}:{}),ref:Z,class:classNames(W.class,{[me]:!!me})},[createVNode("table",{style:{tableLayout:"fixed",visibility:de||se.value?null:"hidden"}},[(!de||!ue||te.value)&&createVNode(ColGroup,{colWidths:se.value?[...se.value,Q.value]:[],columCount:le+1,columns:re.value},null),(ce=G.default)===null||ce===void 0?void 0:ce.call(G,_extends$1(_extends$1({},H),{stickyOffsets:ae.value,columns:oe.value,flattenColumns:re.value}))])])}}});function reactivePick(H){for(var K=arguments.length,W=new Array(K>1?K-1:0),G=1;G<K;G++)W[G-1]=arguments[G];return reactive(fromPairs(W.map(U=>[U,toRef(H,U)])))}const EMPTY_DATA=[],EMPTY_SCROLL_TARGET={},INTERNAL_HOOKS="rc-table-internal-hook",Table$1=defineComponent({name:"VcTable",inheritAttrs:!1,props:["prefixCls","data","columns","rowKey","tableLayout","scroll","rowClassName","title","footer","id","showHeader","components","customRow","customHeaderRow","direction","expandFixed","expandColumnWidth","expandedRowKeys","defaultExpandedRowKeys","expandedRowRender","expandRowByClick","expandIcon","onExpand","onExpandedRowsChange","onUpdate:expandedRowKeys","defaultExpandAllRows","indentSize","expandIconColumnIndex","expandedRowClassName","childrenColumnName","rowExpandable","sticky","transformColumns","internalHooks","internalRefs","canExpandable","onUpdateInternalRefs","transformCellText"],emits:["expand","expandedRowsChange","updateInternalRefs","update:expandedRowKeys"],setup(H,K){let{attrs:W,slots:G,emit:U}=K;const X=computed(()=>H.data||EMPTY_DATA),Q=computed(()=>!!X.value.length),Z=computed(()=>mergeObject(H.components,{})),ee=(nt,it)=>getPathValue(Z.value,nt)||it,ne=computed(()=>{const nt=H.rowKey;return typeof nt=="function"?nt:it=>it&&it[nt]}),te=computed(()=>H.expandIcon||renderExpandIcon$1),oe=computed(()=>H.childrenColumnName||"children"),re=computed(()=>H.expandedRowRender?"row":H.canExpandable||X.value.some(nt=>nt&&typeof nt=="object"&&nt[oe.value])?"nest":!1),ae=shallowRef([]);watchEffect(()=>{H.defaultExpandedRowKeys&&(ae.value=H.defaultExpandedRowKeys),H.defaultExpandAllRows&&(ae.value=findAllChildrenKeys(X.value,ne.value,oe.value))})();const ce=computed(()=>new Set(H.expandedRowKeys||ae.value||[])),de=nt=>{const it=ne.value(nt,X.value.indexOf(nt));let ct;const pt=ce.value.has(it);pt?(ce.value.delete(it),ct=[...ce.value]):ct=[...ce.value,it],ae.value=ct,U("expand",!pt,nt),U("update:expandedRowKeys",ct),U("expandedRowsChange",ct)},le=ref(0),[fe,pe]=useColumns$1(_extends$1(_extends$1({},toRefs(H)),{expandable:computed(()=>!!H.expandedRowRender),expandedKeys:ce,getRowKey:ne,onTriggerExpand:de,expandIcon:te}),computed(()=>H.internalHooks===INTERNAL_HOOKS?H.transformColumns:null)),me=computed(()=>({columns:fe.value,flattenColumns:pe.value})),ue=ref(),ge=ref(),he=ref(),ve=ref({scrollWidth:0,clientWidth:0}),ye=ref(),[be,Se]=useState(!1),[Ce,xe]=useState(!1),[Ne,$e]=useLayoutState(new Map),Ee=computed(()=>getColumnsKey(pe.value)),Te=computed(()=>Ee.value.map(nt=>Ne.value.get(nt))),Be=computed(()=>pe.value.length),Ae=useStickyOffsets(Te,Be,toRef(H,"direction")),ze=computed(()=>H.scroll&&validateValue(H.scroll.y)),We=computed(()=>H.scroll&&validateValue(H.scroll.x)||!!H.expandFixed),Le=computed(()=>We.value&&pe.value.some(nt=>{let{fixed:it}=nt;return it})),Ze=ref(),Ye=useSticky(toRef(H,"sticky"),toRef(H,"prefixCls")),Re=reactive({}),Ke=computed(()=>{const nt=Object.values(Re)[0];return(ze.value||Ye.value.isSticky)&&nt}),we=(nt,it)=>{it?Re[nt]=it:delete Re[nt]},_e=ref({}),Ve=ref({}),je=ref({});watchEffect(()=>{ze.value&&(Ve.value={overflowY:"scroll",maxHeight:toPx(H.scroll.y)}),We.value&&(_e.value={overflowX:"auto"},ze.value||(Ve.value={overflowY:"hidden"}),je.value={width:H.scroll.x===!0?"auto":toPx(H.scroll.x),minWidth:"100%"})});const qe=(nt,it)=>{isVisible(ue.value)&&$e(ct=>{if(ct.get(nt)!==it){const pt=new Map(ct);return pt.set(nt,it),pt}return ct})},[Pe,ke]=useTimeoutLock();function Ue(nt,it){if(!it)return;if(typeof it=="function"){it(nt);return}const ct=it.$el||it;ct.scrollLeft!==nt&&(ct.scrollLeft=nt)}const He=nt=>{let{currentTarget:it,scrollLeft:ct}=nt;var pt;const ht=H.direction==="rtl",Ge=typeof ct=="number"?ct:it.scrollLeft,Xe=it||EMPTY_SCROLL_TARGET;if((!ke()||ke()===Xe)&&(Pe(Xe),Ue(Ge,ge.value),Ue(Ge,he.value),Ue(Ge,ye.value),Ue(Ge,(pt=Ze.value)===null||pt===void 0?void 0:pt.setScrollLeft)),it){const{scrollWidth:rt,clientWidth:at}=it;ht?(Se(-Ge<rt-at),xe(-Ge>0)):(Se(Ge>0),xe(Ge<rt-at))}},Me=()=>{We.value&&he.value?He({currentTarget:he.value}):(Se(!1),xe(!1))};let Je;const Fe=nt=>{nt!==le.value&&(Me(),le.value=ue.value?ue.value.offsetWidth:nt)},Oe=nt=>{let{width:it}=nt;if(clearTimeout(Je),le.value===0){Fe(it);return}Je=setTimeout(()=>{Fe(it)},100)};watch([We,()=>H.data,()=>H.columns],()=>{We.value&&Me()},{flush:"post"});const[Qe,Ie]=useState(0);useProvideSticky(),onMounted(()=>{nextTick(()=>{var nt,it;Me(),Ie(getTargetScrollBarSize(he.value).width),ve.value={scrollWidth:((nt=he.value)===null||nt===void 0?void 0:nt.scrollWidth)||0,clientWidth:((it=he.value)===null||it===void 0?void 0:it.clientWidth)||0}})}),onUpdated(()=>{nextTick(()=>{var nt,it;const ct=((nt=he.value)===null||nt===void 0?void 0:nt.scrollWidth)||0,pt=((it=he.value)===null||it===void 0?void 0:it.clientWidth)||0;(ve.value.scrollWidth!==ct||ve.value.clientWidth!==pt)&&(ve.value={scrollWidth:ct,clientWidth:pt})})}),watchEffect(()=>{H.internalHooks===INTERNAL_HOOKS&&H.internalRefs&&H.onUpdateInternalRefs({body:he.value?he.value.$el||he.value:null})},{flush:"post"});const De=computed(()=>H.tableLayout?H.tableLayout:Le.value?H.scroll.x==="max-content"?"auto":"fixed":ze.value||Ye.value.isSticky||pe.value.some(nt=>{let{ellipsis:it}=nt;return it})?"fixed":"auto"),ot=()=>{var nt;return Q.value?null:((nt=G.emptyText)===null||nt===void 0?void 0:nt.call(G))||"No Data"};useProvideTable(reactive(_extends$1(_extends$1({},toRefs(reactivePick(H,"prefixCls","direction","transformCellText"))),{getComponent:ee,scrollbarSize:Qe,fixedInfoList:computed(()=>pe.value.map((nt,it)=>getCellFixedInfo(it,it,pe.value,Ae.value,H.direction))),isSticky:computed(()=>Ye.value.isSticky),summaryCollect:we}))),useProvideBody(reactive(_extends$1(_extends$1({},toRefs(reactivePick(H,"rowClassName","expandedRowClassName","expandRowByClick","expandedRowRender","expandIconColumnIndex","indentSize"))),{columns:fe,flattenColumns:pe,tableLayout:De,expandIcon:te,expandableType:re,onTriggerExpand:de}))),useProvideResize({onColumnResize:qe}),useProvideExpandedRow({componentWidth:le,fixHeader:ze,fixColumn:Le,horizonScroll:We});const st=()=>createVNode(Body,{data:X.value,measureColumnWidth:ze.value||We.value||Ye.value.isSticky,expandedKeys:ce.value,rowExpandable:H.rowExpandable,getRowKey:ne.value,customRow:H.customRow,childrenColumnName:oe.value},{emptyNode:ot}),et=()=>createVNode(ColGroup,{colWidths:pe.value.map(nt=>{let{width:it}=nt;return it}),columns:pe.value},null);return()=>{var nt;const{prefixCls:it,scroll:ct,tableLayout:pt,direction:ht,title:Ge=G.title,footer:Xe=G.footer,id:rt,showHeader:at,customHeaderRow:lt}=H,{isSticky:dt,offsetHeader:ft,offsetSummary:gt,offsetScroll:ut,stickyClassName:mt,container:vt}=Ye.value,yt=ee(["table"],"table"),bt=ee(["body"]),St=(nt=G.summary)===null||nt===void 0?void 0:nt.call(G,{pageData:X.value});let $t=()=>null;const xt={colWidths:Te.value,columCount:pe.value.length,stickyOffsets:Ae.value,customHeaderRow:lt,fixHeader:ze.value,scroll:ct};if(ze.value||dt){let _t=()=>null;typeof bt=="function"?(_t=()=>bt(X.value,{scrollbarSize:Qe.value,ref:he,onScroll:He}),xt.colWidths=pe.value.map((Tt,At)=>{let{width:It}=Tt;const Pt=At===fe.value.length-1?It-Qe.value:It;return typeof Pt=="number"&&!Number.isNaN(Pt)?Pt:0})):_t=()=>createVNode("div",{style:_extends$1(_extends$1({},_e.value),Ve.value),onScroll:He,ref:he,class:classNames(`${it}-body`)},[createVNode(yt,{style:_extends$1(_extends$1({},je.value),{tableLayout:De.value})},{default:()=>[et(),st(),!Ke.value&&St&&createVNode(Footer,{stickyOffsets:Ae.value,flattenColumns:pe.value},{default:()=>[St]})]})]);const Et=_extends$1(_extends$1(_extends$1({noData:!X.value.length,maxContentScroll:We.value&&ct.x==="max-content"},xt),me.value),{direction:ht,stickyClassName:mt,onScroll:He});$t=()=>createVNode(Fragment,null,[at!==!1&&createVNode(FixedHolder,_objectSpread2$1(_objectSpread2$1({},Et),{},{stickyTopOffset:ft,class:`${it}-header`,ref:ge}),{default:Tt=>createVNode(Fragment,null,[createVNode(Header,Tt,null),Ke.value==="top"&&createVNode(Footer,Tt,{default:()=>[St]})])}),_t(),Ke.value&&Ke.value!=="top"&&createVNode(FixedHolder,_objectSpread2$1(_objectSpread2$1({},Et),{},{stickyBottomOffset:gt,class:`${it}-summary`,ref:ye}),{default:Tt=>createVNode(Footer,Tt,{default:()=>[St]})}),dt&&he.value&&createVNode(StickyScrollBar,{ref:Ze,offsetScroll:ut,scrollBodyRef:he,onScroll:He,container:vt,scrollBodySizeInfo:ve.value},null)])}else $t=()=>createVNode("div",{style:_extends$1(_extends$1({},_e.value),Ve.value),class:classNames(`${it}-content`),onScroll:He,ref:he},[createVNode(yt,{style:_extends$1(_extends$1({},je.value),{tableLayout:De.value})},{default:()=>[et(),at!==!1&&createVNode(Header,_objectSpread2$1(_objectSpread2$1({},xt),me.value),null),st(),St&&createVNode(Footer,{stickyOffsets:Ae.value,flattenColumns:pe.value},{default:()=>[St]})]})]);const Ct=pickAttrs(W,{aria:!0,data:!0}),wt=()=>createVNode("div",_objectSpread2$1(_objectSpread2$1({},Ct),{},{class:classNames(it,{[`${it}-rtl`]:ht==="rtl",[`${it}-ping-left`]:be.value,[`${it}-ping-right`]:Ce.value,[`${it}-layout-fixed`]:pt==="fixed",[`${it}-fixed-header`]:ze.value,[`${it}-fixed-column`]:Le.value,[`${it}-scroll-horizontal`]:We.value,[`${it}-has-fix-left`]:pe.value[0]&&pe.value[0].fixed,[`${it}-has-fix-right`]:pe.value[Be.value-1]&&pe.value[Be.value-1].fixed==="right",[W.class]:W.class}),style:W.style,id:rt,ref:ue}),[Ge&&createVNode(Panel,{class:`${it}-title`},{default:()=>[Ge(X.value)]}),createVNode("div",{class:`${it}-container`},[$t()]),Xe&&createVNode(Panel,{class:`${it}-footer`},{default:()=>[Xe(X.value)]})]);return We.value?createVNode(ResizeObserver$1,{onResize:Oe},{default:wt}):wt()}}});function extendsObject(){const H=_extends$1({},arguments.length<=0?void 0:arguments[0]);for(let K=1;K<arguments.length;K++){const W=K<0||arguments.length<=K?void 0:arguments[K];W&&Object.keys(W).forEach(G=>{const U=W[G];U!==void 0&&(H[G]=U)})}return H}const DEFAULT_PAGE_SIZE=10;function getPaginationParam(H,K){const W={current:H.current,pageSize:H.pageSize};return Object.keys(K&&typeof K=="object"?K:{}).forEach(U=>{const X=H[U];typeof X!="function"&&(W[U]=X)}),W}function usePagination(H,K,W){const G=computed(()=>K.value&&typeof K.value=="object"?K.value:{}),U=computed(()=>G.value.total||0),[X,Q]=useState(()=>({current:"defaultCurrent"in G.value?G.value.defaultCurrent:1,pageSize:"defaultPageSize"in G.value?G.value.defaultPageSize:DEFAULT_PAGE_SIZE})),Z=computed(()=>{const te=extendsObject(X.value,G.value,{total:U.value>0?U.value:H.value}),oe=Math.ceil((U.value||H.value)/te.pageSize);return te.current>oe&&(te.current=oe||1),te}),ee=(te,oe)=>{K.value!==!1&&Q({current:te??1,pageSize:oe||Z.value.pageSize})},ne=(te,oe)=>{var re,ae;K.value&&((ae=(re=G.value).onChange)===null||ae===void 0||ae.call(re,te,oe)),ee(te,oe),W(te,oe||Z.value.pageSize)};return[computed(()=>K.value===!1?{}:_extends$1(_extends$1({},Z.value),{onChange:ne})),ee]}function useLazyKVMap(H,K,W){const G=shallowRef({});watch([H,K,W],()=>{const X=new Map,Q=W.value,Z=K.value;function ee(ne){ne.forEach((te,oe)=>{const re=Q(te,oe);X.set(re,te),te&&typeof te=="object"&&Z in te&&ee(te[Z]||[])})}ee(H.value),G.value={kvMap:X}},{deep:!0,immediate:!0});function U(X){return G.value.kvMap.get(X)}return[U]}const SELECTION_COLUMN={},SELECTION_ALL="SELECT_ALL",SELECTION_INVERT="SELECT_INVERT",SELECTION_NONE="SELECT_NONE",EMPTY_LIST$1=[];function flattenData(H,K){let W=[];return(K||[]).forEach(G=>{W.push(G),G&&typeof G=="object"&&H in G&&(W=[...W,...flattenData(H,G[H])])}),W}function useSelection(H,K){const W=computed(()=>{const ye=H.value||{},{checkStrictly:be=!0}=ye;return _extends$1(_extends$1({},ye),{checkStrictly:be})}),[G,U]=useMergedState(W.value.selectedRowKeys||W.value.defaultSelectedRowKeys||EMPTY_LIST$1,{value:computed(()=>W.value.selectedRowKeys)}),X=shallowRef(new Map),Q=ye=>{if(W.value.preserveSelectedRowKeys){const be=new Map;ye.forEach(Se=>{let Ce=K.getRecordByKey(Se);!Ce&&X.value.has(Se)&&(Ce=X.value.get(Se)),be.set(Se,Ce)}),X.value=be}};watchEffect(()=>{Q(G.value)});const Z=computed(()=>W.value.checkStrictly?null:convertDataToEntities(K.data.value,{externalGetKey:K.getRowKey.value,childrenPropName:K.childrenColumnName.value}).keyEntities),ee=computed(()=>flattenData(K.childrenColumnName.value,K.pageData.value)),ne=computed(()=>{const ye=new Map,be=K.getRowKey.value,Se=W.value.getCheckboxProps;return ee.value.forEach((Ce,xe)=>{const Ne=be(Ce,xe),$e=(Se?Se(Ce):null)||{};ye.set(Ne,$e)}),ye}),{maxLevel:te,levelEntities:oe}=useMaxLevel(Z),re=ye=>{var be;return!!(!((be=ne.value.get(K.getRowKey.value(ye)))===null||be===void 0)&&be.disabled)},ae=computed(()=>{if(W.value.checkStrictly)return[G.value||[],[]];const{checkedKeys:ye,halfCheckedKeys:be}=conductCheck(G.value,!0,Z.value,te.value,oe.value,re);return[ye||[],be]}),se=computed(()=>ae.value[0]),ce=computed(()=>ae.value[1]),de=computed(()=>{const ye=W.value.type==="radio"?se.value.slice(0,1):se.value;return new Set(ye)}),le=computed(()=>W.value.type==="radio"?new Set:new Set(ce.value)),[fe,pe]=useState(null),me=ye=>{let be,Se;Q(ye);const{preserveSelectedRowKeys:Ce,onChange:xe}=W.value,{getRecordByKey:Ne}=K;Ce?(be=ye,Se=ye.map($e=>X.value.get($e))):(be=[],Se=[],ye.forEach($e=>{const Ee=Ne($e);Ee!==void 0&&(be.push($e),Se.push(Ee))})),U(be),xe?.(be,Se)},ue=(ye,be,Se,Ce)=>{const{onSelect:xe}=W.value,{getRecordByKey:Ne}=K||{};if(xe){const $e=Se.map(Ee=>Ne(Ee));xe(Ne(ye),be,$e,Ce)}me(Se)},ge=computed(()=>{const{onSelectInvert:ye,onSelectNone:be,selections:Se,hideSelectAll:Ce}=W.value,{data:xe,pageData:Ne,getRowKey:$e,locale:Ee}=K;return!Se||Ce?null:(Se===!0?[SELECTION_ALL,SELECTION_INVERT,SELECTION_NONE]:Se).map(Be=>Be===SELECTION_ALL?{key:"all",text:Ee.value.selectionAll,onSelect(){me(xe.value.map((Ae,ze)=>$e.value(Ae,ze)).filter(Ae=>{const ze=ne.value.get(Ae);return!ze?.disabled||de.value.has(Ae)}))}}:Be===SELECTION_INVERT?{key:"invert",text:Ee.value.selectInvert,onSelect(){const Ae=new Set(de.value);Ne.value.forEach((We,Le)=>{const Ze=$e.value(We,Le),Ye=ne.value.get(Ze);Ye?.disabled||(Ae.has(Ze)?Ae.delete(Ze):Ae.add(Ze))});const ze=Array.from(Ae);ye&&(devWarning(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),ye(ze)),me(ze)}}:Be===SELECTION_NONE?{key:"none",text:Ee.value.selectNone,onSelect(){be?.(),me(Array.from(de.value).filter(Ae=>{const ze=ne.value.get(Ae);return ze?.disabled}))}}:Be)}),he=computed(()=>ee.value.length);return[ye=>{var be;const{onSelectAll:Se,onSelectMultiple:Ce,columnWidth:xe,type:Ne,fixed:$e,renderCell:Ee,hideSelectAll:Te,checkStrictly:Be}=W.value,{prefixCls:Ae,getRecordByKey:ze,getRowKey:We,expandType:Le,getPopupContainer:Ze}=K;if(!H.value)return ye.filter(Fe=>Fe!==SELECTION_COLUMN);let Ye=ye.slice();const Re=new Set(de.value),Ke=ee.value.map(We.value).filter(Fe=>!ne.value.get(Fe).disabled),we=Ke.every(Fe=>Re.has(Fe)),_e=Ke.some(Fe=>Re.has(Fe)),Ve=()=>{const Fe=[];we?Ke.forEach(Qe=>{Re.delete(Qe),Fe.push(Qe)}):Ke.forEach(Qe=>{Re.has(Qe)||(Re.add(Qe),Fe.push(Qe))});const Oe=Array.from(Re);Se?.(!we,Oe.map(Qe=>ze(Qe)),Fe.map(Qe=>ze(Qe))),me(Oe)};let je;if(Ne!=="radio"){let Fe;if(ge.value){const ot=createVNode(Menu,{getPopupContainer:Ze.value},{default:()=>[ge.value.map((st,et)=>{const{key:nt,text:it,onSelect:ct}=st;return createVNode(Menu.Item,{key:nt||et,onClick:()=>{ct?.(Ke)}},{default:()=>[it]})})]});Fe=createVNode("div",{class:`${Ae.value}-selection-extra`},[createVNode(Dropdown,{overlay:ot,getPopupContainer:Ze.value},{default:()=>[createVNode("span",null,[createVNode(DownOutlined,null,null)])]})])}const Oe=ee.value.map((ot,st)=>{const et=We.value(ot,st),nt=ne.value.get(et)||{};return _extends$1({checked:Re.has(et)},nt)}).filter(ot=>{let{disabled:st}=ot;return st}),Qe=!!Oe.length&&Oe.length===he.value,Ie=Qe&&Oe.every(ot=>{let{checked:st}=ot;return st}),De=Qe&&Oe.some(ot=>{let{checked:st}=ot;return st});je=!Te&&createVNode("div",{class:`${Ae.value}-selection`},[createVNode(Checkbox,{checked:Qe?Ie:!!he.value&&we,indeterminate:Qe?!Ie&&De:!we&&_e,onChange:Ve,disabled:he.value===0||Qe,"aria-label":Fe?"Custom selection":"Select all",skipGroup:!0},null),Fe])}let qe;Ne==="radio"?qe=Fe=>{let{record:Oe,index:Qe}=Fe;const Ie=We.value(Oe,Qe),De=Re.has(Ie);return{node:createVNode(Radio,_objectSpread2$1(_objectSpread2$1({},ne.value.get(Ie)),{},{checked:De,onClick:ot=>ot.stopPropagation(),onChange:ot=>{Re.has(Ie)||ue(Ie,!0,[Ie],ot.nativeEvent)}}),null),checked:De}}:qe=Fe=>{let{record:Oe,index:Qe}=Fe;var Ie;const De=We.value(Oe,Qe),ot=Re.has(De),st=le.value.has(De),et=ne.value.get(De);let nt;return Le.value==="nest"?(nt=st,devWarning(typeof et?.indeterminate!="boolean","Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):nt=(Ie=et?.indeterminate)!==null&&Ie!==void 0?Ie:st,{node:createVNode(Checkbox,_objectSpread2$1(_objectSpread2$1({},et),{},{indeterminate:nt,checked:ot,skipGroup:!0,onClick:it=>it.stopPropagation(),onChange:it=>{let{nativeEvent:ct}=it;const{shiftKey:pt}=ct;let ht=-1,Ge=-1;if(pt&&Be){const Xe=new Set([fe.value,De]);Ke.some((rt,at)=>{if(Xe.has(rt))if(ht===-1)ht=at;else return Ge=at,!0;return!1})}if(Ge!==-1&&ht!==Ge&&Be){const Xe=Ke.slice(ht,Ge+1),rt=[];ot?Xe.forEach(lt=>{Re.has(lt)&&(rt.push(lt),Re.delete(lt))}):Xe.forEach(lt=>{Re.has(lt)||(rt.push(lt),Re.add(lt))});const at=Array.from(Re);Ce?.(!ot,at.map(lt=>ze(lt)),rt.map(lt=>ze(lt))),me(at)}else{const Xe=se.value;if(Be){const rt=ot?arrDel(Xe,De):arrAdd(Xe,De);ue(De,!ot,rt,ct)}else{const rt=conductCheck([...Xe,De],!0,Z.value,te.value,oe.value,re),{checkedKeys:at,halfCheckedKeys:lt}=rt;let dt=at;if(ot){const ft=new Set(at);ft.delete(De),dt=conductCheck(Array.from(ft),{halfCheckedKeys:lt},Z.value,te.value,oe.value,re).checkedKeys}ue(De,!ot,dt,ct)}}pe(De)}}),null),checked:ot}};const Pe=Fe=>{let{record:Oe,index:Qe}=Fe;const{node:Ie,checked:De}=qe({record:Oe,index:Qe});return Ee?Ee(De,Oe,Qe,Ie):Ie};if(!Ye.includes(SELECTION_COLUMN))if(Ye.findIndex(Fe=>{var Oe;return((Oe=Fe[INTERNAL_COL_DEFINE])===null||Oe===void 0?void 0:Oe.columnType)==="EXPAND_COLUMN"})===0){const[Fe,...Oe]=Ye;Ye=[Fe,SELECTION_COLUMN,...Oe]}else Ye=[SELECTION_COLUMN,...Ye];const ke=Ye.indexOf(SELECTION_COLUMN);Ye=Ye.filter((Fe,Oe)=>Fe!==SELECTION_COLUMN||Oe===ke);const Ue=Ye[ke-1],He=Ye[ke+1];let Me=$e;Me===void 0&&(He?.fixed!==void 0?Me=He.fixed:Ue?.fixed!==void 0&&(Me=Ue.fixed)),Me&&Ue&&((be=Ue[INTERNAL_COL_DEFINE])===null||be===void 0?void 0:be.columnType)==="EXPAND_COLUMN"&&Ue.fixed===void 0&&(Ue.fixed=Me);const Je={fixed:Me,width:xe,className:`${Ae.value}-selection-column`,title:W.value.columnTitle||je,customRender:Pe,[INTERNAL_COL_DEFINE]:{class:`${Ae.value}-selection-col`}};return Ye.map(Fe=>Fe===SELECTION_COLUMN?Je:Fe)},de]}var CaretDownOutlined$1={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"};function _objectSpread$o(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$o(H,U,W[U])})}return H}function _defineProperty$o(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var CaretDownOutlined=function(K,W){var G=_objectSpread$o({},K,W.attrs);return createVNode(Icon,_objectSpread$o({},G,{icon:CaretDownOutlined$1}),null)};CaretDownOutlined.displayName="CaretDownOutlined";CaretDownOutlined.inheritAttrs=!1;var CaretUpOutlined$1={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"};function _objectSpread$n(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$n(H,U,W[U])})}return H}function _defineProperty$n(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var CaretUpOutlined=function(K,W){var G=_objectSpread$n({},K,W.attrs);return createVNode(Icon,_objectSpread$n({},G,{icon:CaretUpOutlined$1}),null)};CaretUpOutlined.displayName="CaretUpOutlined";CaretUpOutlined.inheritAttrs=!1;var __rest$3=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};function getColumnKey(H,K){return"key"in H&&H.key!==void 0&&H.key!==null?H.key:H.dataIndex?Array.isArray(H.dataIndex)?H.dataIndex.join("."):H.dataIndex:K}function getColumnPos(H,K){return K?`${K}-${H}`:`${H}`}function renderColumnTitle(H,K){return typeof H=="function"?H(K):H}function convertChildrenToColumns(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const K=flattenChildren(H),W=[];return K.forEach(G=>{var U,X,Q,Z;if(!G)return;const ee=G.key,ne=((U=G.props)===null||U===void 0?void 0:U.style)||{},te=((X=G.props)===null||X===void 0?void 0:X.class)||"",oe=G.props||{};for(const[de,le]of Object.entries(oe))oe[camelize(de)]=le;const re=G.children||{},{default:ae}=re,se=__rest$3(re,["default"]),ce=_extends$1(_extends$1(_extends$1({},se),oe),{style:ne,class:te});if(ee&&(ce.key=ee),!((Q=G.type)===null||Q===void 0)&&Q.__ANT_TABLE_COLUMN_GROUP)ce.children=convertChildrenToColumns(typeof ae=="function"?ae():ae);else{const de=(Z=G.children)===null||Z===void 0?void 0:Z.default;ce.customRender=ce.customRender||de}W.push(ce)}),W}const ASCEND="ascend",DESCEND="descend";function getMultiplePriority(H){return typeof H.sorter=="object"&&typeof H.sorter.multiple=="number"?H.sorter.multiple:!1}function getSortFunction(H){return typeof H=="function"?H:H&&typeof H=="object"&&H.compare?H.compare:!1}function nextSortDirection(H,K){return K?H[H.indexOf(K)+1]:H[0]}function collectSortStates(H,K,W){let G=[];function U(X,Q){G.push({column:X,key:getColumnKey(X,Q),multiplePriority:getMultiplePriority(X),sortOrder:X.sortOrder})}return(H||[]).forEach((X,Q)=>{const Z=getColumnPos(Q,W);X.children?("sortOrder"in X&&U(X,Z),G=[...G,...collectSortStates(X.children,K,Z)]):X.sorter&&("sortOrder"in X?U(X,Z):K&&X.defaultSortOrder&&G.push({column:X,key:getColumnKey(X,Z),multiplePriority:getMultiplePriority(X),sortOrder:X.defaultSortOrder}))}),G}function injectSorter(H,K,W,G,U,X,Q,Z){return(K||[]).map((ee,ne)=>{const te=getColumnPos(ne,Z);let oe=ee;if(oe.sorter){const re=oe.sortDirections||U,ae=oe.showSorterTooltip===void 0?Q:oe.showSorterTooltip,se=getColumnKey(oe,te),ce=W.find(ye=>{let{key:be}=ye;return be===se}),de=ce?ce.sortOrder:null,le=nextSortDirection(re,de),fe=re.includes(ASCEND)&&createVNode(CaretUpOutlined,{class:classNames(`${H}-column-sorter-up`,{active:de===ASCEND}),role:"presentation"},null),pe=re.includes(DESCEND)&&createVNode(CaretDownOutlined,{role:"presentation",class:classNames(`${H}-column-sorter-down`,{active:de===DESCEND})},null),{cancelSort:me,triggerAsc:ue,triggerDesc:ge}=X||{};let he=me;le===DESCEND?he=ge:le===ASCEND&&(he=ue);const ve=typeof ae=="object"?ae:{title:he};oe=_extends$1(_extends$1({},oe),{className:classNames(oe.className,{[`${H}-column-sort`]:de}),title:ye=>{const be=createVNode("div",{class:`${H}-column-sorters`},[createVNode("span",{class:`${H}-column-title`},[renderColumnTitle(ee.title,ye)]),createVNode("span",{class:classNames(`${H}-column-sorter`,{[`${H}-column-sorter-full`]:!!(fe&&pe)})},[createVNode("span",{class:`${H}-column-sorter-inner`},[fe,pe])])]);return ae?createVNode(__unplugin_components_3$3,ve,{default:()=>[be]}):be},customHeaderCell:ye=>{const be=ee.customHeaderCell&&ee.customHeaderCell(ye)||{},Se=be.onClick,Ce=be.onKeydown;return be.onClick=xe=>{G({column:ee,key:se,sortOrder:le,multiplePriority:getMultiplePriority(ee)}),Se&&Se(xe)},be.onKeydown=xe=>{xe.keyCode===KeyCode.ENTER&&(G({column:ee,key:se,sortOrder:le,multiplePriority:getMultiplePriority(ee)}),Ce?.(xe))},de&&(be["aria-sort"]=de==="ascend"?"ascending":"descending"),be.class=classNames(be.class,`${H}-column-has-sorters`),be.tabindex=0,be}})}return"children"in oe&&(oe=_extends$1(_extends$1({},oe),{children:injectSorter(H,oe.children,W,G,U,X,Q,te)})),oe})}function stateToInfo(H){const{column:K,sortOrder:W}=H;return{column:K,order:W,field:K.dataIndex,columnKey:K.key}}function generateSorterInfo(H){const K=H.filter(W=>{let{sortOrder:G}=W;return G}).map(stateToInfo);return K.length===0&&H.length?_extends$1(_extends$1({},stateToInfo(H[H.length-1])),{column:void 0}):K.length<=1?K[0]||{}:K}function getSortData(H,K,W){const G=K.slice().sort((Q,Z)=>Z.multiplePriority-Q.multiplePriority),U=H.slice(),X=G.filter(Q=>{let{column:{sorter:Z},sortOrder:ee}=Q;return getSortFunction(Z)&&ee});return X.length?U.sort((Q,Z)=>{for(let ee=0;ee<X.length;ee+=1){const ne=X[ee],{column:{sorter:te},sortOrder:oe}=ne,re=getSortFunction(te);if(re&&oe){const ae=re(Q,Z,oe);if(ae!==0)return oe===ASCEND?ae:-ae}}return 0}).map(Q=>{const Z=Q[W];return Z?_extends$1(_extends$1({},Q),{[W]:getSortData(Z,K,W)}):Q}):U}function useFilterSorter(H){let{prefixCls:K,mergedColumns:W,onSorterChange:G,sortDirections:U,tableLocale:X,showSorterTooltip:Q}=H;const[Z,ee]=useState(collectSortStates(W.value,!0)),ne=computed(()=>{let se=!0;const ce=collectSortStates(W.value,!1);if(!ce.length)return Z.value;const de=[];function le(pe){se?de.push(pe):de.push(_extends$1(_extends$1({},pe),{sortOrder:null}))}let fe=null;return ce.forEach(pe=>{fe===null?(le(pe),pe.sortOrder&&(pe.multiplePriority===!1?se=!1:fe=!0)):(fe&&pe.multiplePriority!==!1||(se=!1),le(pe))}),de}),te=computed(()=>{const se=ne.value.map(ce=>{let{column:de,sortOrder:le}=ce;return{column:de,order:le}});return{sortColumns:se,sortColumn:se[0]&&se[0].column,sortOrder:se[0]&&se[0].order}});function oe(se){let ce;se.multiplePriority===!1||!ne.value.length||ne.value[0].multiplePriority===!1?ce=[se]:ce=[...ne.value.filter(de=>{let{key:le}=de;return le!==se.key}),se],ee(ce),G(generateSorterInfo(ce),ce)}const re=se=>injectSorter(K.value,se,ne.value,oe,U.value,X.value,Q.value),ae=computed(()=>generateSorterInfo(ne.value));return[re,ne,te,ae]}var FilterFilled$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"};function _objectSpread$m(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$m(H,U,W[U])})}return H}function _defineProperty$m(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var FilterFilled=function(K,W){var G=_objectSpread$m({},K,W.attrs);return createVNode(Icon,_objectSpread$m({},G,{icon:FilterFilled$1}),null)};FilterFilled.displayName="FilterFilled";FilterFilled.inheritAttrs=!1;const onKeyDown=H=>{const{keyCode:K}=H;K===KeyCode.ENTER&&H.stopPropagation()},FilterDropdownMenuWrapper=(H,K)=>{let{slots:W}=K;var G;return createVNode("div",{onClick:U=>U.stopPropagation(),onKeydown:onKeyDown},[(G=W.default)===null||G===void 0?void 0:G.call(W)])},FilterSearch=defineComponent({compatConfig:{MODE:3},name:"FilterSearch",inheritAttrs:!1,props:{value:stringType(),onChange:functionType(),filterSearch:someType([Boolean,Function]),tablePrefixCls:stringType(),locale:objectType()},setup(H){return()=>{const{value:K,onChange:W,filterSearch:G,tablePrefixCls:U,locale:X}=H;return G?createVNode("div",{class:`${U}-filter-dropdown-search`},[createVNode(Input,{placeholder:X.filterSearchPlaceholder,onChange:W,value:K,htmlSize:1,class:`${U}-filter-dropdown-search-input`},{prefix:()=>createVNode(SearchOutlined,null,null)})]):null}}});var __rest$2=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const MotionTreeNode=defineComponent({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:_extends$1(_extends$1({},treeNodeProps),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),setup(H,K){let{attrs:W,slots:G}=K;const U=shallowRef(!0),X=useInjectTreeContext(),Q=shallowRef(!1),Z=computed(()=>H.motion?H.motion:collapseMotion()),ee=(ne,te)=>{var oe,re,ae,se;te==="appear"?(re=(oe=Z.value)===null||oe===void 0?void 0:oe.onAfterEnter)===null||re===void 0||re.call(oe,ne):te==="leave"&&((se=(ae=Z.value)===null||ae===void 0?void 0:ae.onAfterLeave)===null||se===void 0||se.call(ae,ne)),Q.value||H.onMotionEnd(),Q.value=!0};return watch(()=>H.motionNodes,()=>{H.motionNodes&&H.motionType==="hide"&&U.value&&nextTick(()=>{U.value=!1})},{immediate:!0,flush:"post"}),onMounted(()=>{H.motionNodes&&H.onMotionStart()}),onBeforeUnmount(()=>{H.motionNodes&&ee()}),()=>{const{motion:ne,motionNodes:te,motionType:oe,active:re,eventKey:ae}=H,se=__rest$2(H,["motion","motionNodes","motionType","active","eventKey"]);return te?createVNode(Transition,_objectSpread2$1(_objectSpread2$1({},Z.value),{},{appear:oe==="show",onAfterAppear:ce=>ee(ce,"appear"),onAfterLeave:ce=>ee(ce,"leave")}),{default:()=>[withDirectives(createVNode("div",{class:`${X.value.prefixCls}-treenode-motion`},[te.map(ce=>{const de=__rest$2(ce.data,[]),{title:le,key:fe,isStart:pe,isEnd:me}=ce;return delete de.children,createVNode(VcTreeNode,_objectSpread2$1(_objectSpread2$1({},de),{},{title:le,active:re,data:ce.data,key:fe,eventKey:fe,isStart:pe,isEnd:me}),G)})]),[[vShow,U.value]])]}):createVNode(VcTreeNode,_objectSpread2$1(_objectSpread2$1({class:W.class,style:W.style},se),{},{active:re,eventKey:ae}),G)}}});function findExpandedKeys(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const W=H.length,G=K.length;if(Math.abs(W-G)!==1)return{add:!1,key:null};function U(X,Q){const Z=new Map;X.forEach(ne=>{Z.set(ne,!0)});const ee=Q.filter(ne=>!Z.has(ne));return ee.length===1?ee[0]:null}return W<G?{add:!0,key:U(H,K)}:{add:!1,key:U(K,H)}}function getExpandRange(H,K,W){const G=H.findIndex(Q=>Q.key===W),U=H[G+1],X=K.findIndex(Q=>Q.key===W);if(U){const Q=K.findIndex(Z=>Z.key===U.key);return K.slice(X+1,Q)}return K.slice(X+1)}var __rest$1=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const HIDDEN_STYLE={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},noop$1=()=>{},MOTION_KEY=`RC_TREE_MOTION_${Math.random()}`,MotionNode={key:MOTION_KEY},MotionEntity={key:MOTION_KEY,level:0,index:0,pos:"0",node:MotionNode,nodes:[MotionNode]},MotionFlattenData={parent:null,children:[],pos:MotionEntity.pos,data:MotionNode,title:null,key:MOTION_KEY,isStart:[],isEnd:[]};function getMinimumRangeTransitionRange(H,K,W,G){return K===!1||!W?H:H.slice(0,Math.ceil(W/G)+1)}function itemKey(H){const{key:K,pos:W}=H;return getKey(K,W)}function getAccessibilityPath(H){let K=String(H.key),W=H;for(;W.parent;)W=W.parent,K=`${W.key} > ${K}`;return K}const NodeList=defineComponent({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:nodeListProps,setup(H,K){let{expose:W,attrs:G}=K;const U=ref(),X=ref(),{expandedKeys:Q,flattenNodes:Z}=useInjectKeysState();W({scrollTo:ce=>{U.value.scrollTo(ce)},getIndentWidth:()=>X.value.offsetWidth});const ee=shallowRef(Z.value),ne=shallowRef([]),te=ref(null);function oe(){ee.value=Z.value,ne.value=[],te.value=null,H.onListChangeEnd()}const re=useInjectTreeContext();watch([()=>Q.value.slice(),Z],(ce,de)=>{let[le,fe]=ce,[pe,me]=de;const ue=findExpandedKeys(pe,le);if(ue.key!==null){const{virtual:ge,height:he,itemHeight:ve}=H;if(ue.add){const ye=me.findIndex(Ce=>{let{key:xe}=Ce;return xe===ue.key}),be=getMinimumRangeTransitionRange(getExpandRange(me,fe,ue.key),ge,he,ve),Se=me.slice();Se.splice(ye+1,0,MotionFlattenData),ee.value=Se,ne.value=be,te.value="show"}else{const ye=fe.findIndex(Ce=>{let{key:xe}=Ce;return xe===ue.key}),be=getMinimumRangeTransitionRange(getExpandRange(fe,me,ue.key),ge,he,ve),Se=fe.slice();Se.splice(ye+1,0,MotionFlattenData),ee.value=Se,ne.value=be,te.value="hide"}}else me!==fe&&(ee.value=fe)}),watch(()=>re.value.dragging,ce=>{ce||oe()});const ae=computed(()=>H.motion===void 0?ee.value:Z.value),se=()=>{H.onActiveChange(null)};return()=>{const ce=_extends$1(_extends$1({},H),G),{prefixCls:de,selectable:le,checkable:fe,disabled:pe,motion:me,height:ue,itemHeight:ge,virtual:he,focusable:ve,activeItem:ye,focused:be,tabindex:Se,onKeydown:Ce,onFocus:xe,onBlur:Ne,onListChangeStart:$e,onListChangeEnd:Ee}=ce,Te=__rest$1(ce,["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"]);return createVNode(Fragment,null,[be&&ye&&createVNode("span",{style:HIDDEN_STYLE,"aria-live":"assertive"},[getAccessibilityPath(ye)]),createVNode("div",null,[createVNode("input",{style:HIDDEN_STYLE,disabled:ve===!1||pe,tabindex:ve!==!1?Se:null,onKeydown:Ce,onFocus:xe,onBlur:Ne,value:"",onChange:noop$1,"aria-label":"for screen reader"},null)]),createVNode("div",{class:`${de}-treenode`,"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[createVNode("div",{class:`${de}-indent`},[createVNode("div",{ref:X,class:`${de}-indent-unit`},null)])]),createVNode(List$1,_objectSpread2$1(_objectSpread2$1({},omit$1(Te,["onActiveChange"])),{},{data:ae.value,itemKey,height:ue,fullHeight:!1,virtual:he,itemHeight:ge,prefixCls:`${de}-list`,ref:U,onVisibleChange:(Be,Ae)=>{const ze=new Set(Be);Ae.filter(Le=>!ze.has(Le)).some(Le=>itemKey(Le)===MOTION_KEY)&&oe()}}),{default:Be=>{const{pos:Ae}=Be,ze=__rest$1(Be.data,[]),{title:We,key:Le,isStart:Ze,isEnd:Ye}=Be,Re=getKey(Le,Ae);return delete ze.key,delete ze.children,createVNode(MotionTreeNode,_objectSpread2$1(_objectSpread2$1({},ze),{},{eventKey:Re,title:We,active:!!ye&&Le===ye.key,data:Be.data,isStart:Ze,isEnd:Ye,motion:me,motionNodes:Le===MOTION_KEY?ne.value:null,motionType:te.value,onMotionStart:$e,onMotionEnd:oe,onMousemove:se}),null)}})])}}});function DropIndicator(H){let{dropPosition:K,dropLevelOffset:W,indent:G}=H;const U={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"2px"};switch(K){case-1:U.top=0,U.left=`${-W*G}px`;break;case 1:U.bottom=0,U.left=`${-W*G}px`;break;case 0:U.bottom=0,U.left=`${G}`;break}return createVNode("div",{style:U},null)}const MAX_RETRY_TIMES=10,Tree$2=defineComponent({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,props:initDefaultProps(treeProps$1(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,expandAction:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:DropIndicator,allowDrop:()=>!0}),setup(H,K){let{attrs:W,slots:G,expose:U}=K;const X=shallowRef(!1);let Q={};const Z=shallowRef(),ee=shallowRef([]),ne=shallowRef([]),te=shallowRef([]),oe=shallowRef([]),re=shallowRef([]),ae=shallowRef([]),se={},ce=reactive({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),de=shallowRef([]);watch([()=>H.treeData,()=>H.children],()=>{de.value=H.treeData!==void 0?H.treeData.slice():convertTreeToData(toRaw(H.children))},{immediate:!0,deep:!0});const le=shallowRef({}),fe=shallowRef(!1),pe=shallowRef(null),me=shallowRef(!1),ue=computed(()=>fillFieldNames(H.fieldNames)),ge=shallowRef();let he=null,ve=null,ye=null;const be=computed(()=>({expandedKeysSet:Se.value,selectedKeysSet:Ce.value,loadedKeysSet:xe.value,loadingKeysSet:Ne.value,checkedKeysSet:$e.value,halfCheckedKeysSet:Ee.value,dragOverNodeKey:ce.dragOverNodeKey,dropPosition:ce.dropPosition,keyEntities:le.value})),Se=computed(()=>new Set(ae.value)),Ce=computed(()=>new Set(ee.value)),xe=computed(()=>new Set(oe.value)),Ne=computed(()=>new Set(re.value)),$e=computed(()=>new Set(ne.value)),Ee=computed(()=>new Set(te.value));watchEffect(()=>{if(de.value){const Ge=convertDataToEntities(de.value,{fieldNames:ue.value});le.value=_extends$1({[MOTION_KEY]:MotionEntity},Ge.keyEntities)}});let Te=!1;watch([()=>H.expandedKeys,()=>H.autoExpandParent,le],(Ge,Xe)=>{let[rt,at]=Ge,[lt,dt]=Xe,ft=ae.value;if(H.expandedKeys!==void 0||Te&&at!==dt)ft=H.autoExpandParent||!Te&&H.defaultExpandParent?conductExpandParent(H.expandedKeys,le.value):H.expandedKeys;else if(!Te&&H.defaultExpandAll){const gt=_extends$1({},le.value);delete gt[MOTION_KEY],ft=Object.keys(gt).map(ut=>gt[ut].key)}else!Te&&H.defaultExpandedKeys&&(ft=H.autoExpandParent||H.defaultExpandParent?conductExpandParent(H.defaultExpandedKeys,le.value):H.defaultExpandedKeys);ft&&(ae.value=ft),Te=!0},{immediate:!0});const Be=shallowRef([]);watchEffect(()=>{Be.value=flattenTreeData(de.value,ae.value,ue.value)}),watchEffect(()=>{H.selectable&&(H.selectedKeys!==void 0?ee.value=calcSelectedKeys(H.selectedKeys,H):!Te&&H.defaultSelectedKeys&&(ee.value=calcSelectedKeys(H.defaultSelectedKeys,H)))});const{maxLevel:Ae,levelEntities:ze}=useMaxLevel(le);watchEffect(()=>{if(H.checkable){let Ge;if(H.checkedKeys!==void 0?Ge=parseCheckedKeys(H.checkedKeys)||{}:!Te&&H.defaultCheckedKeys?Ge=parseCheckedKeys(H.defaultCheckedKeys)||{}:de.value&&(Ge=parseCheckedKeys(H.checkedKeys)||{checkedKeys:ne.value,halfCheckedKeys:te.value}),Ge){let{checkedKeys:Xe=[],halfCheckedKeys:rt=[]}=Ge;H.checkStrictly||({checkedKeys:Xe,halfCheckedKeys:rt}=conductCheck(Xe,!0,le.value,Ae.value,ze.value)),ne.value=Xe,te.value=rt}}}),watchEffect(()=>{H.loadedKeys&&(oe.value=H.loadedKeys)});const We=()=>{_extends$1(ce,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},Le=Ge=>{ge.value.scrollTo(Ge)};watch(()=>H.activeKey,()=>{H.activeKey!==void 0&&(pe.value=H.activeKey)},{immediate:!0}),watch(pe,Ge=>{nextTick(()=>{Ge!==null&&Le({key:Ge})})},{immediate:!0,flush:"post"});const Ze=Ge=>{H.expandedKeys===void 0&&(ae.value=Ge)},Ye=()=>{ce.draggingNodeKey!==null&&_extends$1(ce,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),he=null,ye=null},Re=(Ge,Xe)=>{const{onDragend:rt}=H;ce.dragOverNodeKey=null,Ye(),rt?.({event:Ge,node:Xe.eventData}),ve=null},Ke=Ge=>{Re(Ge,null),window.removeEventListener("dragend",Ke)},we=(Ge,Xe)=>{const{onDragstart:rt}=H,{eventKey:at,eventData:lt}=Xe;ve=Xe,he={x:Ge.clientX,y:Ge.clientY};const dt=arrDel(ae.value,at);ce.draggingNodeKey=at,ce.dragChildrenKeys=getDragChildrenKeys(at,le.value),Z.value=ge.value.getIndentWidth(),Ze(dt),window.addEventListener("dragend",Ke),rt&&rt({event:Ge,node:lt})},_e=(Ge,Xe)=>{const{onDragenter:rt,onExpand:at,allowDrop:lt,direction:dt}=H,{pos:ft,eventKey:gt}=Xe;if(ye!==gt&&(ye=gt),!ve){We();return}const{dropPosition:ut,dropLevelOffset:mt,dropTargetKey:vt,dropContainerKey:yt,dropTargetPos:bt,dropAllowed:St,dragOverNodeKey:$t}=calcDropPosition(Ge,ve,Xe,Z.value,he,lt,Be.value,le.value,Se.value,dt);if(ce.dragChildrenKeys.indexOf(vt)!==-1||!St){We();return}if(Q||(Q={}),Object.keys(Q).forEach(xt=>{clearTimeout(Q[xt])}),ve.eventKey!==Xe.eventKey&&(Q[ft]=window.setTimeout(()=>{if(ce.draggingNodeKey===null)return;let xt=ae.value.slice();const Ct=le.value[Xe.eventKey];Ct&&(Ct.children||[]).length&&(xt=arrAdd(ae.value,Xe.eventKey)),Ze(xt),at&&at(xt,{node:Xe.eventData,expanded:!0,nativeEvent:Ge})},800)),ve.eventKey===vt&&mt===0){We();return}_extends$1(ce,{dragOverNodeKey:$t,dropPosition:ut,dropLevelOffset:mt,dropTargetKey:vt,dropContainerKey:yt,dropTargetPos:bt,dropAllowed:St}),rt&&rt({event:Ge,node:Xe.eventData,expandedKeys:ae.value})},Ve=(Ge,Xe)=>{const{onDragover:rt,allowDrop:at,direction:lt}=H;if(!ve)return;const{dropPosition:dt,dropLevelOffset:ft,dropTargetKey:gt,dropContainerKey:ut,dropAllowed:mt,dropTargetPos:vt,dragOverNodeKey:yt}=calcDropPosition(Ge,ve,Xe,Z.value,he,at,Be.value,le.value,Se.value,lt);ce.dragChildrenKeys.indexOf(gt)!==-1||!mt||(ve.eventKey===gt&&ft===0?ce.dropPosition===null&&ce.dropLevelOffset===null&&ce.dropTargetKey===null&&ce.dropContainerKey===null&&ce.dropTargetPos===null&&ce.dropAllowed===!1&&ce.dragOverNodeKey===null||We():dt===ce.dropPosition&&ft===ce.dropLevelOffset&&gt===ce.dropTargetKey&&ut===ce.dropContainerKey&&vt===ce.dropTargetPos&&mt===ce.dropAllowed&&yt===ce.dragOverNodeKey||_extends$1(ce,{dropPosition:dt,dropLevelOffset:ft,dropTargetKey:gt,dropContainerKey:ut,dropTargetPos:vt,dropAllowed:mt,dragOverNodeKey:yt}),rt&&rt({event:Ge,node:Xe.eventData}))},je=(Ge,Xe)=>{ye===Xe.eventKey&&!Ge.currentTarget.contains(Ge.relatedTarget)&&(We(),ye=null);const{onDragleave:rt}=H;rt&&rt({event:Ge,node:Xe.eventData})},qe=function(Ge,Xe){let rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var at;const{dragChildrenKeys:lt,dropPosition:dt,dropTargetKey:ft,dropTargetPos:gt,dropAllowed:ut}=ce;if(!ut)return;const{onDrop:mt}=H;if(ce.dragOverNodeKey=null,Ye(),ft===null)return;const vt=_extends$1(_extends$1({},getTreeNodeProps(ft,toRaw(be.value))),{active:((at=it.value)===null||at===void 0?void 0:at.key)===ft,data:le.value[ft].node});lt.indexOf(ft);const yt=posToArr(gt),bt={event:Ge,node:convertNodePropsToEventData(vt),dragNode:ve?ve.eventData:null,dragNodesKeys:[ve.eventKey].concat(lt),dropToGap:dt!==0,dropPosition:dt+Number(yt[yt.length-1])};rt||mt?.(bt),ve=null},Pe=(Ge,Xe)=>{const{expanded:rt,key:at}=Xe,lt=Be.value.filter(ft=>ft.key===at)[0],dt=convertNodePropsToEventData(_extends$1(_extends$1({},getTreeNodeProps(at,be.value)),{data:lt.data}));Ze(rt?arrDel(ae.value,at):arrAdd(ae.value,at)),ot(Ge,dt)},ke=(Ge,Xe)=>{const{onClick:rt,expandAction:at}=H;at==="click"&&Pe(Ge,Xe),rt&&rt(Ge,Xe)},Ue=(Ge,Xe)=>{const{onDblclick:rt,expandAction:at}=H;(at==="doubleclick"||at==="dblclick")&&Pe(Ge,Xe),rt&&rt(Ge,Xe)},He=(Ge,Xe)=>{let rt=ee.value;const{onSelect:at,multiple:lt}=H,{selected:dt}=Xe,ft=Xe[ue.value.key],gt=!dt;gt?lt?rt=arrAdd(rt,ft):rt=[ft]:rt=arrDel(rt,ft);const ut=le.value,mt=rt.map(vt=>{const yt=ut[vt];return yt?yt.node:null}).filter(vt=>vt);H.selectedKeys===void 0&&(ee.value=rt),at&&at(rt,{event:"select",selected:gt,node:Xe,selectedNodes:mt,nativeEvent:Ge})},Me=(Ge,Xe,rt)=>{const{checkStrictly:at,onCheck:lt}=H,dt=Xe[ue.value.key];let ft;const gt={event:"check",node:Xe,checked:rt,nativeEvent:Ge},ut=le.value;if(at){const mt=rt?arrAdd(ne.value,dt):arrDel(ne.value,dt),vt=arrDel(te.value,dt);ft={checked:mt,halfChecked:vt},gt.checkedNodes=mt.map(yt=>ut[yt]).filter(yt=>yt).map(yt=>yt.node),H.checkedKeys===void 0&&(ne.value=mt)}else{let{checkedKeys:mt,halfCheckedKeys:vt}=conductCheck([...ne.value,dt],!0,ut,Ae.value,ze.value);if(!rt){const yt=new Set(mt);yt.delete(dt),{checkedKeys:mt,halfCheckedKeys:vt}=conductCheck(Array.from(yt),{halfCheckedKeys:vt},ut,Ae.value,ze.value)}ft=mt,gt.checkedNodes=[],gt.checkedNodesPositions=[],gt.halfCheckedKeys=vt,mt.forEach(yt=>{const bt=ut[yt];if(!bt)return;const{node:St,pos:$t}=bt;gt.checkedNodes.push(St),gt.checkedNodesPositions.push({node:St,pos:$t})}),H.checkedKeys===void 0&&(ne.value=mt,te.value=vt)}lt&&lt(ft,gt)},Je=Ge=>{const Xe=Ge[ue.value.key],rt=new Promise((at,lt)=>{const{loadData:dt,onLoad:ft}=H;if(!dt||xe.value.has(Xe)||Ne.value.has(Xe))return null;dt(Ge).then(()=>{const ut=arrAdd(oe.value,Xe),mt=arrDel(re.value,Xe);ft&&ft(ut,{event:"load",node:Ge}),H.loadedKeys===void 0&&(oe.value=ut),re.value=mt,at()}).catch(ut=>{const mt=arrDel(re.value,Xe);if(re.value=mt,se[Xe]=(se[Xe]||0)+1,se[Xe]>=MAX_RETRY_TIMES){const vt=arrAdd(oe.value,Xe);H.loadedKeys===void 0&&(oe.value=vt),at()}lt(ut)}),re.value=arrAdd(re.value,Xe)});return rt.catch(()=>{}),rt},Fe=(Ge,Xe)=>{const{onMouseenter:rt}=H;rt&&rt({event:Ge,node:Xe})},Oe=(Ge,Xe)=>{const{onMouseleave:rt}=H;rt&&rt({event:Ge,node:Xe})},Qe=(Ge,Xe)=>{const{onRightClick:rt}=H;rt&&(Ge.preventDefault(),rt({event:Ge,node:Xe}))},Ie=Ge=>{const{onFocus:Xe}=H;fe.value=!0,Xe&&Xe(Ge)},De=Ge=>{const{onBlur:Xe}=H;fe.value=!1,nt(null),Xe&&Xe(Ge)},ot=(Ge,Xe)=>{let rt=ae.value;const{onExpand:at,loadData:lt}=H,{expanded:dt}=Xe,ft=Xe[ue.value.key];if(me.value)return;rt.indexOf(ft);const gt=!dt;if(gt?rt=arrAdd(rt,ft):rt=arrDel(rt,ft),Ze(rt),at&&at(rt,{node:Xe,expanded:gt,nativeEvent:Ge}),gt&&lt){const ut=Je(Xe);ut&&ut.then(()=>{}).catch(mt=>{const vt=arrDel(ae.value,ft);Ze(vt),Promise.reject(mt)})}},st=()=>{me.value=!0},et=()=>{setTimeout(()=>{me.value=!1})},nt=Ge=>{const{onActiveChange:Xe}=H;pe.value!==Ge&&(H.activeKey!==void 0&&(pe.value=Ge),Ge!==null&&Le({key:Ge}),Xe&&Xe(Ge))},it=computed(()=>pe.value===null?null:Be.value.find(Ge=>{let{key:Xe}=Ge;return Xe===pe.value})||null),ct=Ge=>{let Xe=Be.value.findIndex(at=>{let{key:lt}=at;return lt===pe.value});Xe===-1&&Ge<0&&(Xe=Be.value.length),Xe=(Xe+Ge+Be.value.length)%Be.value.length;const rt=Be.value[Xe];if(rt){const{key:at}=rt;nt(at)}else nt(null)},pt=computed(()=>convertNodePropsToEventData(_extends$1(_extends$1({},getTreeNodeProps(pe.value,be.value)),{data:it.value.data,active:!0}))),ht=Ge=>{const{onKeydown:Xe,checkable:rt,selectable:at}=H;switch(Ge.which){case KeyCode.UP:{ct(-1),Ge.preventDefault();break}case KeyCode.DOWN:{ct(1),Ge.preventDefault();break}}const lt=it.value;if(lt&&lt.data){const dt=lt.data.isLeaf===!1||!!(lt.data.children||[]).length,ft=pt.value;switch(Ge.which){case KeyCode.LEFT:{dt&&Se.value.has(pe.value)?ot({},ft):lt.parent&&nt(lt.parent.key),Ge.preventDefault();break}case KeyCode.RIGHT:{dt&&!Se.value.has(pe.value)?ot({},ft):lt.children&&lt.children.length&&nt(lt.children[0].key),Ge.preventDefault();break}case KeyCode.ENTER:case KeyCode.SPACE:{rt&&!ft.disabled&&ft.checkable!==!1&&!ft.disableCheckbox?Me({},ft,!$e.value.has(pe.value)):!rt&&at&&!ft.disabled&&ft.selectable!==!1&&He({},ft);break}}}Xe&&Xe(Ge)};return U({onNodeExpand:ot,scrollTo:Le,onKeydown:ht,selectedKeys:computed(()=>ee.value),checkedKeys:computed(()=>ne.value),halfCheckedKeys:computed(()=>te.value),loadedKeys:computed(()=>oe.value),loadingKeys:computed(()=>re.value),expandedKeys:computed(()=>ae.value)}),onUnmounted(()=>{window.removeEventListener("dragend",Ke),X.value=!0}),useProvideKeysState({expandedKeys:ae,selectedKeys:ee,loadedKeys:oe,loadingKeys:re,checkedKeys:ne,halfCheckedKeys:te,expandedKeysSet:Se,selectedKeysSet:Ce,loadedKeysSet:xe,loadingKeysSet:Ne,checkedKeysSet:$e,halfCheckedKeysSet:Ee,flattenNodes:Be}),()=>{const{draggingNodeKey:Ge,dropLevelOffset:Xe,dropContainerKey:rt,dropTargetKey:at,dropPosition:lt,dragOverNodeKey:dt}=ce,{prefixCls:ft,showLine:gt,focusable:ut,tabindex:mt=0,selectable:vt,showIcon:yt,icon:bt=G.icon,switcherIcon:St,draggable:$t,checkable:xt,checkStrictly:Ct,disabled:wt,motion:_t,loadData:Et,filterTreeNode:Tt,height:At,itemHeight:It,virtual:Pt,dropIndicatorRender:Ft,onContextmenu:zt,onScroll:Rt,direction:Nt,rootClassName:Mt,rootStyle:Bt}=H,{class:Dt,style:Vt}=W,Lt=pickAttrs(_extends$1(_extends$1({},H),W),{aria:!0,data:!0});let Ot;return $t?typeof $t=="object"?Ot=$t:typeof $t=="function"?Ot={nodeDraggable:$t}:Ot={}:Ot=!1,createVNode(TreeContext,{value:{prefixCls:ft,selectable:vt,showIcon:yt,icon:bt,switcherIcon:St,draggable:Ot,draggingNodeKey:Ge,checkable:xt,customCheckable:G.checkable,checkStrictly:Ct,disabled:wt,keyEntities:le.value,dropLevelOffset:Xe,dropContainerKey:rt,dropTargetKey:at,dropPosition:lt,dragOverNodeKey:dt,dragging:Ge!==null,indent:Z.value,direction:Nt,dropIndicatorRender:Ft,loadData:Et,filterTreeNode:Tt,onNodeClick:ke,onNodeDoubleClick:Ue,onNodeExpand:ot,onNodeSelect:He,onNodeCheck:Me,onNodeLoad:Je,onNodeMouseEnter:Fe,onNodeMouseLeave:Oe,onNodeContextMenu:Qe,onNodeDragStart:we,onNodeDragEnter:_e,onNodeDragOver:Ve,onNodeDragLeave:je,onNodeDragEnd:Re,onNodeDrop:qe,slots:G}},{default:()=>[createVNode("div",{role:"tree",class:classNames(ft,Dt,Mt,{[`${ft}-show-line`]:gt,[`${ft}-focused`]:fe.value,[`${ft}-active-focused`]:pe.value!==null}),style:Bt},[createVNode(NodeList,_objectSpread2$1({ref:ge,prefixCls:ft,style:Vt,disabled:wt,selectable:vt,checkable:!!xt,motion:_t,height:At,itemHeight:It,virtual:Pt,focusable:ut,focused:fe.value,tabindex:mt,activeItem:it.value,onFocus:Ie,onBlur:De,onKeydown:ht,onActiveChange:nt,onListChangeStart:st,onListChangeEnd:et,onContextmenu:zt,onScroll:Rt},Lt),null)])]})}}});var FileOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};function _objectSpread$l(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$l(H,U,W[U])})}return H}function _defineProperty$l(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var FileOutlined=function(K,W){var G=_objectSpread$l({},K,W.attrs);return createVNode(Icon,_objectSpread$l({},G,{icon:FileOutlined$1}),null)};FileOutlined.displayName="FileOutlined";FileOutlined.inheritAttrs=!1;var MinusSquareOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};function _objectSpread$k(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$k(H,U,W[U])})}return H}function _defineProperty$k(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var MinusSquareOutlined=function(K,W){var G=_objectSpread$k({},K,W.attrs);return createVNode(Icon,_objectSpread$k({},G,{icon:MinusSquareOutlined$1}),null)};MinusSquareOutlined.displayName="MinusSquareOutlined";MinusSquareOutlined.inheritAttrs=!1;var PlusSquareOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};function _objectSpread$j(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$j(H,U,W[U])})}return H}function _defineProperty$j(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var PlusSquareOutlined=function(K,W){var G=_objectSpread$j({},K,W.attrs);return createVNode(Icon,_objectSpread$j({},G,{icon:PlusSquareOutlined$1}),null)};PlusSquareOutlined.displayName="PlusSquareOutlined";PlusSquareOutlined.inheritAttrs=!1;var CaretDownFilled$1={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};function _objectSpread$i(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$i(H,U,W[U])})}return H}function _defineProperty$i(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var CaretDownFilled=function(K,W){var G=_objectSpread$i({},K,W.attrs);return createVNode(Icon,_objectSpread$i({},G,{icon:CaretDownFilled$1}),null)};CaretDownFilled.displayName="CaretDownFilled";CaretDownFilled.inheritAttrs=!1;function renderSwitcherIcon(H,K,W,G,U){const{isLeaf:X,expanded:Q,loading:Z}=W;let ee=K;if(Z)return createVNode(LoadingOutlined,{class:`${H}-switcher-loading-icon`},null);let ne;U&&typeof U=="object"&&(ne=U.showLeafIcon);let te=null;const oe=`${H}-switcher-icon`;return X?U?ne&&G?G(W):(typeof U=="object"&&!ne?te=createVNode("span",{class:`${H}-switcher-leaf-line`},null):te=createVNode(FileOutlined,{class:`${H}-switcher-line-icon`},null),te):null:(te=createVNode(CaretDownFilled,{class:oe},null),U&&(te=Q?createVNode(MinusSquareOutlined,{class:`${H}-switcher-line-icon`},null):createVNode(PlusSquareOutlined,{class:`${H}-switcher-line-icon`},null)),typeof K=="function"?ee=K(_extends$1(_extends$1({},W),{defaultIcon:te,switcherCls:oe})):isValidElement(ee)&&(ee=cloneVNode(ee,{class:oe})),ee||te)}const offset=4;function dropIndicatorRender(H){const{dropPosition:K,dropLevelOffset:W,prefixCls:G,indent:U,direction:X="ltr"}=H,Q=X==="ltr"?"left":"right",Z=X==="ltr"?"right":"left",ee={[Q]:`${-W*U+offset}px`,[Z]:0};switch(K){case-1:ee.top="-3px";break;case 1:ee.bottom="-3px";break;default:ee.bottom="-3px",ee[Q]=`${U+offset}px`;break}return createVNode("div",{style:ee,class:`${G}-drop-indicator`},null)}const treeNodeFX=new Keyframe("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),getSwitchStyle=(H,K)=>({[`.${H}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${K.motionDurationSlow}`}}}),getDropIndicatorStyle=(H,K)=>({[`.${H}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:K.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${K.lineWidthBold}px solid ${K.colorPrimary}`,borderRadius:"50%",content:'""'}}}),genBaseStyle=(H,K)=>{const{treeCls:W,treeNodeCls:G,treeNodePadding:U,treeTitleHeight:X}=K,Q=(X-K.fontSizeLG)/2,Z=K.paddingXS;return{[W]:_extends$1(_extends$1({},resetComponent(K)),{background:K.colorBgContainer,borderRadius:K.borderRadius,transition:`background-color ${K.motionDurationSlow}`,[`&${W}-rtl`]:{[`${W}-switcher`]:{"&_close":{[`${W}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${W}-active-focused)`]:_extends$1({},genFocusOutline(K)),[`${W}-list-holder-inner`]:{alignItems:"flex-start"},[`&${W}-block-node`]:{[`${W}-list-holder-inner`]:{alignItems:"stretch",[`${W}-node-content-wrapper`]:{flex:"auto"},[`${G}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:U,insetInlineStart:0,border:`1px solid ${K.colorPrimary}`,opacity:0,animationName:treeNodeFX,animationDuration:K.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${G}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${U}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${W}-node-content-wrapper`]:{color:K.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${W}-node-content-wrapper`]:_extends$1({},genFocusOutline(K)),[`&:not(${G}-disabled).filter-node ${W}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${W}-draggable-icon`]:{width:X,lineHeight:`${X}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${K.motionDurationSlow}`,[`${G}:hover &`]:{opacity:.45}},[`&${G}-disabled`]:{[`${W}-draggable-icon`]:{visibility:"hidden"}}}},[`${W}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:X}},[`${W}-draggable-icon`]:{visibility:"hidden"},[`${W}-switcher`]:_extends$1(_extends$1({},getSwitchStyle(H,K)),{position:"relative",flex:"none",alignSelf:"stretch",width:X,margin:0,lineHeight:`${X}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${W}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:K.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:X/2,bottom:-U,marginInlineStart:-1,borderInlineEnd:`1px solid ${K.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:X/2*.8,height:X/2,borderBottom:`1px solid ${K.colorBorder}`,content:'""'}}}),[`${W}-checkbox`]:{top:"initial",marginInlineEnd:Z,marginBlockStart:Q},[`${W}-node-content-wrapper, ${W}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:X,margin:0,padding:`0 ${K.paddingXS/2}px`,color:"inherit",lineHeight:`${X}px`,background:"transparent",borderRadius:K.borderRadius,cursor:"pointer",transition:`all ${K.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:K.controlItemBgHover},[`&${W}-node-selected`]:{backgroundColor:K.controlItemBgActive},[`${W}-iconEle`]:{display:"inline-block",width:X,height:X,lineHeight:`${X}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${W}-unselectable ${W}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${W}-node-content-wrapper`]:_extends$1({lineHeight:`${X}px`,userSelect:"none"},getDropIndicatorStyle(H,K)),[`${G}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${K.colorPrimary}`}},"&-show-line":{[`${W}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:X/2,bottom:-U,borderInlineEnd:`1px solid ${K.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${W}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${G}-leaf-last`]:{[`${W}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${X/2}px !important`}}}}})}},genDirectoryStyle=H=>{const{treeCls:K,treeNodeCls:W,treeNodePadding:G}=H;return{[`${K}${K}-directory`]:{[W]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:G,insetInlineStart:0,transition:`background-color ${H.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:H.controlItemBgHover}},"> *":{zIndex:1},[`${K}-switcher`]:{transition:`color ${H.motionDurationMid}`},[`${K}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${K}-node-selected`]:{color:H.colorTextLightSolid,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:H.colorPrimary},[`${K}-switcher`]:{color:H.colorTextLightSolid},[`${K}-node-content-wrapper`]:{color:H.colorTextLightSolid,background:"transparent"}}}}}},genTreeStyle=(H,K)=>{const W=`.${H}`,G=`${W}-treenode`,U=K.paddingXS/2,X=K.controlHeightSM,Q=merge(K,{treeCls:W,treeNodeCls:G,treeNodePadding:U,treeTitleHeight:X});return[genBaseStyle(H,Q),genDirectoryStyle(Q)]},useStyle$2=genComponentStyleHook("Tree",(H,K)=>{let{prefixCls:W}=K;return[{[H.componentCls]:getStyle$1(`${W}-checkbox`,H)},genTreeStyle(W,H),genCollapseMotion(H)]}),treeProps=()=>{const H=treeProps$1();return _extends$1(_extends$1({},H),{showLine:someType([Boolean,Object]),multiple:booleanType(),autoExpandParent:booleanType(),checkStrictly:booleanType(),checkable:booleanType(),disabled:booleanType(),defaultExpandAll:booleanType(),defaultExpandParent:booleanType(),defaultExpandedKeys:arrayType(),expandedKeys:arrayType(),checkedKeys:someType([Array,Object]),defaultCheckedKeys:arrayType(),selectedKeys:arrayType(),defaultSelectedKeys:arrayType(),selectable:booleanType(),loadedKeys:arrayType(),draggable:booleanType(),showIcon:booleanType(),icon:functionType(),switcherIcon:PropTypes.any,prefixCls:String,replaceFields:objectType(),blockNode:booleanType(),openAnimation:PropTypes.any,onDoubleclick:H.onDblclick,"onUpdate:selectedKeys":functionType(),"onUpdate:checkedKeys":functionType(),"onUpdate:expandedKeys":functionType()})},Tree$1=defineComponent({compatConfig:{MODE:3},name:"ATree",inheritAttrs:!1,props:initDefaultProps(treeProps(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:Object,setup(H,K){let{attrs:W,expose:G,emit:U,slots:X}=K;H.treeData===void 0&&X.default;const{prefixCls:Q,direction:Z,virtual:ee}=useConfigInject("tree",H),[ne,te]=useStyle$2(Q),oe=ref();G({treeRef:oe,onNodeExpand:function(){var de;(de=oe.value)===null||de===void 0||de.onNodeExpand(...arguments)},scrollTo:de=>{var le;(le=oe.value)===null||le===void 0||le.scrollTo(de)},selectedKeys:computed(()=>{var de;return(de=oe.value)===null||de===void 0?void 0:de.selectedKeys}),checkedKeys:computed(()=>{var de;return(de=oe.value)===null||de===void 0?void 0:de.checkedKeys}),halfCheckedKeys:computed(()=>{var de;return(de=oe.value)===null||de===void 0?void 0:de.halfCheckedKeys}),loadedKeys:computed(()=>{var de;return(de=oe.value)===null||de===void 0?void 0:de.loadedKeys}),loadingKeys:computed(()=>{var de;return(de=oe.value)===null||de===void 0?void 0:de.loadingKeys}),expandedKeys:computed(()=>{var de;return(de=oe.value)===null||de===void 0?void 0:de.expandedKeys})}),watchEffect(()=>{devWarning(H.replaceFields===void 0,"Tree","`replaceFields` is deprecated, please use fieldNames instead")});const ae=(de,le)=>{U("update:checkedKeys",de),U("check",de,le)},se=(de,le)=>{U("update:expandedKeys",de),U("expand",de,le)},ce=(de,le)=>{U("update:selectedKeys",de),U("select",de,le)};return()=>{const{showIcon:de,showLine:le,switcherIcon:fe=X.switcherIcon,icon:pe=X.icon,blockNode:me,checkable:ue,selectable:ge,fieldNames:he=H.replaceFields,motion:ve=H.openAnimation,itemHeight:ye=28,onDoubleclick:be,onDblclick:Se}=H,Ce=_extends$1(_extends$1(_extends$1({},W),omit$1(H,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{showLine:!!le,dropIndicatorRender,fieldNames:he,icon:pe,itemHeight:ye}),xe=X.default?filterEmpty(X.default()):void 0;return ne(createVNode(Tree$2,_objectSpread2$1(_objectSpread2$1({},Ce),{},{virtual:ee.value,motion:ve,ref:oe,prefixCls:Q.value,class:classNames({[`${Q.value}-icon-hide`]:!de,[`${Q.value}-block-node`]:me,[`${Q.value}-unselectable`]:!ge,[`${Q.value}-rtl`]:Z.value==="rtl"},W.class,te.value),direction:Z.value,checkable:ue,selectable:ge,switcherIcon:Ne=>renderSwitcherIcon(Q.value,fe,Ne,X.leafIcon,le),onCheck:ae,onExpand:se,onSelect:ce,onDblclick:Se||be,children:xe}),_extends$1(_extends$1({},X),{checkable:()=>createVNode("span",{class:`${Q.value}-checkbox-inner`},null)})))}}});var FolderOpenOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};function _objectSpread$h(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$h(H,U,W[U])})}return H}function _defineProperty$h(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var FolderOpenOutlined=function(K,W){var G=_objectSpread$h({},K,W.attrs);return createVNode(Icon,_objectSpread$h({},G,{icon:FolderOpenOutlined$1}),null)};FolderOpenOutlined.displayName="FolderOpenOutlined";FolderOpenOutlined.inheritAttrs=!1;var FolderOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};function _objectSpread$g(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$g(H,U,W[U])})}return H}function _defineProperty$g(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var FolderOutlined=function(K,W){var G=_objectSpread$g({},K,W.attrs);return createVNode(Icon,_objectSpread$g({},G,{icon:FolderOutlined$1}),null)};FolderOutlined.displayName="FolderOutlined";FolderOutlined.inheritAttrs=!1;var Record;(function(H){H[H.None=0]="None",H[H.Start=1]="Start",H[H.End=2]="End"})(Record||(Record={}));function traverseNodesKey(H,K,W){function G(U){const X=U[K.key],Q=U[K.children];W(X,U)!==!1&&traverseNodesKey(Q||[],K,W)}H.forEach(G)}function calcRangeKeys(H){let{treeData:K,expandedKeys:W,startKey:G,endKey:U,fieldNames:X={title:"title",key:"key",children:"children"}}=H;const Q=[];let Z=Record.None;if(G&&G===U)return[G];if(!G||!U)return[];function ee(ne){return ne===G||ne===U}return traverseNodesKey(K,X,ne=>{if(Z===Record.End)return!1;if(ee(ne)){if(Q.push(ne),Z===Record.None)Z=Record.Start;else if(Z===Record.Start)return Z=Record.End,!1}else Z===Record.Start&&Q.push(ne);return W.includes(ne)}),Q}function convertDirectoryKeysToNodes(H,K,W){const G=[...K],U=[];return traverseNodesKey(H,W,(X,Q)=>{const Z=G.indexOf(X);return Z!==-1&&(U.push(Q),G.splice(Z,1)),!!G.length}),U}var __rest=function(H,K){var W={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&K.indexOf(G)<0&&(W[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var U=0,G=Object.getOwnPropertySymbols(H);U<G.length;U++)K.indexOf(G[U])<0&&Object.prototype.propertyIsEnumerable.call(H,G[U])&&(W[G[U]]=H[G[U]]);return W};const directoryTreeProps=()=>_extends$1(_extends$1({},treeProps()),{expandAction:someType([Boolean,String])});function getIcon(H){const{isLeaf:K,expanded:W}=H;return createVNode(K?FileOutlined:W?FolderOpenOutlined:FolderOutlined,null,null)}const DirectoryTree=defineComponent({compatConfig:{MODE:3},name:"ADirectoryTree",inheritAttrs:!1,props:initDefaultProps(directoryTreeProps(),{showIcon:!0,expandAction:"click"}),slots:Object,setup(H,K){let{attrs:W,slots:G,emit:U,expose:X}=K;var Q;const Z=ref(H.treeData||convertTreeToData(filterEmpty((Q=G.default)===null||Q===void 0?void 0:Q.call(G))));watch(()=>H.treeData,()=>{Z.value=H.treeData}),onUpdated(()=>{nextTick(()=>{var ye;H.treeData===void 0&&G.default&&(Z.value=convertTreeToData(filterEmpty((ye=G.default)===null||ye===void 0?void 0:ye.call(G))))})});const ee=ref(),ne=ref(),te=computed(()=>fillFieldNames(H.fieldNames)),oe=ref();X({scrollTo:ye=>{var be;(be=oe.value)===null||be===void 0||be.scrollTo(ye)},selectedKeys:computed(()=>{var ye;return(ye=oe.value)===null||ye===void 0?void 0:ye.selectedKeys}),checkedKeys:computed(()=>{var ye;return(ye=oe.value)===null||ye===void 0?void 0:ye.checkedKeys}),halfCheckedKeys:computed(()=>{var ye;return(ye=oe.value)===null||ye===void 0?void 0:ye.halfCheckedKeys}),loadedKeys:computed(()=>{var ye;return(ye=oe.value)===null||ye===void 0?void 0:ye.loadedKeys}),loadingKeys:computed(()=>{var ye;return(ye=oe.value)===null||ye===void 0?void 0:ye.loadingKeys}),expandedKeys:computed(()=>{var ye;return(ye=oe.value)===null||ye===void 0?void 0:ye.expandedKeys})});const ae=()=>{const{keyEntities:ye}=convertDataToEntities(Z.value,{fieldNames:te.value});let be;return H.defaultExpandAll?be=Object.keys(ye):H.defaultExpandParent?be=conductExpandParent(H.expandedKeys||H.defaultExpandedKeys||[],ye):be=H.expandedKeys||H.defaultExpandedKeys,be},se=ref(H.selectedKeys||H.defaultSelectedKeys||[]),ce=ref(ae());watch(()=>H.selectedKeys,()=>{H.selectedKeys!==void 0&&(se.value=H.selectedKeys)},{immediate:!0}),watch(()=>H.expandedKeys,()=>{H.expandedKeys!==void 0&&(ce.value=H.expandedKeys)},{immediate:!0});const le=debounce$1((ye,be)=>{const{isLeaf:Se}=be;Se||ye.shiftKey||ye.metaKey||ye.ctrlKey||oe.value.onNodeExpand(ye,be)},200,{leading:!0}),fe=(ye,be)=>{H.expandedKeys===void 0&&(ce.value=ye),U("update:expandedKeys",ye),U("expand",ye,be)},pe=(ye,be)=>{const{expandAction:Se}=H;Se==="click"&&le(ye,be),U("click",ye,be)},me=(ye,be)=>{const{expandAction:Se}=H;(Se==="dblclick"||Se==="doubleclick")&&le(ye,be),U("doubleclick",ye,be),U("dblclick",ye,be)},ue=(ye,be)=>{const{multiple:Se}=H,{node:Ce,nativeEvent:xe}=be,Ne=Ce[te.value.key],$e=_extends$1(_extends$1({},be),{selected:!0}),Ee=xe?.ctrlKey||xe?.metaKey,Te=xe?.shiftKey;let Be;Se&&Ee?(Be=ye,ee.value=Ne,ne.value=Be,$e.selectedNodes=convertDirectoryKeysToNodes(Z.value,Be,te.value)):Se&&Te?(Be=Array.from(new Set([...ne.value||[],...calcRangeKeys({treeData:Z.value,expandedKeys:ce.value,startKey:Ne,endKey:ee.value,fieldNames:te.value})])),$e.selectedNodes=convertDirectoryKeysToNodes(Z.value,Be,te.value)):(Be=[Ne],ee.value=Ne,ne.value=Be,$e.selectedNodes=convertDirectoryKeysToNodes(Z.value,Be,te.value)),U("update:selectedKeys",Be),U("select",Be,$e),H.selectedKeys===void 0&&(se.value=Be)},ge=(ye,be)=>{U("update:checkedKeys",ye),U("check",ye,be)},{prefixCls:he,direction:ve}=useConfigInject("tree",H);return()=>{const ye=classNames(`${he.value}-directory`,{[`${he.value}-directory-rtl`]:ve.value==="rtl"},W.class),{icon:be=G.icon,blockNode:Se=!0}=H,Ce=__rest(H,["icon","blockNode"]);return createVNode(Tree$1,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},W),{},{icon:be||getIcon,ref:oe,blockNode:Se},Ce),{},{prefixCls:he.value,class:ye,expandedKeys:ce.value,selectedKeys:se.value,onSelect:ue,onClick:pe,onDblclick:me,onExpand:fe,onCheck:ge}),G)}}}),TreeNode$1=VcTreeNode,__unplugin_components_4=_extends$1(Tree$1,{DirectoryTree,TreeNode:TreeNode$1,install:H=>(H.component(Tree$1.name,Tree$1),H.component(TreeNode$1.name,TreeNode$1),H.component(DirectoryTree.name,DirectoryTree),H)});function isEqual(H,K){let W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const G=new Set;function U(X,Q){let Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const ee=G.has(X);if(warningOnce(!ee,"Warning: There may be circular references"),ee)return!1;if(X===Q)return!0;if(W&&Z>1)return!1;G.add(X);const ne=Z+1;if(Array.isArray(X)){if(!Array.isArray(Q)||X.length!==Q.length)return!1;for(let te=0;te<X.length;te++)if(!U(X[te],Q[te],ne))return!1;return!0}if(X&&Q&&typeof X=="object"&&typeof Q=="object"){const te=Object.keys(X);return te.length!==Object.keys(Q).length?!1:te.every(oe=>U(X[oe],Q[oe],ne))}return!1}return U(H,K)}const{SubMenu,Item:MenuItem}=Menu;function hasSubMenu(H){return H.some(K=>{let{children:W}=K;return W&&W.length>0})}function searchValueMatched(H,K){return typeof K=="string"||typeof K=="number"?K?.toString().toLowerCase().includes(H.trim().toLowerCase()):!1}function renderFilterItems(H){let{filters:K,prefixCls:W,filteredKeys:G,filterMultiple:U,searchValue:X,filterSearch:Q}=H;return K.map((Z,ee)=>{const ne=String(Z.value);if(Z.children)return createVNode(SubMenu,{key:ne||ee,title:Z.text,popupClassName:`${W}-dropdown-submenu`},{default:()=>[renderFilterItems({filters:Z.children,prefixCls:W,filteredKeys:G,filterMultiple:U,searchValue:X,filterSearch:Q})]});const te=U?Checkbox:Radio,oe=createVNode(MenuItem,{key:Z.value!==void 0?ne:ee},{default:()=>[createVNode(te,{checked:G.includes(ne)},null),createVNode("span",null,[Z.text])]});return X.trim()?typeof Q=="function"?Q(X,Z)?oe:void 0:searchValueMatched(X,Z.text)?oe:void 0:oe})}const FilterDropdown=defineComponent({name:"FilterDropdown",props:["tablePrefixCls","prefixCls","dropdownPrefixCls","column","filterState","filterMultiple","filterMode","filterSearch","columnKey","triggerFilter","locale","getPopupContainer"],setup(H,K){let{slots:W}=K;const G=useInjectSlots(),U=computed(()=>{var Le;return(Le=H.filterMode)!==null&&Le!==void 0?Le:"menu"}),X=computed(()=>{var Le;return(Le=H.filterSearch)!==null&&Le!==void 0?Le:!1}),Q=computed(()=>H.column.filterDropdownOpen||H.column.filterDropdownVisible),Z=computed(()=>H.column.onFilterDropdownOpenChange||H.column.onFilterDropdownVisibleChange),ee=shallowRef(!1),ne=computed(()=>{var Le;return!!(H.filterState&&(!((Le=H.filterState.filteredKeys)===null||Le===void 0)&&Le.length||H.filterState.forceFiltered))}),te=computed(()=>{var Le;return flattenKeys((Le=H.column)===null||Le===void 0?void 0:Le.filters)}),oe=computed(()=>{const{filterDropdown:Le,slots:Ze={},customFilterDropdown:Ye}=H.column;return Le||Ze.filterDropdown&&G.value[Ze.filterDropdown]||Ye&&G.value.customFilterDropdown}),re=computed(()=>{const{filterIcon:Le,slots:Ze={}}=H.column;return Le||Ze.filterIcon&&G.value[Ze.filterIcon]||G.value.customFilterIcon}),ae=Le=>{var Ze;ee.value=Le,(Ze=Z.value)===null||Ze===void 0||Ze.call(Z,Le)},se=computed(()=>typeof Q.value=="boolean"?Q.value:ee.value),ce=computed(()=>{var Le;return(Le=H.filterState)===null||Le===void 0?void 0:Le.filteredKeys}),de=shallowRef([]),le=Le=>{let{selectedKeys:Ze}=Le;de.value=Ze},fe=(Le,Ze)=>{let{node:Ye,checked:Re}=Ze;H.filterMultiple?le({selectedKeys:Le}):le({selectedKeys:Re&&Ye.key?[Ye.key]:[]})};watch(ce,()=>{ee.value&&le({selectedKeys:ce.value||[]})},{immediate:!0});const pe=shallowRef([]),me=shallowRef(),ue=Le=>{me.value=setTimeout(()=>{pe.value=Le})},ge=()=>{clearTimeout(me.value)};onBeforeUnmount(()=>{clearTimeout(me.value)});const he=shallowRef(""),ve=Le=>{const{value:Ze}=Le.target;he.value=Ze};watch(ee,()=>{ee.value||(he.value="")});const ye=Le=>{const{column:Ze,columnKey:Ye,filterState:Re}=H,Ke=Le&&Le.length?Le:null;if(Ke===null&&(!Re||!Re.filteredKeys)||isEqual(Ke,Re?.filteredKeys,!0))return null;H.triggerFilter({column:Ze,key:Ye,filteredKeys:Ke})},be=()=>{ae(!1),ye(de.value)},Se=function(){let{confirm:Le,closeDropdown:Ze}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1};Le&&ye([]),Ze&&ae(!1),he.value="",H.column.filterResetToDefaultFilteredValue?de.value=(H.column.defaultFilteredValue||[]).map(Ye=>String(Ye)):de.value=[]},Ce=function(){let{closeDropdown:Le}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};Le&&ae(!1),ye(de.value)},xe=Le=>{Le&&ce.value!==void 0&&(de.value=ce.value||[]),ae(Le),!Le&&!oe.value&&be()},{direction:Ne}=useConfigInject("",H),$e=Le=>{if(Le.target.checked){const Ze=te.value;de.value=Ze}else de.value=[]},Ee=Le=>{let{filters:Ze}=Le;return(Ze||[]).map((Ye,Re)=>{const Ke=String(Ye.value),we={title:Ye.text,key:Ye.value!==void 0?Ke:Re};return Ye.children&&(we.children=Ee({filters:Ye.children})),we})},Te=Le=>{var Ze;return _extends$1(_extends$1({},Le),{text:Le.title,value:Le.key,children:((Ze=Le.children)===null||Ze===void 0?void 0:Ze.map(Ye=>Te(Ye)))||[]})},Be=computed(()=>Ee({filters:H.column.filters})),Ae=computed(()=>classNames({[`${H.dropdownPrefixCls}-menu-without-submenu`]:!hasSubMenu(H.column.filters||[])})),ze=()=>{const Le=de.value,{column:Ze,locale:Ye,tablePrefixCls:Re,filterMultiple:Ke,dropdownPrefixCls:we,getPopupContainer:_e,prefixCls:Ve}=H;return(Ze.filters||[]).length===0?createVNode(Empty$1,{image:Empty$1.PRESENTED_IMAGE_SIMPLE,description:Ye.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}},null):U.value==="tree"?createVNode(Fragment,null,[createVNode(FilterSearch,{filterSearch:X.value,value:he.value,onChange:ve,tablePrefixCls:Re,locale:Ye},null),createVNode("div",{class:`${Re}-filter-dropdown-tree`},[Ke?createVNode(Checkbox,{class:`${Re}-filter-dropdown-checkall`,onChange:$e,checked:Le.length===te.value.length,indeterminate:Le.length>0&&Le.length<te.value.length},{default:()=>[Ye.filterCheckall]}):null,createVNode(__unplugin_components_4,{checkable:!0,selectable:!1,blockNode:!0,multiple:Ke,checkStrictly:!Ke,class:`${we}-menu`,onCheck:fe,checkedKeys:Le,selectedKeys:Le,showIcon:!1,treeData:Be.value,autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:he.value.trim()?je=>typeof X.value=="function"?X.value(he.value,Te(je)):searchValueMatched(he.value,je.title):void 0},null)])]):createVNode(Fragment,null,[createVNode(FilterSearch,{filterSearch:X.value,value:he.value,onChange:ve,tablePrefixCls:Re,locale:Ye},null),createVNode(Menu,{multiple:Ke,prefixCls:`${we}-menu`,class:Ae.value,onClick:ge,onSelect:le,onDeselect:le,selectedKeys:Le,getPopupContainer:_e,openKeys:pe.value,onOpenChange:ue},{default:()=>renderFilterItems({filters:Ze.filters||[],filterSearch:X.value,prefixCls:Ve,filteredKeys:de.value,filterMultiple:Ke,searchValue:he.value})})])},We=computed(()=>{const Le=de.value;return H.column.filterResetToDefaultFilteredValue?isEqual((H.column.defaultFilteredValue||[]).map(Ze=>String(Ze)),Le,!0):Le.length===0});return()=>{var Le;const{tablePrefixCls:Ze,prefixCls:Ye,column:Re,dropdownPrefixCls:Ke,locale:we,getPopupContainer:_e}=H;let Ve;typeof oe.value=="function"?Ve=oe.value({prefixCls:`${Ke}-custom`,setSelectedKeys:Pe=>le({selectedKeys:Pe}),selectedKeys:de.value,confirm:Ce,clearFilters:Se,filters:Re.filters,visible:se.value,column:Re.__originColumn__,close:()=>{ae(!1)}}):oe.value?Ve=oe.value:Ve=createVNode(Fragment,null,[ze(),createVNode("div",{class:`${Ye}-dropdown-btns`},[createVNode(Button$1,{type:"link",size:"small",disabled:We.value,onClick:()=>Se()},{default:()=>[we.filterReset]}),createVNode(Button$1,{type:"primary",size:"small",onClick:be},{default:()=>[we.filterConfirm]})])]);const je=createVNode(FilterDropdownMenuWrapper,{class:`${Ye}-dropdown`},{default:()=>[Ve]});let qe;return typeof re.value=="function"?qe=re.value({filtered:ne.value,column:Re.__originColumn__}):re.value?qe=re.value:qe=createVNode(FilterFilled,null,null),createVNode("div",{class:`${Ye}-column`},[createVNode("span",{class:`${Ze}-column-title`},[(Le=W.default)===null||Le===void 0?void 0:Le.call(W)]),createVNode(Dropdown,{overlay:je,trigger:["click"],open:se.value,onOpenChange:xe,getPopupContainer:_e,placement:Ne.value==="rtl"?"bottomLeft":"bottomRight"},{default:()=>[createVNode("span",{role:"button",tabindex:-1,class:classNames(`${Ye}-trigger`,{active:ne.value}),onClick:Pe=>{Pe.stopPropagation()}},[qe])]})])}}});function collectFilterStates(H,K,W){let G=[];return(H||[]).forEach((U,X)=>{var Q,Z;const ee=getColumnPos(X,W),ne=U.filterDropdown||((Q=U?.slots)===null||Q===void 0?void 0:Q.filterDropdown)||U.customFilterDropdown;if(U.filters||ne||"onFilter"in U)if("filteredValue"in U){let te=U.filteredValue;ne||(te=(Z=te?.map(String))!==null&&Z!==void 0?Z:te),G.push({column:U,key:getColumnKey(U,ee),filteredKeys:te,forceFiltered:U.filtered})}else G.push({column:U,key:getColumnKey(U,ee),filteredKeys:K&&U.defaultFilteredValue?U.defaultFilteredValue:void 0,forceFiltered:U.filtered});"children"in U&&(G=[...G,...collectFilterStates(U.children,K,ee)])}),G}function injectFilter(H,K,W,G,U,X,Q,Z){return W.map((ee,ne)=>{var te;const oe=getColumnPos(ne,Z),{filterMultiple:re=!0,filterMode:ae,filterSearch:se}=ee;let ce=ee;const de=ee.filterDropdown||((te=ee?.slots)===null||te===void 0?void 0:te.filterDropdown)||ee.customFilterDropdown;if(ce.filters||de){const le=getColumnKey(ce,oe),fe=G.find(pe=>{let{key:me}=pe;return le===me});ce=_extends$1(_extends$1({},ce),{title:pe=>createVNode(FilterDropdown,{tablePrefixCls:H,prefixCls:`${H}-filter`,dropdownPrefixCls:K,column:ce,columnKey:le,filterState:fe,filterMultiple:re,filterMode:ae,filterSearch:se,triggerFilter:X,locale:U,getPopupContainer:Q},{default:()=>[renderColumnTitle(ee.title,pe)]})})}return"children"in ce&&(ce=_extends$1(_extends$1({},ce),{children:injectFilter(H,K,ce.children,G,U,X,Q,oe)})),ce})}function flattenKeys(H){let K=[];return(H||[]).forEach(W=>{let{value:G,children:U}=W;K.push(G),U&&(K=[...K,...flattenKeys(U)])}),K}function generateFilterInfo(H){const K={};return H.forEach(W=>{let{key:G,filteredKeys:U,column:X}=W;var Q;const Z=X.filterDropdown||((Q=X?.slots)===null||Q===void 0?void 0:Q.filterDropdown)||X.customFilterDropdown,{filters:ee}=X;if(Z)K[G]=U||null;else if(Array.isArray(U)){const ne=flattenKeys(ee);K[G]=ne.filter(te=>U.includes(String(te)))}else K[G]=null}),K}function getFilterData(H,K){return K.reduce((W,G)=>{const{column:{onFilter:U,filters:X},filteredKeys:Q}=G;return U&&Q&&Q.length?W.filter(Z=>Q.some(ee=>{const ne=flattenKeys(X),te=ne.findIndex(re=>String(re)===String(ee)),oe=te!==-1?ne[te]:ee;return U(oe,Z)})):W},H)}function getMergedColumns(H){return H.flatMap(K=>"children"in K?[K,...getMergedColumns(K.children||[])]:[K])}function useFilter(H){let{prefixCls:K,dropdownPrefixCls:W,mergedColumns:G,locale:U,onFilterChange:X,getPopupContainer:Q}=H;const Z=computed(()=>getMergedColumns(G.value)),[ee,ne]=useState(collectFilterStates(Z.value,!0)),te=computed(()=>{const se=collectFilterStates(Z.value,!1);if(se.length===0)return se;let ce=!0,de=!0;if(se.forEach(le=>{let{filteredKeys:fe}=le;fe!==void 0?ce=!1:de=!1}),ce){const le=(Z.value||[]).map((fe,pe)=>getColumnKey(fe,getColumnPos(pe)));return ee.value.filter(fe=>{let{key:pe}=fe;return le.includes(pe)}).map(fe=>{const pe=Z.value[le.findIndex(me=>me===fe.key)];return _extends$1(_extends$1({},fe),{column:_extends$1(_extends$1({},fe.column),pe),forceFiltered:pe.filtered})})}return devWarning(de,"Table","Columns should all contain `filteredValue` or not contain `filteredValue`."),se}),oe=computed(()=>generateFilterInfo(te.value)),re=se=>{const ce=te.value.filter(de=>{let{key:le}=de;return le!==se.key});ce.push(se),ne(ce),X(generateFilterInfo(ce),ce)};return[se=>injectFilter(K.value,W.value,se,te.value,U.value,re,Q.value),te,oe]}function fillTitle(H,K){return H.map(W=>{const G=_extends$1({},W);return G.title=renderColumnTitle(G.title,K),"children"in G&&(G.children=fillTitle(G.children,K)),G})}function useTitleColumns(H){return[W=>fillTitle(W,H.value)]}function renderExpandIcon(H){return function(W){let{prefixCls:G,onExpand:U,record:X,expanded:Q,expandable:Z}=W;const ee=`${G}-row-expand-icon`;return createVNode("button",{type:"button",onClick:ne=>{U(X,ne),ne.stopPropagation()},class:classNames(ee,{[`${ee}-spaced`]:!Z,[`${ee}-expanded`]:Z&&Q,[`${ee}-collapsed`]:Z&&!Q}),"aria-label":Q?H.collapse:H.expand,"aria-expanded":Q},null)}}function fillSlots(H,K){const W=K.value;return H.map(G=>{var U;if(G===SELECTION_COLUMN||G===EXPAND_COLUMN)return G;const X=_extends$1({},G),{slots:Q={}}=X;return X.__originColumn__=G,devWarning(!("slots"in X),"Table","`column.slots` is deprecated. Please use `v-slot:headerCell` `v-slot:bodyCell` instead."),Object.keys(Q).forEach(Z=>{const ee=Q[Z];X[Z]===void 0&&W[ee]&&(X[Z]=W[ee])}),K.value.headerCell&&!(!((U=G.slots)===null||U===void 0)&&U.title)&&(X.title=customRenderSlot(K.value,"headerCell",{title:G.title,column:G},()=>[G.title])),"children"in X&&Array.isArray(X.children)&&(X.children=fillSlots(X.children,K)),X})}function useColumns(H){return[W=>fillSlots(W,H)]}const genBorderedStyle=H=>{const{componentCls:K}=H,W=`${H.lineWidth}px ${H.lineType} ${H.tableBorderColor}`,G=(U,X,Q)=>({[`&${K}-${U}`]:{[`> ${K}-container`]:{[`> ${K}-content, > ${K}-body`]:{"> table > tbody > tr > td":{[`> ${K}-expanded-row-fixed`]:{margin:`-${X}px -${Q+H.lineWidth}px`}}}}}});return{[`${K}-wrapper`]:{[`${K}${K}-bordered`]:_extends$1(_extends$1(_extends$1({[`> ${K}-title`]:{border:W,borderBottom:0},[`> ${K}-container`]:{borderInlineStart:W,[`
            > ${K}-content,
            > ${K}-header,
            > ${K}-body,
            > ${K}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:W},"> thead":{"> tr:not(:last-child) > th":{borderBottom:W},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${K}-cell-fix-right-first::after`]:{borderInlineEnd:W}},"> tbody > tr > td":{[`> ${K}-expanded-row-fixed`]:{margin:`-${H.tablePaddingVertical}px -${H.tablePaddingHorizontal+H.lineWidth}px`,"&::after":{position:"absolute",top:0,insetInlineEnd:H.lineWidth,bottom:0,borderInlineEnd:W,content:'""'}}}}},[`
            > ${K}-content,
            > ${K}-header
          `]:{"> table":{borderTop:W}}},[`&${K}-scroll-horizontal`]:{[`> ${K}-container > ${K}-body`]:{"> table > tbody":{[`
                > tr${K}-expanded-row,
                > tr${K}-placeholder
              `]:{"> td":{borderInlineEnd:0}}}}}},G("middle",H.tablePaddingVerticalMiddle,H.tablePaddingHorizontalMiddle)),G("small",H.tablePaddingVerticalSmall,H.tablePaddingHorizontalSmall)),{[`> ${K}-footer`]:{border:W,borderTop:0}}),[`${K}-cell`]:{[`${K}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${H.lineWidth}px 0 ${H.lineWidth}px ${H.tableHeaderBg}`}}}}},genEllipsisStyle=H=>{const{componentCls:K}=H;return{[`${K}-wrapper`]:{[`${K}-cell-ellipsis`]:_extends$1(_extends$1({},textEllipsis),{wordBreak:"keep-all",[`
          &${K}-cell-fix-left-last,
          &${K}-cell-fix-right-first
        `]:{overflow:"visible",[`${K}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${K}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},genEmptyStyle=H=>{const{componentCls:K}=H;return{[`${K}-wrapper`]:{[`${K}-tbody > tr${K}-placeholder`]:{textAlign:"center",color:H.colorTextDisabled,"&:hover > td":{background:H.colorBgContainer}}}}},genExpandStyle=H=>{const{componentCls:K,antCls:W,controlInteractiveSize:G,motionDurationSlow:U,lineWidth:X,paddingXS:Q,lineType:Z,tableBorderColor:ee,tableExpandIconBg:ne,tableExpandColumnWidth:te,borderRadius:oe,fontSize:re,fontSizeSM:ae,lineHeight:se,tablePaddingVertical:ce,tablePaddingHorizontal:de,tableExpandedRowBg:le,paddingXXS:fe}=H,pe=G/2-X,me=pe*2+X*3,ue=`${X}px ${Z} ${ee}`,ge=fe-X;return{[`${K}-wrapper`]:{[`${K}-expand-icon-col`]:{width:te},[`${K}-row-expand-icon-cell`]:{textAlign:"center",[`${K}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${K}-row-indent`]:{height:1,float:"left"},[`${K}-row-expand-icon`]:_extends$1(_extends$1({},operationUnit(H)),{position:"relative",float:"left",boxSizing:"border-box",width:me,height:me,padding:0,color:"inherit",lineHeight:`${me}px`,background:ne,border:ue,borderRadius:oe,transform:`scale(${G/me})`,transition:`all ${U}`,userSelect:"none","&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${U} ease-out`,content:'""'},"&::before":{top:pe,insetInlineEnd:ge,insetInlineStart:ge,height:X},"&::after":{top:ge,bottom:ge,insetInlineStart:pe,width:X,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${K}-row-indent + ${K}-row-expand-icon`]:{marginTop:(re*se-X*3)/2-Math.ceil((ae*1.4-X*3)/2),marginInlineEnd:Q},[`tr${K}-expanded-row`]:{"&, &:hover":{"> td":{background:le}},[`${W}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"auto"}}},[`${K}-expanded-row-fixed`]:{position:"relative",margin:`-${ce}px -${de}px`,padding:`${ce}px ${de}px`}}}},genFilterStyle=H=>{const{componentCls:K,antCls:W,iconCls:G,tableFilterDropdownWidth:U,tableFilterDropdownSearchWidth:X,paddingXXS:Q,paddingXS:Z,colorText:ee,lineWidth:ne,lineType:te,tableBorderColor:oe,tableHeaderIconColor:re,fontSizeSM:ae,tablePaddingHorizontal:se,borderRadius:ce,motionDurationSlow:de,colorTextDescription:le,colorPrimary:fe,tableHeaderFilterActiveBg:pe,colorTextDisabled:me,tableFilterDropdownBg:ue,tableFilterDropdownHeight:ge,controlItemBgHover:he,controlItemBgActive:ve,boxShadowSecondary:ye}=H,be=`${W}-dropdown`,Se=`${K}-filter-dropdown`,Ce=`${W}-tree`,xe=`${ne}px ${te} ${oe}`;return[{[`${K}-wrapper`]:{[`${K}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${K}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:-Q,marginInline:`${Q}px ${-se/2}px`,padding:`0 ${Q}px`,color:re,fontSize:ae,borderRadius:ce,cursor:"pointer",transition:`all ${de}`,"&:hover":{color:le,background:pe},"&.active":{color:fe}}}},{[`${W}-dropdown`]:{[Se]:_extends$1(_extends$1({},resetComponent(H)),{minWidth:U,backgroundColor:ue,borderRadius:ce,boxShadow:ye,[`${be}-menu`]:{maxHeight:ge,overflowX:"hidden",border:0,boxShadow:"none","&:empty::after":{display:"block",padding:`${Z}px 0`,color:me,fontSize:ae,textAlign:"center",content:'"Not Found"'}},[`${Se}-tree`]:{paddingBlock:`${Z}px 0`,paddingInline:Z,[Ce]:{padding:0},[`${Ce}-treenode ${Ce}-node-content-wrapper:hover`]:{backgroundColor:he},[`${Ce}-treenode-checkbox-checked ${Ce}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:ve}}},[`${Se}-search`]:{padding:Z,borderBottom:xe,"&-input":{input:{minWidth:X},[G]:{color:me}}},[`${Se}-checkall`]:{width:"100%",marginBottom:Q,marginInlineStart:Q},[`${Se}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${Z-ne}px ${Z}px`,overflow:"hidden",backgroundColor:"inherit",borderTop:xe}})}},{[`${W}-dropdown ${Se}, ${Se}-submenu`]:{[`${W}-checkbox-wrapper + span`]:{paddingInlineStart:Z,color:ee},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},genFixedStyle=H=>{const{componentCls:K,lineWidth:W,colorSplit:G,motionDurationSlow:U,zIndexTableFixed:X,tableBg:Q,zIndexTableSticky:Z}=H,ee=G;return{[`${K}-wrapper`]:{[`
        ${K}-cell-fix-left,
        ${K}-cell-fix-right
      `]:{position:"sticky !important",zIndex:X,background:Q},[`
        ${K}-cell-fix-left-first::after,
        ${K}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:-W,width:30,transform:"translateX(100%)",transition:`box-shadow ${U}`,content:'""',pointerEvents:"none"},[`${K}-cell-fix-left-all::after`]:{display:"none"},[`
        ${K}-cell-fix-right-first::after,
        ${K}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:-W,left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${U}`,content:'""',pointerEvents:"none"},[`${K}-container`]:{"&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:Z+1,width:30,transition:`box-shadow ${U}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${K}-ping-left`]:{[`&:not(${K}-has-fix-left) ${K}-container`]:{position:"relative","&::before":{boxShadow:`inset 10px 0 8px -8px ${ee}`}},[`
          ${K}-cell-fix-left-first::after,
          ${K}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${ee}`},[`${K}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${K}-ping-right`]:{[`&:not(${K}-has-fix-right) ${K}-container`]:{position:"relative","&::after":{boxShadow:`inset -10px 0 8px -8px ${ee}`}},[`
          ${K}-cell-fix-right-first::after,
          ${K}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${ee}`}}}}},genPaginationStyle=H=>{const{componentCls:K,antCls:W}=H;return{[`${K}-wrapper`]:{[`${K}-pagination${W}-pagination`]:{margin:`${H.margin}px 0`},[`${K}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:H.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},genRadiusStyle=H=>{const{componentCls:K,tableRadius:W}=H;return{[`${K}-wrapper`]:{[K]:{[`${K}-title, ${K}-header`]:{borderRadius:`${W}px ${W}px 0 0`},[`${K}-title + ${K}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,table:{borderRadius:0,"> thead > tr:first-child":{"th:first-child":{borderRadius:0},"th:last-child":{borderRadius:0}}}},"&-container":{borderStartStartRadius:W,borderStartEndRadius:W,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:W},"> *:last-child":{borderStartEndRadius:W}}},"&-footer":{borderRadius:`0 0 ${W}px ${W}px`}}}}},genStyle=H=>{const{componentCls:K}=H;return{[`${K}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${K}-pagination-left`]:{justifyContent:"flex-end"},[`${K}-pagination-right`]:{justifyContent:"flex-start"},[`${K}-row-expand-icon`]:{"&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}}}}},genSelectionStyle=H=>{const{componentCls:K,antCls:W,iconCls:G,fontSizeIcon:U,paddingXS:X,tableHeaderIconColor:Q,tableHeaderIconColorHover:Z}=H;return{[`${K}-wrapper`]:{[`${K}-selection-col`]:{width:H.tableSelectionColumnWidth},[`${K}-bordered ${K}-selection-col`]:{width:H.tableSelectionColumnWidth+X*2},[`
        table tr th${K}-selection-column,
        table tr td${K}-selection-column
      `]:{paddingInlineEnd:H.paddingXS,paddingInlineStart:H.paddingXS,textAlign:"center",[`${W}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${K}-selection-column${K}-cell-fix-left`]:{zIndex:H.zIndexTableFixed+1},[`table tr th${K}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${K}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${K}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${H.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:`${H.tablePaddingHorizontal/4}px`,[G]:{color:Q,fontSize:U,verticalAlign:"baseline","&:hover":{color:Z}}}}}},genSizeStyle=H=>{const{componentCls:K}=H,W=(G,U,X,Q)=>({[`${K}${K}-${G}`]:{fontSize:Q,[`
        ${K}-title,
        ${K}-footer,
        ${K}-thead > tr > th,
        ${K}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${U}px ${X}px`},[`${K}-filter-trigger`]:{marginInlineEnd:`-${X/2}px`},[`${K}-expanded-row-fixed`]:{margin:`-${U}px -${X}px`},[`${K}-tbody`]:{[`${K}-wrapper:only-child ${K}`]:{marginBlock:`-${U}px`,marginInline:`${H.tableExpandColumnWidth-X}px -${X}px`}},[`${K}-selection-column`]:{paddingInlineStart:`${X/4}px`}}});return{[`${K}-wrapper`]:_extends$1(_extends$1({},W("middle",H.tablePaddingVerticalMiddle,H.tablePaddingHorizontalMiddle,H.tableFontSizeMiddle)),W("small",H.tablePaddingVerticalSmall,H.tablePaddingHorizontalSmall,H.tableFontSizeSmall))}},genResizeStyle=H=>{const{componentCls:K}=H;return{[`${K}-wrapper ${K}-resize-handle`]:{position:"absolute",top:0,height:"100% !important",bottom:0,left:" auto !important",right:" -8px",cursor:"col-resize",touchAction:"none",userSelect:"auto",width:"16px",zIndex:1,"&-line":{display:"block",width:"1px",marginLeft:"7px",height:"100% !important",backgroundColor:H.colorPrimary,opacity:0},"&:hover &-line":{opacity:1}},[`${K}-wrapper  ${K}-resize-handle.dragging`]:{overflow:"hidden",[`${K}-resize-handle-line`]:{opacity:1},"&:before":{position:"absolute",top:0,bottom:0,content:'" "',width:"200vw",transform:"translateX(-50%)",opacity:0}}}},genSorterStyle=H=>{const{componentCls:K,marginXXS:W,fontSizeIcon:G,tableHeaderIconColor:U,tableHeaderIconColorHover:X}=H;return{[`${K}-wrapper`]:{[`${K}-thead th${K}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${H.motionDurationSlow}`,"&:hover":{background:H.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:H.colorPrimary},[`
          &${K}-cell-fix-left:hover,
          &${K}-cell-fix-right:hover
        `]:{background:H.tableFixedHeaderSortActiveBg}},[`${K}-thead th${K}-column-sort`]:{background:H.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${K}-column-sort`]:{background:H.tableBodySortBg},[`${K}-column-title`]:{position:"relative",zIndex:1,flex:1},[`${K}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${K}-column-sorter`]:{marginInlineStart:W,color:U,fontSize:0,transition:`color ${H.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:G,"&.active":{color:H.colorPrimary}},[`${K}-column-sorter-up + ${K}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${K}-column-sorters:hover ${K}-column-sorter`]:{color:X}}}},genStickyStyle=H=>{const{componentCls:K,opacityLoading:W,tableScrollThumbBg:G,tableScrollThumbBgHover:U,tableScrollThumbSize:X,tableScrollBg:Q,zIndexTableSticky:Z}=H,ee=`${H.lineWidth}px ${H.lineType} ${H.tableBorderColor}`;return{[`${K}-wrapper`]:{[`${K}-sticky`]:{"&-holder":{position:"sticky",zIndex:Z,background:H.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${X}px !important`,zIndex:Z,display:"flex",alignItems:"center",background:Q,borderTop:ee,opacity:W,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:X,backgroundColor:G,borderRadius:100,transition:`all ${H.motionDurationSlow}, transform none`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:U}}}}}}},genSummaryStyle=H=>{const{componentCls:K,lineWidth:W,tableBorderColor:G}=H,U=`${W}px ${H.lineType} ${G}`;return{[`${K}-wrapper`]:{[`${K}-summary`]:{position:"relative",zIndex:H.zIndexTableFixed,background:H.tableBg,"> tr":{"> th, > td":{borderBottom:U}}},[`div${K}-summary`]:{boxShadow:`0 -${W}px 0 ${G}`}}}},genTableStyle=H=>{const{componentCls:K,fontWeightStrong:W,tablePaddingVertical:G,tablePaddingHorizontal:U,lineWidth:X,lineType:Q,tableBorderColor:Z,tableFontSize:ee,tableBg:ne,tableRadius:te,tableHeaderTextColor:oe,motionDurationMid:re,tableHeaderBg:ae,tableHeaderCellSplitColor:se,tableRowHoverBg:ce,tableSelectedRowBg:de,tableSelectedRowHoverBg:le,tableFooterTextColor:fe,tableFooterBg:pe,paddingContentVerticalLG:me}=H,ue=`${X}px ${Q} ${Z}`;return{[`${K}-wrapper`]:_extends$1(_extends$1({clear:"both",maxWidth:"100%"},clearFix()),{[K]:_extends$1(_extends$1({},resetComponent(H)),{fontSize:ee,background:ne,borderRadius:`${te}px ${te}px 0 0`}),table:{width:"100%",textAlign:"start",borderRadius:`${te}px ${te}px 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${K}-thead > tr > th,
          ${K}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${me}px ${U}px`,overflowWrap:"break-word"},[`${K}-title`]:{padding:`${G}px ${U}px`},[`${K}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:oe,fontWeight:W,textAlign:"start",background:ae,borderBottom:ue,transition:`background ${re} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${K}-selection-column):not(${K}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:se,transform:"translateY(-50%)",transition:`background-color ${re}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${K}:not(${K}-bordered)`]:{[`${K}-tbody`]:{"> tr":{"> td":{borderTop:ue,borderBottom:"transparent"},"&:last-child > td":{borderBottom:ue},[`&:first-child > td,
              &${K}-measure-row + tr > td`]:{borderTop:"none",borderTopColor:"transparent"}}}},[`${K}${K}-bordered`]:{[`${K}-tbody`]:{"> tr":{"> td":{borderBottom:ue}}}},[`${K}-tbody`]:{"> tr":{"> td":{transition:`background ${re}, border-color ${re}`,[`
              > ${K}-wrapper:only-child,
              > ${K}-expanded-row-fixed > ${K}-wrapper:only-child
            `]:{[K]:{marginBlock:`-${G}px`,marginInline:`${H.tableExpandColumnWidth-U}px -${U}px`,[`${K}-tbody > tr:last-child > td`]:{borderBottom:0,"&:first-child, &:last-child":{borderRadius:0}}}}},[`
            &${K}-row:hover > td,
            > td${K}-cell-row-hover
          `]:{background:ce},[`&${K}-row-selected`]:{"> td":{background:de},"&:hover > td":{background:le}}}},[`${K}-footer`]:{padding:`${G}px ${U}px`,color:fe,background:pe}})}},useStyle$1=genComponentStyleHook("Table",H=>{const{controlItemBgActive:K,controlItemBgActiveHover:W,colorTextPlaceholder:G,colorTextHeading:U,colorSplit:X,colorBorderSecondary:Q,fontSize:Z,padding:ee,paddingXS:ne,paddingSM:te,controlHeight:oe,colorFillAlter:re,colorIcon:ae,colorIconHover:se,opacityLoading:ce,colorBgContainer:de,borderRadiusLG:le,colorFillContent:fe,colorFillSecondary:pe,controlInteractiveSize:me}=H,ue=new TinyColor(ae),ge=new TinyColor(se),he=K,ve=2,ye=new TinyColor(pe).onBackground(de).toHexString(),be=new TinyColor(fe).onBackground(de).toHexString(),Se=new TinyColor(re).onBackground(de).toHexString(),Ce=merge(H,{tableFontSize:Z,tableBg:de,tableRadius:le,tablePaddingVertical:ee,tablePaddingHorizontal:ee,tablePaddingVerticalMiddle:te,tablePaddingHorizontalMiddle:ne,tablePaddingVerticalSmall:ne,tablePaddingHorizontalSmall:ne,tableBorderColor:Q,tableHeaderTextColor:U,tableHeaderBg:Se,tableFooterTextColor:U,tableFooterBg:Se,tableHeaderCellSplitColor:Q,tableHeaderSortBg:ye,tableHeaderSortHoverBg:be,tableHeaderIconColor:ue.clone().setAlpha(ue.getAlpha()*ce).toRgbString(),tableHeaderIconColorHover:ge.clone().setAlpha(ge.getAlpha()*ce).toRgbString(),tableBodySortBg:Se,tableFixedHeaderSortActiveBg:ye,tableHeaderFilterActiveBg:fe,tableFilterDropdownBg:de,tableRowHoverBg:Se,tableSelectedRowBg:he,tableSelectedRowHoverBg:W,zIndexTableFixed:ve,zIndexTableSticky:ve+1,tableFontSizeMiddle:Z,tableFontSizeSmall:Z,tableSelectionColumnWidth:oe,tableExpandIconBg:de,tableExpandColumnWidth:me+2*H.padding,tableExpandedRowBg:re,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:G,tableScrollThumbBgHover:U,tableScrollBg:X});return[genTableStyle(Ce),genPaginationStyle(Ce),genSummaryStyle(Ce),genSorterStyle(Ce),genFilterStyle(Ce),genBorderedStyle(Ce),genRadiusStyle(Ce),genExpandStyle(Ce),genSummaryStyle(Ce),genEmptyStyle(Ce),genSelectionStyle(Ce),genFixedStyle(Ce),genStickyStyle(Ce),genEllipsisStyle(Ce),genSizeStyle(Ce),genResizeStyle(Ce),genStyle(Ce)]}),EMPTY_LIST=[],tableProps=()=>({prefixCls:stringType(),columns:arrayType(),rowKey:someType([String,Function]),tableLayout:stringType(),rowClassName:someType([String,Function]),title:functionType(),footer:functionType(),id:stringType(),showHeader:booleanType(),components:objectType(),customRow:functionType(),customHeaderRow:functionType(),direction:stringType(),expandFixed:someType([Boolean,String]),expandColumnWidth:Number,expandedRowKeys:arrayType(),defaultExpandedRowKeys:arrayType(),expandedRowRender:functionType(),expandRowByClick:booleanType(),expandIcon:functionType(),onExpand:functionType(),onExpandedRowsChange:functionType(),"onUpdate:expandedRowKeys":functionType(),defaultExpandAllRows:booleanType(),indentSize:Number,expandIconColumnIndex:Number,showExpandColumn:booleanType(),expandedRowClassName:functionType(),childrenColumnName:stringType(),rowExpandable:functionType(),sticky:someType([Boolean,Object]),dropdownPrefixCls:String,dataSource:arrayType(),pagination:someType([Boolean,Object]),loading:someType([Boolean,Object]),size:stringType(),bordered:booleanType(),locale:objectType(),onChange:functionType(),onResizeColumn:functionType(),rowSelection:objectType(),getPopupContainer:functionType(),scroll:objectType(),sortDirections:arrayType(),showSorterTooltip:someType([Boolean,Object],!0),transformCellText:functionType()}),InternalTable=defineComponent({name:"InternalTable",inheritAttrs:!1,props:initDefaultProps(_extends$1(_extends$1({},tableProps()),{contextSlots:objectType()}),{rowKey:"key"}),setup(H,K){let{attrs:W,slots:G,expose:U,emit:X}=K;devWarning(!(typeof H.rowKey=="function"&&H.rowKey.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected."),useProvideSlots(computed(()=>H.contextSlots)),useProvideTableContext({onResizeColumn:(Me,Je)=>{X("resizeColumn",Me,Je)}});const Q=useBreakpoint(),Z=computed(()=>{const Me=new Set(Object.keys(Q.value).filter(Je=>Q.value[Je]));return H.columns.filter(Je=>!Je.responsive||Je.responsive.some(Fe=>Me.has(Fe)))}),{size:ee,renderEmpty:ne,direction:te,prefixCls:oe,configProvider:re}=useConfigInject("table",H),[ae,se]=useStyle$1(oe),ce=computed(()=>{var Me;return H.transformCellText||((Me=re.transformCellText)===null||Me===void 0?void 0:Me.value)}),[de]=useLocaleReceiver("Table",localeValues.Table,toRef(H,"locale")),le=computed(()=>H.dataSource||EMPTY_LIST),fe=computed(()=>re.getPrefixCls("dropdown",H.dropdownPrefixCls)),pe=computed(()=>H.childrenColumnName||"children"),me=computed(()=>le.value.some(Me=>Me?.[pe.value])?"nest":H.expandedRowRender?"row":null),ue=reactive({body:null}),ge=Me=>{_extends$1(ue,Me)},he=computed(()=>typeof H.rowKey=="function"?H.rowKey:Me=>Me?.[H.rowKey]),[ve]=useLazyKVMap(le,pe,he),ye={},be=function(Me,Je){let Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{pagination:Oe,scroll:Qe,onChange:Ie}=H,De=_extends$1(_extends$1({},ye),Me);Fe&&(ye.resetPagination(),De.pagination.current&&(De.pagination.current=1),Oe&&Oe.onChange&&Oe.onChange(1,De.pagination.pageSize)),Qe&&Qe.scrollToFirstRowOnChange!==!1&&ue.body&&scrollTo(0,{getContainer:()=>ue.body}),Ie?.(De.pagination,De.filters,De.sorter,{currentDataSource:getFilterData(getSortData(le.value,De.sorterStates,pe.value),De.filterStates),action:Je})},Se=(Me,Je)=>{be({sorter:Me,sorterStates:Je},"sort",!1)},[Ce,xe,Ne,$e]=useFilterSorter({prefixCls:oe,mergedColumns:Z,onSorterChange:Se,sortDirections:computed(()=>H.sortDirections||["ascend","descend"]),tableLocale:de,showSorterTooltip:toRef(H,"showSorterTooltip")}),Ee=computed(()=>getSortData(le.value,xe.value,pe.value)),Te=(Me,Je)=>{be({filters:Me,filterStates:Je},"filter",!0)},[Be,Ae,ze]=useFilter({prefixCls:oe,locale:de,dropdownPrefixCls:fe,mergedColumns:Z,onFilterChange:Te,getPopupContainer:toRef(H,"getPopupContainer")}),We=computed(()=>getFilterData(Ee.value,Ae.value)),[Le]=useColumns(toRef(H,"contextSlots")),Ze=computed(()=>{const Me={},Je=ze.value;return Object.keys(Je).forEach(Fe=>{Je[Fe]!==null&&(Me[Fe]=Je[Fe])}),_extends$1(_extends$1({},Ne.value),{filters:Me})}),[Ye]=useTitleColumns(Ze),Re=(Me,Je)=>{be({pagination:_extends$1(_extends$1({},ye.pagination),{current:Me,pageSize:Je})},"paginate")},[Ke,we]=usePagination(computed(()=>We.value.length),toRef(H,"pagination"),Re);watchEffect(()=>{ye.sorter=$e.value,ye.sorterStates=xe.value,ye.filters=ze.value,ye.filterStates=Ae.value,ye.pagination=H.pagination===!1?{}:getPaginationParam(Ke.value,H.pagination),ye.resetPagination=we});const _e=computed(()=>{if(H.pagination===!1||!Ke.value.pageSize)return We.value;const{current:Me=1,total:Je,pageSize:Fe=DEFAULT_PAGE_SIZE}=Ke.value;return devWarning(Me>0,"Table","`current` should be positive number."),We.value.length<Je?We.value.length>Fe?We.value.slice((Me-1)*Fe,Me*Fe):We.value:We.value.slice((Me-1)*Fe,Me*Fe)});watchEffect(()=>{nextTick(()=>{const{total:Me,pageSize:Je=DEFAULT_PAGE_SIZE}=Ke.value;We.value.length<Me&&We.value.length>Je&&devWarning(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode.")})},{flush:"post"});const Ve=computed(()=>H.showExpandColumn===!1?-1:me.value==="nest"&&H.expandIconColumnIndex===void 0?H.rowSelection?1:0:H.expandIconColumnIndex>0&&H.rowSelection?H.expandIconColumnIndex-1:H.expandIconColumnIndex),je=ref();watch(()=>H.rowSelection,()=>{je.value=H.rowSelection?_extends$1({},H.rowSelection):H.rowSelection},{deep:!0,immediate:!0});const[qe,Pe]=useSelection(je,{prefixCls:oe,data:We,pageData:_e,getRowKey:he,getRecordByKey:ve,expandType:me,childrenColumnName:pe,locale:de,getPopupContainer:computed(()=>H.getPopupContainer)}),ke=(Me,Je,Fe)=>{let Oe;const{rowClassName:Qe}=H;return typeof Qe=="function"?Oe=classNames(Qe(Me,Je,Fe)):Oe=classNames(Qe),classNames({[`${oe.value}-row-selected`]:Pe.value.has(he.value(Me,Je))},Oe)};U({selectedKeySet:Pe});const Ue=computed(()=>typeof H.indentSize=="number"?H.indentSize:15),He=Me=>Ye(qe(Be(Ce(Le(Me)))));return()=>{var Me;const{expandIcon:Je=G.expandIcon||renderExpandIcon(de.value),pagination:Fe,loading:Oe,bordered:Qe}=H;let Ie,De;if(Fe!==!1&&(!((Me=Ke.value)===null||Me===void 0)&&Me.total)){let nt;Ke.value.size?nt=Ke.value.size:nt=ee.value==="small"||ee.value==="middle"?"small":void 0;const it=ht=>createVNode(Pagination,_objectSpread2$1(_objectSpread2$1({},Ke.value),{},{class:[`${oe.value}-pagination ${oe.value}-pagination-${ht}`,Ke.value.class],size:nt}),null),ct=te.value==="rtl"?"left":"right",{position:pt}=Ke.value;if(pt!==null&&Array.isArray(pt)){const ht=pt.find(rt=>rt.includes("top")),Ge=pt.find(rt=>rt.includes("bottom")),Xe=pt.every(rt=>`${rt}`=="none");!ht&&!Ge&&!Xe&&(De=it(ct)),ht&&(Ie=it(ht.toLowerCase().replace("top",""))),Ge&&(De=it(Ge.toLowerCase().replace("bottom","")))}else De=it(ct)}let ot;typeof Oe=="boolean"?ot={spinning:Oe}:typeof Oe=="object"&&(ot=_extends$1({spinning:!0},Oe));const st=classNames(`${oe.value}-wrapper`,{[`${oe.value}-wrapper-rtl`]:te.value==="rtl"},W.class,se.value),et=omit$1(H,["columns"]);return ae(createVNode("div",{class:st,style:W.style},[createVNode(Spin,_objectSpread2$1({spinning:!1},ot),{default:()=>[Ie,createVNode(Table$1,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},W),et),{},{expandedRowKeys:H.expandedRowKeys,defaultExpandedRowKeys:H.defaultExpandedRowKeys,expandIconColumnIndex:Ve.value,indentSize:Ue.value,expandIcon:Je,columns:Z.value,direction:te.value,prefixCls:oe.value,class:classNames({[`${oe.value}-middle`]:ee.value==="middle",[`${oe.value}-small`]:ee.value==="small",[`${oe.value}-bordered`]:Qe,[`${oe.value}-empty`]:le.value.length===0}),data:_e.value,rowKey:he.value,rowClassName:ke,internalHooks:INTERNAL_HOOKS,internalRefs:ue,onUpdateInternalRefs:ge,transformColumns:He,transformCellText:ce.value}),_extends$1(_extends$1({},G),{emptyText:()=>{var nt,it;return((nt=G.emptyText)===null||nt===void 0?void 0:nt.call(G))||((it=H.locale)===null||it===void 0?void 0:it.emptyText)||ne("Table")}})),De]})]))}}}),Table=defineComponent({name:"ATable",inheritAttrs:!1,props:initDefaultProps(tableProps(),{rowKey:"key"}),slots:Object,setup(H,K){let{attrs:W,slots:G,expose:U}=K;const X=ref();return U({table:X}),()=>{var Q;const Z=H.columns||convertChildrenToColumns((Q=G.default)===null||Q===void 0?void 0:Q.call(G));return createVNode(InternalTable,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({ref:X},W),H),{},{columns:Z||[],expandedRowRender:G.expandedRowRender||H.expandedRowRender,contextSlots:_extends$1({},G)}),G)}}}),Column=defineComponent({name:"ATableColumn",slots:Object,render(){return null}}),ColumnGroup=defineComponent({name:"ATableColumnGroup",slots:Object,__ANT_TABLE_COLUMN_GROUP:!0,render(){return null}}),TableSummaryRow=SummaryRow,TableSummaryCell=SummaryCell,TableSummary=_extends$1(FooterComponents,{Cell:TableSummaryCell,Row:TableSummaryRow,name:"ATableSummary"}),__unplugin_components_6=_extends$1(Table,{SELECTION_ALL,SELECTION_INVERT,SELECTION_NONE,SELECTION_COLUMN,EXPAND_COLUMN,Column,ColumnGroup,Summary:TableSummary,install:H=>(H.component(TableSummary.name,TableSummary),H.component(TableSummaryCell.name,TableSummaryCell),H.component(TableSummaryRow.name,TableSummaryRow),H.component(Table.name,Table),H.component(Column.name,Column),H.component(ColumnGroup.name,ColumnGroup),H)});var DownloadOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};function _objectSpread$f(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$f(H,U,W[U])})}return H}function _defineProperty$f(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var DownloadOutlined=function(K,W){var G=_objectSpread$f({},K,W.attrs);return createVNode(Icon,_objectSpread$f({},G,{icon:DownloadOutlined$1}),null)};DownloadOutlined.displayName="DownloadOutlined";DownloadOutlined.inheritAttrs=!1;function getItemDisabledStyle(H,K){return{[`${H}, ${H}:hover, ${H}:focus`]:{color:K.colorTextDisabled,cursor:"not-allowed"}}}function getItemSelectedStyle(H){return{backgroundColor:H.bgColorSelected,boxShadow:H.boxShadow}}const segmentedTextEllipsisCss=_extends$1({overflow:"hidden"},textEllipsis),genSegmentedStyle=H=>{const{componentCls:K}=H;return{[K]:_extends$1(_extends$1(_extends$1(_extends$1(_extends$1({},resetComponent(H)),{display:"inline-block",padding:H.segmentedContainerPadding,color:H.labelColor,backgroundColor:H.bgColor,borderRadius:H.borderRadius,transition:`all ${H.motionDurationMid} ${H.motionEaseInOut}`,[`${K}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",width:"100%"},[`&${K}-rtl`]:{direction:"rtl"},[`&${K}-block`]:{display:"flex"},[`&${K}-block ${K}-item`]:{flex:1,minWidth:0},[`${K}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${H.motionDurationMid} ${H.motionEaseInOut}`,borderRadius:H.borderRadiusSM,"&-selected":_extends$1(_extends$1({},getItemSelectedStyle(H)),{color:H.labelColorHover}),"&::after":{content:'""',position:"absolute",width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",transition:`background-color ${H.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${K}-item-selected):not(${K}-item-disabled)`]:{color:H.labelColorHover,"&::after":{backgroundColor:H.bgColorHover}},"&-label":_extends$1({minHeight:H.controlHeight-H.segmentedContainerPadding*2,lineHeight:`${H.controlHeight-H.segmentedContainerPadding*2}px`,padding:`0 ${H.segmentedPaddingHorizontal}px`},segmentedTextEllipsisCss),"&-icon + *":{marginInlineStart:H.marginSM/2},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${K}-thumb`]:_extends$1(_extends$1({},getItemSelectedStyle(H)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${H.paddingXXS}px 0`,borderRadius:H.borderRadiusSM,[`& ~ ${K}-item:not(${K}-item-selected):not(${K}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${K}-lg`]:{borderRadius:H.borderRadiusLG,[`${K}-item-label`]:{minHeight:H.controlHeightLG-H.segmentedContainerPadding*2,lineHeight:`${H.controlHeightLG-H.segmentedContainerPadding*2}px`,padding:`0 ${H.segmentedPaddingHorizontal}px`,fontSize:H.fontSizeLG},[`${K}-item, ${K}-thumb`]:{borderRadius:H.borderRadius}},[`&${K}-sm`]:{borderRadius:H.borderRadiusSM,[`${K}-item-label`]:{minHeight:H.controlHeightSM-H.segmentedContainerPadding*2,lineHeight:`${H.controlHeightSM-H.segmentedContainerPadding*2}px`,padding:`0 ${H.segmentedPaddingHorizontalSM}px`},[`${K}-item, ${K}-thumb`]:{borderRadius:H.borderRadiusXS}}}),getItemDisabledStyle(`&-disabled ${K}-item`,H)),getItemDisabledStyle(`${K}-item-disabled`,H)),{[`${K}-thumb-motion-appear-active`]:{transition:`transform ${H.motionDurationSlow} ${H.motionEaseInOut}, width ${H.motionDurationSlow} ${H.motionEaseInOut}`,willChange:"transform, width"}})}},useStyle=genComponentStyleHook("Segmented",H=>{const{lineWidthBold:K,lineWidth:W,colorTextLabel:G,colorText:U,colorFillSecondary:X,colorBgLayout:Q,colorBgElevated:Z}=H,ee=merge(H,{segmentedPaddingHorizontal:H.controlPaddingHorizontal-W,segmentedPaddingHorizontalSM:H.controlPaddingHorizontalSM-W,segmentedContainerPadding:K,labelColor:G,labelColorHover:U,bgColor:Q,bgColorHover:X,bgColorSelected:Z});return[genSegmentedStyle(ee)]}),calcThumbStyle=H=>H?{left:H.offsetLeft,right:H.parentElement.clientWidth-H.clientWidth-H.offsetLeft,width:H.clientWidth}:null,toPX=H=>H!==void 0?`${H}px`:void 0,MotionThumb=defineComponent({props:{value:anyType(),getValueIndex:anyType(),prefixCls:anyType(),motionName:anyType(),onMotionStart:anyType(),onMotionEnd:anyType(),direction:anyType(),containerRef:anyType()},emits:["motionStart","motionEnd"],setup(H,K){let{emit:W}=K;const G=ref(),U=se=>{var ce;const de=H.getValueIndex(se),le=(ce=H.containerRef.value)===null||ce===void 0?void 0:ce.querySelectorAll(`.${H.prefixCls}-item`)[de];return le?.offsetParent&&le},X=ref(null),Q=ref(null);watch(()=>H.value,(se,ce)=>{const de=U(ce),le=U(se),fe=calcThumbStyle(de),pe=calcThumbStyle(le);X.value=fe,Q.value=pe,W(de&&le?"motionStart":"motionEnd")},{flush:"post"});const Z=computed(()=>{var se,ce;return H.direction==="rtl"?toPX(-((se=X.value)===null||se===void 0?void 0:se.right)):toPX((ce=X.value)===null||ce===void 0?void 0:ce.left)}),ee=computed(()=>{var se,ce;return H.direction==="rtl"?toPX(-((se=Q.value)===null||se===void 0?void 0:se.right)):toPX((ce=Q.value)===null||ce===void 0?void 0:ce.left)});let ne;const te=se=>{clearTimeout(ne),nextTick(()=>{se&&(se.style.transform="translateX(var(--thumb-start-left))",se.style.width="var(--thumb-start-width)")})},oe=se=>{ne=setTimeout(()=>{se&&(addClass(se,`${H.motionName}-appear-active`),se.style.transform="translateX(var(--thumb-active-left))",se.style.width="var(--thumb-active-width)")})},re=se=>{X.value=null,Q.value=null,se&&(se.style.transform=null,se.style.width=null,removeClass(se,`${H.motionName}-appear-active`)),W("motionEnd")},ae=computed(()=>{var se,ce;return{"--thumb-start-left":Z.value,"--thumb-start-width":toPX((se=X.value)===null||se===void 0?void 0:se.width),"--thumb-active-left":ee.value,"--thumb-active-width":toPX((ce=Q.value)===null||ce===void 0?void 0:ce.width)}});return onBeforeUnmount(()=>{clearTimeout(ne)}),()=>{const se={ref:G,style:ae.value,class:[`${H.prefixCls}-thumb`]};return createVNode(Transition,{appear:!0,onBeforeEnter:te,onEnter:oe,onAfterEnter:re},{default:()=>[!X.value||!Q.value?null:createVNode("div",se,null)]})}}});function normalizeOptions(H){return H.map(K=>typeof K=="object"&&K!==null?K:{label:K?.toString(),title:K?.toString(),value:K})}const segmentedProps=()=>({prefixCls:String,options:arrayType(),block:booleanType(),disabled:booleanType(),size:stringType(),value:_extends$1(_extends$1({},someType([String,Number])),{required:!0}),motionName:String,onChange:functionType(),"onUpdate:value":functionType()}),SegmentedOption=(H,K)=>{let{slots:W,emit:G}=K;const{value:U,disabled:X,payload:Q,title:Z,prefixCls:ee,label:ne=W.label,checked:te,className:oe}=H,re=ae=>{X||G("change",ae,U)};return createVNode("label",{class:classNames({[`${ee}-item-disabled`]:X},oe)},[createVNode("input",{class:`${ee}-item-input`,type:"radio",disabled:X,checked:te,onChange:re},null),createVNode("div",{class:`${ee}-item-label`,title:typeof Z=="string"?Z:""},[typeof ne=="function"?ne({value:U,disabled:X,payload:Q,title:Z}):ne??U])])};SegmentedOption.inheritAttrs=!1;const Segmented=defineComponent({name:"ASegmented",inheritAttrs:!1,props:initDefaultProps(segmentedProps(),{options:[],motionName:"thumb-motion"}),slots:Object,setup(H,K){let{emit:W,slots:G,attrs:U}=K;const{prefixCls:X,direction:Q,size:Z}=useConfigInject("segmented",H),[ee,ne]=useStyle(X),te=shallowRef(),oe=shallowRef(!1),re=computed(()=>normalizeOptions(H.options)),ae=(se,ce)=>{H.disabled||(W("update:value",ce),W("change",ce))};return()=>{const se=X.value;return ee(createVNode("div",_objectSpread2$1(_objectSpread2$1({},U),{},{class:classNames(se,{[ne.value]:!0,[`${se}-block`]:H.block,[`${se}-disabled`]:H.disabled,[`${se}-lg`]:Z.value=="large",[`${se}-sm`]:Z.value=="small",[`${se}-rtl`]:Q.value==="rtl"},U.class),ref:te}),[createVNode("div",{class:`${se}-group`},[createVNode(MotionThumb,{containerRef:te,prefixCls:se,value:H.value,motionName:`${se}-${H.motionName}`,direction:Q.value,getValueIndex:ce=>re.value.findIndex(de=>de.value===ce),onMotionStart:()=>{oe.value=!0},onMotionEnd:()=>{oe.value=!1}},null),re.value.map(ce=>createVNode(SegmentedOption,_objectSpread2$1(_objectSpread2$1({key:ce.value,prefixCls:se,checked:ce.value===H.value,onChange:ae},ce),{},{className:classNames(ce.className,`${se}-item`,{[`${se}-item-selected`]:ce.value===H.value&&!oe.value}),disabled:!!H.disabled||!!ce.disabled}),G))])]))}}}),__unplugin_components_0=withInstall(Segmented);var BugOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M304 280h56c4.4 0 8-3.6 8-8 0-28.3 5.9-53.2 17.1-73.5 10.6-19.4 26-34.8 45.4-45.4C450.9 142 475.7 136 504 136h16c28.3 0 53.2 5.9 73.5 17.1 19.4 10.6 34.8 26 45.4 45.4C650 218.9 656 243.7 656 272c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-40-8.8-76.7-25.9-108.1a184.31 184.31 0 00-74-74C596.7 72.8 560 64 520 64h-16c-40 0-76.7 8.8-108.1 25.9a184.31 184.31 0 00-74 74C304.8 195.3 296 232 296 272c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M940 512H792V412c76.8 0 139-62.2 139-139 0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8a63 63 0 01-63 63H232a63 63 0 01-63-63c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 76.8 62.2 139 139 139v100H84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h148v96c0 6.5.2 13 .7 19.3C164.1 728.6 116 796.7 116 876c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-44.2 23.9-82.9 59.6-103.7a273 273 0 0022.7 49c24.3 41.5 59 76.2 100.5 100.5S460.5 960 512 960s99.8-13.9 141.3-38.2a281.38 281.38 0 00123.2-149.5A120 120 0 01836 876c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-79.3-48.1-147.4-116.7-176.7.4-6.4.7-12.8.7-19.3v-96h148c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM716 680c0 36.8-9.7 72-27.8 102.9-17.7 30.3-43 55.6-73.3 73.3C584 874.3 548.8 884 512 884s-72-9.7-102.9-27.8c-30.3-17.7-55.6-43-73.3-73.3A202.75 202.75 0 01308 680V412h408v268z"}}]},name:"bug",theme:"outlined"};function _objectSpread$e(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$e(H,U,W[U])})}return H}function _defineProperty$e(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var BugOutlined=function(K,W){var G=_objectSpread$e({},K,W.attrs);return createVNode(Icon,_objectSpread$e({},G,{icon:BugOutlined$1}),null)};BugOutlined.displayName="BugOutlined";BugOutlined.inheritAttrs=!1;var ClearOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};function _objectSpread$d(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$d(H,U,W[U])})}return H}function _defineProperty$d(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var ClearOutlined=function(K,W){var G=_objectSpread$d({},K,W.attrs);return createVNode(Icon,_objectSpread$d({},G,{icon:ClearOutlined$1}),null)};ClearOutlined.displayName="ClearOutlined";ClearOutlined.inheritAttrs=!1;var CodeOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M516 673c0 4.4 3.4 8 7.5 8h185c4.1 0 7.5-3.6 7.5-8v-48c0-4.4-3.4-8-7.5-8h-185c-4.1 0-7.5 3.6-7.5 8v48zm-194.9 6.1l192-161c3.8-3.2 3.8-9.1 0-12.3l-192-160.9A7.95 7.95 0 00308 351v62.7c0 2.4 1 4.6 2.9 6.1L420.7 512l-109.8 92.2a8.1 8.1 0 00-2.9 6.1V673c0 6.8 7.9 10.5 13.1 6.1zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"code",theme:"outlined"};function _objectSpread$c(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$c(H,U,W[U])})}return H}function _defineProperty$c(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var CodeOutlined=function(K,W){var G=_objectSpread$c({},K,W.attrs);return createVNode(Icon,_objectSpread$c({},G,{icon:CodeOutlined$1}),null)};CodeOutlined.displayName="CodeOutlined";CodeOutlined.inheritAttrs=!1;var FastForwardOutlined$1={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M793.8 499.3L506.4 273.5c-10.7-8.4-26.4-.8-26.4 12.7v451.6c0 13.5 15.7 21.1 26.4 12.7l287.4-225.8a16.14 16.14 0 000-25.4zm-320 0L186.4 273.5c-10.7-8.4-26.4-.8-26.4 12.7v451.5c0 13.5 15.7 21.1 26.4 12.7l287.4-225.8c4.1-3.2 6.2-8 6.2-12.7 0-4.6-2.1-9.4-6.2-12.6zM857.6 248h-51.2c-3.5 0-6.4 2.7-6.4 6v516c0 3.3 2.9 6 6.4 6h51.2c3.5 0 6.4-2.7 6.4-6V254c0-3.3-2.9-6-6.4-6z"}}]},name:"fast-forward",theme:"outlined"};function _objectSpread$b(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$b(H,U,W[U])})}return H}function _defineProperty$b(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var FastForwardOutlined=function(K,W){var G=_objectSpread$b({},K,W.attrs);return createVNode(Icon,_objectSpread$b({},G,{icon:FastForwardOutlined$1}),null)};FastForwardOutlined.displayName="FastForwardOutlined";FastForwardOutlined.inheritAttrs=!1;var FilterOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"}}]},name:"filter",theme:"outlined"};function _objectSpread$a(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$a(H,U,W[U])})}return H}function _defineProperty$a(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var FilterOutlined=function(K,W){var G=_objectSpread$a({},K,W.attrs);return createVNode(Icon,_objectSpread$a({},G,{icon:FilterOutlined$1}),null)};FilterOutlined.displayName="FilterOutlined";FilterOutlined.inheritAttrs=!1;var FormatPainterOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M840 192h-56v-72c0-13.3-10.7-24-24-24H168c-13.3 0-24 10.7-24 24v272c0 13.3 10.7 24 24 24h592c13.3 0 24-10.7 24-24V256h32v200H465c-22.1 0-40 17.9-40 40v136h-44c-4.4 0-8 3.6-8 8v228c0 .6.1 1.3.2 1.9A83.99 83.99 0 00457 960c46.4 0 84-37.6 84-84 0-2.1-.1-4.1-.2-6.1.1-.6.2-1.2.2-1.9V640c0-4.4-3.6-8-8-8h-44V520h351c22.1 0 40-17.9 40-40V232c0-22.1-17.9-40-40-40zM720 352H208V160h512v192zM477 876c0 11-9 20-20 20s-20-9-20-20V696h40v180z"}}]},name:"format-painter",theme:"outlined"};function _objectSpread$9(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$9(H,U,W[U])})}return H}function _defineProperty$9(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var FormatPainterOutlined=function(K,W){var G=_objectSpread$9({},K,W.attrs);return createVNode(Icon,_objectSpread$9({},G,{icon:FormatPainterOutlined$1}),null)};FormatPainterOutlined.displayName="FormatPainterOutlined";FormatPainterOutlined.inheritAttrs=!1;var HistoryOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M536.1 273H488c-4.4 0-8 3.6-8 8v275.3c0 2.6 1.2 5 3.3 6.5l165.3 120.7c3.6 2.6 8.6 1.9 11.2-1.7l28.6-39c2.7-3.7 1.9-8.7-1.7-11.2L544.1 528.5V281c0-4.4-3.6-8-8-8zm219.8 75.2l156.8 38.3c5 1.2 9.9-2.6 9.9-7.7l.8-161.5c0-6.7-7.7-10.5-12.9-6.3L752.9 334.1a8 8 0 003 14.1zm167.7 301.1l-56.7-19.5a8 8 0 00-10.1 4.8c-1.9 5.1-3.9 10.1-6 15.1-17.8 42.1-43.3 80-75.9 112.5a353 353 0 01-112.5 75.9 352.18 352.18 0 01-137.7 27.8c-47.8 0-94.1-9.3-137.7-27.8a353 353 0 01-112.5-75.9c-32.5-32.5-58-70.4-75.9-112.5A353.44 353.44 0 01171 512c0-47.8 9.3-94.2 27.8-137.8 17.8-42.1 43.3-80 75.9-112.5a353 353 0 01112.5-75.9C430.6 167.3 477 158 524.8 158s94.1 9.3 137.7 27.8A353 353 0 01775 261.7c10.2 10.3 19.8 21 28.6 32.3l59.8-46.8C784.7 146.6 662.2 81.9 524.6 82 285 82.1 92.6 276.7 95 516.4 97.4 751.9 288.9 942 524.8 942c185.5 0 343.5-117.6 403.7-282.3 1.5-4.2-.7-8.9-4.9-10.4z"}}]},name:"history",theme:"outlined"};function _objectSpread$8(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$8(H,U,W[U])})}return H}function _defineProperty$8(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var HistoryOutlined=function(K,W){var G=_objectSpread$8({},K,W.attrs);return createVNode(Icon,_objectSpread$8({},G,{icon:HistoryOutlined$1}),null)};HistoryOutlined.displayName="HistoryOutlined";HistoryOutlined.inheritAttrs=!1;var PlayCircleOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"};function _objectSpread$7(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$7(H,U,W[U])})}return H}function _defineProperty$7(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var PlayCircleOutlined=function(K,W){var G=_objectSpread$7({},K,W.attrs);return createVNode(Icon,_objectSpread$7({},G,{icon:PlayCircleOutlined$1}),null)};PlayCircleOutlined.displayName="PlayCircleOutlined";PlayCircleOutlined.inheritAttrs=!1;var RedoOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"};function _objectSpread$6(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$6(H,U,W[U])})}return H}function _defineProperty$6(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var RedoOutlined=function(K,W){var G=_objectSpread$6({},K,W.attrs);return createVNode(Icon,_objectSpread$6({},G,{icon:RedoOutlined$1}),null)};RedoOutlined.displayName="RedoOutlined";RedoOutlined.inheritAttrs=!1;var ReloadOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"};function _objectSpread$5(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$5(H,U,W[U])})}return H}function _defineProperty$5(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var ReloadOutlined=function(K,W){var G=_objectSpread$5({},K,W.attrs);return createVNode(Icon,_objectSpread$5({},G,{icon:ReloadOutlined$1}),null)};ReloadOutlined.displayName="ReloadOutlined";ReloadOutlined.inheritAttrs=!1;var SaveOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"};function _objectSpread$4(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$4(H,U,W[U])})}return H}function _defineProperty$4(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var SaveOutlined=function(K,W){var G=_objectSpread$4({},K,W.attrs);return createVNode(Icon,_objectSpread$4({},G,{icon:SaveOutlined$1}),null)};SaveOutlined.displayName="SaveOutlined";SaveOutlined.inheritAttrs=!1;var SendOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"};function _objectSpread$3(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$3(H,U,W[U])})}return H}function _defineProperty$3(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var SendOutlined=function(K,W){var G=_objectSpread$3({},K,W.attrs);return createVNode(Icon,_objectSpread$3({},G,{icon:SendOutlined$1}),null)};SendOutlined.displayName="SendOutlined";SendOutlined.inheritAttrs=!1;var UndoOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}}]},name:"undo",theme:"outlined"};function _objectSpread$2(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$2(H,U,W[U])})}return H}function _defineProperty$2(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var UndoOutlined=function(K,W){var G=_objectSpread$2({},K,W.attrs);return createVNode(Icon,_objectSpread$2({},G,{icon:UndoOutlined$1}),null)};UndoOutlined.displayName="UndoOutlined";UndoOutlined.inheritAttrs=!1;var UploadOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};function _objectSpread$1(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty$1(H,U,W[U])})}return H}function _defineProperty$1(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var UploadOutlined=function(K,W){var G=_objectSpread$1({},K,W.attrs);return createVNode(Icon,_objectSpread$1({},G,{icon:UploadOutlined$1}),null)};UploadOutlined.displayName="UploadOutlined";UploadOutlined.inheritAttrs=!1;var WarningOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"};function _objectSpread(H){for(var K=1;K<arguments.length;K++){var W=arguments[K]!=null?Object(arguments[K]):{},G=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(W).filter(function(U){return Object.getOwnPropertyDescriptor(W,U).enumerable}))),G.forEach(function(U){_defineProperty(H,U,W[U])})}return H}function _defineProperty(H,K,W){return K in H?Object.defineProperty(H,K,{value:W,enumerable:!0,configurable:!0,writable:!0}):H[K]=W,H}var WarningOutlined=function(K,W){var G=_objectSpread({},K,W.attrs);return createVNode(Icon,_objectSpread({},G,{icon:WarningOutlined$1}),null)};WarningOutlined.displayName="WarningOutlined";WarningOutlined.inheritAttrs=!1;function withTimeout(H,K,W="Operation timed out"){const G=new Promise((U,X)=>{const Q=setTimeout(()=>{clearTimeout(Q),X(new Error(W))},K)});return Promise.race([H,G])}const DATAPOINT_CONFIG={"ess/em_pos":{expectedHz:60,maxHz:120,priority:"high",category:"eye_tracking"},"ess/em_region_status":{expectedHz:30,maxHz:60,priority:"high",category:"eye_tracking"},"ess/touch_region_status":{expectedHz:30,maxHz:60,priority:"high",category:"touch_tracking"},"mtouch/touchvals":{expectedHz:60,maxHz:120,priority:"high",category:"touch_tracking"},"ess/block_pct_complete":{expectedHz:2,maxHz:10,priority:"medium",category:"performance"},"ess/block_pct_correct":{expectedHz:2,maxHz:10,priority:"medium",category:"performance"},"ess/obs_id":{expectedHz:.1,maxHz:1,priority:"medium",category:"experiment"},"ess/system":{expectedHz:.01,maxHz:.1,priority:"low",category:"configuration"},"ess/protocol":{expectedHz:.01,maxHz:.1,priority:"low",category:"configuration"},"ess/variant":{expectedHz:.01,maxHz:.1,priority:"low",category:"configuration"},"ess/status":{expectedHz:.1,maxHz:1,priority:"low",category:"state"},"graphics/main":{expectedHz:30,maxHz:60,priority:"medium",category:"graphics"},"graphics/dev":{expectedHz:30,maxHz:60,priority:"medium",category:"graphics"},"gbuf/main":{expectedHz:30,maxHz:60,priority:"medium",category:"graphics"},"gbuf/dev":{expectedHz:30,maxHz:60,priority:"medium",category:"graphics"}};class DservWebSocket{constructor(){this.ws=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectInterval=2e3,this.requestCallbacks=new Map,this.messageChunks=new Map,this.chunkTimeouts=new Map,this.eventHandlers=new Map,this.componentHandlers=new Map,this.stats=reactive({messagesReceived:0,messagesSent:0,avgProcessingTime:0,lastMessageTime:0}),this.monitoring=reactive({connectionStats:{connected:!1,connectedSince:null,reconnectAttempts:0,uptime:0},messageStats:{totalReceived:0,totalSent:0,messagesPerSecond:0,bytesPerSecond:0,lastSecondCount:0,lastSecondBytes:0},datapointFrequencies:reactive(new Map),performance:{avgProcessingTime:0,maxProcessingTime:0,processedThisSecond:0},subscriptions:{active:0,byCategory:reactive(new Map),byPriority:reactive(new Map),components:0},bandwidth:{currentKbps:0,peakKbps:0,averageKbps:0,samples:[]}}),this.state=reactive({connected:!1,systems:[],protocols:[],variants:[],branches:[],currentSystem:"",currentProtocol:"",currentVariant:"",currentBranch:"",status:"disconnected",essStatus:"stopped",obsCount:"",obsId:0,obsTotal:0,blockPctComplete:0,blockPctCorrect:0,subject:"",systemName:"",systemOS:"",inObs:!1,eyeWindows:Array(8).fill(null).map((K,W)=>({id:W,active:!1,state:0,type:"rectangle",center:{x:0,y:0},centerRaw:{x:2048,y:2048},size:{width:2,height:2},sizeRaw:{width:400,height:400}})),eyeWindowStatusMask:0,touchWindows:Array(8).fill(null).map((K,W)=>({id:W,active:!1,state:0,type:"rectangle",center:{x:0,y:0},centerRaw:{x:400,y:320},size:{width:2,height:2},sizeRaw:{width:100,height:100}})),touchWindowStatusMask:0,screenWidth:800,screenHeight:600,screenHalfX:10,screenHalfY:7.5}),this.loadingState=reactive({isLoading:!1,operationId:null,startTime:null,stage:"",message:"",percent:0,elapsed:0,timeout:!1,error:null}),this.loadingTimer=null,this.loadingWatchdog=null,this.LOADING_TIMEOUT=6e4,this.PROGRESS_TIMEOUT=15e3,this.startMonitoring(),this.connect()}connect(){const K=window.location.protocol==="https:"?"wss:":"ws:",W=window.location.host||"localhost:2565",G=`${K}//${W}/ws`;console.log(`Connecting to ${G}`),this.ws=new WebSocket(G),this.ws.onopen=()=>{console.log("Connected to dserv"),this.state.connected=!0,this.monitoring.connectionStats.connected=!0,this.monitoring.connectionStats.connectedSince=Date.now(),this.reconnectAttempts=0,this.establishGlobalSubscriptions(),this.initializeState(),this.emit("connection",{connected:!0})},this.ws.onmessage=U=>{const X=performance.now();U.data.length,this.stats.messagesReceived++,this.monitoring.messageStats.totalReceived++;try{const Q=JSON.parse(U.data);if(Q.isChunkedMessage){this.handleChunkedMessage(Q);return}this.handleMessage(Q);const Z=performance.now()-X;this.stats.avgProcessingTime=this.stats.avgProcessingTime*.9+Z*.1}catch(Q){console.error("Failed to parse WebSocket message:",Q)}},this.ws.onclose=()=>{this.state.connected=!1,this.monitoring.connectionStats.connected=!1,this.emit("connection",{connected:!1}),this.attemptReconnect()},this.ws.onerror=U=>{console.error("WebSocket error:",U),this.emit("error",{error:U})}}handleChunkedMessage(K){const{messageId:W,chunkIndex:G,totalChunks:U,data:X,isLastChunk:Q}=K;this.messageChunks.has(W)||(this.messageChunks.set(W,{chunks:new Array(U),receivedCount:0,totalChunks:U,startTime:Date.now()}),console.log(`Receiving chunked message ${W} (${U} chunks)`),setTimeout(()=>{if(this.messageChunks.has(W)){const ee=this.messageChunks.get(W);ee.receivedCount<U&&(console.warn(`Cleaning up incomplete chunked message ${W} (${ee.receivedCount}/${U} chunks received)`),this.messageChunks.delete(W))}},3e4));const Z=this.messageChunks.get(W);if(Z.chunks[G]=X,Z.receivedCount++,U>10&&G%5===0&&console.log(`Chunk progress: ${Z.receivedCount}/${U} (${Math.round(Z.receivedCount/U*100)}%)`),Z.receivedCount===U){const ee=Date.now()-Z.startTime;console.log(`All chunks received for ${W}, reassembling... (${ee}ms)`);const ne=Z.chunks.join("");this.messageChunks.delete(W);try{const te=JSON.parse(ne);console.log(`Successfully reassembled message: ${(ne.length/1024).toFixed(1)}KB in ${ee}ms`),this.handleMessage(te)}catch(te){console.error("Failed to parse reassembled chunked message:",te)}}}establishGlobalSubscriptions(){console.log("Establishing global subscriptions..."),this.send({cmd:"subscribe",match:"ess/*",every:1}),this.send({cmd:"subscribe",match:"system/*",every:1}),this.send({cmd:"subscribe",match:"eventlog/*",every:1}),this.send({cmd:"subscribe",match:"ess/em_pos",every:1}),this.send({cmd:"subscribe",match:"ess/em_region_setting",every:1}),this.send({cmd:"subscribe",match:"ess/em_region_status",every:1}),this.send({cmd:"subscribe",match:"ess/touch_region_setting",every:1}),this.send({cmd:"subscribe",match:"ess/touch_region_status",every:1}),this.send({cmd:"subscribe",match:"mtouch/touchvals",every:1}),this.send({cmd:"subscribe",match:"openiris/settings",every:1}),this.send({cmd:"subscribe",match:"ess/warningInfo",every:1}),this.send({cmd:"subscribe",match:"ess/infoLog",every:1}),this.send({cmd:"subscribe",match:"ess/debugLog",every:1}),this.send({cmd:"subscribe",match:"ess/generalLog",every:1}),this.send({cmd:"subscribe",match:"print",every:1}),this.send({cmd:"subscribe",match:"ess/loading_progress",every:1}),this.send({cmd:"subscribe",match:"ess/loading_operation_id",every:1}),this.send({cmd:"subscribe",match:"ess/loading_start_time",every:1}),this.send({cmd:"subscribe",match:"graphics/*",every:1}),this.send({cmd:"subscribe",match:"gbuf/*",every:1}),console.log("All global subscriptions established")}async initializeState(){console.log("Initializing ESS state...");try{await this.essCommand(`
        foreach v {
          ess/systems ess/protocols ess/variants
          ess/system ess/protocol ess/variant
          ess/variant_info_json ess/param_settings
          ess/subject ess/state ess/status
          ess/obs_id ess/obs_total ess/in_obs
          ess/block_pct_complete ess/block_pct_correct
          ess/git/branches ess/git/branch
          ess/system_script ess/protocol_script
          ess/variants_script ess/loaders_script
          ess/params
          ess/stim_script ess/rmt_connected
          ess/screen_w ess/screen_h ess/screen_halfx ess/screen_halfy
          system/hostname system/os
        } {
          catch { dservTouch $v }
        }

        # Touch eye and touch window settings
        for {set i 0} {$i < 8} {incr i} {
          catch { ainGetRegionInfo $i }
          catch { touchGetRegionInfo $i }
        }
      `),console.log("Initial state synchronization completed"),this.emit("initialized",{state:this.state})}catch(K){console.error("Failed to initialize state:",K),this.emit("initializationFailed",{error:K})}}handleMessage(K){if(K.requestId&&this.requestCallbacks.has(K.requestId)){const{resolve:W,reject:G}=this.requestCallbacks.get(K.requestId);this.requestCallbacks.delete(K.requestId),K.status==="ok"?W(K.result):G(new Error(K.error||"Command failed"));return}K.type==="datapoint"&&this.handleDatapoint(K)}handleDatapoint(K){const{name:W,data:G}=K;this.updateCentralState(W,G),this.emit(`datapoint:${W}`,K),this.emit("datapoint:*",K)}updateCentralState(K,W){switch(K){case"ess/systems":this.state.systems=this.parseList(W);break;case"ess/protocols":this.state.protocols=this.parseList(W);break;case"ess/variants":this.state.variants=this.parseList(W);break;case"ess/git/branches":this.state.branches=this.parseList(W);break;case"ess/system":this.state.currentSystem=W;break;case"ess/protocol":this.state.currentProtocol=W;break;case"ess/variant":this.state.currentVariant=W;break;case"ess/git/branch":this.state.currentBranch=W;break;case"ess/status":this.state.essStatus=W,this.handleEssStatus(W);break;case"ess/state":this.state.status=W;break;case"ess/obs_id":this.state.obsId=parseInt(W,10)||0,this.updateObsCount();break;case"ess/obs_total":this.state.obsTotal=parseInt(W,10)||0,this.updateObsCount();break;case"ess/in_obs":this.state.inObs=W==="1";break;case"ess/block_pct_complete":this.state.blockPctComplete=Math.round(parseFloat(W)*100);break;case"ess/block_pct_correct":this.state.blockPctCorrect=Math.round(parseFloat(W)*100);break;case"ess/subject":this.state.subject=W;break;case"ess/em_region_setting":this.processEyeWindowSetting(W);break;case"ess/em_region_status":this.processEyeWindowStatus(W);break;case"ess/touch_region_setting":this.processTouchWindowSetting(W);break;case"ess/touch_region_status":this.processTouchWindowStatus(W);break;case"ess/screen_w":this.state.screenWidth=parseInt(W,10)||800;break;case"ess/screen_h":this.state.screenHeight=parseInt(W,10)||600;break;case"ess/screen_halfx":this.state.screenHalfX=parseFloat(W)||10;break;case"ess/screen_halfy":this.state.screenHalfY=parseFloat(W)||7.5;break;case"ess/stiminfo":this.state.stiminfo=W,console.log("Updated ess/stiminfo in dserv.state:",W?"DATA AVAILABLE":"NO DATA");break;case"system/hostname":this.state.systemName=W;break;case"system/os":this.state.systemOS=W;break;case"print":console.log("ESS:",W);break;case"ess/loading_progress":this.handleLoadingProgress(W);break;case"ess/loading_operation_id":this.handleLoadingOperationId(W);break}}updateTrialCounts(K){K>0&&(console.log(`StimInfo reported: ${K} trials`),this.state.obsTotal!==K&&(this.state.obsTotal=K,this.state.obsId=0,this.updateObsCount(),this.emit("trialsLoaded",{count:K,source:"StimInfo"}),console.log(`Updated obs count to 1/${K} from StimInfo processing`)))}handleLoadingProgress(K){if(!K){this.clearLoadingState();return}try{const W=JSON.parse(K);Object.assign(this.loadingState,{stage:W.stage,message:W.message,percent:W.percent,elapsed:W.elapsed,error:W.stage==="error"?W.message:null}),this.resetProgressWatchdog(),(W.stage==="complete"||W.stage==="error")&&setTimeout(()=>this.clearLoadingState(),1e3),this.emit("loadingProgress",this.loadingState)}catch(W){console.error("Failed to parse loading progress:",W)}}handleLoadingOperationId(K){K&&!this.loadingState.isLoading?this.startLoadingMonitoring(K):!K&&this.loadingState.isLoading&&this.clearLoadingState()}handleEssStatus(K){this.state.essStatus=K,K==="loading"&&!this.loadingState.isLoading?this.startLoadingMonitoring("unknown_"+Date.now()):K==="stopped"&&this.loadingState.isLoading&&setTimeout(()=>this.clearLoadingState(),500)}startLoadingMonitoring(K){console.log("Starting loading monitoring:",K),this.loadingState.isLoading=!0,this.loadingState.operationId=K,this.loadingState.startTime=Date.now(),this.loadingState.timeout=!1,this.loadingState.error=null,this.loadingTimer=setTimeout(()=>{console.warn("Loading operation timed out"),this.handleLoadingTimeout()},this.LOADING_TIMEOUT),this.resetProgressWatchdog(),this.emit("loadingStarted",{operationId:K})}resetProgressWatchdog(){this.loadingWatchdog&&clearTimeout(this.loadingWatchdog),this.loadingWatchdog=setTimeout(()=>{console.warn("No loading progress for 15 seconds"),this.handleProgressTimeout()},this.PROGRESS_TIMEOUT)}handleLoadingTimeout(){console.error("Loading operation timed out completely"),this.loadingState.timeout=!0,this.loadingState.error="Loading operation timed out",this.emit("loadingTimeout",this.loadingState),this.forceLoadingRecovery()}handleProgressTimeout(){console.warn("Loading progress stalled"),this.checkBackendStatus()}async checkBackendStatus(){try{await withTimeout(this.essCommand("dservGet ess/status"),5e3,"Status check timeout")!=="loading"?(console.log("Backend not loading, clearing frontend loading state"),this.clearLoadingState()):this.resetProgressWatchdog()}catch(K){console.error("Failed to check backend status:",K),this.forceLoadingRecovery()}}async forceLoadingRecovery(){console.warn("Forcing loading recovery");try{await withTimeout(this.essCommand("dservSet ess/status stopped"),3e3,"Recovery command timeout"),this.clearLoadingState(),await this.essCommand("dservTouch ess/system"),await this.essCommand("dservTouch ess/protocol"),await this.essCommand("dservTouch ess/variant"),this.emit("loadingRecovered",{forced:!0})}catch(K){console.error("Recovery failed:",K),this.emit("loadingFailed",{error:"Recovery failed"})}}clearLoadingState(){this.loadingTimer&&(clearTimeout(this.loadingTimer),this.loadingTimer=null),this.loadingWatchdog&&(clearTimeout(this.loadingWatchdog),this.loadingWatchdog=null);const K=this.loadingState.isLoading;Object.assign(this.loadingState,{isLoading:!1,operationId:null,startTime:null,stage:"",message:"",percent:0,elapsed:0,timeout:!1,error:null}),K&&this.emit("loadingFinished",this.loadingState)}trackDatapointFrequency(K,W){this.monitoring.datapointFrequencies.has(K)||this.monitoring.datapointFrequencies.set(K,reactive({timestamps:[],count:0,currentHz:0,avgHz:0,maxHz:0,lastUpdate:W,config:DATAPOINT_CONFIG[K]||{expectedHz:"unknown",priority:"unknown",category:"unknown"}}));const G=this.monitoring.datapointFrequencies.get(K);G.count++,G.timestamps.push(W),G.lastUpdate=W,G.timestamps.length>60&&G.timestamps.shift();const U=W-1e3,X=G.timestamps.filter(Q=>Q>U);G.currentHz=X.length,G.currentHz>G.maxHz&&(G.maxHz=G.currentHz),G.avgHz=G.avgHz*.95+G.currentHz*.05}startMonitoring(){setInterval(()=>{this.updateSecondlyStats()},1e3),setInterval(()=>{this.monitoring.connectionStats.connected&&this.monitoring.connectionStats.connectedSince&&(this.monitoring.connectionStats.uptime=Date.now()-this.monitoring.connectionStats.connectedSince)},100)}updateSecondlyStats(){const K=this.monitoring.messageStats,W=this.monitoring.bandwidth;K.messagesPerSecond=K.lastSecondCount,K.bytesPerSecond=K.lastSecondBytes;const G=K.lastSecondBytes*8/1024;W.currentKbps=G,W.peakKbps=Math.max(W.peakKbps,G),W.samples.push(G),W.samples.length>60&&W.samples.shift(),W.averageKbps=W.samples.reduce((U,X)=>U+X,0)/W.samples.length,K.lastSecondCount=0,K.lastSecondBytes=0,this.updateSubscriptionStats()}updateSubscriptionStats(){const K=this.monitoring.subscriptions;K.active=this.eventHandlers.size,K.components=this.componentHandlers.size;const W=new Map,G=new Map;this.monitoring.datapointFrequencies.forEach((U,X)=>{const Q=U.config.category||"unknown",Z=U.config.priority||"unknown";W.set(Q,(W.get(Q)||0)+1),G.set(Z,(G.get(Z)||0)+1)}),K.byCategory=reactive(W),K.byPriority=reactive(G)}attemptReconnect(){this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,this.monitoring.connectionStats.reconnectAttempts=this.reconnectAttempts,console.log(`Attempting to reconnect (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>this.connect(),this.reconnectInterval)):(console.error("Failed to reconnect to dserv. Manual reload required."),api$1.error("Connection lost. Manual reload required."),this.emit("connectionFailed",{attempts:this.reconnectAttempts}))}registerComponent(K,W={}){return console.log(`Registering component: ${K}`),()=>{console.log(`Cleaning up component: ${K}`),(this.componentHandlers.get(K)||[]).forEach(({eventPattern:U,handler:X})=>{const Q=this.eventHandlers.get(U);if(Q){const Z=Q.findIndex(ee=>ee.handler===X);Z!==-1&&Q.splice(Z,1)}}),this.componentHandlers.delete(K)}}on(K,W,G=null){this.eventHandlers.has(K)||this.eventHandlers.set(K,[]);const U={handler:W,componentId:G};return this.eventHandlers.get(K).push(U),G&&(this.componentHandlers.has(G)||this.componentHandlers.set(G,[]),this.componentHandlers.get(G).push({eventPattern:K,handler:W})),console.log(`Component ${G} listening to ${K}`),()=>{const X=this.eventHandlers.get(K);if(X){const Q=X.findIndex(Z=>Z.handler===W);Q!==-1&&X.splice(Q,1)}}}off(K,W){const G=this.eventHandlers.get(K);if(G){const U=G.findIndex(X=>X.handler===W);U!==-1&&G.splice(U,1)}}emit(K,W){(this.eventHandlers.get(K)||[]).forEach(({handler:U})=>{try{U(W)}catch(X){console.error(`Error in event handler for ${K}:`,X)}}),K.startsWith("datapoint:")&&this.eventHandlers.forEach((U,X)=>{X.includes("*")&&this.matchPattern(K,X)&&U.forEach(({handler:Q})=>{try{Q(W)}catch(Z){console.error(`Error in pattern handler for ${K}:`,Z)}})})}matchPattern(K,W){return new RegExp(W.replace(/\*/g,".*")).test(K)}send(K){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify(K)),this.stats.messagesSent++,this.monitoring.messageStats.totalSent++)}essCommand(K,W=0){const G=new Promise((U,X)=>{if(!this.state.connected)return X(new Error("Not connected to dserv"));const Q=Date.now().toString()+Math.random().toString(36).substr(2,9);this.requestCallbacks.set(Q,{resolve:U,reject:X}),this.send({cmd:"eval",script:K,requestId:Q})});return W>0?withTimeout(G,W,`Command timed out: ${K}`):G}async gitCommand(K,W=15e3){const G=`send git {${K}}`;return withTimeout(this.essCommand(G),W,"Git command timed out")}async gitPull(){return this.gitCommand("git::pull")}async gitPush(){return this.gitCommand("git::commit_and_push")}async gitStatus(){return this.gitCommand("git::status")}async gitSwitchBranch(K){return this.gitCommand(`git::switch_and_pull ${K}`)}async gitGetBranches(){return this.gitCommand("git::get_branches")}async gitGetCurrentBranch(){return this.gitCommand("git::get_current_branch")}sendRequest(K,W){return new Promise((G,U)=>{const X=Math.random().toString(36).substr(2,9);this.requestCallbacks.set(X,{resolve:G,reject:U}),this.send({type:K,requestId:X,...W}),setTimeout(()=>{this.requestCallbacks.has(X)&&(this.requestCallbacks.delete(X),U(new Error("Request timeout")))},3e4)})}parseList(K){return!K||K===""?[]:K.split(" ").filter(W=>W.length>0)}processEyeWindowSetting(K){const[W,G,U,X,Q,Z,ee,ne]=K.split(" ").map(Number);W>=0&&W<8&&(this.state.eyeWindows[W]={id:W,active:G===1,state:U,type:X===1?"ellipse":"rectangle",center:{x:(Q-2048)/200,y:-1*(Z-2048)/200},centerRaw:{x:Q,y:Z},size:{width:Math.abs(ee/200),height:Math.abs(ne/200)},sizeRaw:{width:ee,height:ne}})}processEyeWindowStatus(K){const[W,G,U,X]=K.split(" ").map(Number);this.state.eyeWindowStatusMask=G;for(let Q=0;Q<8;Q++)this.state.eyeWindows[Q].state=(G&1<<Q)!==0&&this.state.eyeWindows[Q].active}processTouchWindowSetting(K){const[W,G,U,X,Q,Z,ee,ne]=K.split(" ").map(Number);if(W>=0&&W<8){const te=this.state.screenWidth/(2*this.state.screenHalfX),oe=this.state.screenHeight/(2*this.state.screenHalfY);this.state.touchWindows[W]={id:W,active:G===1,state:U,type:X===1?"ellipse":"rectangle",center:{x:(Q-this.state.screenWidth/2)/te,y:-1*(Z-this.state.screenHeight/2)/oe},centerRaw:{x:Q,y:Z},size:{width:Math.abs(ee/te),height:Math.abs(ne/oe)},sizeRaw:{width:ee,height:ne}}}}processTouchWindowStatus(K){const[W,G,U,X]=K.split(" ").map(Number);this.state.touchWindowStatusMask=G;for(let Q=0;Q<8;Q++)this.state.touchWindows[Q].state=(G&1<<Q)!==0&&this.state.touchWindows[Q].active}updateObsCount(){this.state.obsTotal>0?this.state.obsCount=`${this.state.obsId+1}/${this.state.obsTotal}`:this.state.obsCount=""}getSystemStatus(){return{connection:this.monitoring.connectionStats,messages:this.monitoring.messageStats,performance:this.monitoring.performance,bandwidth:this.monitoring.bandwidth,subscriptions:this.monitoring.subscriptions,datapoints:Array.from(this.monitoring.datapointFrequencies.entries()).map(([K,W])=>({name:K,...W,health:this.assessDatapointHealth(W)}))}}assessDatapointHealth(K){const{currentHz:W,config:G}=K,U=G.expectedHz;if(U==="unknown")return"unknown";const X=W/U;return X>2?"too_fast":X>.8?"healthy":X>.3?"slow":"stalled"}getDatapointsByCategory(){const K=new Map;return this.monitoring.datapointFrequencies.forEach((W,G)=>{const U=W.config.category||"unknown";K.has(U)||K.set(U,[]),K.get(U).push({name:G,...W})}),K}getPerformanceStats(){return{...this.stats,activeHandlers:Array.from(this.eventHandlers.keys()).length,componentCount:this.componentHandlers.size,connectionUptime:this.state.connected?Date.now()-(this.monitoring.connectionStats.connectedSince||Date.now()):0}}async startExperiment(){try{await this.essCommand("ess::start"),this.emit("experimentControl",{action:"start",success:!0})}catch(K){throw this.emit("experimentControl",{action:"start",success:!1,error:K}),K}}async stopExperiment(){try{await this.essCommand("ess::stop"),this.emit("experimentControl",{action:"stop",success:!0})}catch(K){throw this.emit("experimentControl",{action:"stop",success:!1,error:K}),K}}async resetExperiment(){try{await this.essCommand("ess::reset"),this.emit("experimentControl",{action:"reset",success:!0})}catch(K){throw this.emit("experimentControl",{action:"reset",success:!1,error:K}),K}}async setSubject(K){try{await this.essCommand(`ess::set_subject ${K}`),this.emit("subjectChange",{subject:K,success:!0})}catch(W){throw this.emit("subjectChange",{subject:K,success:!1,error:W}),W}}async setSystem(K){this.startImmediateLoadingState("system",`Loading system: ${K}`);try{await this.essCommand(`ess::load_system ${K}`),this.emit("systemLoaded",{system:K,success:!0})}catch(W){throw this.clearLoadingState(),this.emit("systemLoaded",{system:K,success:!1,error:W}),W}}async setProtocol(K){this.startImmediateLoadingState("protocol",`Loading protocol: ${K}`);try{const W=this.state.currentSystem;await this.essCommand(`ess::load_system ${W} ${K}`),this.emit("protocolLoaded",{protocol:K,success:!0})}catch(W){throw this.clearLoadingState(),this.emit("protocolLoaded",{protocol:K,success:!1,error:W}),W}}async setVariant(K){this.startImmediateLoadingState("variant",`Loading variant: ${K}`);try{const W=this.state.currentSystem,G=this.state.currentProtocol;await this.essCommand(`ess::load_system ${W} ${G} ${K}`),this.emit("variantLoaded",{variant:K,success:!0})}catch(W){throw this.clearLoadingState(),this.emit("variantLoaded",{variant:K,success:!1,error:W}),W}}startImmediateLoadingState(K,W){console.log(`Starting immediate loading state: ${K} - ${W}`),Object.assign(this.loadingState,{isLoading:!0,operationId:`${K}_${Date.now()}`,startTime:Date.now(),stage:"initializing",message:W,percent:5,elapsed:0,timeout:!1,error:null}),this.loadingTimer=setTimeout(()=>{console.warn("Loading operation timed out"),this.handleLoadingTimeout()},this.LOADING_TIMEOUT),this.resetProgressWatchdog(),this.emit("loadingStarted",{operationId:this.loadingState.operationId}),this.emit("loadingProgress",this.loadingState)}async reloadSystem(){console.log("Reloading current system:",this.state.currentSystem);const K=this.state.currentSystem;this.startImmediateLoadingState("system",`Loading system: ${K}`);try{await this.essCommand("ess::reload_system"),this.emit("systemLoaded",{system:K,success:!0})}catch(W){throw this.clearLoadingState(),this.emit("systemLoaded",{system:K,success:!1,error:W}),W}}async reloadProtocol(){this.startImmediateLoadingState("protocol_reload","Reloading protocol...");try{await this.essCommand("ess::reload_protocol"),this.emit("protocolReloaded",{success:!0})}catch(K){throw this.clearLoadingState(),this.emit("protocolReloaded",{success:!1,error:K}),K}}async reloadVariant(){this.startImmediateLoadingState("variant_reload","Reloading variant...");try{await this.essCommand("ess::reload_variant"),this.emit("variantReloaded",{success:!0})}catch(K){throw this.clearLoadingState(),this.emit("variantReloaded",{success:!1,error:K}),K}}async saveSettings(){try{await this.essCommand("ess::save_settings"),this.emit("settingsSaved",{success:!0})}catch(K){throw this.emit("settingsSaved",{success:!1,error:K}),K}}async resetSettings(){try{await this.essCommand("ess::reset_settings"),this.emit("settingsReset",{success:!0})}catch(K){throw this.emit("settingsReset",{success:!1,error:K}),K}}async setBranch(K){try{await this.essCommand(`send git {git::switch_and_pull ${K}}`),this.emit("branchChanged",{branch:K,success:!0})}catch(W){throw this.emit("branchChanged",{branch:K,success:!1,error:W}),W}}async openDataFile(K){try{await this.essCommand(`ess::file_open ${K}`),this.emit("dataFileOpened",{filename:K,success:!0})}catch(W){throw this.emit("dataFileOpened",{filename:K,success:!1,error:W}),W}}async closeDataFile(){try{await this.essCommand("ess::file_close"),this.emit("dataFileClosed",{success:!0})}catch(K){throw this.emit("dataFileClosed",{success:!1,error:K}),K}}async suggestFilename(){try{return await this.essCommand("ess::file_suggest")}catch(K){throw console.error("Failed to get filename suggestion:",K),K}}}const dserv=new DservWebSocket,useDservMonitoring=()=>({getSystemStatus:()=>dserv.getSystemStatus(),getDatapointsByCategory:()=>dserv.getDatapointsByCategory(),monitoring:dserv.monitoring});function useGraphicsRenderer(H,K={}){const W=ref("Canvas ready, waiting for data..."),G=ref(null),U=ref(!1),X=ref(!1),Q={width:K.width||640,height:K.height||480,streamId:K.streamId||"graphics/main",autoScale:K.autoScale!==!1,backgroundColor:K.backgroundColor||"#ffffff",...K};let Z=null,ee="#000000",ne={x:0,y:0},te="Helvetica",oe=10,re=0,ae=0,se=null,ce=1,de=1,le=null,fe=Q.backgroundColor;const pe=[],me=Be=>Be*ce,ue=Be=>Q.height-Be*de,ge=Be=>Be*ce,he=Be=>{const Ae=["#000000","#0000FF","#008000","#00FFFF","#FF0000","#FF00FF","#A52A2A","#FFFFFF","#808080","#ADD8E6","#00FF00","#E0FFFF","#FF1493","#9370DB","#FFFF00"];if(Be>=0&&Be<Ae.length)return Ae[Be];if(Be>18){const ze=Be>>21&255,We=Be>>13&255,Le=Be>>5&255,Ze=ze.toString(16).padStart(2,"0"),Ye=We.toString(16).padStart(2,"0"),Re=Le.toString(16).padStart(2,"0");return`#${Ze}${Ye}${Re}`}return"#000000"},ve=(Be,Ae)=>{Q.autoScale&&Be&&Ae?(ce=Q.width/Be,de=Q.height/Ae,console.log(`Graphics scaling updated: source ${Be}${Ae}  canvas ${Q.width}${Q.height} (${ce.toFixed(3)}x, ${de.toFixed(3)}y)`)):(ce=1,de=1)},ye=Be=>{const{cmd:Ae,args:ze}=Be;try{switch(Ae){case"setwindow":if(se={llx:ze[0],lly:ze[1],urx:ze[2],ury:ze[3]},Q.autoScale&&se){const Ue=se.urx-se.llx,He=se.ury-se.lly;ve(Ue,He)}break;case"setcolor":ee=he(ze[0]),Z.strokeStyle=ee,Z.fillStyle=ee;break;case"setbackground":const We=he(ze[0]);fe=We,Z.fillStyle=We,Z.fillRect(0,0,Q.width,Q.height),Z.fillStyle=ee;break;case"setjust":const Le=ze[0];Le===-1?re=0:Le===0?re=1:Le===1?re=2:re=1;break;case"setorientation":const Ze=ze[0],Ye={0:0,1:270,2:180,3:90};ae=Ye[Ze]!==void 0?Ye[Ze]:0;break;case"setfont":te=ze[0]||"Helvetica",oe=(ze[1]||10)*Math.min(ce,de),Z.font=`${oe}px ${te}`;break;case"gsave":Z.save();break;case"grestore":Z.restore(),Z.strokeStyle=ee,Z.fillStyle=ee,Z.font=`${oe}px ${te}`;break;case"setclipregion":break;case"circle":case"fcircle":Z.beginPath(),Z.arc(me(ze[0]),ue(ze[1]),ge(ze[2]),0,2*Math.PI),Ae==="fcircle"||ze[3]?Z.fill():Z.stroke();break;case"line":Z.beginPath(),Z.moveTo(me(ze[0]),ue(ze[1])),Z.lineTo(me(ze[2]),ue(ze[3])),Z.stroke();break;case"moveto":ne={x:me(ze[0]),y:ue(ze[1])};break;case"lineto":Z.beginPath(),Z.moveTo(ne.x,ne.y);const Ke=me(ze[0]),we=ue(ze[1]);Z.lineTo(Ke,we),Z.stroke(),ne={x:Ke,y:we};break;case"filledrect":const _e=me(ze[0]),Ve=ue(ze[1]),je=me(ze[2]),qe=ue(ze[3]),Pe=Math.abs(je-_e),ke=Math.abs(qe-Ve);Z.fillRect(Math.min(_e,je),Math.min(Ve,qe),Pe,ke);break;case"drawtext":if(ne&&ne.x!==void 0&&ne.y!==void 0&&ze[0]){const Ue=String(ze[0]);Z.save(),Z.font=`${oe}px ${te}`,Z.fillStyle=ee,Z.textAlign=["left","center","right"][re]||"left",Z.textBaseline="middle";const He=ne.x,Me=ne.y;ae!==0?(Z.translate(He,Me),Z.rotate(ae*Math.PI/180),Z.fillText(Ue,0,0)):Z.fillText(Ue,He,Me),Z.restore()}break;case"setlwidth":Z.lineWidth=Math.max(1,ze[0]/100*Math.min(ce,de));break;default:break}}catch(We){console.error("Error executing graphics command:",Ae,ze,We)}},be=Be=>{if(!(!Z||!Be)){le=Be,Z.fillStyle=fe,Z.fillRect(0,0,Q.width,Q.height),Z.setTransform(1,0,0,1,0,0),Z.strokeStyle="#000000",Z.fillStyle="#000000",Z.lineWidth=1,Z.font="10px Helvetica",Z.textAlign="left",Z.textBaseline="middle",ee="#000000",ne={x:0,y:0},se=null,te="Helvetica",oe=10,re=0,ae=0,ce=1,de=1;try{const Ae=Be.commands||[];let ze=0,We=0;for(const Ze of Ae)Ze.cmd&&Ze.args&&(Ze.cmd==="drawtext"&&We++,ye(Ze),ze++);const Le=`Rendered ${ze} commands (${We} text) at ${new Date().toLocaleTimeString()} [${Q.width}${Q.height}]`;W.value=Le,G.value=new Date().toLocaleTimeString()}catch(Ae){console.error("Render error:",Ae),W.value=`Render error: ${Ae.message}`}}},Se=Be=>{U.value=!0,G.value=new Date().toLocaleTimeString();try{let Ae;if(typeof Be.data=="string")try{Ae=JSON.parse(Be.data)}catch(ze){console.error("Failed to parse graphics data JSON:",ze),W.value=`Parse error: ${ze.message}`;return}else if(typeof Be.data=="object")Ae=Be.data;else{console.warn("Unexpected graphics data format:",typeof Be.data),W.value="Unexpected data format";return}Ae&&Ae.commands&&Array.isArray(Ae.commands)?(le=Ae,be(Ae)):(console.warn("No commands found in gbuf data:",Ae),W.value="No commands found in gbuf data")}catch(Ae){console.error("Failed to process graphics data:",Ae),W.value=`Processing error: ${Ae.message}`}},Ce=async()=>{if(await nextTick(),!H.value){console.error("Canvas ref not available");return}Z=H.value.getContext("2d"),Z.fillStyle=Q.backgroundColor,Z.fillRect(0,0,Q.width,Q.height),console.log(`Graphics renderer initialized for ${Q.streamId} (${Q.width}${Q.height})`);const Be=dserv.registerComponent(`GraphicsRenderer-${Q.streamId}`);pe.push(Be);const Ae=dserv.on(`datapoint:${Q.streamId}`,Se,`GraphicsRenderer-${Q.streamId}`);pe.push(Ae);const ze=dserv.on("connection",We=>{X.value=We.connected,We.connected?U.value||(W.value="Canvas ready, waiting for data..."):W.value="Connection lost"},`GraphicsRenderer-${Q.streamId}`);pe.push(ze),X.value=dserv.state.connected,console.log(`Graphics renderer listening for: datapoint:${Q.streamId}`)},xe=(Be,Ae)=>{if(!H.value){console.warn("Cannot resize: canvas ref not available");return}const ze=Q.width,We=Q.height;if(Q.width=Be,Q.height=Ae,H.value.width=Be,H.value.height=Ae,console.log(`Canvas resized from ${ze}${We} to ${Be}${Ae}`),Z=H.value.getContext("2d"),se&&Q.autoScale){const Le=se.urx-se.llx,Ze=se.ury-se.lly;ve(Le,Ze)}le?(console.log("Redrawing graphics data after resize..."),be(le)):(Z.fillStyle="white",Z.fillRect(0,0,Be,Ae))},Ne=()=>{pe.forEach(Be=>Be&&Be()),pe.length=0,console.log(`Graphics renderer cleaned up: ${Q.streamId}`)},$e=()=>({x:ce,y:de}),Ee=()=>se?{width:se.urx-se.llx,height:se.ury-se.lly}:null,Te=Be=>{be(Be)};return Ce(),{renderStats:readonly(W),lastUpdate:readonly(G),dataReceived:readonly(U),isConnected:readonly(X),renderData:Te,resizeCanvas:xe,getScaleInfo:$e,getSourceDimensions:Ee,dispose:Ne,config:Q}}const _export_sfc=(H,K)=>{const W=H.__vccOpts||H;for(const[G,U]of K)W[G]=U;return W},_hoisted_1$p={key:0,class:"render-stats"},_hoisted_2$j={class:"stats-line"},_hoisted_3$i={key:0,class:"connection-warning"},_hoisted_4$g={key:1,class:"waiting-indicator"},_hoisted_5$g={key:1,class:"debug-panel"},_hoisted_6$f={class:"debug-line"},_hoisted_7$f={class:"debug-line"},_hoisted_8$f={class:"debug-line"},_hoisted_9$f={class:"debug-line"},_hoisted_10$e={class:"debug-line"},_hoisted_11$e={class:"debug-line"},_sfc_main$s={__name:"GraphicsCanvas",props:{width:{type:Number,default:null},height:{type:Number,default:null},streamId:{type:String,required:!0},showStats:{type:Boolean,default:!1},showDebug:{type:Boolean,default:!1},canvasClass:{type:String,default:"graphics-canvas"},autoScale:{type:Boolean,default:!0},aspectRatio:{type:Number,default:null},minWidth:{type:Number,default:320},minHeight:{type:Number,default:240},maxWidth:{type:Number,default:1920},maxHeight:{type:Number,default:1080}},emits:["mousemove","click","canvasReady","resize"],setup(H,{expose:K,emit:W}){const G=H,U=W,X=ref(null),Q=ref(null),Z=ref(G.width||640),ee=ref(G.height||480),ne=ref({width:0,height:0});let te=null;const oe=()=>{if(!Q.value)return;const ve=Q.value.getBoundingClientRect();if(ne.value={width:ve.width,height:ve.height},G.width&&G.height){Z.value=G.width,ee.value=G.height;return}if(ve.width<=0||ve.height<=0){console.log("Container has no size, skipping resize");return}let ye=Math.floor(ve.width),be=Math.floor(ve.height);G.aspectRatio&&(ye/be>G.aspectRatio?ye=Math.floor(be*G.aspectRatio):be=Math.floor(ye/G.aspectRatio)),ye=Math.max(G.minWidth,Math.min(G.maxWidth,ye)),be=Math.max(G.minHeight,Math.min(G.maxHeight,be)),(ye!==Z.value||be!==ee.value)&&(console.log(`Canvas resizing: ${Z.value}${ee.value}  ${ye}${be}`),Z.value=ye,ee.value=be,X.value&&(X.value.width=ye,X.value.height=be),me&&me.resizeCanvas&&me.resizeCanvas(ye,be),U("resize",{width:ye,height:be}))},re=()=>{Q.value&&(te=new ResizeObserver(()=>{requestAnimationFrame(oe)}),te.observe(Q.value))},{renderStats:ae,lastUpdate:se,dataReceived:ce,isConnected:de,renderData:le,resizeCanvas:fe,dispose:pe}=useGraphicsRenderer(X,{width:Z.value,height:ee.value,streamId:G.streamId,autoScale:G.autoScale});let me=null;const ue=ve=>{const ye=X.value.getBoundingClientRect(),be=ve.clientX-ye.left,Se=ve.clientY-ye.top,Ce=be/ye.width*Z.value,xe=Se/ye.height*ee.value;U("mousemove",{canvasX:be,canvasY:Se,normalizedX:Ce,normalizedY:xe,originalEvent:ve})},ge=ve=>{const ye=X.value.getBoundingClientRect(),be=ve.clientX-ye.left,Se=ve.clientY-ye.top,Ce=be/ye.width*Z.value,xe=Se/ye.height*ee.value;U("click",{canvasX:be,canvasY:Se,normalizedX:Ce,normalizedY:xe,originalEvent:ve})};return K({resize:(ve,ye)=>{Z.value=ve,ee.value=ye,X.value&&(X.value.width=ve,X.value.height=ye),me&&me.resizeCanvas&&me.resizeCanvas(ve,ye)},renderData:le,canvasRef:X,getCanvasSize:()=>({width:Z.value,height:ee.value})}),onMounted(async()=>{await nextTick(),me={resizeCanvas:fe},oe(),setTimeout(()=>{re(),oe()},100),U("canvasReady",{canvas:X.value,width:Z.value,height:ee.value})}),onUnmounted(()=>{te&&te.disconnect(),pe&&pe()}),(ve,ye)=>(openBlock(),createElementBlock("div",{class:"graphics-canvas-container",ref_key:"containerRef",ref:Q},[createBaseVNode("canvas",{ref_key:"canvasRef",ref:X,class:normalizeClass(H.canvasClass),onMousemove:ue,onClick:ge},null,34),H.showStats?(openBlock(),createElementBlock("div",_hoisted_1$p,[createBaseVNode("div",_hoisted_2$j,toDisplayString(unref(ae)),1),unref(de)?unref(ce)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_4$g,"  Waiting for graphics data on: "+toDisplayString(H.streamId),1)):(openBlock(),createElementBlock("div",_hoisted_3$i,"  Connection Lost "))])):createCommentVNode("",!0),H.showDebug?(openBlock(),createElementBlock("div",_hoisted_5$g,[createBaseVNode("div",_hoisted_6$f,"Canvas: "+toDisplayString(Z.value)+""+toDisplayString(ee.value),1),createBaseVNode("div",_hoisted_7$f,"Container: "+toDisplayString(ne.value.width)+""+toDisplayString(ne.value.height),1),createBaseVNode("div",_hoisted_8$f,"Stream: "+toDisplayString(H.streamId),1),createBaseVNode("div",_hoisted_9$f,"Auto-scale: "+toDisplayString(H.autoScale?"ON":"OFF"),1),createBaseVNode("div",_hoisted_10$e,"Connected: "+toDisplayString(unref(de)?"YES":"NO"),1),createBaseVNode("div",_hoisted_11$e,"Last Update: "+toDisplayString(unref(se)||"Never"),1)])):createCommentVNode("",!0)],512))}},GraphicsCanvas=_export_sfc(_sfc_main$s,[["__scopeId","data-v-71dc8d7f"]]),_hoisted_1$o={class:"graphics-viewer"},_hoisted_2$i={key:0,class:"graphics-header"},_hoisted_3$h={class:"stream-controls"},_hoisted_4$f={class:"control-label"},_hoisted_5$f={key:1,class:"stream-display"},_hoisted_6$e={class:"action-controls"},_hoisted_7$e={class:"graphics-content"},_hoisted_8$e={key:1,class:"graphics-footer"},_hoisted_9$e={class:"status-item"},_hoisted_10$d={key:0,class:"status-item"},_hoisted_11$d={class:"status-item"},_sfc_main$r={__name:"GraphicsViewer",props:{streamId:{type:String,default:"graphics/main"},allowStreamSelection:{type:Boolean,default:!0},availableStreams:{type:Array,default:()=>["graphics/main","graphics/stimulus","graphics/feedback","graphics/test"]},aspectRatio:{type:Number,default:null},showControls:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},title:{type:String,default:null}},setup(H,{expose:K}){const W=H,G=ref(null),U=ref(W.streamId),X=ref(!1),Q=ref(!1),Z=ref(null),ee=ref({width:640,height:480}),ne=computed(()=>W.title?W.title:W.allowStreamSelection?"Graphics Viewer":U.value),te=le=>{Z.value=le},oe=le=>{console.log("Graphics click:",le)},re=()=>{G.value&&G.value.getCanvasSize&&(ee.value=G.value.getCanvasSize())},ae=async()=>{Q.value=!0,re();try{const{width:le,height:fe}=ee.value,pe=`
      set gbuf_data {
        "commands": [
          {"cmd": "setwindow", "args": [0, 0, ${le}, ${fe}]},
          {"cmd": "setcolor", "args": [1]},
          {"cmd": "circle", "args": [${le/2}, ${fe/2}, 100, false]},
          {"cmd": "setcolor", "args": [4]},
          {"cmd": "fcircle", "args": [${le/2}, ${fe/2}, 50, true]},
          {"cmd": "setcolor", "args": [0]},
          {"cmd": "setfont", "args": ["Arial", 20]},
          {"cmd": "setjust", "args": [0]},
          {"cmd": "moveto", "args": [${le/2}, ${fe/4}]},
          {"cmd": "drawtext", "args": ["Test: [clock format [clock seconds] -format %H:%M:%S]"]}
        ]
      }
      dservSet ${U.value} $gbuf_data
    `;await dserv.essCommand(pe),console.log(`Test graphics sent to ${U.value} (${le}${fe})`)}catch(le){console.error("Graphics test error:",le)}finally{Q.value=!1}},se=async()=>{try{re();const{width:le,height:fe}=ee.value,pe=`
      set gbuf_data {
        "commands": [
          {"cmd": "setwindow", "args": [0, 0, ${le}, ${fe}]},
          {"cmd": "setcolor", "args": [7]},
          {"cmd": "filledrect", "args": [0, 0, ${le}, ${fe}]}
        ]
      }
      dservSet ${U.value} $gbuf_data
    `;await dserv.essCommand(pe),console.log(`Graphics cleared on ${U.value} (${le}${fe})`)}catch(le){console.error("Graphics clear error:",le)}};let ce=null;return watch(U,le=>{ce&&ce(),X.value=!1,ce=dserv.on(`datapoint:${le}`,fe=>{X.value=!0},`GraphicsViewer_${le}`)},{immediate:!0}),onMounted(()=>{console.log("GraphicsViewer mounted with simplified approach"),setTimeout(re,100)}),onUnmounted(()=>{ce&&ce()}),K({sendTestGraphics:ae,clearGraphics:se,setStream:le=>{U.value=le},updateCanvasSize:re}),(le,fe)=>{const pe=SelectOption,me=Select,ue=Tag$1,ge=Button$1;return openBlock(),createElementBlock("div",_hoisted_1$o,[H.showControls?(openBlock(),createElementBlock("div",_hoisted_2$i,[createBaseVNode("div",_hoisted_3$h,[createBaseVNode("span",_hoisted_4$f,toDisplayString(ne.value)+":",1),H.allowStreamSelection?(openBlock(),createBlock(me,{key:0,value:U.value,"onUpdate:value":fe[0]||(fe[0]=he=>U.value=he),size:"small",style:{width:"180px"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(H.availableStreams,he=>(openBlock(),createBlock(pe,{key:he,value:he},{default:withCtx(()=>[createTextVNode(toDisplayString(he),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])):(openBlock(),createElementBlock("span",_hoisted_5$f,toDisplayString(U.value),1)),createVNode(ue,{color:X.value?"green":"default",size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString(X.value?"Connected":"No Data"),1)]),_:1},8,["color"])]),createBaseVNode("div",_hoisted_6$e,[createVNode(ge,{size:"small",onClick:ae,loading:Q.value},{default:withCtx(()=>fe[1]||(fe[1]=[createTextVNode(" Test Graphics ")])),_:1,__:[1]},8,["loading"]),createVNode(ge,{size:"small",onClick:se},{default:withCtx(()=>fe[2]||(fe[2]=[createTextVNode(" Clear ")])),_:1,__:[2]})])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_7$e,[createVNode(GraphicsCanvas,{ref_key:"canvasRef",ref:G,"stream-id":U.value,"aspect-ratio":H.aspectRatio,"show-stats":!1,"show-debug":!1,"auto-scale":!0,"canvas-class":"graphics-viewer-canvas",onMousemove:te,onClick:oe},null,8,["stream-id","aspect-ratio"])]),H.showFooter?(openBlock(),createElementBlock("div",_hoisted_8$e,[createBaseVNode("div",_hoisted_9$e,[fe[3]||(fe[3]=createBaseVNode("strong",null,"Stream:",-1)),createTextVNode(" "+toDisplayString(U.value),1)]),Z.value?(openBlock(),createElementBlock("div",_hoisted_10$d,[fe[4]||(fe[4]=createBaseVNode("strong",null,"Mouse:",-1)),createTextVNode(" ("+toDisplayString(Z.value.normalizedX.toFixed(0))+", "+toDisplayString(Z.value.normalizedY.toFixed(0))+") ",1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_11$d,[fe[5]||(fe[5]=createBaseVNode("strong",null,"Canvas:",-1)),createTextVNode(" "+toDisplayString(ee.value.width)+""+toDisplayString(ee.value.height)+"px ",1)])])):createCommentVNode("",!0)])}}},__unplugin_components_7=_export_sfc(_sfc_main$r,[["__scopeId","data-v-31aab244"]]);class ErrorService{constructor(){this.errors=reactive([]),this.logs=reactive([]),this.isTracing=ref(!1),this.errorIdCounter=0,this.logIdCounter=0,this.dservCleanup=null,this.isInitialized=!1,this.logCounts=reactive({error:0,warning:0,info:0,debug:0,general:0,total:0})}async initializeGlobalTracking(K){this.isInitialized||(console.log("Starting global error and logging tracking..."),this.dservCleanup=K.registerComponent("GlobalErrorService"),K.on("datapoint:ess/errorInfo",this.handleError.bind(this)),K.on("datapoint:ess/warningInfo",this.handleWarning.bind(this)),K.on("datapoint:ess/infoLog",this.handleInfo.bind(this)),K.on("datapoint:ess/debugLog",this.handleDebug.bind(this)),K.on("datapoint:ess/generalLog",this.handleGeneral.bind(this)),this.dservInstance=K,this.isInitialized=!0,console.log("Global error and logging tracking started"))}handleError(K){this.handleLogMessage(K,"error",!0)}handleWarning(K){this.handleLogMessage(K,"warning",!1)}handleInfo(K){this.handleLogMessage(K,"info",!1)}handleDebug(K){this.handleLogMessage(K,"debug",!1)}handleGeneral(K){this.handleLogMessage(K,"general",!1)}handleLogMessage(K,W,G=!1){if(!K.data||K.data.trim()==="")return;const U=Date.now(),X=K.data,Q=X.match(/^\[(\d{2}:\d{2}:\d{2})\]\s*\[([^\]]+)\]\s*(.+)$/);let Z,ee,ne;Q?(Z=Q[1],ee=Q[2],ne=Q[3]):(Z=new Date(U).toLocaleTimeString(),ee="unknown",ne=X);const te={id:++this.logIdCounter,timestamp:U,timeString:Z,text:ne,level:W,category:ee,system:this.dservInstance?.state?.currentSystem||"unknown",protocol:this.dservInstance?.state?.currentProtocol||"unknown",variant:this.dservInstance?.state?.currentVariant||"unknown",source:"ess_backend"};if(this.logs.push(te),G){const oe={...te,id:++this.errorIdCounter,stackTrace:[]};this.errors.push(oe),this.logCounts.error++}else this.logCounts[W]++;this.logCounts.total++,this.logs.length>2e3&&this.logs.splice(0,this.logs.length-2e3),this.errors.length>1e3&&this.errors.splice(0,this.errors.length-1e3),console.log(`ESS ${W.toUpperCase()}: ${ne}`)}getLogs(){return this.logs}getLogsByLevel(K){return this.logs.filter(W=>W.level===K)}getRecentLogs(K=50){return this.logs.slice(-K)}clearLogs(){this.logs.splice(0,this.logs.length),this.logIdCounter=0,Object.keys(this.logCounts).forEach(K=>{this.logCounts[K]=0})}getLogCounts(){return this.logCounts}exportLogs(){if(this.logs.length===0)return null;const K=[["Timestamp","Level","Category","System","Protocol","Variant","Message"].join(","),...this.logs.map(X=>[X.timeString,X.level,X.category,X.system,X.protocol,X.variant,`"${X.text.replace(/"/g,'""')}"`].join(","))].join(`
`),W=new Blob([K],{type:"text/csv"}),G=URL.createObjectURL(W),U=document.createElement("a");return U.href=G,U.download=`ess_logs_${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.csv`,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(G),!0}async sendLogMessage(K,W,G="frontend"){if(!this.dservInstance)return console.error("Cannot send log: ESS not connected"),!1;try{const X=`[${new Date().toLocaleTimeString()}] [${G}] ${W}`,Q=`::ess::ess_${K} "${W}" "${G}"`;return await this.dservInstance.essCommand(Q),!0}catch(U){return console.error("Failed to send log message:",U),!1}}async sendError(K,W="frontend"){return this.sendLogMessage("error",K,W)}async sendWarning(K,W="frontend"){return this.sendLogMessage("warning",K,W)}async sendInfo(K,W="frontend"){return this.sendLogMessage("info",K,W)}async sendDebug(K,W="frontend"){return this.sendLogMessage("debug",K,W)}async setDebugMode(K){if(!this.dservInstance)throw new Error("ESS not connected");const W=`::ess::set_debug_mode ${K?1:0}`;return await this.dservInstance.essCommand(W),K}handleGlobalError(K){if(!K.data||K.data.trim()==="")return;const W=Date.now(),G=K.data,U=this.classifyError(G),X=this.parseStackTrace(G),Q={id:++this.errorIdCounter,timestamp:W,timeString:new Date(W).toLocaleTimeString(),text:G,level:U.level,category:U.category,stackTrace:X,system:this.dservInstance?.state?.currentSystem||"unknown",protocol:this.dservInstance?.state?.currentProtocol||"unknown",variant:this.dservInstance?.state?.currentVariant||"unknown",source:"tcl_error"};this.errors.push(Q);const Z={...Q,id:++this.logIdCounter};this.logs.push(Z),this.logCounts[U.level]++,this.logCounts.total++,this.errors.length>1e3&&this.errors.splice(0,this.errors.length-1e3),console.log(`ESS Error captured: ${U.level} - ${G.split(`
`)[0]}`)}classifyError(K){const W=K.toLowerCase();return W.includes("syntax error")||W.includes("parse error")||W.includes("invalid command")?{level:"error",category:"syntax"}:W.includes("undefined variable")||W.includes("no such variable")?{level:"error",category:"variable"}:W.includes("wrong # args")||W.includes("too many arguments")?{level:"error",category:"arguments"}:W.includes("can't read")||W.includes("permission denied")?{level:"error",category:"file"}:W.includes("warning")||W.includes("deprecated")?{level:"warning",category:"warning"}:W.includes("info")||W.includes("notice")?{level:"info",category:"info"}:{level:"error",category:"general"}}parseStackTrace(K){const W=K.split(`
`),G=[];for(let U=0;U<W.length;U++){const X=W[U].trim();(X.includes("(file ")||X.includes("invoked from within"))&&G.push({line:X,isFile:X.includes("(file "),isInvocation:X.includes("invoked from within")})}return G}async toggleTracing(){if(!this.dservInstance)throw new Error("Error service not initialized");const K=this.isTracing.value?"ess::error_untrace":"ess::error_trace";return await this.dservInstance.essCommand(K),this.isTracing.value=!this.isTracing.value,console.log(`Error tracing ${this.isTracing.value?"enabled":"disabled"} globally`),this.isTracing.value}clearErrors(){this.errors.splice(0,this.errors.length),this.errorIdCounter=0,this.logCounts.error=0,this.logCounts.total=this.logs.length}getErrors(){return this.errors}getErrorCounts(){const K={error:0,warning:0,info:0,total:this.errors.length};return this.errors.forEach(W=>{K[W.level]=(K[W.level]||0)+1}),K}exportErrors(){if(this.errors.length===0)return null;const K=[["Timestamp","Level","Category","System","Protocol","Variant","Error"].join(","),...this.errors.map(X=>[X.timeString,X.level,X.category,X.system,X.protocol,X.variant,`"${X.text.replace(/"/g,'""')}"`].join(","))].join(`
`),W=new Blob([K],{type:"text/csv"}),G=URL.createObjectURL(W),U=document.createElement("a");return U.href=G,U.download=`ess_errors_${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.csv`,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(G),!0}addFrontendLog(K,W,G="frontend"){const U=Date.now(),X=new Date(U).toLocaleTimeString(),Q={id:++this.logIdCounter,timestamp:U,timeString:X,text:W,level:K,category:G,system:this.dservInstance?.state?.currentSystem||"current",protocol:this.dservInstance?.state?.currentProtocol||"current",variant:this.dservInstance?.state?.currentVariant||"current",source:"frontend"};if(this.logs.push(Q),this.logCounts[K]++,this.logCounts.total++,K==="error"){const Z={...Q,id:++this.errorIdCounter,stackTrace:[]};this.errors.push(Z)}this.logs.length>2e3&&this.logs.splice(0,this.logs.length-2e3),console.log(`Frontend ${K.toUpperCase()}: ${W}`)}isTracingActive(){return this.isTracing.value}cleanup(){this.dservCleanup&&(this.dservCleanup(),this.dservCleanup=null),this.isInitialized=!1}}const errorService=new ErrorService,initializeErrorTracking=async H=>await errorService.initializeGlobalTracking(H),_hoisted_1$n={style:{height:"100%",display:"flex","flex-direction":"column",padding:"8px",overflow:"hidden"}},_hoisted_2$h={style:{"flex-shrink":"0","margin-bottom":"12px",padding:"0 4px",display:"flex","flex-direction":"column","align-items":"center"}},_hoisted_3$g={key:0,style:{background:"#f0f7ff",border:"1px solid #91d5ff","border-radius":"6px",padding:"8px","margin-bottom":"8px",width:"100%"}},_hoisted_4$e={style:{"font-size":"10px",color:"#1890ff","text-align":"center","margin-top":"4px"}},_hoisted_5$e={key:0,style:{"font-size":"9px",color:"#999","text-align":"center"}},_hoisted_6$d={class:"system-config subject-section",style:{background:"#f8f9fa",border:"1px solid #e8e8e8","border-radius":"6px",padding:"4px","margin-bottom":"8px",width:"100%","max-width":"100%","min-height":"40px"}},_hoisted_7$d={key:1,style:{"text-align":"center","margin-bottom":"8px",width:"100%"}},_hoisted_8$d={style:{background:"#f8f9fa",border:"1px solid #e8e8e8","border-radius":"8px",padding:"8px","margin-bottom":"12px",width:"100%","max-width":"100%","min-height":"120px"}},_hoisted_9$d={class:"control-buttons",style:{"margin-bottom":"8px"}},_hoisted_10$c={style:{"font-size":"12px","min-height":"72px"}},_hoisted_11$c={style:{display:"flex","align-items":"center",gap:"8px","margin-bottom":"4px",height:"20px"}},_hoisted_12$b={style:{display:"flex","align-items":"center",gap:"8px"}},_hoisted_13$b={style:{"padding-left":"20px","min-height":"48px"}},_hoisted_14$8={style:{display:"flex","align-items":"center",gap:"8px","margin-bottom":"4px",height:"20px"}},_hoisted_15$8={key:0,style:{"font-size":"10px",color:"#666","margin-left":"8px"}},_hoisted_16$8={style:{display:"flex","align-items":"center",gap:"4px","min-height":"16px"}},_hoisted_17$8={style:{flex:"1",display:"flex","align-items":"center",gap:"2px"}},_hoisted_18$7={key:0,style:{color:"green","font-family":"monospace","font-size":"10px",flex:"1",overflow:"hidden","text-overflow":"ellipsis"}},_hoisted_19$7={key:1,style:{color:"#999","font-size":"10px",flex:"1"}},_hoisted_20$7={key:0,style:{"font-size":"10px",color:"#52c41a","margin-top":"2px"}},_hoisted_21$6={class:"system-config",style:{background:"#f8f9fa",border:"1px solid #e8e8e8","border-radius":"6px",padding:"6px","margin-bottom":"8px",width:"100%","max-width":"100%","min-height":"140px"}},_hoisted_22$6={style:{"font-weight":"500","margin-bottom":"6px","font-size":"12px","min-height":"18px",display:"flex","align-items":"center"}},_hoisted_23$4={key:1,style:{"margin-left":"8px","font-size":"10px",color:"#666"}},_hoisted_24$4={style:{display:"flex","align-items":"center",gap:"4px"}},_hoisted_25$4={style:{display:"flex","align-items":"center",gap:"4px"}},_hoisted_26$4={style:{display:"flex","align-items":"center",gap:"4px"}},_hoisted_27$4={style:{background:"#f8f9fa",border:"1px solid #e8e8e8","border-radius":"6px",padding:"8px","margin-bottom":"8px",width:"100%","max-width":"100%","min-height":"60px"}},_hoisted_28$4={style:{display:"flex","justify-content":"center","padding-bottom":"4px"}},_hoisted_29$4={style:{flex:"1","overflow-y":"auto","overflow-x":"hidden",padding:"0 4px",display:"flex","flex-direction":"column","align-items":"center"}},_hoisted_30$4={style:{"max-height":"200px","overflow-y":"auto","padding-right":"4px"}},_hoisted_31$4={style:{display:"flex","align-items":"center","justify-content":"space-between",gap:"8px"}},_hoisted_32$4={style:{"font-size":"11px",flex:"1","text-align":"left","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},_hoisted_33$4={style:{"max-height":"200px","overflow-y":"auto","padding-right":"4px"}},_hoisted_34$4={style:{display:"flex","align-items":"center","justify-content":"space-between",gap:"8px"}},_hoisted_35$4={style:{"font-size":"11px",flex:"1","text-align":"left","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},_sfc_main$q={__name:"ExperimentControl",setup(H){const K=["sally","momo","riker","glenn","human"],W=ref(""),G=ref(""),U=ref(!1);ref(!1);const X=ref("");ref(null);const Q=ref([]),Z=ref([]),ee=ref(!0),ne=computed(()=>dserv.loadingState.isLoading),te=computed(()=>{if(dserv.loadingState.isLoading){const{stage:we,message:_e,percent:Ve}=dserv.loadingState;return we==="complete"&&oe.value>0?`Loaded ${oe.value} trials successfully`:`${we}: ${_e} (${Ve}%)`}return""}),oe=ref(0),re=ref(0),ae=computed(()=>dserv.loadingState.timeout||dserv.loadingState.elapsed>3e4),se=computed(()=>dserv.state.currentProtocol||null),ce=computed(()=>dserv.state.currentVariant||null),de=computed(()=>dserv.state.protocols),le=computed(()=>dserv.state.variants),fe=computed(()=>dserv.loadingState.isLoading?"Loading...":dserv.state.currentSystem?"Select protocol...":"Select system first"),pe=computed(()=>dserv.loadingState.isLoading?"Loading...":dserv.state.currentProtocol?"Select variant...":"Select protocol first");async function me(){try{await dserv.forceLoadingRecovery(),Ce("Loading state recovered","success")}catch{Ce("Recovery failed","error")}}onMounted(()=>{console.log("ExperimentControl component mounted");const we=dserv.registerComponent("ExperimentControl",{subscriptions:[{pattern:"ess/variant_info_json",every:1},{pattern:"ess/param_settings",every:1},{pattern:"ess/datafile",every:1},{pattern:"ess/lastfile",every:1}]});dserv.on("loadingProgress",_e=>{console.log("Loading progress:",_e)},"ExperimentControl"),dserv.on("loadingStarted",_e=>{console.log("Loading started:",_e.operationId)},"ExperimentControl"),dserv.on("loadingFinished",_e=>{console.log("Loading finished"),re.value>0&&setTimeout(()=>{Ce(`Ready: ${re.value} trials loaded`,"success")},500)},"ExperimentControl"),dserv.on("loadingFailed",_e=>{Ce(`Loading failed: ${_e.error}`,"error")},"ExperimentControl"),dserv.on("loadingTimeout",()=>{Ce("Loading operation timed out","error")},"ExperimentControl"),dserv.on("datapoint:ess/variant_info_json",_e=>{console.log("Received variant_info_json:",_e.data),ue(_e.data)},"ExperimentControl"),dserv.on("datapoint:ess/param_settings",_e=>{console.log("Received param_settings:",_e.data),ge(_e.data)},"ExperimentControl"),dserv.on("datapoint:ess/datafile",_e=>{console.log("Received datafile status:",_e.data),G.value=_e.data||"",_e.data||(W.value="")},"ExperimentControl"),dserv.on("datapoint:ess/lastfile",_e=>{console.log("Last file processed:",_e.data),_e.data&&Ce(`File processed: ${_e.data}`,"success")},"ExperimentControl"),dserv.on("datapoint:ess/params",_e=>{console.log("Received params update:",_e.data),Se(_e.data)},"ExperimentControl"),dserv.on("datapoint:ess/param",_e=>{console.log("Received single param update:",_e.data),Se(_e.data)},"ExperimentControl"),dserv.on("trialsLoaded",_e=>{oe.value=_e.count,re.value=_e.count,Ce(`Loaded ${_e.count} trials`,"success"),console.log("Trials loaded event:",_e)},"ExperimentControl"),dserv.on("datapoint:ess/stiminfo",_e=>{if(console.log("Received stiminfo data:",_e.data?"HAS DATA":"NO DATA"),_e.data)try{const Ve=JSON.parse(_e.data);if(Ve&&Ve.rows&&Array.isArray(Ve.rows)){const je=Ve.rows.length;oe.value=je,re.value=je,console.log(`Stiminfo parsed: ${je} trials available`),je>0&&setTimeout(()=>{dserv.state.obsTotal===je&&dserv.state.obsId===0&&console.log(`Confirmed obs count reset to 1/${je}`)},100)}}catch(Ve){console.error("Failed to parse stiminfo:",Ve)}},"ExperimentControl"),onUnmounted(()=>{we()})}),computed(()=>{const we={status:dserv.state.status,obsCount:dserv.state.obsCount,inObs:dserv.state.inObs};return oe.value>0&&(we.trialInfo=`${oe.value} trials loaded`),we});function ue(we){try{console.log("Parsing variant info JSON:",we);let _e;typeof we=="string"?_e=JSON.parse(we):_e=we;const{loader_proc:Ve,loader_arg_names:je,loader_args:qe,options:Pe}=_e;console.log("Extracted variant info:",{loader_proc:Ve,loader_arg_names:je,loader_args:qe,options:Pe});const ke=[];je.forEach((Ue,He)=>{if(Pe[Ue]){const Me=qe[He];let Je=null;const Fe=Pe[Ue].map(Oe=>(Oe.selected===!0&&(Je=Oe.value),{label:Oe.label,value:Oe.value}));if(Je===null&&Fe.length>0){const Oe=Fe.find(Qe=>Qe.value===Me||typeof Me=="string"&&Qe.value===Me.trim());Je=Oe?Oe.value:Fe[0].value}ke.push({name:Ue,choices:Fe,selectedValue:Je||Fe[0]?.value||""}),console.log(`Processed ${Ue}: selected=${Je}, choices=${Fe.length}`)}}),console.log("Final variant options array:",ke),Q.value=ke,console.log(`Loader proc: ${Ve}`),console.log(`Current args: [${qe.join(", ")}]`)}catch(_e){console.error("Failed to parse variant info JSON:",_e),Q.value=[]}}function ge(we){try{console.log("Parsing system parameters:",we);const _e=[],Ve=we.match(/(\w+)\s+{([^}]+)}/g);Ve&&Ve.forEach(je=>{const[,qe,Pe]=je.match(/(\w+)\s+{([^}]+)}/),ke=Pe.trim().split(/\s+/);if(ke.length>=3){const Ue=ke[0],He=ke[1],Me=ke[2];let Je=Ue;Me==="int"?Je=parseInt(Ue,10):Me==="float"&&(Je=parseFloat(Ue)),_e.push({name:qe,value:Je,variableType:parseInt(He,10),dataType:Me})}}),console.log("Parsed system parameters:",_e),Z.value=_e}catch(_e){console.error("Failed to parse system parameters:",_e),Z.value=[]}}async function he(){let we=W.value.trim();if(!we&&X.value&&(we=X.value),!we)try{const _e=await dserv.essCommand("ess::file_suggest");_e&&_e.trim()&&(we=_e.trim(),Ce(`Auto-suggested filename: ${we}`,"info"))}catch(_e){console.error("Failed to auto-suggest filename:",_e)}if(!we){Ce("Unable to determine filename. Please enter one manually.","error");return}if(!U.value){U.value=!0;try{const _e=await dserv.essCommand(`ess::file_open ${we}`);_e==="1"||_e===1?(Ce(`Datafile opened: ${we}`,"success"),W.value="",X.value=""):Ce(_e==="0"||_e===0?`File ${we} already exists`:_e==="-1"||_e===-1?"Another file is already open. Close it first.":`Unexpected response: ${_e}`,"error")}catch(_e){console.error("Failed to open datafile:",_e),Ce(`Failed to open datafile: ${_e.message}`,"error")}finally{U.value=!1}}}async function ve(){if(!G.value){Ce("No datafile is currently open","error");return}if(!U.value){U.value=!0;try{const we=await dserv.essCommand("ess::file_close");we==="1"||we===1?(Ce("Datafile closed successfully","success"),W.value=""):Ce("No datafile was open","info")}catch(we){console.error("Failed to close datafile:",we),Ce(`Failed to close datafile: ${we.message}`,"error")}finally{U.value=!1}}}async function ye(we,_e){try{const Ve=`ess::set_variant_args {${we} {${_e}}}`;if(console.log("Setting variant option with command:",Ve),await dserv.essCommand(Ve),ee.value)try{await dserv.reloadVariant()}catch(je){console.error("Failed to auto-reload variant:",je),Ce(`Auto-reload failed: ${je.message}`,"error");try{await dserv.essCommand("dservSet ess/status stopped"),console.log("Reset system status to stopped after reload failure")}catch(qe){console.error("Failed to reset system status:",qe)}}}catch(Ve){console.error("Failed to set variant option:",Ve),Ce(`Failed to set variant option: ${Ve.message}`,"error")}}async function be(we,_e){try{const Ve=`ess::set_param ${we} ${_e}`;await dserv.essCommand(Ve),Ce(`Parameter ${we} set to: ${_e}`,"success")}catch(Ve){console.error("Failed to set system parameter:",Ve),Ce(`Failed to set parameter: ${Ve.message}`,"error")}}function Se(we){try{console.log("Updating system parameters from string:",we);const _e=we.trim().split(/\s+/);if(_e.length%2!==0){console.warn("Invalid parameter string format - must have even number of elements");return}for(let Ve=0;Ve<_e.length;Ve+=2){const je=_e[Ve],qe=_e[Ve+1],Pe=Z.value.find(ke=>ke.name===je);Pe?(Pe.dataType==="int"?Pe.value=parseInt(qe,10):Pe.dataType==="float"?Pe.value=parseFloat(qe):Pe.value=qe,console.log(`Updated parameter ${je} to ${Pe.value}`)):console.warn(`Parameter ${je} not found in current parameters`)}Ce(`Updated ${_e.length/2} parameter(s)`,"success")}catch(_e){console.error("Failed to update parameters from string:",_e),Ce(`Failed to update parameters: ${_e.message}`,"error")}}watch(()=>dserv.state.connected,async(we,_e)=>{if(we&&!_e){if(Ce("Reconnected to dserv","success"),dserv.loadingState.isLoading){console.log("Recovering loading state after reconnection");try{await dserv.essCommand("dservGet ess/status",3e3)!=="loading"&&(console.log("Backend not loading after reconnect - clearing loading states"),me())}catch{console.warn("Could not verify backend state after reconnection"),setTimeout(()=>me(),2e3)}}}else we||Ce("Disconnected from dserv","error")}),watch(()=>G.value,(we,_e)=>{_e&&!we&&(W.value="",X.value="")});function Ce(we,_e="normal"){try{const je={success:"info",error:"error",warning:"warning",info:"info",normal:"info"}[_e]||"info";errorService.addFrontendLog(je,we,"frontend")}catch(Ve){console.warn("Failed to log to terminal:",Ve),console.log(`[${_e}] ${we}`)}}watch(()=>dserv.state.subject,async we=>{});async function xe(we){try{await dserv.setSubject(we),Ce(`Subject set to: ${we}`,"success")}catch(_e){console.error("Failed to set subject:",_e),Ce(`Failed to set subject: ${_e.message}`,"error")}}async function Ne(we){dserv.state.obsCount="",dserv.state.inObs=!1;try{await dserv.setSystem(we),Ce(`System loaded: ${we}`,"success")}catch(_e){console.error("Failed to set system:",_e),Ce(`Failed to load system: ${_e.message}`,"error")}}async function $e(we){try{await dserv.setProtocol(we),Ce(`Protocol loaded: ${we}`,"success")}catch(_e){console.error("Failed to set protocol:",_e),Ce(`Failed to load protocol: ${_e.message}`,"error")}}async function Ee(we){try{await dserv.setVariant(we),Ce(`Variant loaded: ${we}`,"success")}catch(_e){console.error("Failed to set variant:",_e),Ce(`Failed to load variant: ${_e.message}`,"error")}}async function Te(){try{await dserv.startExperiment(),Ce("Experiment started","success")}catch(we){console.error("Failed to start experiment:",we),Ce(`Failed to start: ${we.message}`,"error")}}async function Be(){try{await dserv.stopExperiment(),Ce("Experiment stopped","success")}catch(we){console.error("Failed to stop experiment:",we),Ce(`Failed to stop: ${we.message}`,"error")}}async function Ae(){try{await dserv.resetExperiment(),dserv.state.obsCount=" ",Ce("Experiment reset","success")}catch(we){console.error("Failed to reset experiment:",we),Ce(`Failed to reset: ${we.message}`,"error")}}async function ze(){try{await dserv.reloadSystem(),Ce("System reloaded","success")}catch(we){console.error("Failed to reload system:",we),Ce(`Failed to reload system: ${we.message}`,"error")}}async function We(){try{await dserv.reloadProtocol(),Ce("Protocol reloaded","success")}catch(we){console.error("Failed to reload protocol:",we),Ce(`Failed to reload protocol: ${we.message}`,"error")}}async function Le(){try{await dserv.reloadVariant(),Ce("Variant reloaded","success")}catch(we){console.error("Failed to reload variant:",we),Ce(`Failed to reload variant: ${we.message}`,"error")}}async function Ze(){try{await dserv.essCommand("ess::save_settings"),Ce("Settings saved","success")}catch(we){console.error("Failed to save settings:",we),Ce(`Failed to save settings: ${we.message}`,"error")}}async function Ye(){try{await dserv.essCommand("ess::reset_settings"),Ce("Settings reset to defaults","success")}catch(we){console.error("Failed to reset settings:",we),Ce(`Failed to reset settings: ${we.message}`,"error")}}async function Re(){try{await dserv.essCommand("ess::load_settings"),Ce("Settings loaded","success")}catch(we){console.error("Failed to load settings:",we),Ce(`Failed to load settings: ${we.message}`,"error")}}function Ke(we){switch(we){case"Running":return"green";case"Stopped":return"red";case"loading":return"orange";default:return"default"}}return(we,_e)=>{const Ve=__unplugin_components_0$1,je=SelectOption,qe=Select,Pe=__unplugin_components_16,ke=Button$1,Ue=Space,He=Tag$1,Me=Spin,Je=Checkbox,Fe=__unplugin_components_1,Oe=Collapse,Qe=__unplugin_components_11$1,Ie=Input;return openBlock(),createElementBlock("div",_hoisted_1$n,[_e[18]||(_e[18]=createBaseVNode("div",{style:{"flex-shrink":"0",display:"flex","align-items":"center","justify-content":"center","margin-bottom":"12px",padding:"4px 0"}},[createBaseVNode("div",{style:{"font-weight":"500","font-size":"14px"}},"ESS Control")],-1)),createBaseVNode("div",_hoisted_2$h,[ne.value?(openBlock(),createElementBlock("div",_hoisted_3$g,[createVNode(Ve,{percent:unref(dserv).loadingState.percent,size:"small",status:unref(dserv).loadingState.error?"exception":"active","show-info":!0},null,8,["percent","status"]),createBaseVNode("div",_hoisted_4$e,toDisplayString(te.value),1),unref(dserv).loadingState.elapsed>0?(openBlock(),createElementBlock("div",_hoisted_5$e,toDisplayString(Math.round(unref(dserv).loadingState.elapsed/1e3))+"s elapsed ",1)):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$d,[createVNode(Pe,{label:"Subject",style:{"margin-bottom":"0"},class:"subject-item"},{default:withCtx(()=>[createVNode(qe,{value:unref(dserv).state.subject,"onUpdate:value":_e[0]||(_e[0]=De=>unref(dserv).state.subject=De),size:"small",style:{flex:"1","min-width":"140px"},disabled:ne.value,onChange:xe},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(K,De=>createVNode(je,{key:De,value:De},{default:withCtx(()=>[createTextVNode(toDisplayString(De),1)]),_:2},1032,["value"])),64))]),_:1},8,["value","disabled"])]),_:1})]),ae.value?(openBlock(),createElementBlock("div",_hoisted_7$d,[createVNode(ke,{size:"small",type:"dashed",danger:"",onClick:me,style:{"font-size":"10px"}},{default:withCtx(()=>_e[5]||(_e[5]=[createTextVNode(" Force Recovery ")])),_:1,__:[5]})])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$d,[createBaseVNode("div",_hoisted_9$d,[createVNode(Ue,{size:"small"},{default:withCtx(()=>[createVNode(ke,{type:"primary",size:"small",disabled:ne.value||unref(dserv).state.status==="Running"||!unref(dserv).state.currentVariant,onClick:Te},{default:withCtx(()=>_e[6]||(_e[6]=[createTextVNode(" Go ")])),_:1,__:[6]},8,["disabled"]),createVNode(ke,{danger:"",size:"small",disabled:ne.value||unref(dserv).state.status!=="Running",onClick:Be},{default:withCtx(()=>_e[7]||(_e[7]=[createTextVNode(" Stop ")])),_:1,__:[7]},8,["disabled"]),createVNode(ke,{size:"small",disabled:ne.value||unref(dserv).state.status==="Running",onClick:Ae},{default:withCtx(()=>_e[8]||(_e[8]=[createTextVNode(" Reset ")])),_:1,__:[8]},8,["disabled"])]),_:1})]),createBaseVNode("div",_hoisted_10$c,[createBaseVNode("div",_hoisted_11$c,[createBaseVNode("div",{class:normalizeClass(["obs-indicator",{"is-active":unref(dserv).state.inObs}])},null,2),createBaseVNode("div",_hoisted_12$b,[_e[9]||(_e[9]=createBaseVNode("span",{style:{width:"50px","text-align":"right","white-space":"nowrap"}},[createBaseVNode("strong",null,"Status:")],-1)),createVNode(He,{color:Ke(unref(dserv).state.status),style:{margin:"0","min-width":"60px","text-align":"center"}},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(dserv).state.status),1)]),_:1},8,["color"])])]),createBaseVNode("div",_hoisted_13$b,[createBaseVNode("div",_hoisted_14$8,[_e[10]||(_e[10]=createBaseVNode("span",{style:{width:"50px","text-align":"right","white-space":"nowrap"}},[createBaseVNode("strong",null,"Obs:")],-1)),createVNode(He,{color:unref(dserv).state.inObs?"red":"default",style:{margin:"0","min-width":"60px","text-align":"center",height:"22px","line-height":"1",display:"flex","align-items":"center","justify-content":"center",padding:"0 4px","box-sizing":"border-box","font-size":"12px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(dserv).state.obsCount||"None"),1)]),_:1},8,["color"]),oe.value>0?(openBlock(),createElementBlock("span",_hoisted_15$8," ("+toDisplayString(oe.value)+" trials) ",1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_16$8,[_e[11]||(_e[11]=createBaseVNode("span",{style:{width:"50px","text-align":"right","white-space":"nowrap"}},[createBaseVNode("strong",null,"File:")],-1)),createBaseVNode("div",_hoisted_17$8,[G.value?(openBlock(),createElementBlock("span",_hoisted_18$7,toDisplayString(G.value.split("/").pop().replace(".ess","")),1)):(openBlock(),createElementBlock("span",_hoisted_19$7,"No file")),createVNode(ke,{size:"small",icon:h$1(G.value?unref(CloseOutlined):unref(FolderOpenOutlined)),type:G.value?"default":"primary",danger:!!G.value,disabled:ne.value,onClick:_e[1]||(_e[1]=De=>G.value?ve():he()),loading:U.value,style:{width:"16px",height:"16px","font-size":"8px"}},null,8,["icon","type","danger","disabled","loading"])])]),re.value>0&&!ne.value?(openBlock(),createElementBlock("div",_hoisted_20$7,"  Ready: "+toDisplayString(re.value)+" trials loaded ",1)):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_21$6,[createBaseVNode("div",_hoisted_22$6,[_e[12]||(_e[12]=createTextVNode(" System Configuration ")),ne.value?(openBlock(),createBlock(Me,{key:0,size:"small",style:{"margin-left":"8px"}})):createCommentVNode("",!0),ne.value?(openBlock(),createElementBlock("span",_hoisted_23$4,toDisplayString(unref(dserv).loadingState.stage)+"...",1)):createCommentVNode("",!0)]),createVNode(Pe,{label:"System",style:{"margin-bottom":"1px","min-height":"32px"},class:"system-config-item"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_24$4,[createVNode(qe,{value:unref(dserv).state.currentSystem,"onUpdate:value":_e[2]||(_e[2]=De=>unref(dserv).state.currentSystem=De),size:"small",style:{flex:"1","min-width":"140px"},disabled:ne.value,onChange:Ne,placeholder:ne.value?"Loading...":"Select system..."},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(dserv).state.systems,De=>(openBlock(),createBlock(je,{key:De,value:De},{default:withCtx(()=>[createTextVNode(toDisplayString(De),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","disabled","placeholder"]),createVNode(ke,{size:"small",icon:h$1(unref(ReloadOutlined)),disabled:ne.value,onClick:ze,style:{width:"24px",height:"24px"}},null,8,["icon","disabled"])])]),_:1}),createVNode(Pe,{label:"Protocol",style:{"margin-bottom":"1px","min-height":"32px"},class:"system-config-item"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_25$4,[createVNode(qe,{value:se.value,size:"small",style:{flex:"1","min-width":"140px"},disabled:ne.value||!unref(dserv).state.currentSystem,onChange:$e,placeholder:fe.value,"allow-clear":!0,"show-search":!1},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(de.value,De=>(openBlock(),createBlock(je,{key:De,value:De},{default:withCtx(()=>[createTextVNode(toDisplayString(De),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","disabled","placeholder"]),createVNode(ke,{size:"small",icon:h$1(unref(ReloadOutlined)),disabled:ne.value,onClick:We,style:{width:"24px",height:"24px"}},null,8,["icon","disabled"])])]),_:1}),createVNode(Pe,{label:"Variant",style:{"margin-bottom":"0","min-height":"32px"},class:"system-config-item"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_26$4,[createVNode(qe,{value:ce.value,size:"small",style:{flex:"1","min-width":"140px"},disabled:ne.value||!unref(dserv).state.currentProtocol,onChange:Ee,placeholder:pe.value,"allow-clear":!0,"show-search":!1},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(le.value,De=>(openBlock(),createBlock(je,{key:De,value:De},{default:withCtx(()=>[createTextVNode(toDisplayString(De),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","disabled","placeholder"]),createVNode(ke,{size:"small",icon:h$1(unref(ReloadOutlined)),disabled:ne.value,onClick:Le,style:{width:"24px",height:"24px"}},null,8,["icon","disabled"])])]),_:1})]),createBaseVNode("div",_hoisted_27$4,[_e[16]||(_e[16]=createBaseVNode("div",{style:{"font-weight":"500","margin-bottom":"8px","font-size":"12px"}},"Settings",-1)),createBaseVNode("div",_hoisted_28$4,[createVNode(Ue,{size:"small",wrap:""},{default:withCtx(()=>[createVNode(ke,{size:"small",disabled:ne.value,onClick:Ze},{default:withCtx(()=>_e[13]||(_e[13]=[createTextVNode("Save")])),_:1,__:[13]},8,["disabled"]),createVNode(ke,{size:"small",disabled:ne.value,onClick:Ye},{default:withCtx(()=>_e[14]||(_e[14]=[createTextVNode("Reset")])),_:1,__:[14]},8,["disabled"]),createVNode(ke,{size:"small",disabled:ne.value,onClick:Re},{default:withCtx(()=>_e[15]||(_e[15]=[createTextVNode("Load")])),_:1,__:[15]},8,["disabled"])]),_:1})])])]),createBaseVNode("div",_hoisted_29$4,[Q.value.length>0?(openBlock(),createBlock(Oe,{key:0,ghost:"",bordered:!0,style:{"margin-bottom":"12px",width:"100%","max-width":"100%"},"default-active-key":["variant-options"]},{default:withCtx(()=>[createVNode(Fe,{key:"variant-options",header:"Variant Options"},{extra:withCtx(()=>[createBaseVNode("div",{style:{display:"flex","align-items":"center",gap:"4px"},onClick:_e[4]||(_e[4]=withModifiers(()=>{},["stop"]))},[createVNode(Je,{checked:ee.value,"onUpdate:checked":_e[3]||(_e[3]=De=>ee.value=De),size:"small",style:{"font-size":"9px",transform:"scale(0.8)"}},null,8,["checked"]),_e[17]||(_e[17]=createBaseVNode("span",{style:{"font-size":"9px"}},"Auto-reload",-1)),createVNode(ke,{size:"small",icon:h$1(unref(ReloadOutlined)),disabled:ne.value,onClick:Le,style:{width:"18px",height:"18px","font-size":"8px","margin-left":"4px"},title:"Reload variant manually"},null,8,["icon","disabled"])])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_30$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Q.value,De=>(openBlock(),createElementBlock("div",{key:De.name,style:{"margin-bottom":"6px"}},[createBaseVNode("div",_hoisted_31$4,[createBaseVNode("span",_hoisted_32$4,toDisplayString(De.name),1),createVNode(qe,{value:De.selectedValue,"onUpdate:value":ot=>De.selectedValue=ot,size:"small",class:"variant-option-select",style:{width:"85px","flex-shrink":"0"},disabled:ne.value,onChange:ot=>ye(De.name,ot)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(De.choices,ot=>(openBlock(),createBlock(je,{key:ot.label,value:ot.value},{default:withCtx(()=>[createTextVNode(toDisplayString(ot.label),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value","disabled","onChange"])])]))),128))])]),_:1})]),_:1})):createCommentVNode("",!0),Z.value.length>0?(openBlock(),createBlock(Oe,{key:1,ghost:"",bordered:!0,style:{"margin-bottom":"12px",width:"100%","max-width":"100%"},"default-active-key":["system-parameters"]},{default:withCtx(()=>[createVNode(Fe,{key:"system-parameters",header:"System Parameters"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_33$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Z.value,De=>(openBlock(),createElementBlock("div",{key:De.name,style:{"margin-bottom":"6px"}},[createBaseVNode("div",_hoisted_34$4,[createBaseVNode("span",_hoisted_35$4,toDisplayString(De.name),1),De.dataType==="int"||De.dataType==="float"?(openBlock(),createBlock(Qe,{key:0,value:De.value,"onUpdate:value":ot=>De.value=ot,size:"small",style:{width:"85px","flex-shrink":"0"},precision:De.dataType==="float"?2:0,step:De.dataType==="float"?.1:1,disabled:ne.value,onChange:()=>be(De.name,De.value)},null,8,["value","onUpdate:value","precision","step","disabled","onChange"])):(openBlock(),createBlock(Ie,{key:1,value:De.value,"onUpdate:value":ot=>De.value=ot,size:"small",style:{width:"85px","flex-shrink":"0"},disabled:ne.value,onChange:()=>be(De.name,De.value)},null,8,["value","onUpdate:value","disabled","onChange"]))])]))),128))])]),_:1})]),_:1})):createCommentVNode("",!0)])])}}},ExperimentControl=_export_sfc(_sfc_main$q,[["__scopeId","data-v-a5dbebc9"]]),_hoisted_1$m={class:"ess-terminal",style:{height:"100%",display:"flex","flex-direction":"column"}},_hoisted_2$g={class:"terminal-header"},_hoisted_3$f={class:"terminal-input"},_sfc_main$p={__name:"EssTerminal",setup(H,{expose:K}){const W=ref(""),G=ref([{text:"ESS Terminal - Connected to local WebSocket",type:"info"},{text:"Type ESS commands or use the controls above",type:"info"},{text:"",type:"normal"}]),U=ref(null),X=ref(null),Q=ref([]),Z=ref(-1);function ee(fe,pe="normal"){G.value.push({text:fe,type:pe}),nextTick(()=>{ne()})}function ne(){U.value&&(U.value.scrollTop=U.value.scrollHeight)}async function te(){const fe=W.value.trim();if(fe){Q.value.push(fe),Z.value=-1,ee(`ess> ${fe}`,"command"),W.value="";try{const pe=await dserv.essCommand(fe);console.log("Terminal received result:",pe),pe&&pe.length>0&&pe.split(`
`).forEach(ue=>{ue.trim()&&ee(ue,"normal")})}catch(pe){ee(pe.message,"error")}}}function oe(fe){fe.key==="ArrowUp"?(fe.preventDefault(),Q.value.length>0&&(Z.value===-1?Z.value=Q.value.length-1:Z.value>0&&Z.value--,W.value=Q.value[Z.value]||"")):fe.key==="ArrowDown"&&(fe.preventDefault(),Z.value>=0&&(Z.value++,Z.value>=Q.value.length?(Z.value=-1,W.value=""):W.value=Q.value[Z.value]||""))}function re(){G.value=[{text:"ESS Terminal - Connected to local WebSocket",type:"info"},{text:"Type ESS commands or use the controls above",type:"info"},{text:"",type:"normal"}]}function ae(fe){return`terminal-line-${fe}`}function se(fe){ee(fe,"success")}function ce(fe){ee(fe,"error")}function de(fe){ee(fe,"info")}function le(fe,pe=null){ee(`ess> ${fe}`,"command"),pe&&ee(pe,"normal")}return K({logSuccess:se,logError:ce,logInfo:de,logCommand:le,addLine:ee,clearTerminal:re}),watch(()=>dserv.state.connected,fe=>{fe?ee("Connected to dserv","success"):ee("Disconnected from dserv","error")}),onMounted(()=>{nextTick(()=>{X.value&&X.value.focus()})}),(fe,pe)=>{const me=Button$1,ue=Input;return openBlock(),createElementBlock("div",_hoisted_1$m,[createBaseVNode("div",_hoisted_2$g,[pe[1]||(pe[1]=createBaseVNode("span",null,"ESS Terminal",-1)),createVNode(me,{size:"small",type:"text",icon:h$1(unref(ClearOutlined)),onClick:re,class:"clear-button"},null,8,["icon"])]),createBaseVNode("div",{ref_key:"terminalOutput",ref:U,class:"terminal-output"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(G.value,(ge,he)=>(openBlock(),createElementBlock("div",{key:he,class:"terminal-line"},[createBaseVNode("span",{class:normalizeClass(ae(ge.type))},toDisplayString(ge.text),3)]))),128))],512),createBaseVNode("div",_hoisted_3$f,[pe[2]||(pe[2]=createBaseVNode("span",{class:"prompt"},"ess>",-1)),createVNode(ue,{ref_key:"terminalInputRef",ref:X,value:W.value,"onUpdate:value":pe[0]||(pe[0]=ge=>W.value=ge),size:"small",bordered:!1,onPressEnter:te,onKeydown:oe,class:"command-input",placeholder:"Enter ESS command..."},null,8,["value"])])])}}},EssTerminal=_export_sfc(_sfc_main$p,[["__scopeId","data-v-fac62bd3"]]),_hoisted_1$l={class:"status-bar"},_hoisted_2$f={class:"status-message"},_hoisted_3$e={class:"time-display"},_sfc_main$o={__name:"StatusBar",props:{statusMessage:{type:String,default:"Ready"}},setup(H){const K=ref("");let W=null;function G(){const U=new Date;K.value=U.toLocaleString()}return onMounted(()=>{G(),W=setInterval(G,1e3)}),onUnmounted(()=>{clearInterval(W)}),(U,X)=>(openBlock(),createElementBlock("div",_hoisted_1$l,[createBaseVNode("div",_hoisted_2$f,toDisplayString(H.statusMessage),1),createBaseVNode("div",_hoisted_3$e,toDisplayString(K.value),1)]))}},StatusBar=_export_sfc(_sfc_main$o,[["__scopeId","data-v-77d86e8c"]]),_hoisted_1$k={style:{height:"100%",display:"flex","flex-direction":"row",padding:"8px",gap:"8px",overflow:"hidden"}},_hoisted_2$e={style:{flex:"3",display:"flex","flex-direction":"column","min-width":"0",height:"100%",overflow:"hidden"}},_hoisted_3$d={style:{"flex-shrink":"0","margin-bottom":"8px",display:"flex","justify-content":"space-between","align-items":"center"}},_hoisted_4$d={style:{"font-size":"12px",color:"#666"}},_hoisted_5$d={key:0,style:{"margin-left":"12px"}},_hoisted_6$c={style:{display:"flex","align-items":"center",gap:"8px"}},_hoisted_7$c={style:{flex:"1","min-height":"0",overflow:"hidden",display:"flex","flex-direction":"column"}},_hoisted_8$c={key:0,style:{flex:"1",display:"flex","align-items":"center","justify-content":"center"}},_hoisted_9$c={key:2,style:{flex:"1",display:"flex","align-items":"center","justify-content":"center",color:"#999"}},_hoisted_10$b={style:{"text-align":"center"}},_hoisted_11$b={style:{"margin-bottom":"12px"}},_hoisted_12$a={style:{flex:"1","min-width":"150px","border-left":"1px solid #e8e8e8","padding-left":"6px",height:"100%",display:"flex","flex-direction":"column",overflow:"hidden"}},_hoisted_13$a={style:{"flex-shrink":"0","font-size":"10px",color:"#666","margin-bottom":"6px"}},_hoisted_14$7={key:0,style:{flex:"1",overflow:"auto","font-size":"9px","font-family":"monospace"}},_hoisted_15$7={key:0,style:{color:"#666"}},_hoisted_16$7={style:{color:"#1890ff"}},_hoisted_17$7={key:1,style:{color:"#333","font-weight":"500"}},_hoisted_18$6={key:1,style:{flex:"1",display:"flex","align-items":"center","justify-content":"center",color:"#999","text-align":"center"}},_hoisted_19$6={style:{"font-size":"9px"}},_hoisted_20$6={style:{"max-height":"60vh",overflow:"auto"}},_hoisted_21$5={key:0,style:{"font-family":"monospace","font-size":"12px"}},_hoisted_22$5={key:1,style:{"font-family":"monospace","font-size":"12px"}},_sfc_main$n={__name:"StimInfo",setup(H){const K=ref(null),W=ref(null),G=ref(400),U=ref([]),X=ref([]),Q=ref(new Map),Z=ref(new Map),ee=ref(new Map),ne=ref(!1),te=ref(null),oe=ref(""),re=ref(0),ae=ref(!1),se=ref(!1),ce=ref(!0),de=ref(null),le=ref(null),fe=ref([]),pe=ref(0),me=ref(null);function ue(Re){if(console.time("Ultra-fast processing"),!Re||!Re.rows||!Re.arrays)return console.error("Invalid hybrid data format"),[];const{rows:Ke,arrays:we}=Re,_e=Object.keys(we),Ve={};_e.forEach(qe=>{const Pe=we[qe];Ve[qe]=Pe.map(ke=>Array.isArray(ke)?ke.length:0),ee.value.set(qe,{totalArrays:Pe.length,hasNestedArrays:Pe.length>0&&Array.isArray(Pe[0])&&Array.isArray(Pe[0][0])})});const je=Ke.map((qe,Pe)=>{const ke={trial_index:Pe};return Object.keys(qe).forEach(Ue=>{if(!_e.includes(Ue))ke[Ue]=qe[Ue];else if(typeof qe[Ue]=="number"){const He=qe[Ue],Me=Ve[Ue][He]||0;ke[Ue]=`ARRAY_REF:${He}:${Me}:${Ue}`}}),ke});return console.timeEnd("Ultra-fast processing"),console.log(`Ultra-fast processed: ${je.length} trials, ${_e.length} array fields`),je}function ge(Re){if(Q.value.has(Re))return Q.value.get(Re);console.time(`Expand row ${Re}`);const Ke=K.value.rows[Re],{arrays:we}=K.value,_e={trial_index:Re,...Ke};return Object.keys(we).forEach(Ve=>{if(Ve in Ke&&typeof Ke[Ve]=="number"){const je=Ke[Ve],qe=we[Ve][je],Pe=100,ke=5;Array.isArray(qe)&&qe.length>Pe?_e[Ve]={_isLargeArray:!0,_size:qe.length,_preview:qe.slice(0,ke),_fullData:qe}:_e[Ve]=qe}}),Q.value.set(Re,_e),console.timeEnd(`Expand row ${Re}`),_e}function he(Re,Ke){const we=`${Re}:${Ke}`;if(Z.value.has(we))return Z.value.get(we);const _e=K.value.rows[Re],{arrays:Ve}=K.value;if(Ke in _e&&typeof _e[Ke]=="number"){const je=_e[Ke],qe=Ve[Ke][je];return Z.value.set(we,qe),qe}return null}function ve(){Q.value.clear(),Z.value.clear(),ee.value.clear()}function ye(Re){fe.value=[Re.trial_index],pe.value=Re.trial_index,nextTick(()=>{me.value=ge(Re.trial_index)})}function be(Re){return typeof Re=="number"?Number.isInteger(Re)?Re.toString():Re.toFixed(3):typeof Re=="string"?`"${Re}"`:String(Re)}function Se(Re){if(!Re)return[];const Ke=[];let we=0;const _e=50;return Object.entries(Re).forEach(([Ve,je])=>{const qe=`${we++}`;if(je&&je._isLargeArray)Ke.push({title:`${Ve} (${je._size} items - showing first ${je._preview.length})`,key:qe,children:je._preview.map((Pe,ke)=>({title:`[${ke}]`,key:`${qe}-${ke}`,value:Pe,isLeaf:!0}))});else if(Array.isArray(je)||je&&typeof je=="object"&&"length"in je){const Pe=je.length,ke=Math.min(Pe,_e),Ue=[];for(let He=0;He<ke;He++)Ue.push({title:`[${He}]`,key:`${qe}-${He}`,value:je[He],isLeaf:!0});Pe>_e&&Ue.push({title:`... and ${Pe-_e} more items`,key:`${qe}-more`,value:`(${Pe-_e} additional items)`,isLeaf:!0}),Ke.push({title:`${Ve} (${Pe})`,key:qe,children:Ue})}else Ke.push({title:Ve,key:qe,value:je,isLeaf:!0})}),Ke}const Ce=computed(()=>Se(me.value)),xe=computed(()=>Ce.value.filter(Re=>Re.children&&Re.children.length<=5).map(Re=>Re.key)),Ne=computed(()=>{if(!U.value||U.value.length===0)return[];const Re=U.value[0],Ke=[];return Ke.push({title:"Trial",dataIndex:"trial_index",key:"trial_index",width:50,fixed:"left"}),Object.keys(Re).forEach(we=>{if(we==="trial_index")return;const _e=Re[we];typeof _e=="string"&&_e.startsWith("ARRAY_REF:")?(X.value.includes(we)||X.value.push(we),Ke.push({title:we,dataIndex:we,key:we,width:100,customRender:({text:je,record:qe})=>{if(!je||!je.startsWith("ARRAY_REF:"))return"";const[,Pe,ke,Ue]=je.split(":"),Me=ee.value.get(Ue)?.hasNestedArrays?"nested":"array";return h$1("span",{style:{color:"#666",fontSize:"11px",cursor:"pointer",textDecoration:"none",transition:"color 0.2s ease"},onMouseenter:Je=>{Je.target.style.color="#1890ff",Je.target.style.textDecoration="underline"},onMouseleave:Je=>{Je.target.style.color="#666",Je.target.style.textDecoration="none"},onClick:()=>$e(qe.trial_index,Ue)},`${Me}[${ke}] `)}})):Ke.push({title:we,dataIndex:we,key:we,width:90,ellipsis:!0,customRender:({text:je})=>typeof je=="number"&&!Number.isInteger(je)?je.toFixed(3):je,sorter:(je,qe)=>{const Pe=je[we],ke=qe[we];return typeof Pe=="number"&&typeof ke=="number"?Pe-ke:String(Pe).localeCompare(String(ke))}})}),Ke});function $e(Re,Ke){console.log(`Expanding array: trial ${Re}, field ${Ke}`);try{const we=he(Re,Ke);we?Ee(we,Ke,Re):console.warn(`No array data found for trial ${Re}, field ${Ke}`)}catch(we){console.error("Failed to expand array:",we)}}function Ee(Re,Ke,we){te.value=Re,oe.value=Ke.replace(/_/g," ").replace(/\b\w/g,_e=>_e.toUpperCase()),re.value=we,ne.value=!0}function Te(Re){return Re.length>0&&Array.isArray(Re[0])}const Be=computed(()=>{if(!Array.isArray(te.value)||!Te(te.value))return[];const Re=te.value[0];if(!Array.isArray(Re))return[];const Ke=[{title:"Row",dataIndex:"rowIndex",key:"rowIndex",width:60}];return Re.forEach((we,_e)=>{Ke.push({title:`Col ${_e}`,dataIndex:`col_${_e}`,key:`col_${_e}`,width:80})}),Ke}),Ae=computed(()=>!Array.isArray(te.value)||!Te(te.value)?[]:te.value.map((Re,Ke)=>{const we={rowIndex:Ke,key:Ke};return Array.isArray(Re)&&Re.forEach((_e,Ve)=>{we[`col_${Ve}`]=_e}),we}));async function ze(){if(!ae.value){console.log("Loading stimulus data..."),ae.value=!0,se.value=!0;try{await dserv.essCommand("dservTouch ess/stiminfo"),console.log("Requested stimulus data")}catch(Re){console.error("Failed to request stimulus data:",Re),ae.value=!1}}}function We(){if(W.value){const Re=W.value.clientHeight;G.value=Math.max(200,Re-40),console.log("Updated table scroll height:",G.value)}}let Le=null;function Ze(){W.value&&window.ResizeObserver&&(Le=new ResizeObserver(()=>{We()}),Le.observe(W.value))}function Ye(){ce.value||(console.log("Manual mode: immediately resetting request state to prevent processing unexpected data"),se.value=!1),le.value&&clearTimeout(le.value),le.value=setTimeout(()=>{console.log("Executing debounced reset of stimulus data state"),fe.value=[],pe.value=0,me.value=null,ve(),de.value&&clearTimeout(de.value),ce.value&&dserv.state.connected?(console.log("Scheduling auto-load of stimulus data"),de.value=setTimeout(()=>{console.log("Auto-loading stimulus data after configuration change"),ze(),de.value=null},200)):(console.log("Manual mode: clearing data"),ae.value=!1,U.value=[],K.value=null,X.value=[]),le.value=null},300)}return onMounted(()=>{console.log("StimInfo component mounted");const Re=dserv.registerComponent("StimInfo",{subscriptions:[{pattern:"ess/stiminfo",every:1}]});dserv.on("datapoint:ess/stiminfo",Ke=>{if(console.log("Received stiminfo data (autoLoad:",ce.value,"hasRequestedData:",se.value,"isLoading:",ae.value,")"),ae.value||se.value||ce.value)try{K.value=JSON.parse(Ke.data),U.value=ue(K.value),X.value=[],fe.value=[],pe.value=0,me.value=null,se.value=!0,console.log("Processed stiminfo summary:",U.value.length,"trials"),nextTick(()=>{We(),Ze()})}catch(we){console.error("Failed to parse stiminfo data:",we),U.value=[]}finally{ae.value=!1}else console.log("Ignoring unexpected stiminfo data (not loading, not requested, autoLoad disabled)")}),dserv.on("systemState",({loading:Ke})=>{Ke||(console.log("System loading completed, checking if reset needed"),setTimeout(()=>{Ye()},100))}),dserv.on("connection",({connected:Ke})=>{Ke&&ae.value&&se.value?(console.log("Reconnected while loading, re-requesting stimulus data"),ze()):Ke&&console.log("Connected but not auto-loading (isLoading:",ae.value,"hasRequestedData:",se.value,")")}),window.addEventListener("resize",We),onUnmounted(()=>{Re(),window.removeEventListener("resize",We),Le&&Le.disconnect()})}),(Re,Ke)=>{const we=Spin,_e=Checkbox,Ve=Button$1,je=__unplugin_components_6,qe=__unplugin_components_4,Pe=Modal;return openBlock(),createElementBlock("div",_hoisted_1$k,[createBaseVNode("div",_hoisted_2$e,[createBaseVNode("div",_hoisted_3$d,[createBaseVNode("div",_hoisted_4$d,[ae.value?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(we,{size:"small",style:{"margin-right":"8px"}}),Ke[2]||(Ke[2]=createTextVNode(" Loading stimulus data... "))],64)):U.value&&U.value.length>0?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("strong",null,toDisplayString(U.value.length),1),Ke[4]||(Ke[4]=createTextVNode(" trials ")),X.value.length>0?(openBlock(),createElementBlock("span",_hoisted_5$d,[Ke[3]||(Ke[3]=createBaseVNode("strong",null,"Arrays:",-1)),createTextVNode(" "+toDisplayString(X.value.join(", ")),1)])):createCommentVNode("",!0)],64)):se.value?(openBlock(),createElementBlock(Fragment,{key:2},[createTextVNode(" No stimulus data ")],64)):(openBlock(),createElementBlock(Fragment,{key:3},[createTextVNode(' Click "Show Stim Info" to view stimulus information ')],64))]),createBaseVNode("div",_hoisted_6$c,[createVNode(_e,{checked:ce.value,"onUpdate:checked":Ke[0]||(Ke[0]=ke=>ce.value=ke),size:"small",style:{"font-size":"11px"}},{default:withCtx(()=>Ke[5]||(Ke[5]=[createTextVNode(" Auto ")])),_:1,__:[5]},8,["checked"]),!se.value||U.value.length>0?(openBlock(),createBlock(Ve,{key:0,type:"primary",size:"small",onClick:ze,loading:ae.value},{default:withCtx(()=>[createTextVNode(toDisplayString(se.value?"Refresh":"Show Stim Info"),1)]),_:1},8,["loading"])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_7$c,[ae.value?(openBlock(),createElementBlock("div",_hoisted_8$c,[createVNode(we,{size:"large"})])):U.value&&U.value.length>0?(openBlock(),createElementBlock("div",{key:1,ref_key:"tableContainerRef",ref:W,style:{flex:"1",overflow:"hidden",position:"relative"}},[createVNode(je,{columns:Ne.value,"data-source":U.value,size:"small",pagination:!1,scroll:{y:G.value,x:"max-content"},sticky:"","row-key":"trial_index","row-selection":{type:"radio",selectedRowKeys:fe.value,onSelect:ye,hideSelectAll:!0,columnWidth:20},style:{height:"100%"}},null,8,["columns","data-source","scroll","row-selection"])],512)):(openBlock(),createElementBlock("div",_hoisted_9$c,[createBaseVNode("div",_hoisted_10$b,[Ke[7]||(Ke[7]=createBaseVNode("div",{style:{"font-size":"24px","margin-bottom":"8px"}},"",-1)),createBaseVNode("div",_hoisted_11$b,toDisplayString(se.value?"No stimulus data available":'Click "Show Stim Info" to view trial information'),1),se.value?createCommentVNode("",!0):(openBlock(),createBlock(Ve,{key:0,type:"primary",onClick:ze,loading:ae.value},{default:withCtx(()=>Ke[6]||(Ke[6]=[createTextVNode(" Show Stim Info ")])),_:1,__:[6]},8,["loading"]))])]))])]),createBaseVNode("div",_hoisted_12$a,[createBaseVNode("div",_hoisted_13$a,[createBaseVNode("strong",null,"Trial "+toDisplayString(pe.value)+" Details",1)]),me.value?(openBlock(),createElementBlock("div",_hoisted_14$7,[createVNode(qe,{"tree-data":Ce.value,"show-line":!0,"default-expand-all":!1,"default-expanded-keys":xe.value},{title:withCtx(({title:ke,value:Ue,isLeaf:He})=>[He?(openBlock(),createElementBlock("span",_hoisted_15$7,[createTextVNode(toDisplayString(ke)+": ",1),createBaseVNode("span",_hoisted_16$7,toDisplayString(be(Ue)),1)])):(openBlock(),createElementBlock("span",_hoisted_17$7,toDisplayString(ke),1))]),_:1},8,["tree-data","default-expanded-keys"])])):(openBlock(),createElementBlock("div",_hoisted_18$6,[createBaseVNode("div",null,[Ke[8]||(Ke[8]=createBaseVNode("div",{style:{"font-size":"12px","margin-bottom":"4px"}},"",-1)),createBaseVNode("div",_hoisted_19$6,toDisplayString(se.value?"Click a trial to view details":"Load data to view trial details"),1)])]))]),createVNode(Pe,{open:ne.value,"onUpdate:open":Ke[1]||(Ke[1]=ke=>ne.value=ke),title:`${oe.value} - Trial ${re.value}`,width:"80%",footer:null},{default:withCtx(()=>[createBaseVNode("div",_hoisted_20$6,[Array.isArray(te.value)?(openBlock(),createElementBlock(Fragment,{key:0},[Te(te.value)?(openBlock(),createBlock(je,{key:1,columns:Be.value,"data-source":Ae.value,size:"small",pagination:!1,scroll:{y:400,x:"max-content"}},null,8,["columns","data-source"])):(openBlock(),createElementBlock("div",_hoisted_21$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(te.value,(ke,Ue)=>(openBlock(),createElementBlock("div",{key:Ue,style:{"margin-bottom":"2px"}}," ["+toDisplayString(Ue)+"]: "+toDisplayString(ke),1))),128))]))],64)):(openBlock(),createElementBlock("div",_hoisted_22$5,toDisplayString(te.value),1))])]),_:1},8,["open","title"])])}}},StimInfo=_export_sfc(_sfc_main$n,[["__scopeId","data-v-c1a25845"]]),scriptRel="modulepreload",assetsURL=function(H){return"/"+H},seen={},__vitePreload=function(K,W,G){let U=Promise.resolve();if(W&&W.length>0){let ne=function(te){return Promise.all(te.map(oe=>Promise.resolve(oe).then(re=>({status:"fulfilled",value:re}),re=>({status:"rejected",reason:re}))))};var Q=ne;document.getElementsByTagName("link");const Z=document.querySelector("meta[property=csp-nonce]"),ee=Z?.nonce||Z?.getAttribute("nonce");U=ne(W.map(te=>{if(te=assetsURL(te),te in seen)return;seen[te]=!0;const oe=te.endsWith(".css"),re=oe?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${te}"]${re}`))return;const ae=document.createElement("link");if(ae.rel=oe?"stylesheet":scriptRel,oe||(ae.as="script"),ae.crossOrigin="",ae.href=te,ee&&ae.setAttribute("nonce",ee),document.head.appendChild(ae),oe)return new Promise((se,ce)=>{ae.addEventListener("load",se),ae.addEventListener("error",()=>ce(new Error(`Unable to preload CSS for ${te}`)))})}))}function X(Z){const ee=new Event("vite:preloadError",{cancelable:!0});if(ee.payload=Z,window.dispatchEvent(ee),!ee.defaultPrevented)throw Z}return U.then(Z=>{for(const ee of Z||[])ee.status==="rejected"&&X(ee.reason);return K().catch(X)})};class TclLinter{constructor(){this.errors=[],this.warnings=[],this.essSystemMethods=new Set(["add_state","add_action","add_transition","add_param","add_variable","add_method","set_start","set_end","get_params","set_param","get_states","status","set_status","init","deinit","start","stop","reset","update","do_action","do_transition","set_init_callback","set_deinit_callback","set_protocol_init_callback","set_protocol_deinit_callback","set_final_init_callback","set_start_callback","set_end_callback","set_reset_callback","set_quit_callback","set_file_suggest_callback","set_file_open_callback","set_file_close_callback","set_subject_callback","configure_stim","update_stimdg","file_suggest","file_open","file_close","set_subject","name","get_system","set_version","get_version","set_protocol","get_protocol","set_variants","get_variants","set_variant","get_variant","add_variant","reset_variant_args","set_variant_args","get_variant_args","get_variable","set_variable","set_parameters","set_default_param_vals","protocol_init","protocol_deinit","final_init"]),this.essEventTypes=new Set(["MAGIC","NAME","FILE","USER","TRACE","PARAM","SUBTYPES","SYSTEM_STATE","FSPIKE","HSPIKE","ID","BEGINOBS","ENDOBS","ISI","TRIALTYPE","OBSTYPE","EMLOG","FIXSPOT","EMPARAMS","STIMULUS","PATTERN","STIMTYPE","SAMPLE","PROBE","CUE","TARGET","DISTRACTOR","SOUND","CHOICES","FIXATE","RESP","SACCADE","DECIDE","ENDTRIAL","ABORT","REWARD","DELAY","PUNISH","PHYS","MRI","STIMULATOR","TOUCH","TARGNAME","SCENENAME","SACCADE_INFO","STIM_TRIGGER","MOVIENAME","STIMULATION","SECOND_CHANCE","SECOND_RESP","SWAPBUFFER","STIM_DATA","DIGITAL_LINES"]),this.essFunctions=new Set(["timerTick","timerExpired","now","dservSet","dservGet","dservTouch","dservClear","rmtSend","rmtOpen","rmtClose","rmtConnected","rmtName","soundPlay","soundReset","soundSetVoice","soundVolume","evtPut","evt_put","begin_obs","end_obs","em_region_on","em_region_off","em_fixwin_set","em_eye_in_region","em_sampler_enable","em_sampler_start","em_sampler_status","em_sampler_vals","touch_region_on","touch_region_off","touch_win_set","touch_in_region","reward","juicer_init","print","my"])}lint(K){this.errors=[],this.warnings=[];try{return this.checkBasicSyntax(K),this.checkBraceBalance(K),this.checkQuoteBalance(K),this.checkEssPatterns(K),{isValid:this.errors.length===0,errors:this.errors,warnings:this.warnings,summary:this.getSummary()}}catch(W){return this.errors.push({line:0,column:0,message:`Linter error: ${W.message}`,severity:"error"}),{isValid:!1,errors:this.errors,warnings:this.warnings,summary:"Linting failed"}}}checkEssPatterns(K){const W=K.split(`
`);let G=!1,U=!1;const X=[];W.forEach((Q,Z)=>{Q.includes("timerTick")&&(G=!0,X.push(Z+1)),Q.includes("timerExpired")&&(U=!0)}),W.forEach((Q,Z)=>{const ee=Q.trim();if(!ee||ee.startsWith("#"))return;const ne=Q.match(/\$sys(?:tem)?\s+(\w+)/);if(ne){const re=ne[1];this.essSystemMethods.has(re)||this.warnings.push({line:Z+1,column:ne.index+1,message:`Unknown ESS system method: ${re}`,severity:"warning"})}const te=Q.match(/::ess::evt_put\s+(\w+)/);if(te){const re=te[1];this.essEventTypes.has(re)||this.warnings.push({line:Z+1,column:te.index+1,message:`Unknown event type: ${re}`,severity:"warning"})}if(Q.match(/\$sys\s+add_transition\s+\w+/)){if(Q.includes("return"))return;if(Q.includes("{")){let re=!1,ae=(Q.match(/\{/g)||[]).length-(Q.match(/\}/g)||[]).length,se=Z+1;for(;se<W.length&&ae>0;){const ce=W[se];if(ae+=(ce.match(/\{/g)||[]).length-(ce.match(/\}/g)||[]).length,ce.includes("return")){re=!0;break}se++}re||this.warnings.push({line:Z+1,column:1,message:"State transition block should include return statement",severity:"warning"})}else{let re=!1;for(let ae=Z;ae<Math.min(Z+3,W.length);ae++)if(W[ae].includes("return")){re=!0;break}re||this.warnings.push({line:Z+1,column:1,message:"State transition should include return statement",severity:"warning"})}}}),G&&!U&&X.length>0&&this.warnings.push({line:X[0],column:1,message:"timerTick used but no timerExpired check found in script",severity:"warning"})}checkBasicSyntax(K){K.split(`
`).forEach((G,U)=>{const X=G.trim();!X||X.startsWith("#")||this.hasUnterminatedString(G)&&this.errors.push({line:U+1,column:G.length,message:"Unterminated string",severity:"error"})})}checkBraceBalance(K){let W=[],G=0;const U=K.split(`
`);if(U.forEach((X,Q)=>{let Z=!1,ee=!1;for(let ne=0;ne<X.length;ne++){const te=X[ne],oe=Q+1;if(ee){ee=!1;continue}if(te==="\\"){ee=!0;continue}if(te==='"'&&!ee){Z=!Z;continue}Z||(te==="{"?(G++,W.push({line:oe,column:ne+1,type:"open"})):te==="}"&&(G--,G<0?(this.errors.push({line:oe,column:ne+1,message:"Unmatched closing brace",severity:"error"}),G=0):W.pop()))}}),G>0){const X=W[W.length-1];this.errors.push({line:X?.line||U.length,column:X?.column||1,message:`${G} unmatched opening brace${G>1?"s":""}`,severity:"error"})}}checkQuoteBalance(K){const W=K.split(`
`);let G=!1;W.forEach((U,X)=>{let Q=0,Z=!1;for(let ee of U){if(Z){Z=!1;continue}if(ee==="\\"){Z=!0;continue}ee==='"'&&Q++}Q%2!==0&&(G?G=!1:G=!0)}),G&&this.errors.push({line:W.length,column:1,message:"Unterminated multi-line string",severity:"error"})}hasUnterminatedString(K){let W=0,G=!1;for(let U of K){if(G){G=!1;continue}if(U==="\\"){G=!0;continue}U==='"'&&W++}return W%2!==0}getSummary(){const K=this.errors.length,W=this.warnings.length;if(K===0&&W===0)return"No issues found";const G=[];return K>0&&G.push(`${K} error${K>1?"s":""}`),W>0&&G.push(`${W} warning${W>1?"s":""}`),G.join(", ")}static quickValidate(K){return new TclLinter().lint(K).isValid}static getErrors(K){return new TclLinter().lint(K).errors}}const _hoisted_1$j={style:{"font-family":"monospace","font-size":"11px",background:"#f5f5f5",padding:"8px","border-radius":"4px"}},_hoisted_2$d={style:{margin:"4px 0","white-space":"pre-wrap"}},_hoisted_3$c={style:{"margin-bottom":"16px"}},_hoisted_4$c={style:{display:"flex","justify-content":"space-between","align-items":"center"}},_hoisted_5$c={style:{"font-weight":"500","margin-bottom":"8px"}},_hoisted_6$b={style:{display:"flex",gap:"8px"}},_hoisted_7$b={key:1,style:{"text-align":"center",padding:"20px"}},_hoisted_8$b={key:2,style:{"text-align":"center",padding:"20px",color:"#666"}},_hoisted_9$b={style:{"font-size":"11px","margin-top":"8px"}},_hoisted_10$a={key:3},_hoisted_11$a={style:{width:"100%",display:"flex","justify-content":"space-between","align-items":"center"}},_hoisted_12$9={style:{flex:"1"}},_hoisted_13$9={style:{"font-weight":"500","font-size":"13px"}},_hoisted_14$6={style:{"font-size":"11px",color:"#666","margin-top":"2px"}},_hoisted_15$6={key:0,style:{"font-size":"10px",color:"#999","margin-top":"2px","font-family":"monospace"}},_hoisted_16$6={style:{display:"flex",gap:"8px"}},_hoisted_17$6={key:0,style:{"text-align":"center",padding:"40px"}},_hoisted_18$5={key:1,style:{"max-height":"500px",overflow:"auto",background:"#1e1e1e",color:"#e2e8f0",padding:"12px","border-radius":"4px","font-family":"monospace","font-size":"11px","white-space":"pre-wrap"}},_hoisted_19$5={key:2,style:{"margin-top":"8px","font-size":"10px",color:"#666","border-top":"1px solid #f0f0f0","padding-top":"8px"}},_hoisted_20$5={style:{display:"flex","justify-content":"space-between"}},_sfc_main$m={__name:"BackupManager",props:{scriptType:{type:String,required:!0}},emits:["restore","close"],setup(H,{emit:K}){const W=H,G=K,U=ref(!1),X=ref([]),Q=ref(!1),Z=ref(null),ee=ref(""),ne=ref(!1),te=ref(!1),oe=reactive({previewing:new Set,restoring:new Set,deleting:new Set}),re=reactive({rawResponse:"",lastError:"",backendStatus:"",testing:!1,noBackupsReason:""});onMounted(()=>{se()});async function ae(){re.testing=!0;try{const me=await dserv.essCommand("expr {1 + 1}");re.backendStatus=` Connected (test result: ${me})`;try{await dserv.essCommand("info commands ess::get_script_backups"),re.backendStatus+=" |  Backup commands available"}catch{re.backendStatus+=" |  Backup commands not found"}}catch(me){re.backendStatus=` Backend error: ${me.message}`}finally{re.testing=!1}}async function se(){U.value=!0,re.lastError="",re.noBackupsReason="";try{console.log(`Loading backups for script type: ${W.scriptType}`);const me=`ess::get_script_backups ${W.scriptType}`;console.log(`Executing command: ${me}`);const ue=await dserv.essCommand(me);if(re.rawResponse=`Type: ${typeof ue}, Value: ${JSON.stringify(ue,null,2)}`,console.log("Raw backup response:",ue),console.log("Response type:",typeof ue),console.log("Response length:",ue?.length),!ue){re.noBackupsReason="Backend returned null/undefined",X.value=[];return}let ge=[];if(Array.isArray(ue))ge=ue,console.log("Response is array:",ge);else if(typeof ue=="string"){const he=ue.trim();if(!he){re.noBackupsReason="Backend returned empty string",X.value=[];return}he.includes(" ")?(ge=he.split(/\s+/).filter(ve=>ve.trim()),console.log("Parsed as space-separated list:",ge)):he.includes(`
`)?(ge=he.split(`
`).filter(ve=>ve.trim()),console.log("Parsed as newline-separated list:",ge)):(ge=[he],console.log("Parsed as single file:",ge))}else{re.noBackupsReason=`Backend returned unexpected type: ${typeof ue}`,X.value=[];return}if(ge.length===0){re.noBackupsReason="No files after parsing",X.value=[];return}X.value=ge.map((he,ve)=>{const ye=he.split("/").pop();console.log(`Processing file ${ve}: ${ye} (full path: ${he})`);const be=[/backup_(\d{8}_\d{6})_/,/backup_(\d{14})_/,/(\d{8}_\d{6})/,/(\d{14})/];let Se="",Ce=null;for(const Ne of be)if(Ce=ye.match(Ne),Ce){Se=Ce[1],console.log(`Extracted timestamp "${Se}" using pattern ${Ne}`);break}Se||(console.warn(`Could not extract timestamp from: ${ye}`),Se="unknown");const xe={path:he,name:ye,displayName:ye.replace(/^backup_\d+_\d+_/,"").replace(/\.tcl$/,""),formattedDate:ce(Se),size:"Unknown",timestamp:Se,key:`backup-${ve}`};return console.log("Created backup item:",xe),xe}).sort((he,ve)=>he.timestamp==="unknown"&&ve.timestamp==="unknown"?0:he.timestamp==="unknown"?1:ve.timestamp==="unknown"?-1:ve.timestamp.localeCompare(he.timestamp)),console.log("Final processed backups:",X.value)}catch(me){console.error("Failed to load backups:",me),re.lastError=me.message,re.noBackupsReason=`Error: ${me.message}`,api$1.error("Failed to load backups: "+me.message),X.value=[]}finally{U.value=!1}}function ce(me){if(!me||me==="unknown")return"Unknown date";try{let ue=me;if(me.includes("_")){const[ve,ye]=me.split("_");if(ve.length===8&&ye.length===6){const be=ve.slice(0,4),Se=ve.slice(4,6),Ce=ve.slice(6,8),xe=ye.slice(0,2),Ne=ye.slice(2,4),$e=ye.slice(4,6);ue=`${be}-${Se}-${Ce}T${xe}:${Ne}:${$e}`}else if(ve.length===6&&ye.length===6){const be="20"+ve.slice(0,2),Se=ve.slice(2,4),Ce=ve.slice(4,6),xe=ye.slice(0,2),Ne=ye.slice(2,4),$e=ye.slice(4,6);ue=`${be}-${Se}-${Ce}T${xe}:${Ne}:${$e}`}}else if(me.length===14){const ve=me.slice(0,4),ye=me.slice(4,6),be=me.slice(6,8),Se=me.slice(8,10),Ce=me.slice(10,12),xe=me.slice(12,14);ue=`${ve}-${ye}-${be}T${Se}:${Ce}:${xe}`}console.log(`Timestamp conversion: "${me}" -> "${ue}"`);const ge=new Date(ue);if(isNaN(ge.getTime()))return console.warn(`Invalid date created from timestamp: ${me} -> ${ue}`),`Invalid date (${me})`;const he=ge.toLocaleString();return console.log(`Final formatted date: "${he}"`),he}catch(ue){return console.error("Error formatting timestamp:",me,ue),`Error formatting (${me})`}}async function de(me){const ue=me.path;if(!oe.previewing.has(ue))try{oe.previewing.add(ue),ne.value=!0,Z.value=me,console.log(`Previewing backup: ${me.path}`);const ge=`
      if {[file exists {${me.path}}]} {
        set f [open {${me.path}} r]
        set content [read $f]
        close $f
        return $content
      } else {
        error "File does not exist: ${me.path}"
      }
    `,he=await dserv.essCommand(ge);ee.value=he||"(Empty file)",Q.value=!0,console.log(`Preview loaded successfully, content length: ${he?.length||0}`)}catch(ge){console.error("Failed to preview backup:",ge),re.lastError=`Preview error: ${ge.message}`,ee.value=`Error loading preview:

${ge.message}

File path: ${me.path}`,Q.value=!0}finally{oe.previewing.delete(ue),ne.value=!1}}async function le(me){const ue=me.path;oe.restoring.has(ue)||(Modal.confirm({title:"Restore Backup",content:`Are you sure you want to restore from "${me.displayName}"? This will overwrite the current script and cannot be undone.`,okText:"Restore",okType:"primary",cancelText:"Cancel",async onOk(){oe.restoring.add(ue);try{console.log(`Restoring backup: ${me.path}`);const ge=`ess::restore_script_backup ${W.scriptType} {${me.path}}`;await dserv.essCommand(ge),api$1.success("Script restored successfully"),G("restore",me),G("close")}catch(ge){console.error("Failed to restore backup:",ge),re.lastError=`Restore error: ${ge.message}`,api$1.error(`Failed to restore backup: ${ge.message}`)}finally{oe.restoring.delete(ue)}}}),Q.value=!1)}async function fe(me){const ue=me.path;oe.deleting.has(ue)||Modal.confirm({title:"Delete Backup",content:`Are you sure you want to delete "${me.displayName}"? This action cannot be undone.`,okText:"Delete",okType:"danger",cancelText:"Cancel",async onOk(){oe.deleting.add(ue);try{console.log(`Deleting backup: ${me.path}`);const ge=`
          if {[file exists {${me.path}}]} {
            file delete {${me.path}}
            return "deleted"
          } else {
            error "File does not exist: ${me.path}"
          }
        `;await dserv.essCommand(ge),api$1.success("Backup deleted successfully");const he=X.value.findIndex(ve=>ve.path===me.path);he!==-1&&X.value.splice(he,1)}catch(ge){console.error("Failed to delete backup:",ge),re.lastError=`Delete error: ${ge.message}`,api$1.error(`Failed to delete backup: ${ge.message}`)}finally{oe.deleting.delete(ue)}}})}function pe(){se()}return(me,ue)=>{const ge=Button$1,he=__unplugin_components_1,ve=Collapse,ye=Spin,be=__unplugin_components_4$2,Se=List,Ce=Modal;return openBlock(),createElementBlock("div",null,[te.value?(openBlock(),createBlock(ve,{key:0,style:{"margin-bottom":"16px"},size:"small"},{default:withCtx(()=>[createVNode(he,{key:"debug",header:"Debug Information"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$j,[createBaseVNode("div",null,[ue[4]||(ue[4]=createBaseVNode("strong",null,"Script Type:",-1)),createTextVNode(" "+toDisplayString(H.scriptType),1)]),ue[9]||(ue[9]=createBaseVNode("div",null,[createBaseVNode("strong",null,"Raw Backend Response:")],-1)),createBaseVNode("pre",_hoisted_2$d,toDisplayString(re.rawResponse||"No response yet"),1),createBaseVNode("div",null,[ue[5]||(ue[5]=createBaseVNode("strong",null,"Parsed Files Count:",-1)),createTextVNode(" "+toDisplayString(X.value.length),1)]),createBaseVNode("div",null,[ue[6]||(ue[6]=createBaseVNode("strong",null,"Last Error:",-1)),createTextVNode(" "+toDisplayString(re.lastError||"None"),1)]),createBaseVNode("div",null,[ue[8]||(ue[8]=createBaseVNode("strong",null,"Backend Test:",-1)),createVNode(ge,{size:"small",onClick:ae,loading:re.testing},{default:withCtx(()=>ue[7]||(ue[7]=[createTextVNode(" Test Backend ")])),_:1,__:[7]},8,["loading"]),createTextVNode(" "+toDisplayString(re.backendStatus),1)])])]),_:1})]),_:1})):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$c,[createBaseVNode("div",_hoisted_4$c,[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_5$c," Available Backups for "+toDisplayString(H.scriptType.toUpperCase())+" Script ",1),ue[10]||(ue[10]=createBaseVNode("div",{style:{"font-size":"12px",color:"#666"}}," Backups are automatically created before each save. Click to restore. ",-1))]),createBaseVNode("div",_hoisted_6$b,[createVNode(ge,{size:"small",onClick:ue[0]||(ue[0]=xe=>te.value=!te.value)},{default:withCtx(()=>[createTextVNode(toDisplayString(te.value?"Hide":"Show")+" Debug ",1)]),_:1}),createVNode(ge,{size:"small",onClick:pe,loading:U.value},{default:withCtx(()=>[createVNode(unref(ReloadOutlined)),ue[11]||(ue[11]=createTextVNode(" Refresh "))]),_:1,__:[11]},8,["loading"])])])]),U.value?(openBlock(),createElementBlock("div",_hoisted_7$b,[createVNode(ye,{size:"large"}),ue[12]||(ue[12]=createBaseVNode("div",{style:{"margin-top":"8px","font-size":"12px"}},"Loading backups...",-1))])):X.value.length===0?(openBlock(),createElementBlock("div",_hoisted_8$b,[ue[13]||(ue[13]=createBaseVNode("div",null,"No backups available for this script.",-1)),createBaseVNode("div",_hoisted_9$b," Debug: "+toDisplayString(re.noBackupsReason),1)])):(openBlock(),createElementBlock("div",_hoisted_10$a,[createVNode(Se,{"data-source":X.value,size:"small",pagination:X.value.length>10?{pageSize:10}:!1},{renderItem:withCtx(({item:xe})=>[createVNode(be,{style:{padding:"8px 0"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_11$a,[createBaseVNode("div",_hoisted_12$9,[createBaseVNode("div",_hoisted_13$9,toDisplayString(xe.displayName),1),createBaseVNode("div",_hoisted_14$6,toDisplayString(xe.formattedDate)+"  "+toDisplayString(xe.size),1),te.value?(openBlock(),createElementBlock("div",_hoisted_15$6," Raw: "+toDisplayString(xe.timestamp)+" | Path: "+toDisplayString(xe.path),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_16$6,[createVNode(ge,{size:"small",onClick:Ne=>de(xe),loading:oe.previewing.has(xe.path)},{default:withCtx(()=>ue[14]||(ue[14]=[createTextVNode(" Preview ")])),_:2,__:[14]},1032,["onClick","loading"]),createVNode(ge,{type:"primary",size:"small",onClick:Ne=>le(xe),loading:oe.restoring.has(xe.path)},{default:withCtx(()=>ue[15]||(ue[15]=[createTextVNode(" Restore ")])),_:2,__:[15]},1032,["onClick","loading"]),createVNode(ge,{danger:"",size:"small",onClick:Ne=>fe(xe),loading:oe.deleting.has(xe.path)},{default:withCtx(()=>ue[16]||(ue[16]=[createTextVNode(" Delete ")])),_:2,__:[16]},1032,["onClick","loading"])])])]),_:2},1024)]),_:1},8,["data-source","pagination"])])),createVNode(Ce,{open:Q.value,"onUpdate:open":ue[3]||(ue[3]=xe=>Q.value=xe),title:`Preview: ${Z.value?.displayName||"Backup"}`,width:"900px",footer:null},{footer:withCtx(()=>[createBaseVNode("div",_hoisted_20$5,[createVNode(ge,{onClick:ue[1]||(ue[1]=xe=>Q.value=!1)},{default:withCtx(()=>ue[22]||(ue[22]=[createTextVNode(" Close ")])),_:1,__:[22]}),Z.value?(openBlock(),createBlock(ge,{key:0,type:"primary",onClick:ue[2]||(ue[2]=xe=>le(Z.value)),loading:Z.value?oe.restoring.has(Z.value.path):!1},{default:withCtx(()=>ue[23]||(ue[23]=[createTextVNode(" Restore This Version ")])),_:1,__:[23]},8,["loading"])):createCommentVNode("",!0)])]),default:withCtx(()=>[ne.value?(openBlock(),createElementBlock("div",_hoisted_17$6,[createVNode(ye,{size:"large"}),ue[17]||(ue[17]=createBaseVNode("div",{style:{"margin-top":"8px"}},"Loading preview...",-1))])):(openBlock(),createElementBlock("div",_hoisted_18$5,toDisplayString(ee.value),1)),te.value&&Z.value?(openBlock(),createElementBlock("div",_hoisted_19$5,[ue[18]||(ue[18]=createBaseVNode("strong",null,"Debug Info:",-1)),ue[19]||(ue[19]=createBaseVNode("br",null,null,-1)),createTextVNode(" File Path: "+toDisplayString(Z.value.path),1),ue[20]||(ue[20]=createBaseVNode("br",null,null,-1)),createTextVNode(" Timestamp: "+toDisplayString(Z.value.timestamp),1),ue[21]||(ue[21]=createBaseVNode("br",null,null,-1)),createTextVNode(" Raw Filename: "+toDisplayString(Z.value.name),1)])):createCommentVNode("",!0)]),_:1},8,["open","title"])])}}},BackupManager=_export_sfc(_sfc_main$m,[["__scopeId","data-v-99e6a458"]]),_hoisted_1$i={style:{padding:"16px",background:"#f9f9f9","border-radius":"8px","font-family":"monospace","font-size":"12px"}},_hoisted_2$c={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"16px"}},_hoisted_3$b={style:{display:"flex",gap:"8px"}},_hoisted_4$b={style:{display:"grid","grid-template-columns":"1fr 1fr",gap:"16px"}},_hoisted_5$b={style:{background:"white",padding:"12px","border-radius":"4px",border:"1px solid #ddd"}},_hoisted_6$a={style:{"margin-bottom":"8px"}},_hoisted_7$a={style:{"margin-bottom":"8px"}},_hoisted_8$a={style:{"margin-bottom":"8px"}},_hoisted_9$a={style:{"margin-bottom":"8px"}},_hoisted_10$9={style:{background:"white",padding:"12px","border-radius":"4px",border:"1px solid #ddd"}},_hoisted_11$9={style:{"margin-bottom":"8px"}},_hoisted_12$8={style:{"margin-bottom":"8px"}},_hoisted_13$8={style:{"margin-bottom":"8px"}},_hoisted_14$5={key:0,style:{"margin-top":"16px",background:"white",padding:"12px","border-radius":"4px",border:"1px solid #ddd"}},_hoisted_15$5={style:{background:"#f5f5f5",padding:"8px","border-radius":"4px","white-space":"pre-wrap","max-height":"300px","overflow-y":"auto"}},_hoisted_16$5={style:{"margin-top":"16px",background:"white",padding:"12px","border-radius":"4px",border:"1px solid #ddd"}},_hoisted_17$5={style:{display:"flex",gap:"8px","align-items":"center"}},_sfc_main$l={__name:"BackupDebugger",setup(H){const K=ref(!1),W=ref(""),G=ref("system"),U=ref(!1),X=ref(!1),Q=reactive({connection:{running:!1,result:null,message:"Not tested"},functions:{running:!1,result:null,message:"Not tested"},systemState:{running:!1,result:null,message:"Not tested"},fileSystem:{running:!1,result:null,message:"Not tested"},dateParsing:{running:!1,result:null,message:"Not tested"},fileSorting:{running:!1,result:null,message:"Not tested"},previewDelete:{running:!1,result:null,message:"Not tested"}});function Z(ue){const ge="margin-top: 4px; padding: 4px; border-radius: 2px; font-size: 11px;";return ue==="pass"?ge+"background: #f6ffed; color: #52c41a; border: 1px solid #b7eb8f;":ue==="fail"?ge+"background: #fff2f0; color: #ff4d4f; border: 1px solid #ffccc7;":ue==="warning"?ge+"background: #fffbe6; color: #faad14; border: 1px solid #ffe58f;":ge+"background: #fafafa; color: #666; border: 1px solid #d9d9d9;"}async function ee(){Q.connection.running=!0;try{const ue=await dserv.essCommand("expr {1 + 1}");ue==2?(Q.connection.result="pass",Q.connection.message=" Connected successfully"):(Q.connection.result="warning",Q.connection.message=` Unexpected result: ${ue}`)}catch(ue){Q.connection.result="fail",Q.connection.message=` Connection failed: ${ue.message}`}finally{Q.connection.running=!1}}async function ne(){Q.functions.running=!0;const ue=[];try{const ge=["ess::get_script_backups","ess::backup_script","ess::restore_script_backup","ess::debug_backup_system"];for(const ve of ge)try{await dserv.essCommand(`info commands ${ve}`),ue.push(` ${ve} exists`)}catch{ue.push(` ${ve} missing`)}try{await dserv.essCommand("ess::get_backup_info system"),ue.push(" get_backup_info works")}catch(ve){ue.push(` get_backup_info failed: ${ve.message}`)}const he=ue.filter(ve=>ve.startsWith("")).length;he===ue.length?(Q.functions.result="pass",Q.functions.message=` All ${he} functions available`):(Q.functions.result="warning",Q.functions.message=` ${he}/${ue.length} functions available`),W.value+=`
--- Backend Functions Test ---
`+ue.join(`
`)+`
`}catch(ge){Q.functions.result="fail",Q.functions.message=` Test failed: ${ge.message}`}finally{Q.functions.running=!1}}async function te(){Q.systemState.running=!0;try{const ue=dserv.state.currentSystem,ge=dserv.state.currentProtocol,he=dserv.state.currentVariant,ve=[`System: ${ue||"Not set"}`,`Protocol: ${ge||"Not set"}`,`Variant: ${he||"Not set"}`];ue&&ge?(Q.systemState.result="pass",Q.systemState.message=" System and protocol loaded"):ue?(Q.systemState.result="warning",Q.systemState.message=" System loaded but no protocol"):(Q.systemState.result="fail",Q.systemState.message=" No system loaded"),W.value+=`
--- System State Test ---
`+ve.join(`
`)+`
`}catch(ue){Q.systemState.result="fail",Q.systemState.message=` Error checking state: ${ue.message}`}finally{Q.systemState.running=!1}}async function oe(){Q.fileSystem.running=!0;try{const ue=[];try{const ge=await dserv.essCommand("return $::ess::system_path");ue.push(`System path: ${ge}`);const he=await dserv.essCommand("return $::ess::current(project)");ue.push(`Project: ${he}`);const ve=await dserv.essCommand(`
        set testPath [file join $::ess::system_path $::ess::current(project)]
        return [list [file exists $testPath] [file isdirectory $testPath] [file readable $testPath]]
      `);ue.push(`Test directory [exists writable readable]: ${ve}`)}catch(ge){ue.push(`File system error: ${ge.message}`)}try{await dserv.essCommand(`
        set tempFile [file join $::ess::system_path "test_backup_debug.tmp"]
        set f [open $tempFile w]
        puts $f "test"
        close $f
        set result [file exists $tempFile]
        file delete $tempFile
        return $result
      `)=="1"?(ue.push(" Can create/delete files"),Q.fileSystem.result="pass",Q.fileSystem.message=" File system access working"):(ue.push(" Cannot create files"),Q.fileSystem.result="fail",Q.fileSystem.message=" Cannot create files")}catch(ge){ue.push(`File creation error: ${ge.message}`),Q.fileSystem.result="fail",Q.fileSystem.message=` File system error: ${ge.message}`}W.value+=`
--- File System Test ---
`+ue.join(`
`)+`
`}catch(ue){Q.fileSystem.result="fail",Q.fileSystem.message=` Test failed: ${ue.message}`}finally{Q.fileSystem.running=!1}}async function re(){Q.dateParsing.running=!0;const ue=["20241213_143022","241213_143022","20241213143022","","invalid","20241213_25"],ge=[];let he=0;ue.forEach(ve=>{try{const ye=pe(ve);ge.push(`"${ve}" -> "${ye}"`),ye!=="Unknown date"&&ye!==`Invalid date (${ve})`&&he++}catch(ye){ge.push(`"${ve}" -> ERROR: ${ye.message}`)}}),he>=3?(Q.dateParsing.result="pass",Q.dateParsing.message=` ${he}/${ue.length} timestamps parsed`):he>0?(Q.dateParsing.result="warning",Q.dateParsing.message=` ${he}/${ue.length} timestamps parsed`):(Q.dateParsing.result="fail",Q.dateParsing.message=" No timestamps parsed correctly"),W.value+=`
--- Date Parsing Test ---
`+ge.join(`
`)+`
`,Q.dateParsing.running=!1}async function ae(){Q.fileSorting.running=!0;const ue=["/path/backup_20241213_143022_system.tcl","/path/backup_20241212_120000_system.tcl","/path/backup_20241214_090000_system.tcl","/path/backup_unknown_system.tcl"],ge=[];try{const he=[...ue].sort((ye,be)=>{const Se=me(ye),Ce=me(be);return Se==="unknown"&&Ce==="unknown"?0:Se==="unknown"?1:Ce==="unknown"?-1:Ce.localeCompare(Se)});ge.push("Original order:"),ue.forEach((ye,be)=>ge.push(`  ${be+1}. ${ye.split("/").pop()}`)),ge.push("Sorted order:"),he.forEach((ye,be)=>ge.push(`  ${be+1}. ${ye.split("/").pop()}`)),he[0].includes("20241214")?(Q.fileSorting.result="pass",Q.fileSorting.message=" Files sorted correctly (newest first)"):(Q.fileSorting.result="fail",Q.fileSorting.message=" Sorting not working correctly")}catch(he){Q.fileSorting.result="fail",Q.fileSorting.message=` Sorting test failed: ${he.message}`}W.value+=`
--- File Sorting Test ---
`+ge.join(`
`)+`
`,Q.fileSorting.running=!1}async function se(){Q.previewDelete.running=!0;try{const ue=[],ge=await dserv.essCommand(`
      return [file exists "/nonexistent/file.tcl"]
    `);ue.push(`File exists test (should be false): ${ge}`);try{await dserv.essCommand(`
        set f [open "/nonexistent/file.tcl" r]
        set content [read $f]
        close $f
        return $content
      `),ue.push("File read test: Should have failed!")}catch(he){ue.push(`File read test (expected error): ${he.message}`)}try{await dserv.essCommand(`
        file delete "/nonexistent/file.tcl"
        return "delete_ok"
      `),ue.push("Delete test: Command syntax OK")}catch(he){ue.push(`Delete test error: ${he.message}`)}Q.previewDelete.result="pass",Q.previewDelete.message=" Preview/delete commands working",W.value+=`
--- Preview/Delete Test ---
`+ue.join(`
`)+`
`}catch(ue){Q.previewDelete.result="fail",Q.previewDelete.message=` Test failed: ${ue.message}`}finally{Q.previewDelete.running=!1}}async function ce(){K.value=!0,W.value="";try{await ee(),await ne(),await te(),await oe(),await re(),await ae(),await se(),api$1.success("All tests completed")}catch(ue){api$1.error(`Test suite failed: ${ue.message}`)}finally{K.value=!1}}async function de(){U.value=!0;try{const ue=await dserv.essCommand(`ess::debug_backup_system ${G.value}`);api$1.success(`Test backup created: ${ue}`),W.value+=`
--- Test Backup Created ---
${ue}
`}catch(ue){api$1.error(`Failed to create test backup: ${ue.message}`)}finally{U.value=!1}}async function le(){X.value=!0;try{const ue=await dserv.essCommand(`ess::debug_backup_system ${G.value}`);W.value+=`
--- Backend Debug Output ---
${ue}
`,api$1.success("Backend debug completed")}catch(ue){api$1.error(`Backend debug failed: ${ue.message}`),W.value+=`
--- Backend Debug Error ---
${ue.message}
`}finally{X.value=!1}}function fe(){W.value="",Object.keys(Q).forEach(ue=>{Q[ue].result=null,Q[ue].message="Not tested"})}function pe(ue){if(!ue||ue==="unknown")return"Unknown date";try{let ge=ue;if(ue.includes("_")){const[ve,ye]=ue.split("_");if(ve.length===6&&ye.length===6){const be="20"+ve.slice(0,2),Se=ve.slice(2,4),Ce=ve.slice(4,6),xe=ye.slice(0,2),Ne=ye.slice(2,4),$e=ye.slice(4,6);ge=`${be}-${Se}-${Ce}T${xe}:${Ne}:${$e}`}}else if(ue.length===14){const ve=ue.slice(0,4),ye=ue.slice(4,6),be=ue.slice(6,8),Se=ue.slice(8,10),Ce=ue.slice(10,12),xe=ue.slice(12,14);ge=`${ve}-${ye}-${be}T${Se}:${Ce}:${xe}`}const he=new Date(ge);return isNaN(he.getTime())?`Invalid date (${ue})`:he.toLocaleString()}catch{return`Error formatting (${ue})`}}function me(ue){const ge=ue.split("/").pop();return ge.match(/backup_(\d{8}_\d{6})_/)?ge.match(/backup_(\d{8}_\d{6})_/)[1]:ge.match(/backup_(\d{14})_/)?ge.match(/backup_(\d{14})_/)[1]:ge.match(/(\d{8}_\d{6})/)?ge.match(/(\d{8}_\d{6})/)[1]:ge.match(/(\d{14})/)?ge.match(/(\d{14})/)[1]:"unknown"}return(ue,ge)=>{const he=Button$1,ve=SelectOption,ye=Select;return openBlock(),createElementBlock("div",_hoisted_1$i,[createBaseVNode("div",_hoisted_2$c,[ge[3]||(ge[3]=createBaseVNode("h3",{style:{margin:"0","font-family":"sans-serif"}},"Backup System Debugger",-1)),createBaseVNode("div",_hoisted_3$b,[createVNode(he,{size:"small",onClick:ce,loading:K.value},{default:withCtx(()=>ge[1]||(ge[1]=[createTextVNode(" Run All Tests ")])),_:1,__:[1]},8,["loading"]),createVNode(he,{size:"small",onClick:fe},{default:withCtx(()=>ge[2]||(ge[2]=[createTextVNode(" Clear ")])),_:1,__:[2]})])]),createBaseVNode("div",_hoisted_4$b,[createBaseVNode("div",_hoisted_5$b,[ge[12]||(ge[12]=createBaseVNode("h4",{style:{margin:"0 0 8px 0",color:"#1890ff"}},"Backend Tests",-1)),createBaseVNode("div",_hoisted_6$a,[ge[5]||(ge[5]=createBaseVNode("strong",null,"Connection Test:",-1)),createVNode(he,{size:"small",onClick:ee,loading:Q.connection.running,style:{"margin-left":"8px"}},{default:withCtx(()=>ge[4]||(ge[4]=[createTextVNode(" Test ")])),_:1,__:[4]},8,["loading"]),createBaseVNode("div",{style:normalizeStyle$1(Z(Q.connection.result))},toDisplayString(Q.connection.message),5)]),createBaseVNode("div",_hoisted_7$a,[ge[7]||(ge[7]=createBaseVNode("strong",null,"Backend Functions Test:",-1)),createVNode(he,{size:"small",onClick:ne,loading:Q.functions.running,style:{"margin-left":"8px"}},{default:withCtx(()=>ge[6]||(ge[6]=[createTextVNode(" Test ")])),_:1,__:[6]},8,["loading"]),createBaseVNode("div",{style:normalizeStyle$1(Z(Q.functions.result))},toDisplayString(Q.functions.message),5)]),createBaseVNode("div",_hoisted_8$a,[ge[9]||(ge[9]=createBaseVNode("strong",null,"System State Test:",-1)),createVNode(he,{size:"small",onClick:te,loading:Q.systemState.running,style:{"margin-left":"8px"}},{default:withCtx(()=>ge[8]||(ge[8]=[createTextVNode(" Test ")])),_:1,__:[8]},8,["loading"]),createBaseVNode("div",{style:normalizeStyle$1(Z(Q.systemState.result))},toDisplayString(Q.systemState.message),5)]),createBaseVNode("div",_hoisted_9$a,[ge[11]||(ge[11]=createBaseVNode("strong",null,"File System Test:",-1)),createVNode(he,{size:"small",onClick:oe,loading:Q.fileSystem.running,style:{"margin-left":"8px"}},{default:withCtx(()=>ge[10]||(ge[10]=[createTextVNode(" Test ")])),_:1,__:[10]},8,["loading"]),createBaseVNode("div",{style:normalizeStyle$1(Z(Q.fileSystem.result))},toDisplayString(Q.fileSystem.message),5)])]),createBaseVNode("div",_hoisted_10$9,[ge[19]||(ge[19]=createBaseVNode("h4",{style:{margin:"0 0 8px 0",color:"#52c41a"}},"Frontend Tests",-1)),createBaseVNode("div",_hoisted_11$9,[ge[14]||(ge[14]=createBaseVNode("strong",null,"Date Parsing Test:",-1)),createVNode(he,{size:"small",onClick:re,loading:Q.dateParsing.running,style:{"margin-left":"8px"}},{default:withCtx(()=>ge[13]||(ge[13]=[createTextVNode(" Test ")])),_:1,__:[13]},8,["loading"]),createBaseVNode("div",{style:normalizeStyle$1(Z(Q.dateParsing.result))},toDisplayString(Q.dateParsing.message),5)]),createBaseVNode("div",_hoisted_12$8,[ge[16]||(ge[16]=createBaseVNode("strong",null,"File Sorting Test:",-1)),createVNode(he,{size:"small",onClick:ae,loading:Q.fileSorting.running,style:{"margin-left":"8px"}},{default:withCtx(()=>ge[15]||(ge[15]=[createTextVNode(" Test ")])),_:1,__:[15]},8,["loading"]),createBaseVNode("div",{style:normalizeStyle$1(Z(Q.fileSorting.result))},toDisplayString(Q.fileSorting.message),5)]),createBaseVNode("div",_hoisted_13$8,[ge[18]||(ge[18]=createBaseVNode("strong",null,"Preview/Delete Test:",-1)),createVNode(he,{size:"small",onClick:se,loading:Q.previewDelete.running,style:{"margin-left":"8px"}},{default:withCtx(()=>ge[17]||(ge[17]=[createTextVNode(" Test ")])),_:1,__:[17]},8,["loading"]),createBaseVNode("div",{style:normalizeStyle$1(Z(Q.previewDelete.result))},toDisplayString(Q.previewDelete.message),5)])])]),W.value?(openBlock(),createElementBlock("div",_hoisted_14$5,[ge[20]||(ge[20]=createBaseVNode("h4",{style:{margin:"0 0 8px 0"}},"Detailed Results",-1)),createBaseVNode("pre",_hoisted_15$5,toDisplayString(W.value),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_16$5,[ge[28]||(ge[28]=createBaseVNode("h4",{style:{margin:"0 0 8px 0"}},"Test Data Generation",-1)),createBaseVNode("div",_hoisted_17$5,[createVNode(ye,{value:G.value,"onUpdate:value":ge[0]||(ge[0]=be=>G.value=be),size:"small",style:{width:"120px"}},{default:withCtx(()=>[createVNode(ve,{value:"system"},{default:withCtx(()=>ge[21]||(ge[21]=[createTextVNode("System")])),_:1,__:[21]}),createVNode(ve,{value:"protocol"},{default:withCtx(()=>ge[22]||(ge[22]=[createTextVNode("Protocol")])),_:1,__:[22]}),createVNode(ve,{value:"loaders"},{default:withCtx(()=>ge[23]||(ge[23]=[createTextVNode("Loaders")])),_:1,__:[23]}),createVNode(ve,{value:"variants"},{default:withCtx(()=>ge[24]||(ge[24]=[createTextVNode("Variants")])),_:1,__:[24]}),createVNode(ve,{value:"stim"},{default:withCtx(()=>ge[25]||(ge[25]=[createTextVNode("Stim")])),_:1,__:[25]})]),_:1},8,["value"]),createVNode(he,{size:"small",onClick:de,loading:U.value},{default:withCtx(()=>ge[26]||(ge[26]=[createTextVNode(" Create Test Backup ")])),_:1,__:[26]},8,["loading"]),createVNode(he,{size:"small",onClick:le,loading:X.value},{default:withCtx(()=>ge[27]||(ge[27]=[createTextVNode(" Run Backend Debug ")])),_:1,__:[27]},8,["loading"])])])])}}},BackupDebugger=_export_sfc(_sfc_main$l,[["__scopeId","data-v-b89795ca"]]);let rangeFrom=[],rangeTo=[];(()=>{let H="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(K=>K?parseInt(K,36):1);for(let K=0,W=0;K<H.length;K++)(K%2?rangeTo:rangeFrom).push(W=W+H[K])})();function isExtendingChar(H){if(H<768)return!1;for(let K=0,W=rangeFrom.length;;){let G=K+W>>1;if(H<rangeFrom[G])W=G;else if(H>=rangeTo[G])K=G+1;else return!0;if(K==W)return!1}}function isRegionalIndicator(H){return H>=127462&&H<=127487}const ZWJ=8205;function findClusterBreak$1(H,K,W=!0,G=!0){return(W?nextClusterBreak:prevClusterBreak)(H,K,G)}function nextClusterBreak(H,K,W){if(K==H.length)return K;K&&surrogateLow$1(H.charCodeAt(K))&&surrogateHigh$1(H.charCodeAt(K-1))&&K--;let G=codePointAt$1(H,K);for(K+=codePointSize$1(G);K<H.length;){let U=codePointAt$1(H,K);if(G==ZWJ||U==ZWJ||W&&isExtendingChar(U))K+=codePointSize$1(U),G=U;else if(isRegionalIndicator(U)){let X=0,Q=K-2;for(;Q>=0&&isRegionalIndicator(codePointAt$1(H,Q));)X++,Q-=2;if(X%2==0)break;K+=2}else break}return K}function prevClusterBreak(H,K,W){for(;K>0;){let G=nextClusterBreak(H,K-2,W);if(G<K)return G;K--}return 0}function codePointAt$1(H,K){let W=H.charCodeAt(K);if(!surrogateHigh$1(W)||K+1==H.length)return W;let G=H.charCodeAt(K+1);return surrogateLow$1(G)?(W-55296<<10)+(G-56320)+65536:W}function surrogateLow$1(H){return H>=56320&&H<57344}function surrogateHigh$1(H){return H>=55296&&H<56320}function codePointSize$1(H){return H<65536?1:2}class Text{lineAt(K){if(K<0||K>this.length)throw new RangeError(`Invalid position ${K} in document of length ${this.length}`);return this.lineInner(K,!1,1,0)}line(K){if(K<1||K>this.lines)throw new RangeError(`Invalid line number ${K} in ${this.lines}-line document`);return this.lineInner(K,!0,1,0)}replace(K,W,G){[K,W]=clip(this,K,W);let U=[];return this.decompose(0,K,U,2),G.length&&G.decompose(0,G.length,U,3),this.decompose(W,this.length,U,1),TextNode.from(U,this.length-(W-K)+G.length)}append(K){return this.replace(this.length,this.length,K)}slice(K,W=this.length){[K,W]=clip(this,K,W);let G=[];return this.decompose(K,W,G,0),TextNode.from(G,W-K)}eq(K){if(K==this)return!0;if(K.length!=this.length||K.lines!=this.lines)return!1;let W=this.scanIdentical(K,1),G=this.length-this.scanIdentical(K,-1),U=new RawTextCursor(this),X=new RawTextCursor(K);for(let Q=W,Z=W;;){if(U.next(Q),X.next(Q),Q=0,U.lineBreak!=X.lineBreak||U.done!=X.done||U.value!=X.value)return!1;if(Z+=U.value.length,U.done||Z>=G)return!0}}iter(K=1){return new RawTextCursor(this,K)}iterRange(K,W=this.length){return new PartialTextCursor(this,K,W)}iterLines(K,W){let G;if(K==null)G=this.iter();else{W==null&&(W=this.lines+1);let U=this.line(K).from;G=this.iterRange(U,Math.max(U,W==this.lines+1?this.length:W<=1?0:this.line(W-1).to))}return new LineCursor(G)}toString(){return this.sliceString(0)}toJSON(){let K=[];return this.flatten(K),K}constructor(){}static of(K){if(K.length==0)throw new RangeError("A document must have at least one line");return K.length==1&&!K[0]?Text.empty:K.length<=32?new TextLeaf(K):TextNode.from(TextLeaf.split(K,[]))}}class TextLeaf extends Text{constructor(K,W=textLength(K)){super(),this.text=K,this.length=W}get lines(){return this.text.length}get children(){return null}lineInner(K,W,G,U){for(let X=0;;X++){let Q=this.text[X],Z=U+Q.length;if((W?G:Z)>=K)return new Line(U,Z,G,Q);U=Z+1,G++}}decompose(K,W,G,U){let X=K<=0&&W>=this.length?this:new TextLeaf(sliceText(this.text,K,W),Math.min(W,this.length)-Math.max(0,K));if(U&1){let Q=G.pop(),Z=appendText(X.text,Q.text.slice(),0,X.length);if(Z.length<=32)G.push(new TextLeaf(Z,Q.length+X.length));else{let ee=Z.length>>1;G.push(new TextLeaf(Z.slice(0,ee)),new TextLeaf(Z.slice(ee)))}}else G.push(X)}replace(K,W,G){if(!(G instanceof TextLeaf))return super.replace(K,W,G);[K,W]=clip(this,K,W);let U=appendText(this.text,appendText(G.text,sliceText(this.text,0,K)),W),X=this.length+G.length-(W-K);return U.length<=32?new TextLeaf(U,X):TextNode.from(TextLeaf.split(U,[]),X)}sliceString(K,W=this.length,G=`
`){[K,W]=clip(this,K,W);let U="";for(let X=0,Q=0;X<=W&&Q<this.text.length;Q++){let Z=this.text[Q],ee=X+Z.length;X>K&&Q&&(U+=G),K<ee&&W>X&&(U+=Z.slice(Math.max(0,K-X),W-X)),X=ee+1}return U}flatten(K){for(let W of this.text)K.push(W)}scanIdentical(){return 0}static split(K,W){let G=[],U=-1;for(let X of K)G.push(X),U+=X.length+1,G.length==32&&(W.push(new TextLeaf(G,U)),G=[],U=-1);return U>-1&&W.push(new TextLeaf(G,U)),W}}class TextNode extends Text{constructor(K,W){super(),this.children=K,this.length=W,this.lines=0;for(let G of K)this.lines+=G.lines}lineInner(K,W,G,U){for(let X=0;;X++){let Q=this.children[X],Z=U+Q.length,ee=G+Q.lines-1;if((W?ee:Z)>=K)return Q.lineInner(K,W,G,U);U=Z+1,G=ee+1}}decompose(K,W,G,U){for(let X=0,Q=0;Q<=W&&X<this.children.length;X++){let Z=this.children[X],ee=Q+Z.length;if(K<=ee&&W>=Q){let ne=U&((Q<=K?1:0)|(ee>=W?2:0));Q>=K&&ee<=W&&!ne?G.push(Z):Z.decompose(K-Q,W-Q,G,ne)}Q=ee+1}}replace(K,W,G){if([K,W]=clip(this,K,W),G.lines<this.lines)for(let U=0,X=0;U<this.children.length;U++){let Q=this.children[U],Z=X+Q.length;if(K>=X&&W<=Z){let ee=Q.replace(K-X,W-X,G),ne=this.lines-Q.lines+ee.lines;if(ee.lines<ne>>4&&ee.lines>ne>>6){let te=this.children.slice();return te[U]=ee,new TextNode(te,this.length-(W-K)+G.length)}return super.replace(X,Z,ee)}X=Z+1}return super.replace(K,W,G)}sliceString(K,W=this.length,G=`
`){[K,W]=clip(this,K,W);let U="";for(let X=0,Q=0;X<this.children.length&&Q<=W;X++){let Z=this.children[X],ee=Q+Z.length;Q>K&&X&&(U+=G),K<ee&&W>Q&&(U+=Z.sliceString(K-Q,W-Q,G)),Q=ee+1}return U}flatten(K){for(let W of this.children)W.flatten(K)}scanIdentical(K,W){if(!(K instanceof TextNode))return 0;let G=0,[U,X,Q,Z]=W>0?[0,0,this.children.length,K.children.length]:[this.children.length-1,K.children.length-1,-1,-1];for(;;U+=W,X+=W){if(U==Q||X==Z)return G;let ee=this.children[U],ne=K.children[X];if(ee!=ne)return G+ee.scanIdentical(ne,W);G+=ee.length+1}}static from(K,W=K.reduce((G,U)=>G+U.length+1,-1)){let G=0;for(let ae of K)G+=ae.lines;if(G<32){let ae=[];for(let se of K)se.flatten(ae);return new TextLeaf(ae,W)}let U=Math.max(32,G>>5),X=U<<1,Q=U>>1,Z=[],ee=0,ne=-1,te=[];function oe(ae){let se;if(ae.lines>X&&ae instanceof TextNode)for(let ce of ae.children)oe(ce);else ae.lines>Q&&(ee>Q||!ee)?(re(),Z.push(ae)):ae instanceof TextLeaf&&ee&&(se=te[te.length-1])instanceof TextLeaf&&ae.lines+se.lines<=32?(ee+=ae.lines,ne+=ae.length+1,te[te.length-1]=new TextLeaf(se.text.concat(ae.text),se.length+1+ae.length)):(ee+ae.lines>U&&re(),ee+=ae.lines,ne+=ae.length+1,te.push(ae))}function re(){ee!=0&&(Z.push(te.length==1?te[0]:TextNode.from(te,ne)),ne=-1,ee=te.length=0)}for(let ae of K)oe(ae);return re(),Z.length==1?Z[0]:new TextNode(Z,W)}}Text.empty=new TextLeaf([""],0);function textLength(H){let K=-1;for(let W of H)K+=W.length+1;return K}function appendText(H,K,W=0,G=1e9){for(let U=0,X=0,Q=!0;X<H.length&&U<=G;X++){let Z=H[X],ee=U+Z.length;ee>=W&&(ee>G&&(Z=Z.slice(0,G-U)),U<W&&(Z=Z.slice(W-U)),Q?(K[K.length-1]+=Z,Q=!1):K.push(Z)),U=ee+1}return K}function sliceText(H,K,W){return appendText(H,[""],K,W)}class RawTextCursor{constructor(K,W=1){this.dir=W,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[K],this.offsets=[W>0?1:(K instanceof TextLeaf?K.text.length:K.children.length)<<1]}nextInner(K,W){for(this.done=this.lineBreak=!1;;){let G=this.nodes.length-1,U=this.nodes[G],X=this.offsets[G],Q=X>>1,Z=U instanceof TextLeaf?U.text.length:U.children.length;if(Q==(W>0?Z:0)){if(G==0)return this.done=!0,this.value="",this;W>0&&this.offsets[G-1]++,this.nodes.pop(),this.offsets.pop()}else if((X&1)==(W>0?0:1)){if(this.offsets[G]+=W,K==0)return this.lineBreak=!0,this.value=`
`,this;K--}else if(U instanceof TextLeaf){let ee=U.text[Q+(W<0?-1:0)];if(this.offsets[G]+=W,ee.length>Math.max(0,K))return this.value=K==0?ee:W>0?ee.slice(K):ee.slice(0,ee.length-K),this;K-=ee.length}else{let ee=U.children[Q+(W<0?-1:0)];K>ee.length?(K-=ee.length,this.offsets[G]+=W):(W<0&&this.offsets[G]--,this.nodes.push(ee),this.offsets.push(W>0?1:(ee instanceof TextLeaf?ee.text.length:ee.children.length)<<1))}}}next(K=0){return K<0&&(this.nextInner(-K,-this.dir),K=this.value.length),this.nextInner(K,this.dir)}}class PartialTextCursor{constructor(K,W,G){this.value="",this.done=!1,this.cursor=new RawTextCursor(K,W>G?-1:1),this.pos=W>G?K.length:0,this.from=Math.min(W,G),this.to=Math.max(W,G)}nextInner(K,W){if(W<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;K+=Math.max(0,W<0?this.pos-this.to:this.from-this.pos);let G=W<0?this.pos-this.from:this.to-this.pos;K>G&&(K=G),G-=K;let{value:U}=this.cursor.next(K);return this.pos+=(U.length+K)*W,this.value=U.length<=G?U:W<0?U.slice(U.length-G):U.slice(0,G),this.done=!this.value,this}next(K=0){return K<0?K=Math.max(K,this.from-this.pos):K>0&&(K=Math.min(K,this.to-this.pos)),this.nextInner(K,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(K){this.inner=K,this.afterBreak=!0,this.value="",this.done=!1}next(K=0){let{done:W,lineBreak:G,value:U}=this.inner.next(K);return W&&this.afterBreak?(this.value="",this.afterBreak=!1):W?(this.done=!0,this.value=""):G?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=U,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor(K,W,G,U){this.from=K,this.to=W,this.number=G,this.text=U}get length(){return this.to-this.from}}function clip(H,K,W){return K=Math.max(0,Math.min(H.length,K)),[K,Math.max(K,Math.min(H.length,W))]}function findClusterBreak(H,K,W=!0,G=!0){return findClusterBreak$1(H,K,W,G)}function surrogateLow(H){return H>=56320&&H<57344}function surrogateHigh(H){return H>=55296&&H<56320}function codePointAt(H,K){let W=H.charCodeAt(K);if(!surrogateHigh(W)||K+1==H.length)return W;let G=H.charCodeAt(K+1);return surrogateLow(G)?(W-55296<<10)+(G-56320)+65536:W}function fromCodePoint(H){return H<=65535?String.fromCharCode(H):(H-=65536,String.fromCharCode((H>>10)+55296,(H&1023)+56320))}function codePointSize(H){return H<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(H){return H[H.Simple=0]="Simple",H[H.TrackDel=1]="TrackDel",H[H.TrackBefore=2]="TrackBefore",H[H.TrackAfter=3]="TrackAfter",H}(MapMode||(MapMode={}));class ChangeDesc{constructor(K){this.sections=K}get length(){let K=0;for(let W=0;W<this.sections.length;W+=2)K+=this.sections[W];return K}get newLength(){let K=0;for(let W=0;W<this.sections.length;W+=2){let G=this.sections[W+1];K+=G<0?this.sections[W]:G}return K}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(K){for(let W=0,G=0,U=0;W<this.sections.length;){let X=this.sections[W++],Q=this.sections[W++];Q<0?(K(G,U,X),U+=X):U+=Q,G+=X}}iterChangedRanges(K,W=!1){iterChanges(this,K,W)}get invertedDesc(){let K=[];for(let W=0;W<this.sections.length;){let G=this.sections[W++],U=this.sections[W++];U<0?K.push(G,U):K.push(U,G)}return new ChangeDesc(K)}composeDesc(K){return this.empty?K:K.empty?this:composeSets(this,K)}mapDesc(K,W=!1){return K.empty?this:mapSet(this,K,W)}mapPos(K,W=-1,G=MapMode.Simple){let U=0,X=0;for(let Q=0;Q<this.sections.length;){let Z=this.sections[Q++],ee=this.sections[Q++],ne=U+Z;if(ee<0){if(ne>K)return X+(K-U);X+=Z}else{if(G!=MapMode.Simple&&ne>=K&&(G==MapMode.TrackDel&&U<K&&ne>K||G==MapMode.TrackBefore&&U<K||G==MapMode.TrackAfter&&ne>K))return null;if(ne>K||ne==K&&W<0&&!Z)return K==U||W<0?X:X+ee;X+=ee}U=ne}if(K>U)throw new RangeError(`Position ${K} is out of range for changeset of length ${U}`);return X}touchesRange(K,W=K){for(let G=0,U=0;G<this.sections.length&&U<=W;){let X=this.sections[G++],Q=this.sections[G++],Z=U+X;if(Q>=0&&U<=W&&Z>=K)return U<K&&Z>W?"cover":!0;U=Z}return!1}toString(){let K="";for(let W=0;W<this.sections.length;){let G=this.sections[W++],U=this.sections[W++];K+=(K?" ":"")+G+(U>=0?":"+U:"")}return K}toJSON(){return this.sections}static fromJSON(K){if(!Array.isArray(K)||K.length%2||K.some(W=>typeof W!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(K)}static create(K){return new ChangeDesc(K)}}class ChangeSet extends ChangeDesc{constructor(K,W){super(K),this.inserted=W}apply(K){if(this.length!=K.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(W,G,U,X,Q)=>K=K.replace(U,U+(G-W),Q),!1),K}mapDesc(K,W=!1){return mapSet(this,K,W,!0)}invert(K){let W=this.sections.slice(),G=[];for(let U=0,X=0;U<W.length;U+=2){let Q=W[U],Z=W[U+1];if(Z>=0){W[U]=Z,W[U+1]=Q;let ee=U>>1;for(;G.length<ee;)G.push(Text.empty);G.push(Q?K.slice(X,X+Q):Text.empty)}X+=Q}return new ChangeSet(W,G)}compose(K){return this.empty?K:K.empty?this:composeSets(this,K,!0)}map(K,W=!1){return K.empty?this:mapSet(this,K,W,!0)}iterChanges(K,W=!1){iterChanges(this,K,W)}get desc(){return ChangeDesc.create(this.sections)}filter(K){let W=[],G=[],U=[],X=new SectionIter(this);e:for(let Q=0,Z=0;;){let ee=Q==K.length?1e9:K[Q++];for(;Z<ee||Z==ee&&X.len==0;){if(X.done)break e;let te=Math.min(X.len,ee-Z);addSection(U,te,-1);let oe=X.ins==-1?-1:X.off==0?X.ins:0;addSection(W,te,oe),oe>0&&addInsert(G,W,X.text),X.forward(te),Z+=te}let ne=K[Q++];for(;Z<ne;){if(X.done)break e;let te=Math.min(X.len,ne-Z);addSection(W,te,-1),addSection(U,te,X.ins==-1?-1:X.off==0?X.ins:0),X.forward(te),Z+=te}}return{changes:new ChangeSet(W,G),filtered:ChangeDesc.create(U)}}toJSON(){let K=[];for(let W=0;W<this.sections.length;W+=2){let G=this.sections[W],U=this.sections[W+1];U<0?K.push(G):U==0?K.push([G]):K.push([G].concat(this.inserted[W>>1].toJSON()))}return K}static of(K,W,G){let U=[],X=[],Q=0,Z=null;function ee(te=!1){if(!te&&!U.length)return;Q<W&&addSection(U,W-Q,-1);let oe=new ChangeSet(U,X);Z=Z?Z.compose(oe.map(Z)):oe,U=[],X=[],Q=0}function ne(te){if(Array.isArray(te))for(let oe of te)ne(oe);else if(te instanceof ChangeSet){if(te.length!=W)throw new RangeError(`Mismatched change set length (got ${te.length}, expected ${W})`);ee(),Z=Z?Z.compose(te.map(Z)):te}else{let{from:oe,to:re=oe,insert:ae}=te;if(oe>re||oe<0||re>W)throw new RangeError(`Invalid change range ${oe} to ${re} (in doc of length ${W})`);let se=ae?typeof ae=="string"?Text.of(ae.split(G||DefaultSplit)):ae:Text.empty,ce=se.length;if(oe==re&&ce==0)return;oe<Q&&ee(),oe>Q&&addSection(U,oe-Q,-1),addSection(U,re-oe,ce),addInsert(X,U,se),Q=re}}return ne(K),ee(!Z),Z}static empty(K){return new ChangeSet(K?[K,-1]:[],[])}static fromJSON(K){if(!Array.isArray(K))throw new RangeError("Invalid JSON representation of ChangeSet");let W=[],G=[];for(let U=0;U<K.length;U++){let X=K[U];if(typeof X=="number")W.push(X,-1);else{if(!Array.isArray(X)||typeof X[0]!="number"||X.some((Q,Z)=>Z&&typeof Q!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(X.length==1)W.push(X[0],0);else{for(;G.length<U;)G.push(Text.empty);G[U]=Text.of(X.slice(1)),W.push(X[0],G[U].length)}}}return new ChangeSet(W,G)}static createSet(K,W){return new ChangeSet(K,W)}}function addSection(H,K,W,G=!1){if(K==0&&W<=0)return;let U=H.length-2;U>=0&&W<=0&&W==H[U+1]?H[U]+=K:U>=0&&K==0&&H[U]==0?H[U+1]+=W:G?(H[U]+=K,H[U+1]+=W):H.push(K,W)}function addInsert(H,K,W){if(W.length==0)return;let G=K.length-2>>1;if(G<H.length)H[H.length-1]=H[H.length-1].append(W);else{for(;H.length<G;)H.push(Text.empty);H.push(W)}}function iterChanges(H,K,W){let G=H.inserted;for(let U=0,X=0,Q=0;Q<H.sections.length;){let Z=H.sections[Q++],ee=H.sections[Q++];if(ee<0)U+=Z,X+=Z;else{let ne=U,te=X,oe=Text.empty;for(;ne+=Z,te+=ee,ee&&G&&(oe=oe.append(G[Q-2>>1])),!(W||Q==H.sections.length||H.sections[Q+1]<0);)Z=H.sections[Q++],ee=H.sections[Q++];K(U,ne,X,te,oe),U=ne,X=te}}}function mapSet(H,K,W,G=!1){let U=[],X=G?[]:null,Q=new SectionIter(H),Z=new SectionIter(K);for(let ee=-1;;){if(Q.done&&Z.len||Z.done&&Q.len)throw new Error("Mismatched change set lengths");if(Q.ins==-1&&Z.ins==-1){let ne=Math.min(Q.len,Z.len);addSection(U,ne,-1),Q.forward(ne),Z.forward(ne)}else if(Z.ins>=0&&(Q.ins<0||ee==Q.i||Q.off==0&&(Z.len<Q.len||Z.len==Q.len&&!W))){let ne=Z.len;for(addSection(U,Z.ins,-1);ne;){let te=Math.min(Q.len,ne);Q.ins>=0&&ee<Q.i&&Q.len<=te&&(addSection(U,0,Q.ins),X&&addInsert(X,U,Q.text),ee=Q.i),Q.forward(te),ne-=te}Z.next()}else if(Q.ins>=0){let ne=0,te=Q.len;for(;te;)if(Z.ins==-1){let oe=Math.min(te,Z.len);ne+=oe,te-=oe,Z.forward(oe)}else if(Z.ins==0&&Z.len<te)te-=Z.len,Z.next();else break;addSection(U,ne,ee<Q.i?Q.ins:0),X&&ee<Q.i&&addInsert(X,U,Q.text),ee=Q.i,Q.forward(Q.len-te)}else{if(Q.done&&Z.done)return X?ChangeSet.createSet(U,X):ChangeDesc.create(U);throw new Error("Mismatched change set lengths")}}}function composeSets(H,K,W=!1){let G=[],U=W?[]:null,X=new SectionIter(H),Q=new SectionIter(K);for(let Z=!1;;){if(X.done&&Q.done)return U?ChangeSet.createSet(G,U):ChangeDesc.create(G);if(X.ins==0)addSection(G,X.len,0,Z),X.next();else if(Q.len==0&&!Q.done)addSection(G,0,Q.ins,Z),U&&addInsert(U,G,Q.text),Q.next();else{if(X.done||Q.done)throw new Error("Mismatched change set lengths");{let ee=Math.min(X.len2,Q.len),ne=G.length;if(X.ins==-1){let te=Q.ins==-1?-1:Q.off?0:Q.ins;addSection(G,ee,te,Z),U&&te&&addInsert(U,G,Q.text)}else Q.ins==-1?(addSection(G,X.off?0:X.len,ee,Z),U&&addInsert(U,G,X.textBit(ee))):(addSection(G,X.off?0:X.len,Q.off?0:Q.ins,Z),U&&!Q.off&&addInsert(U,G,Q.text));Z=(X.ins>ee||Q.ins>=0&&Q.len>ee)&&(Z||G.length>ne),X.forward2(ee),Q.forward(ee)}}}}class SectionIter{constructor(K){this.set=K,this.i=0,this.next()}next(){let{sections:K}=this.set;this.i<K.length?(this.len=K[this.i++],this.ins=K[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:K}=this.set,W=this.i-2>>1;return W>=K.length?Text.empty:K[W]}textBit(K){let{inserted:W}=this.set,G=this.i-2>>1;return G>=W.length&&!K?Text.empty:W[G].slice(this.off,K==null?void 0:this.off+K)}forward(K){K==this.len?this.next():(this.len-=K,this.off+=K)}forward2(K){this.ins==-1?this.forward(K):K==this.ins?this.next():(this.ins-=K,this.off+=K)}}class SelectionRange{constructor(K,W,G){this.from=K,this.to=W,this.flags=G}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let K=this.flags&7;return K==7?null:K}get goalColumn(){let K=this.flags>>6;return K==16777215?void 0:K}map(K,W=-1){let G,U;return this.empty?G=U=K.mapPos(this.from,W):(G=K.mapPos(this.from,1),U=K.mapPos(this.to,-1)),G==this.from&&U==this.to?this:new SelectionRange(G,U,this.flags)}extend(K,W=K){if(K<=this.anchor&&W>=this.anchor)return EditorSelection.range(K,W);let G=Math.abs(K-this.anchor)>Math.abs(W-this.anchor)?K:W;return EditorSelection.range(this.anchor,G)}eq(K,W=!1){return this.anchor==K.anchor&&this.head==K.head&&(!W||!this.empty||this.assoc==K.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(K){if(!K||typeof K.anchor!="number"||typeof K.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(K.anchor,K.head)}static create(K,W,G){return new SelectionRange(K,W,G)}}class EditorSelection{constructor(K,W){this.ranges=K,this.mainIndex=W}map(K,W=-1){return K.empty?this:EditorSelection.create(this.ranges.map(G=>G.map(K,W)),this.mainIndex)}eq(K,W=!1){if(this.ranges.length!=K.ranges.length||this.mainIndex!=K.mainIndex)return!1;for(let G=0;G<this.ranges.length;G++)if(!this.ranges[G].eq(K.ranges[G],W))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(K,W=!0){return EditorSelection.create([K].concat(this.ranges),W?0:this.mainIndex+1)}replaceRange(K,W=this.mainIndex){let G=this.ranges.slice();return G[W]=K,EditorSelection.create(G,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(K=>K.toJSON()),main:this.mainIndex}}static fromJSON(K){if(!K||!Array.isArray(K.ranges)||typeof K.main!="number"||K.main>=K.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(K.ranges.map(W=>SelectionRange.fromJSON(W)),K.main)}static single(K,W=K){return new EditorSelection([EditorSelection.range(K,W)],0)}static create(K,W=0){if(K.length==0)throw new RangeError("A selection needs at least one range");for(let G=0,U=0;U<K.length;U++){let X=K[U];if(X.empty?X.from<=G:X.from<G)return EditorSelection.normalized(K.slice(),W);G=X.to}return new EditorSelection(K,W)}static cursor(K,W=0,G,U){return SelectionRange.create(K,K,(W==0?0:W<0?8:16)|(G==null?7:Math.min(6,G))|(U??16777215)<<6)}static range(K,W,G,U){let X=(G??16777215)<<6|(U==null?7:Math.min(6,U));return W<K?SelectionRange.create(W,K,48|X):SelectionRange.create(K,W,(W>K?8:0)|X)}static normalized(K,W=0){let G=K[W];K.sort((U,X)=>U.from-X.from),W=K.indexOf(G);for(let U=1;U<K.length;U++){let X=K[U],Q=K[U-1];if(X.empty?X.from<=Q.to:X.from<Q.to){let Z=Q.from,ee=Math.max(X.to,Q.to);U<=W&&W--,K.splice(--U,2,X.anchor>X.head?EditorSelection.range(ee,Z):EditorSelection.range(Z,ee))}}return new EditorSelection(K,W)}}function checkSelection(H,K){for(let W of H.ranges)if(W.to>K)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(K,W,G,U,X){this.combine=K,this.compareInput=W,this.compare=G,this.isStatic=U,this.id=nextID++,this.default=K([]),this.extensions=typeof X=="function"?X(this):X}get reader(){return this}static define(K={}){return new Facet(K.combine||(W=>W),K.compareInput||((W,G)=>W===G),K.compare||(K.combine?(W,G)=>W===G:sameArray$1),!!K.static,K.enables)}of(K){return new FacetProvider([],this,0,K)}compute(K,W){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(K,this,1,W)}computeN(K,W){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(K,this,2,W)}from(K,W){return W||(W=G=>G),this.compute([K],G=>W(G.field(K)))}}function sameArray$1(H,K){return H==K||H.length==K.length&&H.every((W,G)=>W===K[G])}class FacetProvider{constructor(K,W,G,U){this.dependencies=K,this.facet=W,this.type=G,this.value=U,this.id=nextID++}dynamicSlot(K){var W;let G=this.value,U=this.facet.compareInput,X=this.id,Q=K[X]>>1,Z=this.type==2,ee=!1,ne=!1,te=[];for(let oe of this.dependencies)oe=="doc"?ee=!0:oe=="selection"?ne=!0:(((W=K[oe.id])!==null&&W!==void 0?W:1)&1)==0&&te.push(K[oe.id]);return{create(oe){return oe.values[Q]=G(oe),1},update(oe,re){if(ee&&re.docChanged||ne&&(re.docChanged||re.selection)||ensureAll(oe,te)){let ae=G(oe);if(Z?!compareArray(ae,oe.values[Q],U):!U(ae,oe.values[Q]))return oe.values[Q]=ae,1}return 0},reconfigure:(oe,re)=>{let ae,se=re.config.address[X];if(se!=null){let ce=getAddr(re,se);if(this.dependencies.every(de=>de instanceof Facet?re.facet(de)===oe.facet(de):de instanceof StateField?re.field(de,!1)==oe.field(de,!1):!0)||(Z?compareArray(ae=G(oe),ce,U):U(ae=G(oe),ce)))return oe.values[Q]=ce,0}else ae=G(oe);return oe.values[Q]=ae,1}}}}function compareArray(H,K,W){if(H.length!=K.length)return!1;for(let G=0;G<H.length;G++)if(!W(H[G],K[G]))return!1;return!0}function ensureAll(H,K){let W=!1;for(let G of K)ensureAddr(H,G)&1&&(W=!0);return W}function dynamicFacetSlot(H,K,W){let G=W.map(ee=>H[ee.id]),U=W.map(ee=>ee.type),X=G.filter(ee=>!(ee&1)),Q=H[K.id]>>1;function Z(ee){let ne=[];for(let te=0;te<G.length;te++){let oe=getAddr(ee,G[te]);if(U[te]==2)for(let re of oe)ne.push(re);else ne.push(oe)}return K.combine(ne)}return{create(ee){for(let ne of G)ensureAddr(ee,ne);return ee.values[Q]=Z(ee),1},update(ee,ne){if(!ensureAll(ee,X))return 0;let te=Z(ee);return K.compare(te,ee.values[Q])?0:(ee.values[Q]=te,1)},reconfigure(ee,ne){let te=ensureAll(ee,G),oe=ne.config.facets[K.id],re=ne.facet(K);if(oe&&!te&&sameArray$1(W,oe))return ee.values[Q]=re,0;let ae=Z(ee);return K.compare(ae,re)?(ee.values[Q]=re,0):(ee.values[Q]=ae,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(K,W,G,U,X){this.id=K,this.createF=W,this.updateF=G,this.compareF=U,this.spec=X,this.provides=void 0}static define(K){let W=new StateField(nextID++,K.create,K.update,K.compare||((G,U)=>G===U),K);return K.provide&&(W.provides=K.provide(W)),W}create(K){let W=K.facet(initField).find(G=>G.field==this);return(W?.create||this.createF)(K)}slot(K){let W=K[this.id]>>1;return{create:G=>(G.values[W]=this.create(G),1),update:(G,U)=>{let X=G.values[W],Q=this.updateF(X,U);return this.compareF(X,Q)?0:(G.values[W]=Q,1)},reconfigure:(G,U)=>{let X=G.facet(initField),Q=U.facet(initField),Z;return(Z=X.find(ee=>ee.field==this))&&Z!=Q.find(ee=>ee.field==this)?(G.values[W]=Z.create(G),1):U.config.address[this.id]!=null?(G.values[W]=U.field(this),0):(G.values[W]=this.create(G),1)}}}init(K){return[this,initField.of({field:this,create:K})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(H){return K=>new PrecExtension(K,H)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(K,W){this.inner=K,this.prec=W}}class Compartment{of(K){return new CompartmentInstance(this,K)}reconfigure(K){return Compartment.reconfigure.of({compartment:this,extension:K})}get(K){return K.config.compartments.get(this)}}class CompartmentInstance{constructor(K,W){this.compartment=K,this.inner=W}}class Configuration{constructor(K,W,G,U,X,Q){for(this.base=K,this.compartments=W,this.dynamicSlots=G,this.address=U,this.staticValues=X,this.facets=Q,this.statusTemplate=[];this.statusTemplate.length<G.length;)this.statusTemplate.push(0)}staticFacet(K){let W=this.address[K.id];return W==null?K.default:this.staticValues[W>>1]}static resolve(K,W,G){let U=[],X=Object.create(null),Q=new Map;for(let re of flatten(K,W,Q))re instanceof StateField?U.push(re):(X[re.facet.id]||(X[re.facet.id]=[])).push(re);let Z=Object.create(null),ee=[],ne=[];for(let re of U)Z[re.id]=ne.length<<1,ne.push(ae=>re.slot(ae));let te=G?.config.facets;for(let re in X){let ae=X[re],se=ae[0].facet,ce=te&&te[re]||[];if(ae.every(de=>de.type==0))if(Z[se.id]=ee.length<<1|1,sameArray$1(ce,ae))ee.push(G.facet(se));else{let de=se.combine(ae.map(le=>le.value));ee.push(G&&se.compare(de,G.facet(se))?G.facet(se):de)}else{for(let de of ae)de.type==0?(Z[de.id]=ee.length<<1|1,ee.push(de.value)):(Z[de.id]=ne.length<<1,ne.push(le=>de.dynamicSlot(le)));Z[se.id]=ne.length<<1,ne.push(de=>dynamicFacetSlot(de,se,ae))}}let oe=ne.map(re=>re(Z));return new Configuration(K,Q,oe,Z,ee,X)}}function flatten(H,K,W){let G=[[],[],[],[],[]],U=new Map;function X(Q,Z){let ee=U.get(Q);if(ee!=null){if(ee<=Z)return;let ne=G[ee].indexOf(Q);ne>-1&&G[ee].splice(ne,1),Q instanceof CompartmentInstance&&W.delete(Q.compartment)}if(U.set(Q,Z),Array.isArray(Q))for(let ne of Q)X(ne,Z);else if(Q instanceof CompartmentInstance){if(W.has(Q.compartment))throw new RangeError("Duplicate use of compartment in extensions");let ne=K.get(Q.compartment)||Q.inner;W.set(Q.compartment,ne),X(ne,Z)}else if(Q instanceof PrecExtension)X(Q.inner,Q.prec);else if(Q instanceof StateField)G[Z].push(Q),Q.provides&&X(Q.provides,Z);else if(Q instanceof FacetProvider)G[Z].push(Q),Q.facet.extensions&&X(Q.facet.extensions,Prec_.default);else{let ne=Q.extension;if(!ne)throw new Error(`Unrecognized extension value in extension set (${Q}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);X(ne,Z)}}return X(H,Prec_.default),G.reduce((Q,Z)=>Q.concat(Z))}function ensureAddr(H,K){if(K&1)return 2;let W=K>>1,G=H.status[W];if(G==4)throw new Error("Cyclic dependency between fields and/or facets");if(G&2)return G;H.status[W]=4;let U=H.computeSlot(H,H.config.dynamicSlots[W]);return H.status[W]=2|U}function getAddr(H,K){return K&1?H.config.staticValues[K>>1]:H.values[K>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:H=>H.some(K=>K),static:!0}),lineSeparator=Facet.define({combine:H=>H.length?H[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:H=>H.length?H[0]:!1});class Annotation{constructor(K,W){this.type=K,this.value=W}static define(){return new AnnotationType}}class AnnotationType{of(K){return new Annotation(this,K)}}class StateEffectType{constructor(K){this.map=K}of(K){return new StateEffect(this,K)}}class StateEffect{constructor(K,W){this.type=K,this.value=W}map(K){let W=this.type.map(this.value,K);return W===void 0?void 0:W==this.value?this:new StateEffect(this.type,W)}is(K){return this.type==K}static define(K={}){return new StateEffectType(K.map||(W=>W))}static mapEffects(K,W){if(!K.length)return K;let G=[];for(let U of K){let X=U.map(W);X&&G.push(X)}return G}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(K,W,G,U,X,Q){this.startState=K,this.changes=W,this.selection=G,this.effects=U,this.annotations=X,this.scrollIntoView=Q,this._doc=null,this._state=null,G&&checkSelection(G,W.newLength),X.some(Z=>Z.type==Transaction.time)||(this.annotations=X.concat(Transaction.time.of(Date.now())))}static create(K,W,G,U,X,Q){return new Transaction(K,W,G,U,X,Q)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(K){for(let W of this.annotations)if(W.type==K)return W.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(K){let W=this.annotation(Transaction.userEvent);return!!(W&&(W==K||W.length>K.length&&W.slice(0,K.length)==K&&W[K.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(H,K){let W=[];for(let G=0,U=0;;){let X,Q;if(G<H.length&&(U==K.length||K[U]>=H[G]))X=H[G++],Q=H[G++];else if(U<K.length)X=K[U++],Q=K[U++];else return W;!W.length||W[W.length-1]<X?W.push(X,Q):W[W.length-1]<Q&&(W[W.length-1]=Q)}}function mergeTransaction(H,K,W){var G;let U,X,Q;return W?(U=K.changes,X=ChangeSet.empty(K.changes.length),Q=H.changes.compose(K.changes)):(U=K.changes.map(H.changes),X=H.changes.mapDesc(K.changes,!0),Q=H.changes.compose(U)),{changes:Q,selection:K.selection?K.selection.map(X):(G=H.selection)===null||G===void 0?void 0:G.map(U),effects:StateEffect.mapEffects(H.effects,U).concat(StateEffect.mapEffects(K.effects,X)),annotations:H.annotations.length?H.annotations.concat(K.annotations):K.annotations,scrollIntoView:H.scrollIntoView||K.scrollIntoView}}function resolveTransactionInner(H,K,W){let G=K.selection,U=asArray$1(K.annotations);return K.userEvent&&(U=U.concat(Transaction.userEvent.of(K.userEvent))),{changes:K.changes instanceof ChangeSet?K.changes:ChangeSet.of(K.changes||[],W,H.facet(lineSeparator)),selection:G&&(G instanceof EditorSelection?G:EditorSelection.single(G.anchor,G.head)),effects:asArray$1(K.effects),annotations:U,scrollIntoView:!!K.scrollIntoView}}function resolveTransaction(H,K,W){let G=resolveTransactionInner(H,K.length?K[0]:{},H.doc.length);K.length&&K[0].filter===!1&&(W=!1);for(let X=1;X<K.length;X++){K[X].filter===!1&&(W=!1);let Q=!!K[X].sequential;G=mergeTransaction(G,resolveTransactionInner(H,K[X],Q?G.changes.newLength:H.doc.length),Q)}let U=Transaction.create(H,G.changes,G.selection,G.effects,G.annotations,G.scrollIntoView);return extendTransaction(W?filterTransaction(U):U)}function filterTransaction(H){let K=H.startState,W=!0;for(let U of K.facet(changeFilter)){let X=U(H);if(X===!1){W=!1;break}Array.isArray(X)&&(W=W===!0?X:joinRanges(W,X))}if(W!==!0){let U,X;if(W===!1)X=H.changes.invertedDesc,U=ChangeSet.empty(K.doc.length);else{let Q=H.changes.filter(W);U=Q.changes,X=Q.filtered.mapDesc(Q.changes).invertedDesc}H=Transaction.create(K,U,H.selection&&H.selection.map(X),StateEffect.mapEffects(H.effects,X),H.annotations,H.scrollIntoView)}let G=K.facet(transactionFilter);for(let U=G.length-1;U>=0;U--){let X=G[U](H);X instanceof Transaction?H=X:Array.isArray(X)&&X.length==1&&X[0]instanceof Transaction?H=X[0]:H=resolveTransaction(K,asArray$1(X),!1)}return H}function extendTransaction(H){let K=H.startState,W=K.facet(transactionExtender),G=H;for(let U=W.length-1;U>=0;U--){let X=W[U](H);X&&Object.keys(X).length&&(G=mergeTransaction(G,resolveTransactionInner(K,X,H.changes.newLength),!0))}return G==H?H:Transaction.create(K,H.changes,H.selection,G.effects,G.annotations,G.scrollIntoView)}const none$2=[];function asArray$1(H){return H==null?none$2:Array.isArray(H)?H:[H]}var CharCategory=function(H){return H[H.Word=0]="Word",H[H.Space=1]="Space",H[H.Other=2]="Other",H}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function hasWordChar(H){if(wordChar)return wordChar.test(H);for(let K=0;K<H.length;K++){let W=H[K];if(/\w/.test(W)||W>""&&(W.toUpperCase()!=W.toLowerCase()||nonASCIISingleCaseWordChar.test(W)))return!0}return!1}function makeCategorizer(H){return K=>{if(!/\S/.test(K))return CharCategory.Space;if(hasWordChar(K))return CharCategory.Word;for(let W=0;W<H.length;W++)if(K.indexOf(H[W])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(K,W,G,U,X,Q){this.config=K,this.doc=W,this.selection=G,this.values=U,this.status=K.statusTemplate.slice(),this.computeSlot=X,Q&&(Q._state=this);for(let Z=0;Z<this.config.dynamicSlots.length;Z++)ensureAddr(this,Z<<1);this.computeSlot=null}field(K,W=!0){let G=this.config.address[K.id];if(G==null){if(W)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,G),getAddr(this,G)}update(...K){return resolveTransaction(this,K,!0)}applyTransaction(K){let W=this.config,{base:G,compartments:U}=W;for(let Z of K.effects)Z.is(Compartment.reconfigure)?(W&&(U=new Map,W.compartments.forEach((ee,ne)=>U.set(ne,ee)),W=null),U.set(Z.value.compartment,Z.value.extension)):Z.is(StateEffect.reconfigure)?(W=null,G=Z.value):Z.is(StateEffect.appendConfig)&&(W=null,G=asArray$1(G).concat(Z.value));let X;W?X=K.startState.values.slice():(W=Configuration.resolve(G,U,this),X=new EditorState(W,this.doc,this.selection,W.dynamicSlots.map(()=>null),(ee,ne)=>ne.reconfigure(ee,this),null).values);let Q=K.startState.facet(allowMultipleSelections)?K.newSelection:K.newSelection.asSingle();new EditorState(W,K.newDoc,Q,X,(Z,ee)=>ee.update(Z,K),K)}replaceSelection(K){return typeof K=="string"&&(K=this.toText(K)),this.changeByRange(W=>({changes:{from:W.from,to:W.to,insert:K},range:EditorSelection.cursor(W.from+K.length)}))}changeByRange(K){let W=this.selection,G=K(W.ranges[0]),U=this.changes(G.changes),X=[G.range],Q=asArray$1(G.effects);for(let Z=1;Z<W.ranges.length;Z++){let ee=K(W.ranges[Z]),ne=this.changes(ee.changes),te=ne.map(U);for(let re=0;re<Z;re++)X[re]=X[re].map(te);let oe=U.mapDesc(ne,!0);X.push(ee.range.map(oe)),U=U.compose(te),Q=StateEffect.mapEffects(Q,te).concat(StateEffect.mapEffects(asArray$1(ee.effects),oe))}return{changes:U,selection:EditorSelection.create(X,W.mainIndex),effects:Q}}changes(K=[]){return K instanceof ChangeSet?K:ChangeSet.of(K,this.doc.length,this.facet(EditorState.lineSeparator))}toText(K){return Text.of(K.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(K=0,W=this.doc.length){return this.doc.sliceString(K,W,this.lineBreak)}facet(K){let W=this.config.address[K.id];return W==null?K.default:(ensureAddr(this,W),getAddr(this,W))}toJSON(K){let W={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(K)for(let G in K){let U=K[G];U instanceof StateField&&this.config.address[U.id]!=null&&(W[G]=U.spec.toJSON(this.field(K[G]),this))}return W}static fromJSON(K,W={},G){if(!K||typeof K.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let U=[];if(G){for(let X in G)if(Object.prototype.hasOwnProperty.call(K,X)){let Q=G[X],Z=K[X];U.push(Q.init(ee=>Q.spec.fromJSON(Z,ee)))}}return EditorState.create({doc:K.doc,selection:EditorSelection.fromJSON(K.selection),extensions:W.extensions?U.concat([W.extensions]):U})}static create(K={}){let W=Configuration.resolve(K.extensions||[],new Map),G=K.doc instanceof Text?K.doc:Text.of((K.doc||"").split(W.staticFacet(EditorState.lineSeparator)||DefaultSplit)),U=K.selection?K.selection instanceof EditorSelection?K.selection:EditorSelection.single(K.selection.anchor,K.selection.head):EditorSelection.single(0);return checkSelection(U,G.length),W.staticFacet(allowMultipleSelections)||(U=U.asSingle()),new EditorState(W,G,U,W.dynamicSlots.map(()=>null),(X,Q)=>Q.create(X),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(K,...W){for(let G of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(G,K)){K=G[K];break}return W.length&&(K=K.replace(/\$(\$|\d*)/g,(G,U)=>{if(U=="$")return"$";let X=+(U||1);return!X||X>W.length?G:W[X-1]})),K}languageDataAt(K,W,G=-1){let U=[];for(let X of this.facet(languageData))for(let Q of X(this,W,G))Object.prototype.hasOwnProperty.call(Q,K)&&U.push(Q[K]);return U}charCategorizer(K){return makeCategorizer(this.languageDataAt("wordChars",K).join(""))}wordAt(K){let{text:W,from:G,length:U}=this.doc.lineAt(K),X=this.charCategorizer(K),Q=K-G,Z=K-G;for(;Q>0;){let ee=findClusterBreak(W,Q,!1);if(X(W.slice(ee,Q))!=CharCategory.Word)break;Q=ee}for(;Z<U;){let ee=findClusterBreak(W,Z);if(X(W.slice(Z,ee))!=CharCategory.Word)break;Z=ee}return Q==Z?null:EditorSelection.range(Q+G,Z+G)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:H=>H.length?H[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(H,K){let W=Object.keys(H),G=Object.keys(K);return W.length==G.length&&W.every(U=>H[U]==K[U])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(H,K,W={}){let G={};for(let U of H)for(let X of Object.keys(U)){let Q=U[X],Z=G[X];if(Z===void 0)G[X]=Q;else if(!(Z===Q||Q===void 0))if(Object.hasOwnProperty.call(W,X))G[X]=W[X](Z,Q);else throw new Error("Config merge conflict for field "+X)}for(let U in K)G[U]===void 0&&(G[U]=K[U]);return G}class RangeValue{eq(K){return this==K}range(K,W=K){return Range$1.create(K,W,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;let Range$1=class Wt{constructor(K,W,G){this.from=K,this.to=W,this.value=G}static create(K,W,G){return new Wt(K,W,G)}};function cmpRange(H,K){return H.from-K.from||H.value.startSide-K.value.startSide}class Chunk{constructor(K,W,G,U){this.from=K,this.to=W,this.value=G,this.maxPoint=U}get length(){return this.to[this.to.length-1]}findIndex(K,W,G,U=0){let X=G?this.to:this.from;for(let Q=U,Z=X.length;;){if(Q==Z)return Q;let ee=Q+Z>>1,ne=X[ee]-K||(G?this.value[ee].endSide:this.value[ee].startSide)-W;if(ee==Q)return ne>=0?Q:Z;ne>=0?Z=ee:Q=ee+1}}between(K,W,G,U){for(let X=this.findIndex(W,-1e9,!0),Q=this.findIndex(G,1e9,!1,X);X<Q;X++)if(U(this.from[X]+K,this.to[X]+K,this.value[X])===!1)return!1}map(K,W){let G=[],U=[],X=[],Q=-1,Z=-1;for(let ee=0;ee<this.value.length;ee++){let ne=this.value[ee],te=this.from[ee]+K,oe=this.to[ee]+K,re,ae;if(te==oe){let se=W.mapPos(te,ne.startSide,ne.mapMode);if(se==null||(re=ae=se,ne.startSide!=ne.endSide&&(ae=W.mapPos(te,ne.endSide),ae<re)))continue}else if(re=W.mapPos(te,ne.startSide),ae=W.mapPos(oe,ne.endSide),re>ae||re==ae&&ne.startSide>0&&ne.endSide<=0)continue;(ae-re||ne.endSide-ne.startSide)<0||(Q<0&&(Q=re),ne.point&&(Z=Math.max(Z,ae-re)),G.push(ne),U.push(re-Q),X.push(ae-Q))}return{mapped:G.length?new Chunk(U,X,G,Z):null,pos:Q}}}class RangeSet{constructor(K,W,G,U){this.chunkPos=K,this.chunk=W,this.nextLayer=G,this.maxPoint=U}static create(K,W,G,U){return new RangeSet(K,W,G,U)}get length(){let K=this.chunk.length-1;return K<0?0:Math.max(this.chunkEnd(K),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let K=this.nextLayer.size;for(let W of this.chunk)K+=W.value.length;return K}chunkEnd(K){return this.chunkPos[K]+this.chunk[K].length}update(K){let{add:W=[],sort:G=!1,filterFrom:U=0,filterTo:X=this.length}=K,Q=K.filter;if(W.length==0&&!Q)return this;if(G&&(W=W.slice().sort(cmpRange)),this.isEmpty)return W.length?RangeSet.of(W):this;let Z=new LayerCursor(this,null,-1).goto(0),ee=0,ne=[],te=new RangeSetBuilder;for(;Z.value||ee<W.length;)if(ee<W.length&&(Z.from-W[ee].from||Z.startSide-W[ee].value.startSide)>=0){let oe=W[ee++];te.addInner(oe.from,oe.to,oe.value)||ne.push(oe)}else Z.rangeIndex==1&&Z.chunkIndex<this.chunk.length&&(ee==W.length||this.chunkEnd(Z.chunkIndex)<W[ee].from)&&(!Q||U>this.chunkEnd(Z.chunkIndex)||X<this.chunkPos[Z.chunkIndex])&&te.addChunk(this.chunkPos[Z.chunkIndex],this.chunk[Z.chunkIndex])?Z.nextChunk():((!Q||U>Z.to||X<Z.from||Q(Z.from,Z.to,Z.value))&&(te.addInner(Z.from,Z.to,Z.value)||ne.push(Range$1.create(Z.from,Z.to,Z.value))),Z.next());return te.finishInner(this.nextLayer.isEmpty&&!ne.length?RangeSet.empty:this.nextLayer.update({add:ne,filter:Q,filterFrom:U,filterTo:X}))}map(K){if(K.empty||this.isEmpty)return this;let W=[],G=[],U=-1;for(let Q=0;Q<this.chunk.length;Q++){let Z=this.chunkPos[Q],ee=this.chunk[Q],ne=K.touchesRange(Z,Z+ee.length);if(ne===!1)U=Math.max(U,ee.maxPoint),W.push(ee),G.push(K.mapPos(Z));else if(ne===!0){let{mapped:te,pos:oe}=ee.map(Z,K);te&&(U=Math.max(U,te.maxPoint),W.push(te),G.push(oe))}}let X=this.nextLayer.map(K);return W.length==0?X:new RangeSet(G,W,X||RangeSet.empty,U)}between(K,W,G){if(!this.isEmpty){for(let U=0;U<this.chunk.length;U++){let X=this.chunkPos[U],Q=this.chunk[U];if(W>=X&&K<=X+Q.length&&Q.between(X,K-X,W-X,G)===!1)return}this.nextLayer.between(K,W,G)}}iter(K=0){return HeapCursor.from([this]).goto(K)}get isEmpty(){return this.nextLayer==this}static iter(K,W=0){return HeapCursor.from(K).goto(W)}static compare(K,W,G,U,X=-1){let Q=K.filter(oe=>oe.maxPoint>0||!oe.isEmpty&&oe.maxPoint>=X),Z=W.filter(oe=>oe.maxPoint>0||!oe.isEmpty&&oe.maxPoint>=X),ee=findSharedChunks(Q,Z,G),ne=new SpanCursor(Q,ee,X),te=new SpanCursor(Z,ee,X);G.iterGaps((oe,re,ae)=>compare(ne,oe,te,re,ae,U)),G.empty&&G.length==0&&compare(ne,0,te,0,0,U)}static eq(K,W,G=0,U){U==null&&(U=999999999);let X=K.filter(te=>!te.isEmpty&&W.indexOf(te)<0),Q=W.filter(te=>!te.isEmpty&&K.indexOf(te)<0);if(X.length!=Q.length)return!1;if(!X.length)return!0;let Z=findSharedChunks(X,Q),ee=new SpanCursor(X,Z,0).goto(G),ne=new SpanCursor(Q,Z,0).goto(G);for(;;){if(ee.to!=ne.to||!sameValues(ee.active,ne.active)||ee.point&&(!ne.point||!ee.point.eq(ne.point)))return!1;if(ee.to>U)return!0;ee.next(),ne.next()}}static spans(K,W,G,U,X=-1){let Q=new SpanCursor(K,null,X).goto(W),Z=W,ee=Q.openStart;for(;;){let ne=Math.min(Q.to,G);if(Q.point){let te=Q.activeForPoint(Q.to),oe=Q.pointFrom<W?te.length+1:Q.point.startSide<0?te.length:Math.min(te.length,ee);U.point(Z,ne,Q.point,te,oe,Q.pointRank),ee=Math.min(Q.openEnd(ne),te.length)}else ne>Z&&(U.span(Z,ne,Q.active,ee),ee=Q.openEnd(ne));if(Q.to>G)return ee+(Q.point&&Q.to>G?1:0);Z=Q.to,Q.next()}}static of(K,W=!1){let G=new RangeSetBuilder;for(let U of K instanceof Range$1?[K]:W?lazySort(K):K)G.add(U.from,U.to,U.value);return G.finish()}static join(K){if(!K.length)return RangeSet.empty;let W=K[K.length-1];for(let G=K.length-2;G>=0;G--)for(let U=K[G];U!=RangeSet.empty;U=U.nextLayer)W=new RangeSet(U.chunkPos,U.chunk,W,Math.max(U.maxPoint,W.maxPoint));return W}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(H){if(H.length>1)for(let K=H[0],W=1;W<H.length;W++){let G=H[W];if(cmpRange(K,G)>0)return H.slice().sort(cmpRange);K=G}return H}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{finishChunk(K){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,K&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(K,W,G){this.addInner(K,W,G)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(K,W,G)}addInner(K,W,G){let U=K-this.lastTo||G.startSide-this.last.endSide;if(U<=0&&(K-this.lastFrom||G.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return U<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=K),this.from.push(K-this.chunkStart),this.to.push(W-this.chunkStart),this.last=G,this.lastFrom=K,this.lastTo=W,this.value.push(G),G.point&&(this.maxPoint=Math.max(this.maxPoint,W-K)),!0)}addChunk(K,W){if((K-this.lastTo||W.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,W.maxPoint),this.chunks.push(W),this.chunkPos.push(K);let G=W.value.length-1;return this.last=W.value[G],this.lastFrom=W.from[G]+K,this.lastTo=W.to[G]+K,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(K){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return K;let W=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(K):K,this.setMaxPoint);return this.from=null,W}}function findSharedChunks(H,K,W){let G=new Map;for(let X of H)for(let Q=0;Q<X.chunk.length;Q++)X.chunk[Q].maxPoint<=0&&G.set(X.chunk[Q],X.chunkPos[Q]);let U=new Set;for(let X of K)for(let Q=0;Q<X.chunk.length;Q++){let Z=G.get(X.chunk[Q]);Z!=null&&(W?W.mapPos(Z):Z)==X.chunkPos[Q]&&!W?.touchesRange(Z,Z+X.chunk[Q].length)&&U.add(X.chunk[Q])}return U}class LayerCursor{constructor(K,W,G,U=0){this.layer=K,this.skip=W,this.minPoint=G,this.rank=U}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(K,W=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(K,W,!1),this}gotoInner(K,W,G){for(;this.chunkIndex<this.layer.chunk.length;){let U=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(U)||this.layer.chunkEnd(this.chunkIndex)<K||U.maxPoint<this.minPoint))break;this.chunkIndex++,G=!1}if(this.chunkIndex<this.layer.chunk.length){let U=this.layer.chunk[this.chunkIndex].findIndex(K-this.layer.chunkPos[this.chunkIndex],W,!0);(!G||this.rangeIndex<U)&&this.setRangeIndex(U)}this.next()}forward(K,W){(this.to-K||this.endSide-W)<0&&this.gotoInner(K,W,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let K=this.layer.chunkPos[this.chunkIndex],W=this.layer.chunk[this.chunkIndex],G=K+W.from[this.rangeIndex];if(this.from=G,this.to=K+W.to[this.rangeIndex],this.value=W.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(K){if(K==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=K}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(K){return this.from-K.from||this.startSide-K.startSide||this.rank-K.rank||this.to-K.to||this.endSide-K.endSide}}class HeapCursor{constructor(K){this.heap=K}static from(K,W=null,G=-1){let U=[];for(let X=0;X<K.length;X++)for(let Q=K[X];!Q.isEmpty;Q=Q.nextLayer)Q.maxPoint>=G&&U.push(new LayerCursor(Q,W,G,X));return U.length==1?U[0]:new HeapCursor(U)}get startSide(){return this.value?this.value.startSide:0}goto(K,W=-1e9){for(let G of this.heap)G.goto(K,W);for(let G=this.heap.length>>1;G>=0;G--)heapBubble(this.heap,G);return this.next(),this}forward(K,W){for(let G of this.heap)G.forward(K,W);for(let G=this.heap.length>>1;G>=0;G--)heapBubble(this.heap,G);(this.to-K||this.value.endSide-W)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let K=this.heap[0];this.from=K.from,this.to=K.to,this.value=K.value,this.rank=K.rank,K.value&&K.next(),heapBubble(this.heap,0)}}}function heapBubble(H,K){for(let W=H[K];;){let G=(K<<1)+1;if(G>=H.length)break;let U=H[G];if(G+1<H.length&&U.compare(H[G+1])>=0&&(U=H[G+1],G++),W.compare(U)<0)break;H[G]=W,H[K]=U,K=G}}class SpanCursor{constructor(K,W,G){this.minPoint=G,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(K,W,G)}goto(K,W=-1e9){return this.cursor.goto(K,W),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=K,this.endSide=W,this.openStart=-1,this.next(),this}forward(K,W){for(;this.minActive>-1&&(this.activeTo[this.minActive]-K||this.active[this.minActive].endSide-W)<0;)this.removeActive(this.minActive);this.cursor.forward(K,W)}removeActive(K){remove(this.active,K),remove(this.activeTo,K),remove(this.activeRank,K),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(K){let W=0,{value:G,to:U,rank:X}=this.cursor;for(;W<this.activeRank.length&&(X-this.activeRank[W]||U-this.activeTo[W])>0;)W++;insert(this.active,W,G),insert(this.activeTo,W,U),insert(this.activeRank,W,X),K&&insert(K,W,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let K=this.to,W=this.point;this.point=null;let G=this.openStart<0?[]:null;for(;;){let U=this.minActive;if(U>-1&&(this.activeTo[U]-this.cursor.from||this.active[U].endSide-this.cursor.startSide)<0){if(this.activeTo[U]>K){this.to=this.activeTo[U],this.endSide=this.active[U].endSide;break}this.removeActive(U),G&&remove(G,U)}else if(this.cursor.value)if(this.cursor.from>K){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let X=this.cursor.value;if(!X.point)this.addActive(G),this.cursor.next();else if(W&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=X,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=X.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(G){this.openStart=0;for(let U=G.length-1;U>=0&&G[U]<K;U--)this.openStart++}}activeForPoint(K){if(!this.active.length)return this.active;let W=[];for(let G=this.active.length-1;G>=0&&!(this.activeRank[G]<this.pointRank);G--)(this.activeTo[G]>K||this.activeTo[G]==K&&this.active[G].endSide>=this.point.endSide)&&W.push(this.active[G]);return W.reverse()}openEnd(K){let W=0;for(let G=this.activeTo.length-1;G>=0&&this.activeTo[G]>K;G--)W++;return W}}function compare(H,K,W,G,U,X){H.goto(K),W.goto(G);let Q=G+U,Z=G,ee=G-K;for(;;){let ne=H.to+ee-W.to,te=ne||H.endSide-W.endSide,oe=te<0?H.to+ee:W.to,re=Math.min(oe,Q);if(H.point||W.point?H.point&&W.point&&(H.point==W.point||H.point.eq(W.point))&&sameValues(H.activeForPoint(H.to),W.activeForPoint(W.to))||X.comparePoint(Z,re,H.point,W.point):re>Z&&!sameValues(H.active,W.active)&&X.compareRange(Z,re,H.active,W.active),oe>Q)break;(ne||H.openEnd!=W.openEnd)&&X.boundChange&&X.boundChange(oe),Z=oe,te<=0&&H.next(),te>=0&&W.next()}}function sameValues(H,K){if(H.length!=K.length)return!1;for(let W=0;W<H.length;W++)if(H[W]!=K[W]&&!H[W].eq(K[W]))return!1;return!0}function remove(H,K){for(let W=K,G=H.length-1;W<G;W++)H[W]=H[W+1];H.pop()}function insert(H,K,W){for(let G=H.length-1;G>=K;G--)H[G+1]=H[G];H[K]=W}function findMinIndex(H,K){let W=-1,G=1e9;for(let U=0;U<K.length;U++)(K[U]-G||H[U].endSide-H[W].endSide)<0&&(W=U,G=K[U]);return W}function countColumn(H,K,W=H.length){let G=0;for(let U=0;U<W&&U<H.length;)H.charCodeAt(U)==9?(G+=K-G%K,U++):(G++,U=findClusterBreak(H,U));return G}function findColumn(H,K,W,G){for(let U=0,X=0;;){if(X>=K)return U;if(U==H.length)break;X+=H.charCodeAt(U)==9?W-X%W:1,U=findClusterBreak(H,U)}return G===!0?-1:H.length}const C="",COUNT=typeof Symbol>"u"?"__"+C:Symbol.for(C),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(K,W){this.rules=[];let{finish:G}=W||{};function U(Q){return/^@/.test(Q)?[Q]:Q.split(/,\s*/)}function X(Q,Z,ee,ne){let te=[],oe=/^@(\w+)\b/.exec(Q[0]),re=oe&&oe[1]=="keyframes";if(oe&&Z==null)return ee.push(Q[0]+";");for(let ae in Z){let se=Z[ae];if(/&/.test(ae))X(ae.split(/,\s*/).map(ce=>Q.map(de=>ce.replace(/&/,de))).reduce((ce,de)=>ce.concat(de)),se,ee);else if(se&&typeof se=="object"){if(!oe)throw new RangeError("The value of a property ("+ae+") should be a primitive value.");X(U(ae),se,te,re)}else se!=null&&te.push(ae.replace(/_.*/,"").replace(/[A-Z]/g,ce=>"-"+ce.toLowerCase())+": "+se+";")}(te.length||re)&&ee.push((G&&!oe&&!ne?Q.map(G):Q).join(", ")+" {"+te.join(" ")+"}")}for(let Q in K)X(U(Q),K[Q],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let K=top[COUNT]||1;return top[COUNT]=K+1,C+K.toString(36)}static mount(K,W,G){let U=K[SET],X=G&&G.nonce;U?X&&U.setNonce(X):U=new StyleSet(K,X),U.mount(Array.isArray(W)?W:[W],K)}}let adoptedSet=new Map;class StyleSet{constructor(K,W){let G=K.ownerDocument||K,U=G.defaultView;if(!K.head&&K.adoptedStyleSheets&&U.CSSStyleSheet){let X=adoptedSet.get(G);if(X)return K[SET]=X;this.sheet=new U.CSSStyleSheet,adoptedSet.set(G,this)}else this.styleTag=G.createElement("style"),W&&this.styleTag.setAttribute("nonce",W);this.modules=[],K[SET]=this}mount(K,W){let G=this.sheet,U=0,X=0;for(let Q=0;Q<K.length;Q++){let Z=K[Q],ee=this.modules.indexOf(Z);if(ee<X&&ee>-1&&(this.modules.splice(ee,1),X--,ee=-1),ee==-1){if(this.modules.splice(X++,0,Z),G)for(let ne=0;ne<Z.rules.length;ne++)G.insertRule(Z.rules[ne],U++)}else{for(;X<ee;)U+=this.modules[X++].rules.length;U+=Z.rules.length,X++}}if(G)W.adoptedStyleSheets.indexOf(this.sheet)<0&&(W.adoptedStyleSheets=[this.sheet,...W.adoptedStyleSheets]);else{let Q="";for(let ee=0;ee<this.modules.length;ee++)Q+=this.modules[ee].getRules()+`
`;this.styleTag.textContent=Q;let Z=W.head||W;this.styleTag.parentNode!=Z&&Z.insertBefore(this.styleTag,Z.firstChild)}}setNonce(K){this.styleTag&&this.styleTag.getAttribute("nonce")!=K&&this.styleTag.setAttribute("nonce",K)}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(H){var K=mac&&H.metaKey&&H.shiftKey&&!H.ctrlKey&&!H.altKey||ie$1&&H.shiftKey&&H.key&&H.key.length==1||H.key=="Unidentified",W=!K&&H.key||(H.shiftKey?shift:base)[H.keyCode]||H.key||"Unidentified";return W=="Esc"&&(W="Escape"),W=="Del"&&(W="Delete"),W=="Left"&&(W="ArrowLeft"),W=="Up"&&(W="ArrowUp"),W=="Right"&&(W="ArrowRight"),W=="Down"&&(W="ArrowDown"),W}function crelt(){var H=arguments[0];typeof H=="string"&&(H=document.createElement(H));var K=1,W=arguments[1];if(W&&typeof W=="object"&&W.nodeType==null&&!Array.isArray(W)){for(var G in W)if(Object.prototype.hasOwnProperty.call(W,G)){var U=W[G];typeof U=="string"?H.setAttribute(G,U):U!=null&&(H[G]=U)}K++}for(;K<arguments.length;K++)add(H,arguments[K]);return H}function add(H,K){if(typeof K=="string")H.appendChild(document.createTextNode(K));else if(K!=null)if(K.nodeType!=null)H.appendChild(K);else if(Array.isArray(K))for(var W=0;W<K.length;W++)add(H,K[W]);else throw new RangeError("Unsupported child node: "+K)}function getSelection(H){let K;return H.nodeType==11?K=H.getSelection?H:H.ownerDocument:K=H,K.getSelection()}function contains(H,K){return K?H==K||H.contains(K.nodeType!=1?K.parentNode:K):!1}function hasSelection(H,K){if(!K.anchorNode)return!1;try{return contains(H,K.anchorNode)}catch{return!1}}function clientRectsFor(H){return H.nodeType==3?textRange(H,0,H.nodeValue.length).getClientRects():H.nodeType==1?H.getClientRects():[]}function isEquivalentPosition(H,K,W,G){return W?scanFor(H,K,W,G,-1)||scanFor(H,K,W,G,1):!1}function domIndex(H){for(var K=0;;K++)if(H=H.previousSibling,!H)return K}function isBlockElement(H){return H.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(H.nodeName)}function scanFor(H,K,W,G,U){for(;;){if(H==W&&K==G)return!0;if(K==(U<0?0:maxOffset(H))){if(H.nodeName=="DIV")return!1;let X=H.parentNode;if(!X||X.nodeType!=1)return!1;K=domIndex(H)+(U<0?0:1),H=X}else if(H.nodeType==1){if(H=H.childNodes[K+(U<0?-1:0)],H.nodeType==1&&H.contentEditable=="false")return!1;K=U<0?maxOffset(H):0}else return!1}}function maxOffset(H){return H.nodeType==3?H.nodeValue.length:H.childNodes.length}function flattenRect(H,K){let W=K?H.left:H.right;return{left:W,right:W,top:H.top,bottom:H.bottom}}function windowRect(H){let K=H.visualViewport;return K?{left:0,right:K.width,top:0,bottom:K.height}:{left:0,right:H.innerWidth,top:0,bottom:H.innerHeight}}function getScale(H,K){let W=K.width/H.offsetWidth,G=K.height/H.offsetHeight;return(W>.995&&W<1.005||!isFinite(W)||Math.abs(K.width-H.offsetWidth)<1)&&(W=1),(G>.995&&G<1.005||!isFinite(G)||Math.abs(K.height-H.offsetHeight)<1)&&(G=1),{scaleX:W,scaleY:G}}function scrollRectIntoView(H,K,W,G,U,X,Q,Z){let ee=H.ownerDocument,ne=ee.defaultView||window;for(let te=H,oe=!1;te&&!oe;)if(te.nodeType==1){let re,ae=te==ee.body,se=1,ce=1;if(ae)re=windowRect(ne);else{if(/^(fixed|sticky)$/.test(getComputedStyle(te).position)&&(oe=!0),te.scrollHeight<=te.clientHeight&&te.scrollWidth<=te.clientWidth){te=te.assignedSlot||te.parentNode;continue}let fe=te.getBoundingClientRect();({scaleX:se,scaleY:ce}=getScale(te,fe)),re={left:fe.left,right:fe.left+te.clientWidth*se,top:fe.top,bottom:fe.top+te.clientHeight*ce}}let de=0,le=0;if(U=="nearest")K.top<re.top?(le=K.top-(re.top+Q),W>0&&K.bottom>re.bottom+le&&(le=K.bottom-re.bottom+Q)):K.bottom>re.bottom&&(le=K.bottom-re.bottom+Q,W<0&&K.top-le<re.top&&(le=K.top-(re.top+Q)));else{let fe=K.bottom-K.top,pe=re.bottom-re.top;le=(U=="center"&&fe<=pe?K.top+fe/2-pe/2:U=="start"||U=="center"&&W<0?K.top-Q:K.bottom-pe+Q)-re.top}if(G=="nearest"?K.left<re.left?(de=K.left-(re.left+X),W>0&&K.right>re.right+de&&(de=K.right-re.right+X)):K.right>re.right&&(de=K.right-re.right+X,W<0&&K.left<re.left+de&&(de=K.left-(re.left+X))):de=(G=="center"?K.left+(K.right-K.left)/2-(re.right-re.left)/2:G=="start"==Z?K.left-X:K.right-(re.right-re.left)+X)-re.left,de||le)if(ae)ne.scrollBy(de,le);else{let fe=0,pe=0;if(le){let me=te.scrollTop;te.scrollTop+=le/ce,pe=(te.scrollTop-me)*ce}if(de){let me=te.scrollLeft;te.scrollLeft+=de/se,fe=(te.scrollLeft-me)*se}K={left:K.left-fe,top:K.top-pe,right:K.right-fe,bottom:K.bottom-pe},fe&&Math.abs(fe-de)<1&&(G="nearest"),pe&&Math.abs(pe-le)<1&&(U="nearest")}if(ae)break;(K.top<re.top||K.bottom>re.bottom||K.left<re.left||K.right>re.right)&&(K={left:Math.max(K.left,re.left),right:Math.min(K.right,re.right),top:Math.max(K.top,re.top),bottom:Math.min(K.bottom,re.bottom)}),te=te.assignedSlot||te.parentNode}else if(te.nodeType==11)te=te.host;else break}function scrollableParents(H){let K=H.ownerDocument,W,G;for(let U=H.parentNode;U&&!(U==K.body||W&&G);)if(U.nodeType==1)!G&&U.scrollHeight>U.clientHeight&&(G=U),!W&&U.scrollWidth>U.clientWidth&&(W=U),U=U.assignedSlot||U.parentNode;else if(U.nodeType==11)U=U.host;else break;return{x:W,y:G}}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(K){return this.anchorNode==K.anchorNode&&this.anchorOffset==K.anchorOffset&&this.focusNode==K.focusNode&&this.focusOffset==K.focusOffset}setRange(K){let{anchorNode:W,focusNode:G}=K;this.set(W,Math.min(K.anchorOffset,W?maxOffset(W):0),G,Math.min(K.focusOffset,G?maxOffset(G):0))}set(K,W,G,U){this.anchorNode=K,this.anchorOffset=W,this.focusNode=G,this.focusOffset=U}}let preventScrollSupported=null;function focusPreventScroll(H){if(H.setActive)return H.setActive();if(preventScrollSupported)return H.focus(preventScrollSupported);let K=[];for(let W=H;W&&(K.push(W,W.scrollTop,W.scrollLeft),W!=W.ownerDocument);W=W.parentNode);if(H.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let W=0;W<K.length;){let G=K[W++],U=K[W++],X=K[W++];G.scrollTop!=U&&(G.scrollTop=U),G.scrollLeft!=X&&(G.scrollLeft=X)}}}let scratchRange;function textRange(H,K,W=K){let G=scratchRange||(scratchRange=document.createRange());return G.setEnd(H,W),G.setStart(H,K),G}function dispatchKey(H,K,W,G){let U={key:K,code:K,keyCode:W,which:W,cancelable:!0};G&&({altKey:U.altKey,ctrlKey:U.ctrlKey,shiftKey:U.shiftKey,metaKey:U.metaKey}=G);let X=new KeyboardEvent("keydown",U);X.synthetic=!0,H.dispatchEvent(X);let Q=new KeyboardEvent("keyup",U);return Q.synthetic=!0,H.dispatchEvent(Q),X.defaultPrevented||Q.defaultPrevented}function getRoot(H){for(;H;){if(H&&(H.nodeType==9||H.nodeType==11&&H.host))return H;H=H.assignedSlot||H.parentNode}return null}function clearAttributes(H){for(;H.attributes.length;)H.removeAttributeNode(H.attributes[0])}function atElementStart(H,K){let W=K.focusNode,G=K.focusOffset;if(!W||K.anchorNode!=W||K.anchorOffset!=G)return!1;for(G=Math.min(G,maxOffset(W));;)if(G){if(W.nodeType!=1)return!1;let U=W.childNodes[G-1];U.contentEditable=="false"?G--:(W=U,G=maxOffset(W))}else{if(W==H)return!0;G=domIndex(W),W=W.parentNode}}function isScrolledToBottom(H){return H.scrollTop>Math.max(1,H.scrollHeight-H.clientHeight-4)}function textNodeBefore(H,K){for(let W=H,G=K;;){if(W.nodeType==3&&G>0)return{node:W,offset:G};if(W.nodeType==1&&G>0){if(W.contentEditable=="false")return null;W=W.childNodes[G-1],G=maxOffset(W)}else if(W.parentNode&&!isBlockElement(W))G=domIndex(W),W=W.parentNode;else return null}}function textNodeAfter(H,K){for(let W=H,G=K;;){if(W.nodeType==3&&G<W.nodeValue.length)return{node:W,offset:G};if(W.nodeType==1&&G<W.childNodes.length){if(W.contentEditable=="false")return null;W=W.childNodes[G],G=0}else if(W.parentNode&&!isBlockElement(W))G=domIndex(W)+1,W=W.parentNode;else return null}}class DOMPos{constructor(K,W,G=!0){this.node=K,this.offset=W,this.precise=G}static before(K,W){return new DOMPos(K.parentNode,domIndex(K),W)}static after(K,W){return new DOMPos(K.parentNode,domIndex(K)+1,W)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(K){let W=this.posAtStart;for(let G of this.children){if(G==K)return W;W+=G.length+G.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(K){return this.posBefore(K)+K.length}sync(K,W){if(this.flags&2){let G=this.dom,U=null,X;for(let Q of this.children){if(Q.flags&7){if(!Q.dom&&(X=U?U.nextSibling:G.firstChild)){let Z=ContentView.get(X);(!Z||!Z.parent&&Z.canReuseDOM(Q))&&Q.reuseDOM(X)}Q.sync(K,W),Q.flags&=-8}if(X=U?U.nextSibling:G.firstChild,W&&!W.written&&W.node==G&&X!=Q.dom&&(W.written=!0),Q.dom.parentNode==G)for(;X&&X!=Q.dom;)X=rm$1(X);else G.insertBefore(Q.dom,X);U=Q.dom}for(X=U?U.nextSibling:G.firstChild,X&&W&&W.node==G&&(W.written=!0);X;)X=rm$1(X)}else if(this.flags&1)for(let G of this.children)G.flags&7&&(G.sync(K,W),G.flags&=-8)}reuseDOM(K){}localPosFromDOM(K,W){let G;if(K==this.dom)G=this.dom.childNodes[W];else{let U=maxOffset(K)==0?0:W==0?-1:1;for(;;){let X=K.parentNode;if(X==this.dom)break;U==0&&X.firstChild!=X.lastChild&&(K==X.firstChild?U=-1:U=1),K=X}U<0?G=K:G=K.nextSibling}if(G==this.dom.firstChild)return 0;for(;G&&!ContentView.get(G);)G=G.nextSibling;if(!G)return this.length;for(let U=0,X=0;;U++){let Q=this.children[U];if(Q.dom==G)return X;X+=Q.length+Q.breakAfter}}domBoundsAround(K,W,G=0){let U=-1,X=-1,Q=-1,Z=-1;for(let ee=0,ne=G,te=G;ee<this.children.length;ee++){let oe=this.children[ee],re=ne+oe.length;if(ne<K&&re>W)return oe.domBoundsAround(K,W,ne);if(re>=K&&U==-1&&(U=ee,X=ne),ne>W&&oe.dom.parentNode==this.dom){Q=ee,Z=te;break}te=re,ne=re+oe.breakAfter}return{from:X,to:Z<0?G+this.length:Z,startDOM:(U?this.children[U-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:Q<this.children.length&&Q>=0?this.children[Q].dom:null}}markDirty(K=!1){this.flags|=2,this.markParentsDirty(K)}markParentsDirty(K){for(let W=this.parent;W;W=W.parent){if(K&&(W.flags|=2),W.flags&1)return;W.flags|=1,K=!1}}setParent(K){this.parent!=K&&(this.parent=K,this.flags&7&&this.markParentsDirty(!0))}setDOM(K){this.dom!=K&&(this.dom&&(this.dom.cmView=null),this.dom=K,K.cmView=this)}get rootView(){for(let K=this;;){let W=K.parent;if(!W)return K;K=W}}replaceChildren(K,W,G=noChildren){this.markDirty();for(let U=K;U<W;U++){let X=this.children[U];X.parent==this&&G.indexOf(X)<0&&X.destroy()}G.length<250?this.children.splice(K,W-K,...G):this.children=[].concat(this.children.slice(0,K),G,this.children.slice(W));for(let U=0;U<G.length;U++)G[U].setParent(this)}ignoreMutation(K){return!1}ignoreEvent(K){return!1}childCursor(K=this.length){return new ChildCursor(this.children,K,this.children.length)}childPos(K,W=1){return this.childCursor().findPos(K,W)}toString(){let K=this.constructor.name.replace("View","");return K+(this.children.length?"("+this.children.join()+")":this.length?"["+(K=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(K){return K.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(K,W,G,U,X,Q){return!1}become(K){return!1}canReuseDOM(K){return K.constructor==this.constructor&&!((this.flags|K.flags)&8)}getSide(){return 0}destroy(){for(let K of this.children)K.parent==this&&K.destroy();this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(H){let K=H.nextSibling;return H.parentNode.removeChild(H),K}class ChildCursor{constructor(K,W,G){this.children=K,this.pos=W,this.i=G,this.off=0}findPos(K,W=1){for(;;){if(K>this.pos||K==this.pos&&(W>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=K-this.pos,this;let G=this.children[--this.i];this.pos-=G.length+G.breakAfter}}}function replaceRange(H,K,W,G,U,X,Q,Z,ee){let{children:ne}=H,te=ne.length?ne[K]:null,oe=X.length?X[X.length-1]:null,re=oe?oe.breakAfter:Q;if(!(K==G&&te&&!Q&&!re&&X.length<2&&te.merge(W,U,X.length?oe:null,W==0,Z,ee))){if(G<ne.length){let ae=ne[G];ae&&(U<ae.length||ae.breakAfter&&oe?.breakAfter)?(K==G&&(ae=ae.split(U),U=0),!re&&oe&&ae.merge(0,U,oe,!0,0,ee)?X[X.length-1]=ae:((U||ae.children.length&&!ae.children[0].length)&&ae.merge(0,U,null,!1,0,ee),X.push(ae))):ae?.breakAfter&&(oe?oe.breakAfter=1:Q=1),G++}for(te&&(te.breakAfter=Q,W>0&&(!Q&&X.length&&te.merge(W,te.length,X[0],!1,Z,0)?te.breakAfter=X.shift().breakAfter:(W<te.length||te.children.length&&te.children[te.children.length-1].length==0)&&te.merge(W,te.length,null,!1,Z,0),K++));K<G&&X.length;)if(ne[G-1].become(X[X.length-1]))G--,X.pop(),ee=X.length?0:Z;else if(ne[K].become(X[0]))K++,X.shift(),Z=X.length?0:ee;else break;!X.length&&K&&G<ne.length&&!ne[K-1].breakAfter&&ne[G].merge(0,0,ne[K-1],!1,Z,ee)&&K--,(K<G||X.length)&&H.replaceChildren(K,G,X)}}function mergeChildrenInto(H,K,W,G,U,X){let Q=H.childCursor(),{i:Z,off:ee}=Q.findPos(W,1),{i:ne,off:te}=Q.findPos(K,-1),oe=K-W;for(let re of G)oe+=re.length;H.length+=oe,replaceRange(H,ne,te,Z,ee,G,0,U,X)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(K){super(),this.text=K}get length(){return this.text.length}createDOM(K){this.setDOM(K||document.createTextNode(this.text))}sync(K,W){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(W&&W.node==this.dom&&(W.written=!0),this.dom.nodeValue=this.text)}reuseDOM(K){K.nodeType==3&&this.createDOM(K)}merge(K,W,G){return this.flags&8||G&&(!(G instanceof TextView)||this.length-(W-K)+G.length>MaxJoinLen||G.flags&8)?!1:(this.text=this.text.slice(0,K)+(G?G.text:"")+this.text.slice(W),this.markDirty(),!0)}split(K){let W=new TextView(this.text.slice(K));return this.text=this.text.slice(0,K),this.markDirty(),W.flags|=this.flags&8,W}localPosFromDOM(K,W){return K==this.dom?W:W?this.text.length:0}domAtPos(K){return new DOMPos(this.dom,K)}domBoundsAround(K,W,G){return{from:G,to:G+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(K,W){return textCoords(this.dom,K,W)}}class MarkView extends ContentView{constructor(K,W=[],G=0){super(),this.mark=K,this.children=W,this.length=G;for(let U of W)U.setParent(this)}setAttrs(K){if(clearAttributes(K),this.mark.class&&(K.className=this.mark.class),this.mark.attrs)for(let W in this.mark.attrs)K.setAttribute(W,this.mark.attrs[W]);return K}canReuseDOM(K){return super.canReuseDOM(K)&&!((this.flags|K.flags)&8)}reuseDOM(K){K.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(K),this.flags|=6)}sync(K,W){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(K,W)}merge(K,W,G,U,X,Q){return G&&(!(G instanceof MarkView&&G.mark.eq(this.mark))||K&&X<=0||W<this.length&&Q<=0)?!1:(mergeChildrenInto(this,K,W,G?G.children.slice():[],X-1,Q-1),this.markDirty(),!0)}split(K){let W=[],G=0,U=-1,X=0;for(let Z of this.children){let ee=G+Z.length;ee>K&&W.push(G<K?Z.split(K-G):Z),U<0&&G>=K&&(U=X),G=ee,X++}let Q=this.length-K;return this.length=K,U>-1&&(this.children.length=U,this.markDirty()),new MarkView(this.mark,W,Q)}domAtPos(K){return inlineDOMAtPos(this,K)}coordsAt(K,W){return coordsInChildren(this,K,W)}}function textCoords(H,K,W){let G=H.nodeValue.length;K>G&&(K=G);let U=K,X=K,Q=0;K==0&&W<0||K==G&&W>=0?browser.chrome||browser.gecko||(K?(U--,Q=1):X<G&&(X++,Q=-1)):W<0?U--:X<G&&X++;let Z=textRange(H,U,X).getClientRects();if(!Z.length)return null;let ee=Z[(Q?Q<0:W>=0)?0:Z.length-1];return browser.safari&&!Q&&ee.width==0&&(ee=Array.prototype.find.call(Z,ne=>ne.width)||ee),Q?flattenRect(ee,Q<0):ee||null}class WidgetView extends ContentView{static create(K,W,G){return new WidgetView(K,W,G)}constructor(K,W,G){super(),this.widget=K,this.length=W,this.side=G,this.prevWidget=null}split(K){let W=WidgetView.create(this.widget,this.length-K,this.side);return this.length-=K,W}sync(K){(!this.dom||!this.widget.updateDOM(this.dom,K))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(K)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(K,W,G,U,X,Q){return G&&(!(G instanceof WidgetView)||!this.widget.compare(G.widget)||K>0&&X<=0||W<this.length&&Q<=0)?!1:(this.length=K+(G?G.length:0)+(this.length-W),!0)}become(K){return K instanceof WidgetView&&K.side==this.side&&this.widget.constructor==K.widget.constructor?(this.widget.compare(K.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=K.widget,this.length=K.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(K){return this.widget.ignoreEvent(K)}get overrideDOMText(){if(this.length==0)return Text.empty;let K=this;for(;K.parent;)K=K.parent;let{view:W}=K,G=W&&W.state.doc,U=this.posAtStart;return G?G.slice(U,U+this.length):Text.empty}domAtPos(K){return(this.length?K==0:this.side>0)?DOMPos.before(this.dom):DOMPos.after(this.dom,K==this.length)}domBoundsAround(){return null}coordsAt(K,W){let G=this.widget.coordsAt(this.dom,K,W);if(G)return G;let U=this.dom.getClientRects(),X=null;if(!U.length)return null;let Q=this.side?this.side<0:K>0;for(let Z=Q?U.length-1:0;X=U[Z],!(K>0?Z==0:Z==U.length-1||X.top<X.bottom);Z+=Q?-1:1);return flattenRect(X,!Q)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class WidgetBufferView extends ContentView{constructor(K){super(),this.side=K}get length(){return 0}merge(){return!1}become(K){return K instanceof WidgetBufferView&&K.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let K=document.createElement("img");K.className="cm-widgetBuffer",K.setAttribute("aria-hidden","true"),this.setDOM(K)}}getSide(){return this.side}domAtPos(K){return this.side>0?DOMPos.before(this.dom):DOMPos.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(K){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Text.empty}get isHidden(){return!0}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineDOMAtPos(H,K){let W=H.dom,{children:G}=H,U=0;for(let X=0;U<G.length;U++){let Q=G[U],Z=X+Q.length;if(!(Z==X&&Q.getSide()<=0)){if(K>X&&K<Z&&Q.dom.parentNode==W)return Q.domAtPos(K-X);if(K<=X)break;X=Z}}for(let X=U;X>0;X--){let Q=G[X-1];if(Q.dom.parentNode==W)return Q.domAtPos(Q.length)}for(let X=U;X<G.length;X++){let Q=G[X];if(Q.dom.parentNode==W)return Q.domAtPos(0)}return new DOMPos(W,0)}function joinInlineInto(H,K,W){let G,{children:U}=H;W>0&&K instanceof MarkView&&U.length&&(G=U[U.length-1])instanceof MarkView&&G.mark.eq(K.mark)?joinInlineInto(G,K.children[0],W-1):(U.push(K),K.setParent(H)),H.length+=K.length}function coordsInChildren(H,K,W){let G=null,U=-1,X=null,Q=-1;function Z(ne,te){for(let oe=0,re=0;oe<ne.children.length&&re<=te;oe++){let ae=ne.children[oe],se=re+ae.length;se>=te&&(ae.children.length?Z(ae,te-re):(!X||X.isHidden&&(W>0||onSameLine(X,ae)))&&(se>te||re==se&&ae.getSide()>0)?(X=ae,Q=te-re):(re<te||re==se&&ae.getSide()<0&&!ae.isHidden)&&(G=ae,U=te-re)),re=se}}Z(H,K);let ee=(W<0?G:X)||G||X;return ee?ee.coordsAt(Math.max(0,ee==G?U:Q),W):fallbackRect(H)}function fallbackRect(H){let K=H.dom.lastChild;if(!K)return H.dom.getBoundingClientRect();let W=clientRectsFor(K);return W[W.length-1]||null}function onSameLine(H,K){let W=H.coordsAt(0,1),G=K.coordsAt(0,1);return W&&G&&G.top<W.bottom}function combineAttrs(H,K){for(let W in H)W=="class"&&K.class?K.class+=" "+H.class:W=="style"&&K.style?K.style+=";"+H.style:K[W]=H[W];return K}const noAttrs$1=Object.create(null);function attrsEq(H,K,W){if(H==K)return!0;H||(H=noAttrs$1),K||(K=noAttrs$1);let G=Object.keys(H),U=Object.keys(K);if(G.length-(W&&G.indexOf(W)>-1?1:0)!=U.length-(W&&U.indexOf(W)>-1?1:0))return!1;for(let X of G)if(X!=W&&(U.indexOf(X)==-1||H[X]!==K[X]))return!1;return!0}function updateAttrs(H,K,W){let G=!1;if(K)for(let U in K)W&&U in W||(G=!0,U=="style"?H.style.cssText="":H.removeAttribute(U));if(W)for(let U in W)K&&K[U]==W[U]||(G=!0,U=="style"?H.style.cssText=W[U]:H.setAttribute(U,W[U]));return G}function getAttrs(H){let K=Object.create(null);for(let W=0;W<H.attributes.length;W++){let G=H.attributes[W];K[G.name]=G.value}return K}class WidgetType{eq(K){return!1}updateDOM(K,W){return!1}compare(K){return this==K||this.constructor==K.constructor&&this.eq(K)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(K){return!0}coordsAt(K,W,G){return null}get isHidden(){return!1}get editable(){return!1}destroy(K){}}var BlockType=function(H){return H[H.Text=0]="Text",H[H.WidgetBefore=1]="WidgetBefore",H[H.WidgetAfter=2]="WidgetAfter",H[H.WidgetRange=3]="WidgetRange",H}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(K,W,G,U){super(),this.startSide=K,this.endSide=W,this.widget=G,this.spec=U}get heightRelevant(){return!1}static mark(K){return new MarkDecoration(K)}static widget(K){let W=Math.max(-1e4,Math.min(1e4,K.side||0)),G=!!K.block;return W+=G&&!K.inlineOrder?W>0?3e8:-4e8:W>0?1e8:-1e8,new PointDecoration(K,W,W,G,K.widget||null,!1)}static replace(K){let W=!!K.block,G,U;if(K.isBlockGap)G=-5e8,U=4e8;else{let{start:X,end:Q}=getInclusive(K,W);G=(X?W?-3e8:-1:5e8)-1,U=(Q?W?2e8:1:-6e8)+1}return new PointDecoration(K,G,U,W,K.widget||null,!0)}static line(K){return new LineDecoration(K)}static set(K,W=!1){return RangeSet.of(K,W)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(K){let{start:W,end:G}=getInclusive(K);super(W?-1:5e8,G?1:-6e8,null,K),this.tagName=K.tagName||"span",this.class=K.class||"",this.attrs=K.attributes||null}eq(K){var W,G;return this==K||K instanceof MarkDecoration&&this.tagName==K.tagName&&(this.class||((W=this.attrs)===null||W===void 0?void 0:W.class))==(K.class||((G=K.attrs)===null||G===void 0?void 0:G.class))&&attrsEq(this.attrs,K.attrs,"class")}range(K,W=K){if(K>=W)throw new RangeError("Mark decorations may not be empty");return super.range(K,W)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(K){super(-2e8,-2e8,null,K)}eq(K){return K instanceof LineDecoration&&this.spec.class==K.spec.class&&attrsEq(this.spec.attributes,K.spec.attributes)}range(K,W=K){if(W!=K)throw new RangeError("Line decoration ranges must be zero-length");return super.range(K,W)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(K,W,G,U,X,Q){super(W,G,X,K),this.block=U,this.isReplace=Q,this.mapMode=U?W<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide!=this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(K){return K instanceof PointDecoration&&widgetsEq(this.widget,K.widget)&&this.block==K.block&&this.startSide==K.startSide&&this.endSide==K.endSide}range(K,W=K){if(this.isReplace&&(K>W||K==W&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&W!=K)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(K,W)}}PointDecoration.prototype.point=!0;function getInclusive(H,K=!1){let{inclusiveStart:W,inclusiveEnd:G}=H;return W==null&&(W=H.inclusive),G==null&&(G=H.inclusive),{start:W??K,end:G??K}}function widgetsEq(H,K){return H==K||!!(H&&K&&H.compare(K))}function addRange(H,K,W,G=0){let U=W.length-1;U>=0&&W[U]+G>=H?W[U]=Math.max(W[U],K):W.push(H,K)}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(K,W,G,U,X,Q){if(G){if(!(G instanceof LineView))return!1;this.dom||G.transferDOM(this)}return U&&this.setDeco(G?G.attrs:null),mergeChildrenInto(this,K,W,G?G.children.slice():[],X,Q),!0}split(K){let W=new LineView;if(W.breakAfter=this.breakAfter,this.length==0)return W;let{i:G,off:U}=this.childPos(K);U&&(W.append(this.children[G].split(U),0),this.children[G].merge(U,this.children[G].length,null,!1,0,0),G++);for(let X=G;X<this.children.length;X++)W.append(this.children[X],0);for(;G>0&&this.children[G-1].length==0;)this.children[--G].destroy();return this.children.length=G,this.markDirty(),this.length=K,W}transferDOM(K){this.dom&&(this.markDirty(),K.setDOM(this.dom),K.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(K){attrsEq(this.attrs,K)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=K)}append(K,W){joinInlineInto(this,K,W)}addLineDeco(K){let W=K.spec.attributes,G=K.spec.class;W&&(this.attrs=combineAttrs(W,this.attrs||{})),G&&(this.attrs=combineAttrs({class:G},this.attrs||{}))}domAtPos(K){return inlineDOMAtPos(this,K)}reuseDOM(K){K.nodeName=="DIV"&&(this.setDOM(K),this.flags|=6)}sync(K,W){var G;this.dom?this.flags&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(K,W);let U=this.dom.lastChild;for(;U&&ContentView.get(U)instanceof MarkView;)U=U.lastChild;if(!U||!this.length||U.nodeName!="BR"&&((G=ContentView.get(U))===null||G===void 0?void 0:G.isEditable)==!1&&(!browser.ios||!this.children.some(X=>X instanceof TextView))){let X=document.createElement("BR");X.cmIgnore=!0,this.dom.appendChild(X)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let K=0,W;for(let G of this.children){if(!(G instanceof TextView)||/[^ -~]/.test(G.text))return null;let U=clientRectsFor(G.dom);if(U.length!=1)return null;K+=U[0].width,W=U[0].height}return K?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:K/this.length,textHeight:W}:null}coordsAt(K,W){let G=coordsInChildren(this,K,W);if(!this.children.length&&G&&this.parent){let{heightOracle:U}=this.parent.view.viewState,X=G.bottom-G.top;if(Math.abs(X-U.lineHeight)<2&&U.textHeight<X){let Q=(X-U.textHeight)/2;return{top:G.top+Q,bottom:G.bottom-Q,left:G.left,right:G.left}}}return G}become(K){return K instanceof LineView&&this.children.length==0&&K.children.length==0&&attrsEq(this.attrs,K.attrs)&&this.breakAfter==K.breakAfter}covers(){return!0}static find(K,W){for(let G=0,U=0;G<K.children.length;G++){let X=K.children[G],Q=U+X.length;if(Q>=W){if(X instanceof LineView)return X;if(Q>W)break}U=Q+X.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(K,W,G){super(),this.widget=K,this.length=W,this.deco=G,this.breakAfter=0,this.prevWidget=null}merge(K,W,G,U,X,Q){return G&&(!(G instanceof BlockWidgetView)||!this.widget.compare(G.widget)||K>0&&X<=0||W<this.length&&Q<=0)?!1:(this.length=K+(G?G.length:0)+(this.length-W),!0)}domAtPos(K){return K==0?DOMPos.before(this.dom):DOMPos.after(this.dom,K==this.length)}split(K){let W=this.length-K;this.length=K;let G=new BlockWidgetView(this.widget,W,this.deco);return G.breakAfter=this.breakAfter,G}get children(){return noChildren}sync(K){(!this.dom||!this.widget.updateDOM(this.dom,K))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(K)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become(K){return K instanceof BlockWidgetView&&K.widget.constructor==this.widget.constructor?(K.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=K.widget,this.length=K.length,this.deco=K.deco,this.breakAfter=K.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(K){return this.widget.ignoreEvent(K)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(K,W){let G=this.widget.coordsAt(this.dom,K,W);return G||(this.widget instanceof BlockGapWidget?null:flattenRect(this.dom.getBoundingClientRect(),this.length?K==0:W<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(K){let{startSide:W,endSide:G}=this.deco;return W==G?!1:K<0?W<0:G>0}}class BlockGapWidget extends WidgetType{constructor(K){super(),this.height=K}toDOM(){let K=document.createElement("div");return K.className="cm-gap",this.updateDOM(K),K}eq(K){return K.height==this.height}updateDOM(K){return K.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ContentBuilder{constructor(K,W,G,U){this.doc=K,this.pos=W,this.end=G,this.disallowBlockEffectsFor=U,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=K.iter(),this.skip=W}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let K=this.content[this.content.length-1];return!(K.breakAfter||K instanceof BlockWidgetView&&K.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(K=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),K),K.length),this.pendingBuffer=0)}addBlockWidget(K){this.flushBuffer(),this.curLine=null,this.content.push(K)}finish(K){this.pendingBuffer&&K<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(K&&this.content.length&&this.content[this.content.length-1]instanceof BlockWidgetView)&&this.getLine()}buildText(K,W,G){for(;K>0;){if(this.textOff==this.text.length){let{value:X,lineBreak:Q,done:Z}=this.cursor.next(this.skip);if(this.skip=0,Z)throw new Error("Ran out of text content when drawing inline views");if(Q){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,K--;continue}else this.text=X,this.textOff=0}let U=Math.min(this.text.length-this.textOff,K,512);this.flushBuffer(W.slice(W.length-G)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+U)),W),G),this.atCursorPos=!0,this.textOff+=U,K-=U,G=0}}span(K,W,G,U){this.buildText(W-K,G,U),this.pos=W,this.openStart<0&&(this.openStart=U)}point(K,W,G,U,X,Q){if(this.disallowBlockEffectsFor[Q]&&G instanceof PointDecoration){if(G.block)throw new RangeError("Block decorations may not be specified via plugins");if(W>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let Z=W-K;if(G instanceof PointDecoration)if(G.block)G.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView(G.widget||NullWidget.block,Z,G));else{let ee=WidgetView.create(G.widget||NullWidget.inline,Z,Z?0:G.startSide),ne=this.atCursorPos&&!ee.isEditable&&X<=U.length&&(K<W||G.startSide>0),te=!ee.isEditable&&(K<W||X>U.length||G.startSide<=0),oe=this.getLine();this.pendingBuffer==2&&!ne&&!ee.isEditable&&(this.pendingBuffer=0),this.flushBuffer(U),ne&&(oe.append(wrapMarks(new WidgetBufferView(1),U),X),X=U.length+Math.max(0,X-U.length)),oe.append(wrapMarks(ee,U),X),this.atCursorPos=te,this.pendingBuffer=te?K<W||X>U.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=U.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(G);Z&&(this.textOff+Z<=this.text.length?this.textOff+=Z:(this.skip+=Z-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=W),this.openStart<0&&(this.openStart=X)}static build(K,W,G,U,X){let Q=new ContentBuilder(K,W,G,X);return Q.openEnd=RangeSet.spans(U,W,G,Q),Q.openStart<0&&(Q.openStart=Q.openEnd),Q.finish(Q.openEnd),Q}}function wrapMarks(H,K){for(let W of K)H=new MarkView(W,[H],H.length);return H}class NullWidget extends WidgetType{constructor(K){super(),this.tag=K}eq(K){return K.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(K){return K.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}NullWidget.inline=new NullWidget("span");NullWidget.block=new NullWidget("div");var Direction=function(H){return H[H.LTR=0]="LTR",H[H.RTL=1]="RTL",H}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(H){let K=[];for(let W=0;W<H.length;W++)K.push(1<<+H[W]);return K}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let H of["()","[]","{}"]){let K=H.charCodeAt(0),W=H.charCodeAt(1);Brackets[K]=W,Brackets[W]=-K}function charType(H){return H<=247?LowTypes[H]:1424<=H&&H<=1524?2:1536<=H&&H<=1785?ArabicTypes[H-1536]:1774<=H&&H<=2220?4:8192<=H&&H<=8204?256:64336<=H&&H<=65023?4:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{get dir(){return this.level%2?RTL:LTR}constructor(K,W,G){this.from=K,this.to=W,this.level=G}side(K,W){return this.dir==W==K?this.to:this.from}forward(K,W){return K==(this.dir==W)}static find(K,W,G,U){let X=-1;for(let Q=0;Q<K.length;Q++){let Z=K[Q];if(Z.from<=W&&Z.to>=W){if(Z.level==G)return Q;(X<0||(U!=0?U<0?Z.from<W:Z.to>W:K[X].level>Z.level))&&(X=Q)}}if(X<0)throw new RangeError("Index out of range");return X}}function isolatesEq(H,K){if(H.length!=K.length)return!1;for(let W=0;W<H.length;W++){let G=H[W],U=K[W];if(G.from!=U.from||G.to!=U.to||G.direction!=U.direction||!isolatesEq(G.inner,U.inner))return!1}return!0}const types=[];function computeCharTypes(H,K,W,G,U){for(let X=0;X<=G.length;X++){let Q=X?G[X-1].to:K,Z=X<G.length?G[X].from:W,ee=X?256:U;for(let ne=Q,te=ee,oe=ee;ne<Z;ne++){let re=charType(H.charCodeAt(ne));re==512?re=te:re==8&&oe==4&&(re=16),types[ne]=re==4?2:re,re&7&&(oe=re),te=re}for(let ne=Q,te=ee,oe=ee;ne<Z;ne++){let re=types[ne];if(re==128)ne<Z-1&&te==types[ne+1]&&te&24?re=types[ne]=te:types[ne]=256;else if(re==64){let ae=ne+1;for(;ae<Z&&types[ae]==64;)ae++;let se=ne&&te==8||ae<W&&types[ae]==8?oe==1?1:8:256;for(let ce=ne;ce<ae;ce++)types[ce]=se;ne=ae-1}else re==8&&oe==1&&(types[ne]=1);te=re,re&7&&(oe=re)}}}function processBracketPairs(H,K,W,G,U){let X=U==1?2:1;for(let Q=0,Z=0,ee=0;Q<=G.length;Q++){let ne=Q?G[Q-1].to:K,te=Q<G.length?G[Q].from:W;for(let oe=ne,re,ae,se;oe<te;oe++)if(ae=Brackets[re=H.charCodeAt(oe)])if(ae<0){for(let ce=Z-3;ce>=0;ce-=3)if(BracketStack[ce+1]==-ae){let de=BracketStack[ce+2],le=de&2?U:de&4?de&1?X:U:0;le&&(types[oe]=types[BracketStack[ce]]=le),Z=ce;break}}else{if(BracketStack.length==189)break;BracketStack[Z++]=oe,BracketStack[Z++]=re,BracketStack[Z++]=ee}else if((se=types[oe])==2||se==1){let ce=se==U;ee=ce?0:1;for(let de=Z-3;de>=0;de-=3){let le=BracketStack[de+2];if(le&2)break;if(ce)BracketStack[de+2]|=2;else{if(le&4)break;BracketStack[de+2]|=4}}}}}function processNeutrals(H,K,W,G){for(let U=0,X=G;U<=W.length;U++){let Q=U?W[U-1].to:H,Z=U<W.length?W[U].from:K;for(let ee=Q;ee<Z;){let ne=types[ee];if(ne==256){let te=ee+1;for(;;)if(te==Z){if(U==W.length)break;te=W[U++].to,Z=U<W.length?W[U].from:K}else if(types[te]==256)te++;else break;let oe=X==1,re=(te<K?types[te]:G)==1,ae=oe==re?oe?1:2:G;for(let se=te,ce=U,de=ce?W[ce-1].to:H;se>ee;)se==de&&(se=W[--ce].from,de=ce?W[ce-1].to:H),types[--se]=ae;ee=te}else X=ne,ee++}}}function emitSpans(H,K,W,G,U,X,Q){let Z=G%2?2:1;if(G%2==U%2)for(let ee=K,ne=0;ee<W;){let te=!0,oe=!1;if(ne==X.length||ee<X[ne].from){let ce=types[ee];ce!=Z&&(te=!1,oe=ce==16)}let re=!te&&Z==1?[]:null,ae=te?G:G+1,se=ee;e:for(;;)if(ne<X.length&&se==X[ne].from){if(oe)break e;let ce=X[ne];if(!te)for(let de=ce.to,le=ne+1;;){if(de==W)break e;if(le<X.length&&X[le].from==de)de=X[le++].to;else{if(types[de]==Z)break e;break}}if(ne++,re)re.push(ce);else{ce.from>ee&&Q.push(new BidiSpan(ee,ce.from,ae));let de=ce.direction==LTR!=!(ae%2);computeSectionOrder(H,de?G+1:G,U,ce.inner,ce.from,ce.to,Q),ee=ce.to}se=ce.to}else{if(se==W||(te?types[se]!=Z:types[se]==Z))break;se++}re?emitSpans(H,ee,se,G+1,U,re,Q):ee<se&&Q.push(new BidiSpan(ee,se,ae)),ee=se}else for(let ee=W,ne=X.length;ee>K;){let te=!0,oe=!1;if(!ne||ee>X[ne-1].to){let ce=types[ee-1];ce!=Z&&(te=!1,oe=ce==16)}let re=!te&&Z==1?[]:null,ae=te?G:G+1,se=ee;e:for(;;)if(ne&&se==X[ne-1].to){if(oe)break e;let ce=X[--ne];if(!te)for(let de=ce.from,le=ne;;){if(de==K)break e;if(le&&X[le-1].to==de)de=X[--le].from;else{if(types[de-1]==Z)break e;break}}if(re)re.push(ce);else{ce.to<ee&&Q.push(new BidiSpan(ce.to,ee,ae));let de=ce.direction==LTR!=!(ae%2);computeSectionOrder(H,de?G+1:G,U,ce.inner,ce.from,ce.to,Q),ee=ce.from}se=ce.from}else{if(se==K||(te?types[se-1]!=Z:types[se-1]==Z))break;se--}re?emitSpans(H,se,ee,G+1,U,re,Q):se<ee&&Q.push(new BidiSpan(se,ee,ae)),ee=se}}function computeSectionOrder(H,K,W,G,U,X,Q){let Z=K%2?2:1;computeCharTypes(H,U,X,G,Z),processBracketPairs(H,U,X,G,Z),processNeutrals(U,X,G,Z),emitSpans(H,U,X,K,W,G,Q)}function computeOrder(H,K,W){if(!H)return[new BidiSpan(0,0,K==RTL?1:0)];if(K==LTR&&!W.length&&!BidiRE.test(H))return trivialOrder(H.length);if(W.length)for(;H.length>types.length;)types[types.length]=256;let G=[],U=K==LTR?0:1;return computeSectionOrder(H,U,U,W,0,H.length,G),G}function trivialOrder(H){return[new BidiSpan(0,H,0)]}let movedOver="";function moveVisually(H,K,W,G,U){var X;let Q=G.head-H.from,Z=BidiSpan.find(K,Q,(X=G.bidiLevel)!==null&&X!==void 0?X:-1,G.assoc),ee=K[Z],ne=ee.side(U,W);if(Q==ne){let re=Z+=U?1:-1;if(re<0||re>=K.length)return null;ee=K[Z=re],Q=ee.side(!U,W),ne=ee.side(U,W)}let te=findClusterBreak(H.text,Q,ee.forward(U,W));(te<ee.from||te>ee.to)&&(te=ne),movedOver=H.text.slice(Math.min(Q,te),Math.max(Q,te));let oe=Z==(U?K.length-1:0)?null:K[Z+(U?1:-1)];return oe&&te==ne&&oe.level+(U?0:1)<ee.level?EditorSelection.cursor(oe.side(!U,W)+H.from,oe.forward(U,W)?1:-1,oe.level):EditorSelection.cursor(te+H.from,ee.forward(U,W)?-1:1,ee.level)}function autoDirection(H,K,W){for(let G=K;G<W;G++){let U=charType(H.charCodeAt(G));if(U==1)return LTR;if(U==2||U==4)return RTL}return LTR}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),focusChangeEffect=Facet.define(),clipboardInputFilter=Facet.define(),clipboardOutputFilter=Facet.define(),perLineTextDirection=Facet.define({combine:H=>H.some(K=>K)}),nativeSelectionHidden=Facet.define({combine:H=>H.some(K=>K)}),scrollHandler=Facet.define();class ScrollTarget{constructor(K,W="nearest",G="nearest",U=5,X=5,Q=!1){this.range=K,this.y=W,this.x=G,this.yMargin=U,this.xMargin=X,this.isSnapshot=Q}map(K){return K.empty?this:new ScrollTarget(this.range.map(K),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(K){return this.range.to<=K.doc.length?this:new ScrollTarget(EditorSelection.cursor(K.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const scrollIntoView$1=StateEffect.define({map:(H,K)=>H.map(K)}),setEditContextFormatting=StateEffect.define();function logException(H,K,W){let G=H.facet(exceptionSink);G.length?G[0](K):window.onerror&&window.onerror(String(K),W,void 0,void 0,K)||(W?console.error(W+":",K):console.error(K))}const editable=Facet.define({combine:H=>H.length?H[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define({combine(H){return H.filter((K,W)=>{for(let G=0;G<W;G++)if(H[G].plugin==K.plugin)return!1;return!0})}});class ViewPlugin{constructor(K,W,G,U,X){this.id=K,this.create=W,this.domEventHandlers=G,this.domEventObservers=U,this.baseExtensions=X(this),this.extension=this.baseExtensions.concat(viewPlugin.of({plugin:this,arg:void 0}))}of(K){return this.baseExtensions.concat(viewPlugin.of({plugin:this,arg:K}))}static define(K,W){const{eventHandlers:G,eventObservers:U,provide:X,decorations:Q}=W||{};return new ViewPlugin(nextPluginID++,K,G,U,Z=>{let ee=[];return Q&&ee.push(decorations.of(ne=>{let te=ne.plugin(Z);return te?Q(te):Decoration.none})),X&&ee.push(X(Z)),ee})}static fromClass(K,W){return ViewPlugin.define((G,U)=>new K(G,U),W)}}class PluginInstance{constructor(K){this.spec=K,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(K){if(this.value){if(this.mustUpdate){let W=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(W)}catch(G){if(logException(W.state,G,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(K,this.spec.arg)}catch(W){logException(K.state,W,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(K){var W;if(!((W=this.value)===null||W===void 0)&&W.destroy)try{this.value.destroy()}catch(G){logException(K.state,G,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),outerDecorations=Facet.define(),atomicRanges=Facet.define(),bidiIsolatedRanges=Facet.define();function getIsolatedRanges(H,K){let W=H.state.facet(bidiIsolatedRanges);if(!W.length)return W;let G=W.map(X=>X instanceof Function?X(H):X),U=[];return RangeSet.spans(G,K.from,K.to,{point(){},span(X,Q,Z,ee){let ne=X-K.from,te=Q-K.from,oe=U;for(let re=Z.length-1;re>=0;re--,ee--){let ae=Z[re].spec.bidiIsolate,se;if(ae==null&&(ae=autoDirection(K.text,ne,te)),ee>0&&oe.length&&(se=oe[oe.length-1]).to==ne&&se.direction==ae)se.to=te,oe=se.inner;else{let ce={from:ne,to:te,direction:ae,inner:[]};oe.push(ce),oe=ce.inner}}}}),U}const scrollMargins=Facet.define();function getScrollMargins(H){let K=0,W=0,G=0,U=0;for(let X of H.state.facet(scrollMargins)){let Q=X(H);Q&&(Q.left!=null&&(K=Math.max(K,Q.left)),Q.right!=null&&(W=Math.max(W,Q.right)),Q.top!=null&&(G=Math.max(G,Q.top)),Q.bottom!=null&&(U=Math.max(U,Q.bottom)))}return{left:K,right:W,top:G,bottom:U}}const styleModule=Facet.define();class ChangedRange{constructor(K,W,G,U){this.fromA=K,this.toA=W,this.fromB=G,this.toB=U}join(K){return new ChangedRange(Math.min(this.fromA,K.fromA),Math.max(this.toA,K.toA),Math.min(this.fromB,K.fromB),Math.max(this.toB,K.toB))}addToSet(K){let W=K.length,G=this;for(;W>0;W--){let U=K[W-1];if(!(U.fromA>G.toA)){if(U.toA<G.fromA)break;G=G.join(U),K.splice(W-1,1)}}return K.splice(W,0,G),K}static extendWithRanges(K,W){if(W.length==0)return K;let G=[];for(let U=0,X=0,Q=0,Z=0;;U++){let ee=U==K.length?null:K[U],ne=Q-Z,te=ee?ee.fromB:1e9;for(;X<W.length&&W[X]<te;){let oe=W[X],re=W[X+1],ae=Math.max(Z,oe),se=Math.min(te,re);if(ae<=se&&new ChangedRange(ae+ne,se+ne,ae,se).addToSet(G),re>te)break;X+=2}if(!ee)return G;new ChangedRange(ee.fromA,ee.toA,ee.fromB,ee.toB).addToSet(G),Q=ee.toA,Z=ee.toB}}}class ViewUpdate{constructor(K,W,G){this.view=K,this.state=W,this.transactions=G,this.flags=0,this.startState=K.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let X of G)this.changes=this.changes.compose(X.changes);let U=[];this.changes.iterChangedRanges((X,Q,Z,ee)=>U.push(new ChangedRange(X,Q,Z,ee))),this.changedRanges=U}static create(K,W,G){return new ViewUpdate(K,W,G)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(K=>K.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class DocView extends ContentView{get length(){return this.view.state.doc.length}constructor(K){super(),this.view=K,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Decoration.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(K.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,K.state.doc.length)],0,null)}update(K){var W;let G=K.changedRanges;this.minWidth>0&&G.length&&(G.every(({fromA:ne,toA:te})=>te<this.minWidthFrom||ne>this.minWidthTo)?(this.minWidthFrom=K.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=K.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(K);let U=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((W=this.domChanged)===null||W===void 0)&&W.newSel?U=this.domChanged.newSel.head:!touchesComposition(K.changes,this.hasComposition)&&!K.selectionSet&&(U=K.state.selection.main.head));let X=U>-1?findCompositionRange(this.view,K.changes,U):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:ne,to:te}=this.hasComposition;G=new ChangedRange(ne,te,K.changes.mapPos(ne,-1),K.changes.mapPos(te,1)).addToSet(G.slice())}this.hasComposition=X?{from:X.range.fromB,to:X.range.toB}:null,(browser.ie||browser.chrome)&&!X&&K&&K.state.doc.lines!=K.startState.doc.lines&&(this.forceSelection=!0);let Q=this.decorations,Z=this.updateDeco(),ee=findChangedDeco(Q,Z,K.changes);return G=ChangedRange.extendWithRanges(G,ee),!(this.flags&7)&&G.length==0?!1:(this.updateInner(G,K.startState.doc.length,X),K.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(K,W,G){this.view.viewState.mustMeasureContent=!0,this.updateChildren(K,W,G);let{observer:U}=this.view;U.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let Q=browser.chrome||browser.ios?{node:U.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,Q),this.flags&=-8,Q&&(Q.written||U.selectionRange.focusNode!=Q.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(Q=>Q.flags&=-9);let X=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let Q of this.children)Q instanceof BlockWidgetView&&Q.widget instanceof BlockGapWidget&&X.push(Q.dom);U.updateGaps(X)}updateChildren(K,W,G){let U=G?G.range.addToSet(K.slice()):K,X=this.childCursor(W);for(let Q=U.length-1;;Q--){let Z=Q>=0?U[Q]:null;if(!Z)break;let{fromA:ee,toA:ne,fromB:te,toB:oe}=Z,re,ae,se,ce;if(G&&G.range.fromB<oe&&G.range.toB>te){let me=ContentBuilder.build(this.view.state.doc,te,G.range.fromB,this.decorations,this.dynamicDecorationMap),ue=ContentBuilder.build(this.view.state.doc,G.range.toB,oe,this.decorations,this.dynamicDecorationMap);ae=me.breakAtStart,se=me.openStart,ce=ue.openEnd;let ge=this.compositionView(G);ue.breakAtStart?ge.breakAfter=1:ue.content.length&&ge.merge(ge.length,ge.length,ue.content[0],!1,ue.openStart,0)&&(ge.breakAfter=ue.content[0].breakAfter,ue.content.shift()),me.content.length&&ge.merge(0,0,me.content[me.content.length-1],!0,0,me.openEnd)&&me.content.pop(),re=me.content.concat(ge).concat(ue.content)}else({content:re,breakAtStart:ae,openStart:se,openEnd:ce}=ContentBuilder.build(this.view.state.doc,te,oe,this.decorations,this.dynamicDecorationMap));let{i:de,off:le}=X.findPos(ne,1),{i:fe,off:pe}=X.findPos(ee,-1);replaceRange(this,fe,pe,de,le,re,ae,se,ce)}G&&this.fixCompositionDOM(G)}updateEditContextFormatting(K){this.editContextFormatting=this.editContextFormatting.map(K.changes);for(let W of K.transactions)for(let G of W.effects)G.is(setEditContextFormatting)&&(this.editContextFormatting=G.value)}compositionView(K){let W=new TextView(K.text.nodeValue);W.flags|=8;for(let{deco:U}of K.marks)W=new MarkView(U,[W],W.length);let G=new LineView;return G.append(W,0),G}fixCompositionDOM(K){let W=(X,Q)=>{Q.flags|=8|(Q.children.some(ee=>ee.flags&7)?1:0),this.markedForComposition.add(Q);let Z=ContentView.get(X);Z&&Z!=Q&&(Z.dom=null),Q.setDOM(X)},G=this.childPos(K.range.fromB,1),U=this.children[G.i];W(K.line,U);for(let X=K.marks.length-1;X>=-1;X--)G=U.childPos(G.off,1),U=U.children[G.i],W(X>=0?K.marks[X].node:K.text,U)}updateSelection(K=!1,W=!1){(K||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let G=this.view.root.activeElement,U=G==this.dom,X=!U&&!(this.view.state.facet(editable)||this.dom.tabIndex>-1)&&hasSelection(this.dom,this.view.observer.selectionRange)&&!(G&&this.dom.contains(G));if(!(U||W||X))return;let Q=this.forceSelection;this.forceSelection=!1;let Z=this.view.state.selection.main,ee=this.moveToLine(this.domAtPos(Z.anchor)),ne=Z.empty?ee:this.moveToLine(this.domAtPos(Z.head));if(browser.gecko&&Z.empty&&!this.hasComposition&&betweenUneditable(ee)){let oe=document.createTextNode("");this.view.observer.ignore(()=>ee.node.insertBefore(oe,ee.node.childNodes[ee.offset]||null)),ee=ne=new DOMPos(oe,0),Q=!0}let te=this.view.observer.selectionRange;(Q||!te.focusNode||(!isEquivalentPosition(ee.node,ee.offset,te.anchorNode,te.anchorOffset)||!isEquivalentPosition(ne.node,ne.offset,te.focusNode,te.focusOffset))&&!this.suppressWidgetCursorChange(te,Z))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&this.dom.contains(te.focusNode)&&inUneditable(te.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let oe=getSelection(this.view.root);if(oe)if(Z.empty){if(browser.gecko){let re=nextToUneditable(ee.node,ee.offset);if(re&&re!=3){let ae=(re==1?textNodeBefore:textNodeAfter)(ee.node,ee.offset);ae&&(ee=new DOMPos(ae.node,ae.offset))}}oe.collapse(ee.node,ee.offset),Z.bidiLevel!=null&&oe.caretBidiLevel!==void 0&&(oe.caretBidiLevel=Z.bidiLevel)}else if(oe.extend){oe.collapse(ee.node,ee.offset);try{oe.extend(ne.node,ne.offset)}catch{}}else{let re=document.createRange();Z.anchor>Z.head&&([ee,ne]=[ne,ee]),re.setEnd(ne.node,ne.offset),re.setStart(ee.node,ee.offset),oe.removeAllRanges(),oe.addRange(re)}X&&this.view.root.activeElement==this.dom&&(this.dom.blur(),G&&G.focus())}),this.view.observer.setSelectionRange(ee,ne)),this.impreciseAnchor=ee.precise?null:new DOMPos(te.anchorNode,te.anchorOffset),this.impreciseHead=ne.precise?null:new DOMPos(te.focusNode,te.focusOffset)}suppressWidgetCursorChange(K,W){return this.hasComposition&&W.empty&&isEquivalentPosition(K.focusNode,K.focusOffset,K.anchorNode,K.anchorOffset)&&this.posFromDOM(K.focusNode,K.focusOffset)==W.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:K}=this,W=K.state.selection.main,G=getSelection(K.root),{anchorNode:U,anchorOffset:X}=K.observer.selectionRange;if(!G||!W.empty||!W.assoc||!G.modify)return;let Q=LineView.find(this,W.head);if(!Q)return;let Z=Q.posAtStart;if(W.head==Z||W.head==Z+Q.length)return;let ee=this.coordsAt(W.head,-1),ne=this.coordsAt(W.head,1);if(!ee||!ne||ee.bottom>ne.top)return;let te=this.domAtPos(W.head+W.assoc);G.collapse(te.node,te.offset),G.modify("move",W.assoc<0?"forward":"backward","lineboundary"),K.observer.readSelectionRange();let oe=K.observer.selectionRange;K.docView.posFromDOM(oe.anchorNode,oe.anchorOffset)!=W.from&&G.collapse(U,X)}moveToLine(K){let W=this.dom,G;if(K.node!=W)return K;for(let U=K.offset;!G&&U<W.childNodes.length;U++){let X=ContentView.get(W.childNodes[U]);X instanceof LineView&&(G=X.domAtPos(0))}for(let U=K.offset-1;!G&&U>=0;U--){let X=ContentView.get(W.childNodes[U]);X instanceof LineView&&(G=X.domAtPos(X.length))}return G?new DOMPos(G.node,G.offset,!0):K}nearest(K){for(let W=K;W;){let G=ContentView.get(W);if(G&&G.rootView==this)return G;W=W.parentNode}return null}posFromDOM(K,W){let G=this.nearest(K);if(!G)throw new RangeError("Trying to find position for a DOM position outside of the document");return G.localPosFromDOM(K,W)+G.posAtStart}domAtPos(K){let{i:W,off:G}=this.childCursor().findPos(K,-1);for(;W<this.children.length-1;){let U=this.children[W];if(G<U.length||U instanceof LineView)break;W++,G=0}return this.children[W].domAtPos(G)}coordsAt(K,W){let G=null,U=0;for(let X=this.length,Q=this.children.length-1;Q>=0;Q--){let Z=this.children[Q],ee=X-Z.breakAfter,ne=ee-Z.length;if(ee<K)break;if(ne<=K&&(ne<K||Z.covers(-1))&&(ee>K||Z.covers(1))&&(!G||Z instanceof LineView&&!(G instanceof LineView&&W>=0)))G=Z,U=ne;else if(G&&ne==K&&ee==K&&Z instanceof BlockWidgetView&&Math.abs(W)<2){if(Z.deco.startSide<0)break;Q&&(G=null)}X=ne}return G?G.coordsAt(K-U,W):null}coordsForChar(K){let{i:W,off:G}=this.childPos(K,1),U=this.children[W];if(!(U instanceof LineView))return null;for(;U.children.length;){let{i:Z,off:ee}=U.childPos(G,1);for(;;Z++){if(Z==U.children.length)return null;if((U=U.children[Z]).length)break}G=ee}if(!(U instanceof TextView))return null;let X=findClusterBreak(U.text,G);if(X==G)return null;let Q=textRange(U.dom,G,X).getClientRects();for(let Z=0;Z<Q.length;Z++){let ee=Q[Z];if(Z==Q.length-1||ee.top<ee.bottom&&ee.left<ee.right)return ee}return null}measureVisibleLineHeights(K){let W=[],{from:G,to:U}=K,X=this.view.contentDOM.clientWidth,Q=X>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,Z=-1,ee=this.view.textDirection==Direction.LTR;for(let ne=0,te=0;te<this.children.length;te++){let oe=this.children[te],re=ne+oe.length;if(re>U)break;if(ne>=G){let ae=oe.dom.getBoundingClientRect();if(W.push(ae.height),Q){let se=oe.dom.lastChild,ce=se?clientRectsFor(se):[];if(ce.length){let de=ce[ce.length-1],le=ee?de.right-ae.left:ae.right-de.left;le>Z&&(Z=le,this.minWidth=X,this.minWidthFrom=ne,this.minWidthTo=re)}}}ne=re+oe.breakAfter}return W}textDirectionAt(K){let{i:W}=this.childPos(K,1);return getComputedStyle(this.children[W].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let X of this.children)if(X instanceof LineView){let Q=X.measureTextSize();if(Q)return Q}let K=document.createElement("div"),W,G,U;return K.className="cm-line",K.style.width="99999px",K.style.position="absolute",K.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(K);let X=clientRectsFor(K.firstChild)[0];W=K.getBoundingClientRect().height,G=X?X.width/27:7,U=X?X.height:W,K.remove()}),{lineHeight:W,charWidth:G,textHeight:U}}childCursor(K=this.length){let W=this.children.length;return W&&(K-=this.children[--W].length),new ChildCursor(this.children,K,W)}computeBlockGapDeco(){let K=[],W=this.view.viewState;for(let G=0,U=0;;U++){let X=U==W.viewports.length?null:W.viewports[U],Q=X?X.from-1:this.length;if(Q>G){let Z=(W.lineBlockAt(Q).bottom-W.lineBlockAt(G).top)/this.view.scaleY;K.push(Decoration.replace({widget:new BlockGapWidget(Z),block:!0,inclusive:!0,isBlockGap:!0}).range(G,Q))}if(!X)break;G=X.to+1}return Decoration.set(K)}updateDeco(){let K=1,W=this.view.state.facet(decorations).map(X=>(this.dynamicDecorationMap[K++]=typeof X=="function")?X(this.view):X),G=!1,U=this.view.state.facet(outerDecorations).map((X,Q)=>{let Z=typeof X=="function";return Z&&(G=!0),Z?X(this.view):X});for(U.length&&(this.dynamicDecorationMap[K++]=G,W.push(RangeSet.join(U))),this.decorations=[this.editContextFormatting,...W,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];K<this.decorations.length;)this.dynamicDecorationMap[K++]=!1;return this.decorations}scrollIntoView(K){if(K.isSnapshot){let ne=this.view.viewState.lineBlockAt(K.range.head);this.view.scrollDOM.scrollTop=ne.top-K.yMargin,this.view.scrollDOM.scrollLeft=K.xMargin;return}for(let ne of this.view.state.facet(scrollHandler))try{if(ne(this.view,K.range,K))return!0}catch(te){logException(this.view.state,te,"scroll handler")}let{range:W}=K,G=this.coordsAt(W.head,W.empty?W.assoc:W.head>W.anchor?-1:1),U;if(!G)return;!W.empty&&(U=this.coordsAt(W.anchor,W.anchor>W.head?-1:1))&&(G={left:Math.min(G.left,U.left),top:Math.min(G.top,U.top),right:Math.max(G.right,U.right),bottom:Math.max(G.bottom,U.bottom)});let X=getScrollMargins(this.view),Q={left:G.left-X.left,top:G.top-X.top,right:G.right+X.right,bottom:G.bottom+X.bottom},{offsetWidth:Z,offsetHeight:ee}=this.view.scrollDOM;scrollRectIntoView(this.view.scrollDOM,Q,W.head<W.anchor?-1:1,K.x,K.y,Math.max(Math.min(K.xMargin,Z),-Z),Math.max(Math.min(K.yMargin,ee),-ee),this.view.textDirection==Direction.LTR)}}function betweenUneditable(H){return H.node.nodeType==1&&H.node.firstChild&&(H.offset==0||H.node.childNodes[H.offset-1].contentEditable=="false")&&(H.offset==H.node.childNodes.length||H.node.childNodes[H.offset].contentEditable=="false")}function findCompositionNode(H,K){let W=H.observer.selectionRange;if(!W.focusNode)return null;let G=textNodeBefore(W.focusNode,W.focusOffset),U=textNodeAfter(W.focusNode,W.focusOffset),X=G||U;if(U&&G&&U.node!=G.node){let Z=ContentView.get(U.node);if(!Z||Z instanceof TextView&&Z.text!=U.node.nodeValue)X=U;else if(H.docView.lastCompositionAfterCursor){let ee=ContentView.get(G.node);!ee||ee instanceof TextView&&ee.text!=G.node.nodeValue||(X=U)}}if(H.docView.lastCompositionAfterCursor=X!=G,!X)return null;let Q=K-X.offset;return{from:Q,to:Q+X.node.nodeValue.length,node:X.node}}function findCompositionRange(H,K,W){let G=findCompositionNode(H,W);if(!G)return null;let{node:U,from:X,to:Q}=G,Z=U.nodeValue;if(/[\n\r]/.test(Z)||H.state.doc.sliceString(G.from,G.to)!=Z)return null;let ee=K.invertedDesc,ne=new ChangedRange(ee.mapPos(X),ee.mapPos(Q),X,Q),te=[];for(let oe=U.parentNode;;oe=oe.parentNode){let re=ContentView.get(oe);if(re instanceof MarkView)te.push({node:oe,deco:re.mark});else{if(re instanceof LineView||oe.nodeName=="DIV"&&oe.parentNode==H.contentDOM)return{range:ne,text:U,marks:te,line:oe};if(oe!=H.contentDOM)te.push({node:oe,deco:new MarkDecoration({inclusive:!0,attributes:getAttrs(oe),tagName:oe.tagName.toLowerCase()})});else return null}}}function nextToUneditable(H,K){return H.nodeType!=1?0:(K&&H.childNodes[K-1].contentEditable=="false"?1:0)|(K<H.childNodes.length&&H.childNodes[K].contentEditable=="false"?2:0)}let DecorationComparator$1=class{constructor(){this.changes=[]}compareRange(K,W){addRange(K,W,this.changes)}comparePoint(K,W){addRange(K,W,this.changes)}boundChange(K){addRange(K,K,this.changes)}};function findChangedDeco(H,K,W){let G=new DecorationComparator$1;return RangeSet.compare(H,K,W,G),G.changes}function inUneditable(H,K){for(let W=H;W&&W!=K;W=W.assignedSlot||W.parentNode)if(W.nodeType==1&&W.contentEditable=="false")return!0;return!1}function touchesComposition(H,K){let W=!1;return K&&H.iterChangedRanges((G,U)=>{G<K.to&&U>K.from&&(W=!0)}),W}function groupAt(H,K,W=1){let G=H.charCategorizer(K),U=H.doc.lineAt(K),X=K-U.from;if(U.length==0)return EditorSelection.cursor(K);X==0?W=1:X==U.length&&(W=-1);let Q=X,Z=X;W<0?Q=findClusterBreak(U.text,X,!1):Z=findClusterBreak(U.text,X);let ee=G(U.text.slice(Q,Z));for(;Q>0;){let ne=findClusterBreak(U.text,Q,!1);if(G(U.text.slice(ne,Q))!=ee)break;Q=ne}for(;Z<U.length;){let ne=findClusterBreak(U.text,Z);if(G(U.text.slice(Z,ne))!=ee)break;Z=ne}return EditorSelection.range(Q+U.from,Z+U.from)}function getdx(H,K){return K.left>H?K.left-H:Math.max(0,H-K.right)}function getdy(H,K){return K.top>H?K.top-H:Math.max(0,H-K.bottom)}function yOverlap(H,K){return H.top<K.bottom-1&&H.bottom>K.top+1}function upTop(H,K){return K<H.top?{top:K,left:H.left,right:H.right,bottom:H.bottom}:H}function upBot(H,K){return K>H.bottom?{top:H.top,left:H.left,right:H.right,bottom:K}:H}function domPosAtCoords(H,K,W){let G,U,X,Q,Z=!1,ee,ne,te,oe;for(let se=H.firstChild;se;se=se.nextSibling){let ce=clientRectsFor(se);for(let de=0;de<ce.length;de++){let le=ce[de];U&&yOverlap(U,le)&&(le=upTop(upBot(le,U.bottom),U.top));let fe=getdx(K,le),pe=getdy(W,le);if(fe==0&&pe==0)return se.nodeType==3?domPosInText(se,K,W):domPosAtCoords(se,K,W);(!G||Q>pe||Q==pe&&X>fe)&&(G=se,U=le,X=fe,Q=pe,Z=fe?K<le.left?de>0:de<ce.length-1:!0),fe==0?W>le.bottom&&(!te||te.bottom<le.bottom)?(ee=se,te=le):W<le.top&&(!oe||oe.top>le.top)&&(ne=se,oe=le):te&&yOverlap(te,le)?te=upBot(te,le.bottom):oe&&yOverlap(oe,le)&&(oe=upTop(oe,le.top))}}if(te&&te.bottom>=W?(G=ee,U=te):oe&&oe.top<=W&&(G=ne,U=oe),!G)return{node:H,offset:0};let re=Math.max(U.left,Math.min(U.right,K));if(G.nodeType==3)return domPosInText(G,re,W);if(Z&&G.contentEditable!="false")return domPosAtCoords(G,re,W);let ae=Array.prototype.indexOf.call(H.childNodes,G)+(K>=(U.left+U.right)/2?1:0);return{node:H,offset:ae}}function domPosInText(H,K,W){let G=H.nodeValue.length,U=-1,X=1e9,Q=0;for(let Z=0;Z<G;Z++){let ee=textRange(H,Z,Z+1).getClientRects();for(let ne=0;ne<ee.length;ne++){let te=ee[ne];if(te.top==te.bottom)continue;Q||(Q=K-te.left);let oe=(te.top>W?te.top-W:W-te.bottom)-1;if(te.left-1<=K&&te.right+1>=K&&oe<X){let re=K>=(te.left+te.right)/2,ae=re;if((browser.chrome||browser.gecko)&&textRange(H,Z).getBoundingClientRect().left==te.right&&(ae=!re),oe<=0)return{node:H,offset:Z+(ae?1:0)};U=Z+(ae?1:0),X=oe}}}return{node:H,offset:U>-1?U:Q>0?H.nodeValue.length:0}}function posAtCoords(H,K,W,G=-1){var U,X;let Q=H.contentDOM.getBoundingClientRect(),Z=Q.top+H.viewState.paddingTop,ee,{docHeight:ne}=H.viewState,{x:te,y:oe}=K,re=oe-Z;if(re<0)return 0;if(re>ne)return H.state.doc.length;for(let me=H.viewState.heightOracle.textHeight/2,ue=!1;ee=H.elementAtHeight(re),ee.type!=BlockType.Text;)for(;re=G>0?ee.bottom+me:ee.top-me,!(re>=0&&re<=ne);){if(ue)return W?null:0;ue=!0,G=-G}oe=Z+re;let ae=ee.from;if(ae<H.viewport.from)return H.viewport.from==0?0:W?null:posAtCoordsImprecise(H,Q,ee,te,oe);if(ae>H.viewport.to)return H.viewport.to==H.state.doc.length?H.state.doc.length:W?null:posAtCoordsImprecise(H,Q,ee,te,oe);let se=H.dom.ownerDocument,ce=H.root.elementFromPoint?H.root:se,de=ce.elementFromPoint(te,oe);de&&!H.contentDOM.contains(de)&&(de=null),de||(te=Math.max(Q.left+1,Math.min(Q.right-1,te)),de=ce.elementFromPoint(te,oe),de&&!H.contentDOM.contains(de)&&(de=null));let le,fe=-1;if(de&&((U=H.docView.nearest(de))===null||U===void 0?void 0:U.isEditable)!=!1){if(se.caretPositionFromPoint){let me=se.caretPositionFromPoint(te,oe);me&&({offsetNode:le,offset:fe}=me)}else if(se.caretRangeFromPoint){let me=se.caretRangeFromPoint(te,oe);me&&({startContainer:le,startOffset:fe}=me,(!H.contentDOM.contains(le)||browser.safari&&isSuspiciousSafariCaretResult(le,fe,te)||browser.chrome&&isSuspiciousChromeCaretResult(le,fe,te))&&(le=void 0))}le&&(fe=Math.min(maxOffset(le),fe))}if(!le||!H.docView.dom.contains(le)){let me=LineView.find(H.docView,ae);if(!me)return re>ee.top+ee.height/2?ee.to:ee.from;({node:le,offset:fe}=domPosAtCoords(me.dom,te,oe))}let pe=H.docView.nearest(le);if(!pe)return null;if(pe.isWidget&&((X=pe.dom)===null||X===void 0?void 0:X.nodeType)==1){let me=pe.dom.getBoundingClientRect();return K.y<me.top||K.y<=me.bottom&&K.x<=(me.left+me.right)/2?pe.posAtStart:pe.posAtEnd}else return pe.localPosFromDOM(le,fe)+pe.posAtStart}function posAtCoordsImprecise(H,K,W,G,U){let X=Math.round((G-K.left)*H.defaultCharacterWidth);if(H.lineWrapping&&W.height>H.defaultLineHeight*1.5){let Z=H.viewState.heightOracle.textHeight,ee=Math.floor((U-W.top-(H.defaultLineHeight-Z)*.5)/Z);X+=ee*H.viewState.heightOracle.lineLength}let Q=H.state.sliceDoc(W.from,W.to);return W.from+findColumn(Q,X,H.state.tabSize)}function isSuspiciousSafariCaretResult(H,K,W){let G,U=H;if(H.nodeType!=3||K!=(G=H.nodeValue.length))return!1;for(;;){let X=U.nextSibling;if(X){if(X.nodeName=="BR")break;return!1}else{let Q=U.parentNode;if(!Q||Q.nodeName=="DIV")break;U=Q}}return textRange(H,G-1,G).getBoundingClientRect().right>W}function isSuspiciousChromeCaretResult(H,K,W){if(K!=0)return!1;for(let U=H;;){let X=U.parentNode;if(!X||X.nodeType!=1||X.firstChild!=U)return!1;if(X.classList.contains("cm-line"))break;U=X}let G=H.nodeType==1?H.getBoundingClientRect():textRange(H,0,Math.max(H.nodeValue.length,1)).getBoundingClientRect();return W-G.left>5}function blockAt(H,K,W){let G=H.lineBlockAt(K);if(Array.isArray(G.type)){let U;for(let X of G.type){if(X.from>K)break;if(!(X.to<K)){if(X.from<K&&X.to>K)return X;(!U||X.type==BlockType.Text&&(U.type!=X.type||(W<0?X.from<K:X.to>K)))&&(U=X)}}return U||G}return G}function moveToLineBoundary(H,K,W,G){let U=blockAt(H,K.head,K.assoc||-1),X=!G||U.type!=BlockType.Text||!(H.lineWrapping||U.widgetLineBreaks)?null:H.coordsAtPos(K.assoc<0&&K.head>U.from?K.head-1:K.head);if(X){let Q=H.dom.getBoundingClientRect(),Z=H.textDirectionAt(U.from),ee=H.posAtCoords({x:W==(Z==Direction.LTR)?Q.right-1:Q.left+1,y:(X.top+X.bottom)/2});if(ee!=null)return EditorSelection.cursor(ee,W?-1:1)}return EditorSelection.cursor(W?U.to:U.from,W?-1:1)}function moveByChar(H,K,W,G){let U=H.state.doc.lineAt(K.head),X=H.bidiSpans(U),Q=H.textDirectionAt(U.from);for(let Z=K,ee=null;;){let ne=moveVisually(U,X,Q,Z,W),te=movedOver;if(!ne){if(U.number==(W?H.state.doc.lines:1))return Z;te=`
`,U=H.state.doc.line(U.number+(W?1:-1)),X=H.bidiSpans(U),ne=H.visualLineSide(U,!W)}if(ee){if(!ee(te))return Z}else{if(!G)return ne;ee=G(te)}Z=ne}}function byGroup(H,K,W){let G=H.state.charCategorizer(K),U=G(W);return X=>{let Q=G(X);return U==CharCategory.Space&&(U=Q),U==Q}}function moveVertically(H,K,W,G){let U=K.head,X=W?1:-1;if(U==(W?H.state.doc.length:0))return EditorSelection.cursor(U,K.assoc);let Q=K.goalColumn,Z,ee=H.contentDOM.getBoundingClientRect(),ne=H.coordsAtPos(U,K.assoc||-1),te=H.documentTop;if(ne)Q==null&&(Q=ne.left-ee.left),Z=X<0?ne.top:ne.bottom;else{let ae=H.viewState.lineBlockAt(U);Q==null&&(Q=Math.min(ee.right-ee.left,H.defaultCharacterWidth*(U-ae.from))),Z=(X<0?ae.top:ae.bottom)+te}let oe=ee.left+Q,re=G??H.viewState.heightOracle.textHeight>>1;for(let ae=0;;ae+=10){let se=Z+(re+ae)*X,ce=posAtCoords(H,{x:oe,y:se},!1,X);if(se<ee.top||se>ee.bottom||(X<0?ce<U:ce>U)){let de=H.docView.coordsForChar(ce),le=!de||se<de.top?-1:1;return EditorSelection.cursor(ce,le,void 0,Q)}}}function skipAtomicRanges(H,K,W){for(;;){let G=0;for(let U of H)U.between(K-1,K+1,(X,Q,Z)=>{if(K>X&&K<Q){let ee=G||W||(K-X<Q-K?-1:1);K=ee<0?X:Q,G=ee}});if(!G)return K}}function skipAtoms(H,K,W){let G=skipAtomicRanges(H.state.facet(atomicRanges).map(U=>U(H)),W.from,K.head>W.from?-1:1);return G==W.from?W:EditorSelection.cursor(G,G<W.from?1:-1)}const LineBreakPlaceholder="";class DOMReader{constructor(K,W){this.points=K,this.text="",this.lineSeparator=W.facet(EditorState.lineSeparator)}append(K){this.text+=K}lineBreak(){this.text+=LineBreakPlaceholder}readRange(K,W){if(!K)return this;let G=K.parentNode;for(let U=K;;){this.findPointBefore(G,U);let X=this.text.length;this.readNode(U);let Q=U.nextSibling;if(Q==W)break;let Z=ContentView.get(U),ee=ContentView.get(Q);(Z&&ee?Z.breakAfter:(Z?Z.breakAfter:isBlockElement(U))||isBlockElement(Q)&&(U.nodeName!="BR"||U.cmIgnore)&&this.text.length>X)&&this.lineBreak(),U=Q}return this.findPointBefore(G,W),this}readTextNode(K){let W=K.nodeValue;for(let G of this.points)G.node==K&&(G.pos=this.text.length+Math.min(G.offset,W.length));for(let G=0,U=this.lineSeparator?null:/\r\n?|\n/g;;){let X=-1,Q=1,Z;if(this.lineSeparator?(X=W.indexOf(this.lineSeparator,G),Q=this.lineSeparator.length):(Z=U.exec(W))&&(X=Z.index,Q=Z[0].length),this.append(W.slice(G,X<0?W.length:X)),X<0)break;if(this.lineBreak(),Q>1)for(let ee of this.points)ee.node==K&&ee.pos>this.text.length&&(ee.pos-=Q-1);G=X+Q}}readNode(K){if(K.cmIgnore)return;let W=ContentView.get(K),G=W&&W.overrideDOMText;if(G!=null){this.findPointInside(K,G.length);for(let U=G.iter();!U.next().done;)U.lineBreak?this.lineBreak():this.append(U.value)}else K.nodeType==3?this.readTextNode(K):K.nodeName=="BR"?K.nextSibling&&this.lineBreak():K.nodeType==1&&this.readRange(K.firstChild,null)}findPointBefore(K,W){for(let G of this.points)G.node==K&&K.childNodes[G.offset]==W&&(G.pos=this.text.length)}findPointInside(K,W){for(let G of this.points)(K.nodeType==3?G.node==K:K.contains(G.node))&&(G.pos=this.text.length+(isAtEnd(K,G.node,G.offset)?W:0))}}function isAtEnd(H,K,W){for(;;){if(!K||W<maxOffset(K))return!1;if(K==H)return!0;W=domIndex(K)+1,K=K.parentNode}}class DOMPoint{constructor(K,W){this.node=K,this.offset=W,this.pos=-1}}class DOMChange{constructor(K,W,G,U){this.typeOver=U,this.bounds=null,this.text="",this.domChanged=W>-1;let{impreciseHead:X,impreciseAnchor:Q}=K.docView;if(K.state.readOnly&&W>-1)this.newSel=null;else if(W>-1&&(this.bounds=K.docView.domBoundsAround(W,G,0))){let Z=X||Q?[]:selectionPoints(K),ee=new DOMReader(Z,K.state);ee.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=ee.text,this.newSel=selectionFromPoints(Z,this.bounds.from)}else{let Z=K.observer.selectionRange,ee=X&&X.node==Z.focusNode&&X.offset==Z.focusOffset||!contains(K.contentDOM,Z.focusNode)?K.state.selection.main.head:K.docView.posFromDOM(Z.focusNode,Z.focusOffset),ne=Q&&Q.node==Z.anchorNode&&Q.offset==Z.anchorOffset||!contains(K.contentDOM,Z.anchorNode)?K.state.selection.main.anchor:K.docView.posFromDOM(Z.anchorNode,Z.anchorOffset),te=K.viewport;if((browser.ios||browser.chrome)&&K.state.selection.main.empty&&ee!=ne&&(te.from>0||te.to<K.state.doc.length)){let oe=Math.min(ee,ne),re=Math.max(ee,ne),ae=te.from-oe,se=te.to-re;(ae==0||ae==1||oe==0)&&(se==0||se==-1||re==K.state.doc.length)&&(ee=0,ne=K.state.doc.length)}this.newSel=EditorSelection.single(ne,ee)}}}function applyDOMChange(H,K){let W,{newSel:G}=K,U=H.state.selection.main,X=H.inputState.lastKeyTime>Date.now()-100?H.inputState.lastKeyCode:-1;if(K.bounds){let{from:Q,to:Z}=K.bounds,ee=U.from,ne=null;(X===8||browser.android&&K.text.length<Z-Q)&&(ee=U.to,ne="end");let te=findDiff(H.state.doc.sliceString(Q,Z,LineBreakPlaceholder),K.text,ee-Q,ne);te&&(browser.chrome&&X==13&&te.toB==te.from+2&&K.text.slice(te.from,te.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&te.toB--,W={from:Q+te.from,to:Q+te.toA,insert:Text.of(K.text.slice(te.from,te.toB).split(LineBreakPlaceholder))})}else G&&(!H.hasFocus&&H.state.facet(editable)||G.main.eq(U))&&(G=null);if(!W&&!G)return!1;if(!W&&K.typeOver&&!U.empty&&G&&G.main.empty?W={from:U.from,to:U.to,insert:H.state.doc.slice(U.from,U.to)}:(browser.mac||browser.android)&&W&&W.from==W.to&&W.from==U.head-1&&/^\. ?$/.test(W.insert.toString())&&H.contentDOM.getAttribute("autocorrect")=="off"?(G&&W.insert.length==2&&(G=EditorSelection.single(G.main.anchor-1,G.main.head-1)),W={from:W.from,to:W.to,insert:Text.of([W.insert.toString().replace("."," ")])}):W&&W.from>=U.from&&W.to<=U.to&&(W.from!=U.from||W.to!=U.to)&&U.to-U.from-(W.to-W.from)<=4?W={from:U.from,to:U.to,insert:H.state.doc.slice(U.from,W.from).append(W.insert).append(H.state.doc.slice(W.to,U.to))}:browser.chrome&&W&&W.from==W.to&&W.from==U.head&&W.insert.toString()==`
 `&&H.lineWrapping&&(G&&(G=EditorSelection.single(G.main.anchor-1,G.main.head-1)),W={from:U.from,to:U.to,insert:Text.of([" "])}),W)return applyDOMChangeInner(H,W,G,X);if(G&&!G.main.eq(U)){let Q=!1,Z="select";return H.inputState.lastSelectionTime>Date.now()-50&&(H.inputState.lastSelectionOrigin=="select"&&(Q=!0),Z=H.inputState.lastSelectionOrigin),H.dispatch({selection:G,scrollIntoView:Q,userEvent:Z}),!0}else return!1}function applyDOMChangeInner(H,K,W,G=-1){if(browser.ios&&H.inputState.flushIOSKey(K))return!0;let U=H.state.selection.main;if(browser.android&&(K.to==U.to&&(K.from==U.from||K.from==U.from-1&&H.state.sliceDoc(K.from,U.from)==" ")&&K.insert.length==1&&K.insert.lines==2&&dispatchKey(H.contentDOM,"Enter",13)||(K.from==U.from-1&&K.to==U.to&&K.insert.length==0||G==8&&K.insert.length<K.to-K.from&&K.to>U.head)&&dispatchKey(H.contentDOM,"Backspace",8)||K.from==U.from&&K.to==U.to+1&&K.insert.length==0&&dispatchKey(H.contentDOM,"Delete",46)))return!0;let X=K.insert.toString();H.inputState.composing>=0&&H.inputState.composing++;let Q,Z=()=>Q||(Q=applyDefaultInsert(H,K,W));return H.state.facet(inputHandler$1).some(ee=>ee(H,K.from,K.to,X,Z))||H.dispatch(Z()),!0}function applyDefaultInsert(H,K,W){let G,U=H.state,X=U.selection.main;if(K.from>=X.from&&K.to<=X.to&&K.to-K.from>=(X.to-X.from)/3&&(!W||W.main.empty&&W.main.from==K.from+K.insert.length)&&H.inputState.composing<0){let Z=X.from<K.from?U.sliceDoc(X.from,K.from):"",ee=X.to>K.to?U.sliceDoc(K.to,X.to):"";G=U.replaceSelection(H.state.toText(Z+K.insert.sliceString(0,void 0,H.state.lineBreak)+ee))}else{let Z=U.changes(K),ee=W&&W.main.to<=Z.newLength?W.main:void 0;if(U.selection.ranges.length>1&&H.inputState.composing>=0&&K.to<=X.to&&K.to>=X.to-10){let ne=H.state.sliceDoc(K.from,K.to),te,oe=W&&findCompositionNode(H,W.main.head);if(oe){let se=K.insert.length-(K.to-K.from);te={from:oe.from,to:oe.to-se}}else te=H.state.doc.lineAt(X.head);let re=X.to-K.to,ae=X.to-X.from;G=U.changeByRange(se=>{if(se.from==X.from&&se.to==X.to)return{changes:Z,range:ee||se.map(Z)};let ce=se.to-re,de=ce-ne.length;if(se.to-se.from!=ae||H.state.sliceDoc(de,ce)!=ne||se.to>=te.from&&se.from<=te.to)return{range:se};let le=U.changes({from:de,to:ce,insert:K.insert}),fe=se.to-X.to;return{changes:le,range:ee?EditorSelection.range(Math.max(0,ee.anchor+fe),Math.max(0,ee.head+fe)):se.map(le)}})}else G={changes:Z,selection:ee&&U.selection.replaceRange(ee)}}let Q="input.type";return(H.composing||H.inputState.compositionPendingChange&&H.inputState.compositionEndedAt>Date.now()-50)&&(H.inputState.compositionPendingChange=!1,Q+=".compose",H.inputState.compositionFirstChange&&(Q+=".start",H.inputState.compositionFirstChange=!1)),U.update(G,{userEvent:Q,scrollIntoView:!0})}function findDiff(H,K,W,G){let U=Math.min(H.length,K.length),X=0;for(;X<U&&H.charCodeAt(X)==K.charCodeAt(X);)X++;if(X==U&&H.length==K.length)return null;let Q=H.length,Z=K.length;for(;Q>0&&Z>0&&H.charCodeAt(Q-1)==K.charCodeAt(Z-1);)Q--,Z--;if(G=="end"){let ee=Math.max(0,X-Math.min(Q,Z));W-=Q+ee-X}if(Q<X&&H.length<K.length){let ee=W<=X&&W>=Q?X-W:0;X-=ee,Z=X+(Z-Q),Q=X}else if(Z<X){let ee=W<=X&&W>=Z?X-W:0;X-=ee,Q=X+(Q-Z),Z=X}return{from:X,toA:Q,toB:Z}}function selectionPoints(H){let K=[];if(H.root.activeElement!=H.contentDOM)return K;let{anchorNode:W,anchorOffset:G,focusNode:U,focusOffset:X}=H.observer.selectionRange;return W&&(K.push(new DOMPoint(W,G)),(U!=W||X!=G)&&K.push(new DOMPoint(U,X))),K}function selectionFromPoints(H,K){if(H.length==0)return null;let W=H[0].pos,G=H.length==2?H[1].pos:W;return W>-1&&G>-1?EditorSelection.single(W+K,G+K):null}class InputState{setSelectionOrigin(K){this.lastSelectionOrigin=K,this.lastSelectionTime=Date.now()}constructor(K){this.view=K,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=K.hasFocus,browser.safari&&K.contentDOM.addEventListener("input",()=>null),browser.gecko&&firefoxCopyCutHack(K.contentDOM.ownerDocument)}handleEvent(K){!eventBelongsToEditor(this.view,K)||this.ignoreDuringComposition(K)||K.type=="keydown"&&this.keydown(K)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(K.type,K)):this.runHandlers(K.type,K))}runHandlers(K,W){let G=this.handlers[K];if(G){for(let U of G.observers)U(this.view,W);for(let U of G.handlers){if(W.defaultPrevented)break;if(U(this.view,W)){W.preventDefault();break}}}}ensureHandlers(K){let W=computeHandlers(K),G=this.handlers,U=this.view.contentDOM;for(let X in W)if(X!="scroll"){let Q=!W[X].handlers.length,Z=G[X];Z&&Q!=!Z.handlers.length&&(U.removeEventListener(X,this.handleEvent),Z=null),Z||U.addEventListener(X,this.handleEvent,{passive:Q})}for(let X in G)X!="scroll"&&!W[X]&&U.removeEventListener(X,this.handleEvent);this.handlers=W}keydown(K){if(this.lastKeyCode=K.keyCode,this.lastKeyTime=Date.now(),K.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&K.keyCode!=27&&modifierCodes.indexOf(K.keyCode)<0&&(this.tabFocusMode=-1),browser.android&&browser.chrome&&!K.synthetic&&(K.keyCode==13||K.keyCode==8))return this.view.observer.delayAndroidKey(K.key,K.keyCode),!0;let W;return browser.ios&&!K.synthetic&&!K.altKey&&!K.metaKey&&((W=PendingKeys.find(G=>G.keyCode==K.keyCode))&&!K.ctrlKey||EmacsyPendingKeys.indexOf(K.key)>-1&&K.ctrlKey&&!K.shiftKey)?(this.pendingIOSKey=W||K,setTimeout(()=>this.flushIOSKey(),250),!0):(K.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(K){let W=this.pendingIOSKey;return!W||W.key=="Enter"&&K&&K.from<K.to&&/^\S+$/.test(K.insert.toString())?!1:(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,W.key,W.keyCode,W instanceof KeyboardEvent?W:void 0))}ignoreDuringComposition(K){return/^key/.test(K.type)?this.composing>0?!0:browser.safari&&!browser.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(K){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=K}update(K){this.view.observer.update(K),this.mouseSelection&&this.mouseSelection.update(K),this.draggedContent&&K.docChanged&&(this.draggedContent=this.draggedContent.map(K.changes)),K.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function bindHandler(H,K){return(W,G)=>{try{return K.call(H,G,W)}catch(U){logException(W.state,U)}}}function computeHandlers(H){let K=Object.create(null);function W(G){return K[G]||(K[G]={observers:[],handlers:[]})}for(let G of H){let U=G.spec,X=U&&U.plugin.domEventHandlers,Q=U&&U.plugin.domEventObservers;if(X)for(let Z in X){let ee=X[Z];ee&&W(Z).handlers.push(bindHandler(G.value,ee))}if(Q)for(let Z in Q){let ee=Q[Z];ee&&W(Z).observers.push(bindHandler(G.value,ee))}}for(let G in handlers)W(G).handlers.push(handlers[G]);for(let G in observers)W(G).observers.push(observers[G]);return K}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225],dragScrollMargin=6;function dragScrollSpeed(H){return Math.max(0,H)*.7+8}function dist(H,K){return Math.max(Math.abs(H.clientX-K.clientX),Math.abs(H.clientY-K.clientY))}class MouseSelection{constructor(K,W,G,U){this.view=K,this.startEvent=W,this.style=G,this.mustSelect=U,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=W,this.scrollParents=scrollableParents(K.contentDOM),this.atoms=K.state.facet(atomicRanges).map(Q=>Q(K));let X=K.contentDOM.ownerDocument;X.addEventListener("mousemove",this.move=this.move.bind(this)),X.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=W.shiftKey,this.multiple=K.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(K,W),this.dragging=isInPrimarySelection(K,W)&&getClickType(W)==1?null:!1}start(K){this.dragging===!1&&this.select(K)}move(K){if(K.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&dist(this.startEvent,K)<10)return;this.select(this.lastEvent=K);let W=0,G=0,U=0,X=0,Q=this.view.win.innerWidth,Z=this.view.win.innerHeight;this.scrollParents.x&&({left:U,right:Q}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:X,bottom:Z}=this.scrollParents.y.getBoundingClientRect());let ee=getScrollMargins(this.view);K.clientX-ee.left<=U+dragScrollMargin?W=-dragScrollSpeed(U-K.clientX):K.clientX+ee.right>=Q-dragScrollMargin&&(W=dragScrollSpeed(K.clientX-Q)),K.clientY-ee.top<=X+dragScrollMargin?G=-dragScrollSpeed(X-K.clientY):K.clientY+ee.bottom>=Z-dragScrollMargin&&(G=dragScrollSpeed(K.clientY-Z)),this.setScrollSpeed(W,G)}up(K){this.dragging==null&&this.select(this.lastEvent),this.dragging||K.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let K=this.view.contentDOM.ownerDocument;K.removeEventListener("mousemove",this.move),K.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(K,W){this.scrollSpeed={x:K,y:W},K||W?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:K,y:W}=this.scrollSpeed;K&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=K,K=0),W&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=W,W=0),(K||W)&&this.view.win.scrollBy(K,W),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(K){let W=null;for(let G=0;G<K.ranges.length;G++){let U=K.ranges[G],X=null;if(U.empty){let Q=skipAtomicRanges(this.atoms,U.from,0);Q!=U.from&&(X=EditorSelection.cursor(Q,-1))}else{let Q=skipAtomicRanges(this.atoms,U.from,-1),Z=skipAtomicRanges(this.atoms,U.to,1);(Q!=U.from||Z!=U.to)&&(X=EditorSelection.range(U.from==U.anchor?Q:Z,U.from==U.head?Q:Z))}X&&(W||(W=K.ranges.slice()),W[G]=X)}return W?EditorSelection.create(W,K.mainIndex):K}select(K){let{view:W}=this,G=this.skipAtoms(this.style.get(K,this.extend,this.multiple));(this.mustSelect||!G.eq(W.state.selection,this.dragging===!1))&&this.view.dispatch({selection:G,userEvent:"select.pointer"}),this.mustSelect=!1}update(K){K.transactions.some(W=>W.isUserEvent("input.type"))?this.destroy():this.style.update(K)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(H,K){let W=H.state.facet(clickAddsSelectionRange);return W.length?W[0](K):browser.mac?K.metaKey:K.ctrlKey}function dragMovesSelection(H,K){let W=H.state.facet(dragMovesSelection$1);return W.length?W[0](K):browser.mac?!K.altKey:!K.ctrlKey}function isInPrimarySelection(H,K){let{main:W}=H.state.selection;if(W.empty)return!1;let G=getSelection(H.root);if(!G||G.rangeCount==0)return!0;let U=G.getRangeAt(0).getClientRects();for(let X=0;X<U.length;X++){let Q=U[X];if(Q.left<=K.clientX&&Q.right>=K.clientX&&Q.top<=K.clientY&&Q.bottom>=K.clientY)return!0}return!1}function eventBelongsToEditor(H,K){if(!K.bubbles)return!0;if(K.defaultPrevented)return!1;for(let W=K.target,G;W!=H.contentDOM;W=W.parentNode)if(!W||W.nodeType==11||(G=ContentView.get(W))&&G.ignoreEvent(K))return!1;return!0}const handlers=Object.create(null),observers=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(H){let K=H.dom.parentNode;if(!K)return;let W=K.appendChild(document.createElement("textarea"));W.style.cssText="position: fixed; left: -10000px; top: 10px",W.focus(),setTimeout(()=>{H.focus(),W.remove(),doPaste(H,W.value)},50)}function textFilter(H,K,W){for(let G of H.facet(K))W=G(W,H);return W}function doPaste(H,K){K=textFilter(H.state,clipboardInputFilter,K);let{state:W}=H,G,U=1,X=W.toText(K),Q=X.lines==W.selection.ranges.length;if(lastLinewiseCopy!=null&&W.selection.ranges.every(ee=>ee.empty)&&lastLinewiseCopy==X.toString()){let ee=-1;G=W.changeByRange(ne=>{let te=W.doc.lineAt(ne.from);if(te.from==ee)return{range:ne};ee=te.from;let oe=W.toText((Q?X.line(U++).text:K)+W.lineBreak);return{changes:{from:te.from,insert:oe},range:EditorSelection.cursor(ne.from+oe.length)}})}else Q?G=W.changeByRange(ee=>{let ne=X.line(U++);return{changes:{from:ee.from,to:ee.to,insert:ne.text},range:EditorSelection.cursor(ee.from+ne.length)}}):G=W.replaceSelection(X);H.dispatch(G,{userEvent:"input.paste",scrollIntoView:!0})}observers.scroll=H=>{H.inputState.lastScrollTop=H.scrollDOM.scrollTop,H.inputState.lastScrollLeft=H.scrollDOM.scrollLeft};handlers.keydown=(H,K)=>(H.inputState.setSelectionOrigin("select"),K.keyCode==27&&H.inputState.tabFocusMode!=0&&(H.inputState.tabFocusMode=Date.now()+2e3),!1);observers.touchstart=(H,K)=>{H.inputState.lastTouchTime=Date.now(),H.inputState.setSelectionOrigin("select.pointer")};observers.touchmove=H=>{H.inputState.setSelectionOrigin("select.pointer")};handlers.mousedown=(H,K)=>{if(H.observer.flush(),H.inputState.lastTouchTime>Date.now()-2e3)return!1;let W=null;for(let G of H.state.facet(mouseSelectionStyle))if(W=G(H,K),W)break;if(!W&&K.button==0&&(W=basicMouseSelection(H,K)),W){let G=!H.hasFocus;H.inputState.startMouseSelection(new MouseSelection(H,K,W,G)),G&&H.observer.ignore(()=>{focusPreventScroll(H.contentDOM);let X=H.root.activeElement;X&&!X.contains(H.contentDOM)&&X.blur()});let U=H.inputState.mouseSelection;if(U)return U.start(K),U.dragging===!1}return!1};function rangeForClick(H,K,W,G){if(G==1)return EditorSelection.cursor(K,W);if(G==2)return groupAt(H.state,K,W);{let U=LineView.find(H.docView,K),X=H.state.doc.lineAt(U?U.posAtEnd:K),Q=U?U.posAtStart:X.from,Z=U?U.posAtEnd:X.to;return Z<H.state.doc.length&&Z==X.to&&Z++,EditorSelection.range(Q,Z)}}let inside=(H,K,W)=>K>=W.top&&K<=W.bottom&&H>=W.left&&H<=W.right;function findPositionSide(H,K,W,G){let U=LineView.find(H.docView,K);if(!U)return 1;let X=K-U.posAtStart;if(X==0)return 1;if(X==U.length)return-1;let Q=U.coordsAt(X,-1);if(Q&&inside(W,G,Q))return-1;let Z=U.coordsAt(X,1);return Z&&inside(W,G,Z)?1:Q&&Q.bottom>=G?-1:1}function queryPos(H,K){let W=H.posAtCoords({x:K.clientX,y:K.clientY},!1);return{pos:W,bias:findPositionSide(H,W,K.clientX,K.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(H){if(!BadMouseDetail)return H.detail;let K=lastMouseDown,W=lastMouseDownTime;return lastMouseDown=H,lastMouseDownTime=Date.now(),lastMouseDownCount=!K||W>Date.now()-400&&Math.abs(K.clientX-H.clientX)<2&&Math.abs(K.clientY-H.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(H,K){let W=queryPos(H,K),G=getClickType(K),U=H.state.selection;return{update(X){X.docChanged&&(W.pos=X.changes.mapPos(W.pos),U=U.map(X.changes))},get(X,Q,Z){let ee=queryPos(H,X),ne,te=rangeForClick(H,ee.pos,ee.bias,G);if(W.pos!=ee.pos&&!Q){let oe=rangeForClick(H,W.pos,W.bias,G),re=Math.min(oe.from,te.from),ae=Math.max(oe.to,te.to);te=re<te.from?EditorSelection.range(re,ae):EditorSelection.range(ae,re)}return Q?U.replaceRange(U.main.extend(te.from,te.to)):Z&&G==1&&U.ranges.length>1&&(ne=removeRangeAround(U,ee.pos))?ne:Z?U.addRange(te):EditorSelection.create([te])}}}function removeRangeAround(H,K){for(let W=0;W<H.ranges.length;W++){let{from:G,to:U}=H.ranges[W];if(G<=K&&U>=K)return EditorSelection.create(H.ranges.slice(0,W).concat(H.ranges.slice(W+1)),H.mainIndex==W?0:H.mainIndex-(H.mainIndex>W?1:0))}return null}handlers.dragstart=(H,K)=>{let{selection:{main:W}}=H.state;if(K.target.draggable){let U=H.docView.nearest(K.target);if(U&&U.isWidget){let X=U.posAtStart,Q=X+U.length;(X>=W.to||Q<=W.from)&&(W=EditorSelection.range(X,Q))}}let{inputState:G}=H;return G.mouseSelection&&(G.mouseSelection.dragging=!0),G.draggedContent=W,K.dataTransfer&&(K.dataTransfer.setData("Text",textFilter(H.state,clipboardOutputFilter,H.state.sliceDoc(W.from,W.to))),K.dataTransfer.effectAllowed="copyMove"),!1};handlers.dragend=H=>(H.inputState.draggedContent=null,!1);function dropText(H,K,W,G){if(W=textFilter(H.state,clipboardInputFilter,W),!W)return;let U=H.posAtCoords({x:K.clientX,y:K.clientY},!1),{draggedContent:X}=H.inputState,Q=G&&X&&dragMovesSelection(H,K)?{from:X.from,to:X.to}:null,Z={from:U,insert:W},ee=H.state.changes(Q?[Q,Z]:Z);H.focus(),H.dispatch({changes:ee,selection:{anchor:ee.mapPos(U,-1),head:ee.mapPos(U,1)},userEvent:Q?"move.drop":"input.drop"}),H.inputState.draggedContent=null}handlers.drop=(H,K)=>{if(!K.dataTransfer)return!1;if(H.state.readOnly)return!0;let W=K.dataTransfer.files;if(W&&W.length){let G=Array(W.length),U=0,X=()=>{++U==W.length&&dropText(H,K,G.filter(Q=>Q!=null).join(H.state.lineBreak),!1)};for(let Q=0;Q<W.length;Q++){let Z=new FileReader;Z.onerror=X,Z.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(Z.result)||(G[Q]=Z.result),X()},Z.readAsText(W[Q])}return!0}else{let G=K.dataTransfer.getData("Text");if(G)return dropText(H,K,G,!0),!0}return!1};handlers.paste=(H,K)=>{if(H.state.readOnly)return!0;H.observer.flush();let W=brokenClipboardAPI?null:K.clipboardData;return W?(doPaste(H,W.getData("text/plain")||W.getData("text/uri-list")),!0):(capturePaste(H),!1)};function captureCopy(H,K){let W=H.dom.parentNode;if(!W)return;let G=W.appendChild(document.createElement("textarea"));G.style.cssText="position: fixed; left: -10000px; top: 10px",G.value=K,G.focus(),G.selectionEnd=K.length,G.selectionStart=0,setTimeout(()=>{G.remove(),H.focus()},50)}function copiedRange(H){let K=[],W=[],G=!1;for(let U of H.selection.ranges)U.empty||(K.push(H.sliceDoc(U.from,U.to)),W.push(U));if(!K.length){let U=-1;for(let{from:X}of H.selection.ranges){let Q=H.doc.lineAt(X);Q.number>U&&(K.push(Q.text),W.push({from:Q.from,to:Math.min(H.doc.length,Q.to+1)})),U=Q.number}G=!0}return{text:textFilter(H,clipboardOutputFilter,K.join(H.lineBreak)),ranges:W,linewise:G}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(H,K)=>{let{text:W,ranges:G,linewise:U}=copiedRange(H.state);if(!W&&!U)return!1;lastLinewiseCopy=U?W:null,K.type=="cut"&&!H.state.readOnly&&H.dispatch({changes:G,scrollIntoView:!0,userEvent:"delete.cut"});let X=brokenClipboardAPI?null:K.clipboardData;return X?(X.clearData(),X.setData("text/plain",W),!0):(captureCopy(H,W),!1)};const isFocusChange=Annotation.define();function focusChangeTransaction(H,K){let W=[];for(let G of H.facet(focusChangeEffect)){let U=G(H,K);U&&W.push(U)}return W.length?H.update({effects:W,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(H){setTimeout(()=>{let K=H.hasFocus;if(K!=H.inputState.notifiedFocused){let W=focusChangeTransaction(H.state,K);W?H.dispatch(W):H.update([])}},10)}observers.focus=H=>{H.inputState.lastFocusTime=Date.now(),!H.scrollDOM.scrollTop&&(H.inputState.lastScrollTop||H.inputState.lastScrollLeft)&&(H.scrollDOM.scrollTop=H.inputState.lastScrollTop,H.scrollDOM.scrollLeft=H.inputState.lastScrollLeft),updateForFocusChange(H)};observers.blur=H=>{H.observer.clearSelectionRange(),updateForFocusChange(H)};observers.compositionstart=observers.compositionupdate=H=>{H.observer.editContext||(H.inputState.compositionFirstChange==null&&(H.inputState.compositionFirstChange=!0),H.inputState.composing<0&&(H.inputState.composing=0))};observers.compositionend=H=>{H.observer.editContext||(H.inputState.composing=-1,H.inputState.compositionEndedAt=Date.now(),H.inputState.compositionPendingKey=!0,H.inputState.compositionPendingChange=H.observer.pendingRecords().length>0,H.inputState.compositionFirstChange=null,browser.chrome&&browser.android?H.observer.flushSoon():H.inputState.compositionPendingChange?Promise.resolve().then(()=>H.observer.flush()):setTimeout(()=>{H.inputState.composing<0&&H.docView.hasComposition&&H.update([])},50))};observers.contextmenu=H=>{H.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(H,K)=>{var W,G;if(K.inputType=="insertReplacementText"&&H.observer.editContext){let X=(W=K.dataTransfer)===null||W===void 0?void 0:W.getData("text/plain"),Q=K.getTargetRanges();if(X&&Q.length){let Z=Q[0],ee=H.posAtDOM(Z.startContainer,Z.startOffset),ne=H.posAtDOM(Z.endContainer,Z.endOffset);return applyDOMChangeInner(H,{from:ee,to:ne,insert:H.state.toText(X)},null),!0}}let U;if(browser.chrome&&browser.android&&(U=PendingKeys.find(X=>X.inputType==K.inputType))&&(H.observer.delayAndroidKey(U.key,U.keyCode),U.key=="Backspace"||U.key=="Delete")){let X=((G=window.visualViewport)===null||G===void 0?void 0:G.height)||0;setTimeout(()=>{var Q;(((Q=window.visualViewport)===null||Q===void 0?void 0:Q.height)||0)>X+10&&H.hasFocus&&(H.contentDOM.blur(),H.focus())},100)}return browser.ios&&K.inputType=="deleteContentForward"&&H.observer.flushSoon(),browser.safari&&K.inputType=="insertText"&&H.inputState.composing>=0&&setTimeout(()=>observers.compositionend(H,K),20),!1};const appliedFirefoxHack=new Set;function firefoxCopyCutHack(H){appliedFirefoxHack.has(H)||(appliedFirefoxHack.add(H),H.addEventListener("copy",()=>{}),H.addEventListener("cut",()=>{}))}const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];let heightChangeFlag=!1;function clearHeightChangeFlag(){heightChangeFlag=!1}class HeightOracle{constructor(K){this.lineWrapping=K,this.doc=Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(K,W){let G=this.doc.lineAt(W).number-this.doc.lineAt(K).number+1;return this.lineWrapping&&(G+=Math.max(0,Math.ceil((W-K-G*this.lineLength*.5)/this.lineLength))),this.lineHeight*G}heightForLine(K){return this.lineWrapping?(1+Math.max(0,Math.ceil((K-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(K){return this.doc=K,this}mustRefreshForWrapping(K){return wrappingWhiteSpace.indexOf(K)>-1!=this.lineWrapping}mustRefreshForHeights(K){let W=!1;for(let G=0;G<K.length;G++){let U=K[G];U<0?G++:this.heightSamples[Math.floor(U*10)]||(W=!0,this.heightSamples[Math.floor(U*10)]=!0)}return W}refresh(K,W,G,U,X,Q){let Z=wrappingWhiteSpace.indexOf(K)>-1,ee=Math.round(W)!=Math.round(this.lineHeight)||this.lineWrapping!=Z;if(this.lineWrapping=Z,this.lineHeight=W,this.charWidth=G,this.textHeight=U,this.lineLength=X,ee){this.heightSamples={};for(let ne=0;ne<Q.length;ne++){let te=Q[ne];te<0?ne++:this.heightSamples[Math.floor(te*10)]=!0}}return ee}}class MeasuredHeights{constructor(K,W){this.from=K,this.heights=W,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(K,W,G,U,X){this.from=K,this.length=W,this.top=G,this.height=U,this._content=X}get type(){return typeof this._content=="number"?BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(K){let W=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(K._content)?K._content:[K]);return new BlockInfo(this.from,this.length+K.length,this.top,this.height+K.height,W)}}var QueryType$1=function(H){return H[H.ByPos=0]="ByPos",H[H.ByHeight=1]="ByHeight",H[H.ByPosNoHeight=2]="ByPosNoHeight",H}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(K,W,G=2){this.length=K,this.height=W,this.flags=G}get outdated(){return(this.flags&2)>0}set outdated(K){this.flags=(K?2:0)|this.flags&-3}setHeight(K){this.height!=K&&(Math.abs(this.height-K)>Epsilon&&(heightChangeFlag=!0),this.height=K)}replace(K,W,G){return HeightMap.of(G)}decomposeLeft(K,W){W.push(this)}decomposeRight(K,W){W.push(this)}applyChanges(K,W,G,U){let X=this,Q=G.doc;for(let Z=U.length-1;Z>=0;Z--){let{fromA:ee,toA:ne,fromB:te,toB:oe}=U[Z],re=X.lineAt(ee,QueryType$1.ByPosNoHeight,G.setDoc(W),0,0),ae=re.to>=ne?re:X.lineAt(ne,QueryType$1.ByPosNoHeight,G,0,0);for(oe+=ae.to-ne,ne=ae.to;Z>0&&re.from<=U[Z-1].toA;)ee=U[Z-1].fromA,te=U[Z-1].fromB,Z--,ee<re.from&&(re=X.lineAt(ee,QueryType$1.ByPosNoHeight,G,0,0));te+=re.from-ee,ee=re.from;let se=NodeBuilder.build(G.setDoc(Q),K,te,oe);X=replace(X,X.replace(ee,ne,se))}return X.updateHeight(G,0)}static empty(){return new HeightMapText(0,0)}static of(K){if(K.length==1)return K[0];let W=0,G=K.length,U=0,X=0;for(;;)if(W==G)if(U>X*2){let Z=K[W-1];Z.break?K.splice(--W,1,Z.left,null,Z.right):K.splice(--W,1,Z.left,Z.right),G+=1+Z.break,U-=Z.size}else if(X>U*2){let Z=K[G];Z.break?K.splice(G,1,Z.left,null,Z.right):K.splice(G,1,Z.left,Z.right),G+=2+Z.break,X-=Z.size}else break;else if(U<X){let Z=K[W++];Z&&(U+=Z.size)}else{let Z=K[--G];Z&&(X+=Z.size)}let Q=0;return K[W-1]==null?(Q=1,W--):K[W]==null&&(Q=1,G++),new HeightMapBranch(HeightMap.of(K.slice(0,W)),Q,HeightMap.of(K.slice(G)))}}function replace(H,K){return H==K?H:(H.constructor!=K.constructor&&(heightChangeFlag=!0),K)}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(K,W,G){super(K,W),this.deco=G}blockAt(K,W,G,U){return new BlockInfo(U,this.length,G,this.height,this.deco||0)}lineAt(K,W,G,U,X){return this.blockAt(0,G,U,X)}forEachLine(K,W,G,U,X,Q){K<=X+this.length&&W>=X&&Q(this.blockAt(0,G,U,X))}updateHeight(K,W=0,G=!1,U){return U&&U.from<=W&&U.more&&this.setHeight(U.heights[U.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(K,W){super(K,W,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(K,W,G,U){return new BlockInfo(U,this.length,G,this.height,this.breaks)}replace(K,W,G){let U=G[0];return G.length==1&&(U instanceof HeightMapText||U instanceof HeightMapGap&&U.flags&4)&&Math.abs(this.length-U.length)<10?(U instanceof HeightMapGap?U=new HeightMapText(U.length,this.height):U.height=this.height,this.outdated||(U.outdated=!1),U):HeightMap.of(G)}updateHeight(K,W=0,G=!1,U){return U&&U.from<=W&&U.more?this.setHeight(U.heights[U.index++]):(G||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,K.heightForLine(this.length-this.collapsed))+this.breaks*K.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(K){super(K,0)}heightMetrics(K,W){let G=K.doc.lineAt(W).number,U=K.doc.lineAt(W+this.length).number,X=U-G+1,Q,Z=0;if(K.lineWrapping){let ee=Math.min(this.height,K.lineHeight*X);Q=ee/X,this.length>X+1&&(Z=(this.height-ee)/(this.length-X-1))}else Q=this.height/X;return{firstLine:G,lastLine:U,perLine:Q,perChar:Z}}blockAt(K,W,G,U){let{firstLine:X,lastLine:Q,perLine:Z,perChar:ee}=this.heightMetrics(W,U);if(W.lineWrapping){let ne=U+(K<W.lineHeight?0:Math.round(Math.max(0,Math.min(1,(K-G)/this.height))*this.length)),te=W.doc.lineAt(ne),oe=Z+te.length*ee,re=Math.max(G,K-oe/2);return new BlockInfo(te.from,te.length,re,oe,0)}else{let ne=Math.max(0,Math.min(Q-X,Math.floor((K-G)/Z))),{from:te,length:oe}=W.doc.line(X+ne);return new BlockInfo(te,oe,G+Z*ne,Z,0)}}lineAt(K,W,G,U,X){if(W==QueryType$1.ByHeight)return this.blockAt(K,G,U,X);if(W==QueryType$1.ByPosNoHeight){let{from:ae,to:se}=G.doc.lineAt(K);return new BlockInfo(ae,se-ae,0,0,0)}let{firstLine:Q,perLine:Z,perChar:ee}=this.heightMetrics(G,X),ne=G.doc.lineAt(K),te=Z+ne.length*ee,oe=ne.number-Q,re=U+Z*oe+ee*(ne.from-X-oe);return new BlockInfo(ne.from,ne.length,Math.max(U,Math.min(re,U+this.height-te)),te,0)}forEachLine(K,W,G,U,X,Q){K=Math.max(K,X),W=Math.min(W,X+this.length);let{firstLine:Z,perLine:ee,perChar:ne}=this.heightMetrics(G,X);for(let te=K,oe=U;te<=W;){let re=G.doc.lineAt(te);if(te==K){let se=re.number-Z;oe+=ee*se+ne*(K-X-se)}let ae=ee+ne*re.length;Q(new BlockInfo(re.from,re.length,oe,ae,0)),oe+=ae,te=re.to+1}}replace(K,W,G){let U=this.length-W;if(U>0){let X=G[G.length-1];X instanceof HeightMapGap?G[G.length-1]=new HeightMapGap(X.length+U):G.push(null,new HeightMapGap(U-1))}if(K>0){let X=G[0];X instanceof HeightMapGap?G[0]=new HeightMapGap(K+X.length):G.unshift(new HeightMapGap(K-1),null)}return HeightMap.of(G)}decomposeLeft(K,W){W.push(new HeightMapGap(K-1),null)}decomposeRight(K,W){W.push(null,new HeightMapGap(this.length-K-1))}updateHeight(K,W=0,G=!1,U){let X=W+this.length;if(U&&U.from<=W+this.length&&U.more){let Q=[],Z=Math.max(W,U.from),ee=-1;for(U.from>W&&Q.push(new HeightMapGap(U.from-W-1).updateHeight(K,W));Z<=X&&U.more;){let te=K.doc.lineAt(Z).length;Q.length&&Q.push(null);let oe=U.heights[U.index++];ee==-1?ee=oe:Math.abs(oe-ee)>=Epsilon&&(ee=-2);let re=new HeightMapText(te,oe);re.outdated=!1,Q.push(re),Z+=te+1}Z<=X&&Q.push(null,new HeightMapGap(X-Z).updateHeight(K,Z));let ne=HeightMap.of(Q);return(ee<0||Math.abs(ne.height-this.height)>=Epsilon||Math.abs(ee-this.heightMetrics(K,W).perLine)>=Epsilon)&&(heightChangeFlag=!0),replace(this,ne)}else(G||this.outdated)&&(this.setHeight(K.heightForGap(W,W+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(K,W,G){super(K.length+W+G.length,K.height+G.height,W|(K.outdated||G.outdated?2:0)),this.left=K,this.right=G,this.size=K.size+G.size}get break(){return this.flags&1}blockAt(K,W,G,U){let X=G+this.left.height;return K<X?this.left.blockAt(K,W,G,U):this.right.blockAt(K,W,X,U+this.left.length+this.break)}lineAt(K,W,G,U,X){let Q=U+this.left.height,Z=X+this.left.length+this.break,ee=W==QueryType$1.ByHeight?K<Q:K<Z,ne=ee?this.left.lineAt(K,W,G,U,X):this.right.lineAt(K,W,G,Q,Z);if(this.break||(ee?ne.to<Z:ne.from>Z))return ne;let te=W==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return ee?ne.join(this.right.lineAt(Z,te,G,Q,Z)):this.left.lineAt(Z,te,G,U,X).join(ne)}forEachLine(K,W,G,U,X,Q){let Z=U+this.left.height,ee=X+this.left.length+this.break;if(this.break)K<ee&&this.left.forEachLine(K,W,G,U,X,Q),W>=ee&&this.right.forEachLine(K,W,G,Z,ee,Q);else{let ne=this.lineAt(ee,QueryType$1.ByPos,G,U,X);K<ne.from&&this.left.forEachLine(K,ne.from-1,G,U,X,Q),ne.to>=K&&ne.from<=W&&Q(ne),W>ne.to&&this.right.forEachLine(ne.to+1,W,G,Z,ee,Q)}}replace(K,W,G){let U=this.left.length+this.break;if(W<U)return this.balanced(this.left.replace(K,W,G),this.right);if(K>this.left.length)return this.balanced(this.left,this.right.replace(K-U,W-U,G));let X=[];K>0&&this.decomposeLeft(K,X);let Q=X.length;for(let Z of G)X.push(Z);if(K>0&&mergeGaps(X,Q-1),W<this.length){let Z=X.length;this.decomposeRight(W,X),mergeGaps(X,Z)}return HeightMap.of(X)}decomposeLeft(K,W){let G=this.left.length;if(K<=G)return this.left.decomposeLeft(K,W);W.push(this.left),this.break&&(G++,K>=G&&W.push(null)),K>G&&this.right.decomposeLeft(K-G,W)}decomposeRight(K,W){let G=this.left.length,U=G+this.break;if(K>=U)return this.right.decomposeRight(K-U,W);K<G&&this.left.decomposeRight(K,W),this.break&&K<U&&W.push(null),W.push(this.right)}balanced(K,W){return K.size>2*W.size||W.size>2*K.size?HeightMap.of(this.break?[K,null,W]:[K,W]):(this.left=replace(this.left,K),this.right=replace(this.right,W),this.setHeight(K.height+W.height),this.outdated=K.outdated||W.outdated,this.size=K.size+W.size,this.length=K.length+this.break+W.length,this)}updateHeight(K,W=0,G=!1,U){let{left:X,right:Q}=this,Z=W+X.length+this.break,ee=null;return U&&U.from<=W+X.length&&U.more?ee=X=X.updateHeight(K,W,G,U):X.updateHeight(K,W,G),U&&U.from<=Z+Q.length&&U.more?ee=Q=Q.updateHeight(K,Z,G,U):Q.updateHeight(K,Z,G),ee?this.balanced(X,Q):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(H,K){let W,G;H[K]==null&&(W=H[K-1])instanceof HeightMapGap&&(G=H[K+1])instanceof HeightMapGap&&H.splice(K-1,3,new HeightMapGap(W.length+1+G.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(K,W){this.pos=K,this.oracle=W,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=K}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(K,W){if(this.lineStart>-1){let G=Math.min(W,this.lineEnd),U=this.nodes[this.nodes.length-1];U instanceof HeightMapText?U.length+=G-this.pos:(G>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(G-this.pos,-1)),this.writtenTo=G,W>G&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=W}point(K,W,G){if(K<W||G.heightRelevant){let U=G.widget?G.widget.estimatedHeight:0,X=G.widget?G.widget.lineBreaks:0;U<0&&(U=this.oracle.lineHeight);let Q=W-K;G.block?this.addBlock(new HeightMapBlock(Q,U,G)):(Q||X||U>=relevantWidgetHeight)&&this.addLineDeco(U,X,Q)}else W>K&&this.span(K,W);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:K,to:W}=this.oracle.doc.lineAt(this.pos);this.lineStart=K,this.lineEnd=W,this.writtenTo<K&&((this.writtenTo<K-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,K-1)),this.nodes.push(null)),this.pos>K&&this.nodes.push(new HeightMapText(this.pos-K,-1)),this.writtenTo=this.pos}blankContent(K,W){let G=new HeightMapGap(W-K);return this.oracle.doc.lineAt(K).to==W&&(G.flags|=4),G}ensureLine(){this.enterLine();let K=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(K instanceof HeightMapText)return K;let W=new HeightMapText(0,-1);return this.nodes.push(W),W}addBlock(K){this.enterLine();let W=K.deco;W&&W.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(K),this.writtenTo=this.pos=this.pos+K.length,W&&W.endSide>0&&(this.covering=K)}addLineDeco(K,W,G){let U=this.ensureLine();U.length+=G,U.collapsed+=G,U.widgetHeight=Math.max(U.widgetHeight,K),U.breaks+=W,this.writtenTo=this.pos=this.pos+G}finish(K){let W=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(W instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||W==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let G=K;for(let U of this.nodes)U instanceof HeightMapText&&U.updateHeight(this.oracle,G),G+=U?U.length:1;return this.nodes}static build(K,W,G,U){let X=new NodeBuilder(G,K);return RangeSet.spans(W,G,U,X,0),X.finish(G)}}function heightRelevantDecoChanges(H,K,W){let G=new DecorationComparator;return RangeSet.compare(H,K,W,G,0),G.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(K,W,G,U){(K<W||G&&G.heightRelevant||U&&U.heightRelevant)&&addRange(K,W,this.changes,5)}}function visiblePixelRange(H,K){let W=H.getBoundingClientRect(),G=H.ownerDocument,U=G.defaultView||window,X=Math.max(0,W.left),Q=Math.min(U.innerWidth,W.right),Z=Math.max(0,W.top),ee=Math.min(U.innerHeight,W.bottom);for(let ne=H.parentNode;ne&&ne!=G.body;)if(ne.nodeType==1){let te=ne,oe=window.getComputedStyle(te);if((te.scrollHeight>te.clientHeight||te.scrollWidth>te.clientWidth)&&oe.overflow!="visible"){let re=te.getBoundingClientRect();X=Math.max(X,re.left),Q=Math.min(Q,re.right),Z=Math.max(Z,re.top),ee=Math.min(ne==H.parentNode?U.innerHeight:ee,re.bottom)}ne=oe.position=="absolute"||oe.position=="fixed"?te.offsetParent:te.parentNode}else if(ne.nodeType==11)ne=ne.host;else break;return{left:X-W.left,right:Math.max(X,Q)-W.left,top:Z-(W.top+K),bottom:Math.max(Z,ee)-(W.top+K)}}function inWindow(H){let K=H.getBoundingClientRect(),W=H.ownerDocument.defaultView||window;return K.left<W.innerWidth&&K.right>0&&K.top<W.innerHeight&&K.bottom>0}function fullPixelRange(H,K){let W=H.getBoundingClientRect();return{left:0,right:W.right-W.left,top:K,bottom:W.bottom-(W.top+K)}}class LineGap{constructor(K,W,G,U){this.from=K,this.to=W,this.size=G,this.displaySize=U}static same(K,W){if(K.length!=W.length)return!1;for(let G=0;G<K.length;G++){let U=K[G],X=W[G];if(U.from!=X.from||U.to!=X.to||U.size!=X.size)return!1}return!0}draw(K,W){return Decoration.replace({widget:new LineGapWidget(this.displaySize*(W?K.scaleY:K.scaleX),W)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(K,W){super(),this.size=K,this.vertical=W}eq(K){return K.size==this.size&&K.vertical==this.vertical}toDOM(){let K=document.createElement("div");return this.vertical?K.style.height=this.size+"px":(K.style.width=this.size+"px",K.style.height="2px",K.style.display="inline-block"),K}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(K){this.state=K,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let W=K.facet(contentAttributes).some(G=>typeof G!="function"&&G.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(W),this.stateDeco=K.facet(decorations).filter(G=>typeof G!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(K.doc),[new ChangedRange(0,0,0,K.doc.length)]);for(let G=0;G<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());G++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(G=>G.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let K=[this.viewport],{main:W}=this.state.selection;for(let G=0;G<=1;G++){let U=G?W.head:W.anchor;if(!K.some(({from:X,to:Q})=>U>=X&&U<=Q)){let{from:X,to:Q}=this.lineBlockAt(U);K.push(new Viewport(X,Q))}}return this.viewports=K.sort((G,U)=>G.from-U.from),this.updateScaler()}updateScaler(){let K=this.scaler;return this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports),K.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,K=>{this.viewportLines.push(scaleBlock(K,this.scaler))})}update(K,W=null){this.state=K.state;let G=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(te=>typeof te!="function");let U=K.changedRanges,X=ChangedRange.extendWithRanges(U,heightRelevantDecoChanges(G,this.stateDeco,K?K.changes:ChangeSet.empty(this.state.doc.length))),Q=this.heightMap.height,Z=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);clearHeightChangeFlag(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,K.startState.doc,this.heightOracle.setDoc(this.state.doc),X),(this.heightMap.height!=Q||heightChangeFlag)&&(K.flags|=2),Z?(this.scrollAnchorPos=K.changes.mapPos(Z.from,-1),this.scrollAnchorHeight=Z.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=Q);let ee=X.length?this.mapViewport(this.viewport,K.changes):this.viewport;(W&&(W.range.head<ee.from||W.range.head>ee.to)||!this.viewportIsAppropriate(ee))&&(ee=this.getViewport(0,W));let ne=ee.from!=this.viewport.from||ee.to!=this.viewport.to;this.viewport=ee,K.flags|=this.updateForViewport(),(ne||!K.changes.empty||K.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,K.changes))),K.flags|=this.computeVisibleRanges(K.changes),W&&(this.scrollTarget=W),!this.mustEnforceCursorAssoc&&K.selectionSet&&K.view.lineWrapping&&K.state.selection.main.empty&&K.state.selection.main.assoc&&!K.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure(K){let W=K.contentDOM,G=window.getComputedStyle(W),U=this.heightOracle,X=G.whiteSpace;this.defaultTextDirection=G.direction=="rtl"?Direction.RTL:Direction.LTR;let Q=this.heightOracle.mustRefreshForWrapping(X),Z=W.getBoundingClientRect(),ee=Q||this.mustMeasureContent||this.contentDOMHeight!=Z.height;this.contentDOMHeight=Z.height,this.mustMeasureContent=!1;let ne=0,te=0;if(Z.width&&Z.height){let{scaleX:me,scaleY:ue}=getScale(W,Z);(me>.005&&Math.abs(this.scaleX-me)>.005||ue>.005&&Math.abs(this.scaleY-ue)>.005)&&(this.scaleX=me,this.scaleY=ue,ne|=16,Q=ee=!0)}let oe=(parseInt(G.paddingTop)||0)*this.scaleY,re=(parseInt(G.paddingBottom)||0)*this.scaleY;(this.paddingTop!=oe||this.paddingBottom!=re)&&(this.paddingTop=oe,this.paddingBottom=re,ne|=18),this.editorWidth!=K.scrollDOM.clientWidth&&(U.lineWrapping&&(ee=!0),this.editorWidth=K.scrollDOM.clientWidth,ne|=16);let ae=K.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=ae&&(this.scrollAnchorHeight=-1,this.scrollTop=ae),this.scrolledToBottom=isScrolledToBottom(K.scrollDOM);let se=(this.printing?fullPixelRange:visiblePixelRange)(W,this.paddingTop),ce=se.top-this.pixelViewport.top,de=se.bottom-this.pixelViewport.bottom;this.pixelViewport=se;let le=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(le!=this.inView&&(this.inView=le,le&&(ee=!0)),!this.inView&&!this.scrollTarget&&!inWindow(K.dom))return 0;let fe=Z.width;if((this.contentDOMWidth!=fe||this.editorHeight!=K.scrollDOM.clientHeight)&&(this.contentDOMWidth=Z.width,this.editorHeight=K.scrollDOM.clientHeight,ne|=16),ee){let me=K.docView.measureVisibleLineHeights(this.viewport);if(U.mustRefreshForHeights(me)&&(Q=!0),Q||U.lineWrapping&&Math.abs(fe-this.contentDOMWidth)>U.charWidth){let{lineHeight:ue,charWidth:ge,textHeight:he}=K.docView.measureTextSize();Q=ue>0&&U.refresh(X,ue,ge,he,fe/ge,me),Q&&(K.docView.minWidth=0,ne|=16)}ce>0&&de>0?te=Math.max(ce,de):ce<0&&de<0&&(te=Math.min(ce,de)),clearHeightChangeFlag();for(let ue of this.viewports){let ge=ue.from==this.viewport.from?me:K.docView.measureVisibleLineHeights(ue);this.heightMap=(Q?HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle,[new ChangedRange(0,0,0,K.state.doc.length)]):this.heightMap).updateHeight(U,0,Q,new MeasuredHeights(ue.from,ge))}heightChangeFlag&&(ne|=2)}let pe=!this.viewportIsAppropriate(this.viewport,te)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return pe&&(ne&2&&(ne|=this.updateScaler()),this.viewport=this.getViewport(te,this.scrollTarget),ne|=this.updateForViewport()),(ne&2||pe)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(Q?[]:this.lineGaps,K)),ne|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,K.docView.enforceCursorAssoc()),ne}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(K,W){let G=.5-Math.max(-.5,Math.min(.5,K/1e3/2)),U=this.heightMap,X=this.heightOracle,{visibleTop:Q,visibleBottom:Z}=this,ee=new Viewport(U.lineAt(Q-G*1e3,QueryType$1.ByHeight,X,0,0).from,U.lineAt(Z+(1-G)*1e3,QueryType$1.ByHeight,X,0,0).to);if(W){let{head:ne}=W.range;if(ne<ee.from||ne>ee.to){let te=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),oe=U.lineAt(ne,QueryType$1.ByPos,X,0,0),re;W.y=="center"?re=(oe.top+oe.bottom)/2-te/2:W.y=="start"||W.y=="nearest"&&ne<ee.from?re=oe.top:re=oe.bottom-te,ee=new Viewport(U.lineAt(re-1e3/2,QueryType$1.ByHeight,X,0,0).from,U.lineAt(re+te+1e3/2,QueryType$1.ByHeight,X,0,0).to)}}return ee}mapViewport(K,W){let G=W.mapPos(K.from,-1),U=W.mapPos(K.to,1);return new Viewport(this.heightMap.lineAt(G,QueryType$1.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(U,QueryType$1.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:K,to:W},G=0){if(!this.inView)return!0;let{top:U}=this.heightMap.lineAt(K,QueryType$1.ByPos,this.heightOracle,0,0),{bottom:X}=this.heightMap.lineAt(W,QueryType$1.ByPos,this.heightOracle,0,0),{visibleTop:Q,visibleBottom:Z}=this;return(K==0||U<=Q-Math.max(10,Math.min(-G,250)))&&(W==this.state.doc.length||X>=Z+Math.max(10,Math.min(G,250)))&&U>Q-2*1e3&&X<Z+2*1e3}mapLineGaps(K,W){if(!K.length||W.empty)return K;let G=[];for(let U of K)W.touchesRange(U.from,U.to)||G.push(new LineGap(W.mapPos(U.from),W.mapPos(U.to),U.size,U.displaySize));return G}ensureLineGaps(K,W){let G=this.heightOracle.lineWrapping,U=G?1e4:2e3,X=U>>1,Q=U<<1;if(this.defaultTextDirection!=Direction.LTR&&!G)return[];let Z=[],ee=(te,oe,re,ae)=>{if(oe-te<X)return;let se=this.state.selection.main,ce=[se.from];se.empty||ce.push(se.to);for(let le of ce)if(le>te&&le<oe){ee(te,le-10,re,ae),ee(le+10,oe,re,ae);return}let de=find(K,le=>le.from>=re.from&&le.to<=re.to&&Math.abs(le.from-te)<X&&Math.abs(le.to-oe)<X&&!ce.some(fe=>le.from<fe&&le.to>fe));if(!de){if(oe<re.to&&W&&G&&W.visibleRanges.some(pe=>pe.from<=oe&&pe.to>=oe)){let pe=W.moveToLineBoundary(EditorSelection.cursor(oe),!1,!0).head;pe>te&&(oe=pe)}let le=this.gapSize(re,te,oe,ae),fe=G||le<2e6?le:2e6;de=new LineGap(te,oe,le,fe)}Z.push(de)},ne=te=>{if(te.length<Q||te.type!=BlockType.Text)return;let oe=lineStructure(te.from,te.to,this.stateDeco);if(oe.total<Q)return;let re=this.scrollTarget?this.scrollTarget.range.head:null,ae,se;if(G){let ce=U/this.heightOracle.lineLength*this.heightOracle.lineHeight,de,le;if(re!=null){let fe=findFraction(oe,re),pe=((this.visibleBottom-this.visibleTop)/2+ce)/te.height;de=fe-pe,le=fe+pe}else de=(this.visibleTop-te.top-ce)/te.height,le=(this.visibleBottom-te.top+ce)/te.height;ae=findPosition(oe,de),se=findPosition(oe,le)}else{let ce=oe.total*this.heightOracle.charWidth,de=U*this.heightOracle.charWidth,le=0;if(ce>2e6)for(let ge of K)ge.from>=te.from&&ge.from<te.to&&ge.size!=ge.displaySize&&ge.from*this.heightOracle.charWidth+le<this.pixelViewport.left&&(le=ge.size-ge.displaySize);let fe=this.pixelViewport.left+le,pe=this.pixelViewport.right+le,me,ue;if(re!=null){let ge=findFraction(oe,re),he=((pe-fe)/2+de)/ce;me=ge-he,ue=ge+he}else me=(fe-de)/ce,ue=(pe+de)/ce;ae=findPosition(oe,me),se=findPosition(oe,ue)}ae>te.from&&ee(te.from,ae,te,oe),se<te.to&&ee(se,te.to,te,oe)};for(let te of this.viewportLines)Array.isArray(te.type)?te.type.forEach(ne):ne(te);return Z}gapSize(K,W,G,U){let X=findFraction(U,G)-findFraction(U,W);return this.heightOracle.lineWrapping?K.height*X:U.total*this.heightOracle.charWidth*X}updateLineGaps(K){LineGap.same(K,this.lineGaps)||(this.lineGaps=K,this.lineGapDeco=Decoration.set(K.map(W=>W.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(K){let W=this.stateDeco;this.lineGaps.length&&(W=W.concat(this.lineGapDeco));let G=[];RangeSet.spans(W,this.viewport.from,this.viewport.to,{span(X,Q){G.push({from:X,to:Q})},point(){}},20);let U=0;if(G.length!=this.visibleRanges.length)U=12;else for(let X=0;X<G.length&&!(U&8);X++){let Q=this.visibleRanges[X],Z=G[X];(Q.from!=Z.from||Q.to!=Z.to)&&(U|=4,K&&K.mapPos(Q.from,-1)==Z.from&&K.mapPos(Q.to,1)==Z.to||(U|=8))}return this.visibleRanges=G,U}lineBlockAt(K){return K>=this.viewport.from&&K<=this.viewport.to&&this.viewportLines.find(W=>W.from<=K&&W.to>=K)||scaleBlock(this.heightMap.lineAt(K,QueryType$1.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(K){return K>=this.viewportLines[0].top&&K<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(W=>W.top<=K&&W.bottom>=K)||scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(K),QueryType$1.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(K){let W=this.lineBlockAtHeight(K+8);return W.from>=this.viewport.from||this.viewportLines[0].top-K>200?W:this.viewportLines[0]}elementAtHeight(K){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(K),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(K,W){this.from=K,this.to=W}}function lineStructure(H,K,W){let G=[],U=H,X=0;return RangeSet.spans(W,H,K,{span(){},point(Q,Z){Q>U&&(G.push({from:U,to:Q}),X+=Q-U),U=Z}},20),U<K&&(G.push({from:U,to:K}),X+=K-U),{total:X,ranges:G}}function findPosition({total:H,ranges:K},W){if(W<=0)return K[0].from;if(W>=1)return K[K.length-1].to;let G=Math.floor(H*W);for(let U=0;;U++){let{from:X,to:Q}=K[U],Z=Q-X;if(G<=Z)return X+G;G-=Z}}function findFraction(H,K){let W=0;for(let{from:G,to:U}of H.ranges){if(K<=U){W+=K-G;break}W+=U-G}return W/H.total}function find(H,K){for(let W of H)if(K(W))return W}const IdScaler={toDOM(H){return H},fromDOM(H){return H},scale:1,eq(H){return H==this}};class BigScaler{constructor(K,W,G){let U=0,X=0,Q=0;this.viewports=G.map(({from:Z,to:ee})=>{let ne=W.lineAt(Z,QueryType$1.ByPos,K,0,0).top,te=W.lineAt(ee,QueryType$1.ByPos,K,0,0).bottom;return U+=te-ne,{from:Z,to:ee,top:ne,bottom:te,domTop:0,domBottom:0}}),this.scale=(7e6-U)/(W.height-U);for(let Z of this.viewports)Z.domTop=Q+(Z.top-X)*this.scale,Q=Z.domBottom=Z.domTop+(Z.bottom-Z.top),X=Z.bottom}toDOM(K){for(let W=0,G=0,U=0;;W++){let X=W<this.viewports.length?this.viewports[W]:null;if(!X||K<X.top)return U+(K-G)*this.scale;if(K<=X.bottom)return X.domTop+(K-X.top);G=X.bottom,U=X.domBottom}}fromDOM(K){for(let W=0,G=0,U=0;;W++){let X=W<this.viewports.length?this.viewports[W]:null;if(!X||K<X.domTop)return G+(K-U)/this.scale;if(K<=X.domBottom)return X.top+(K-X.domTop);G=X.bottom,U=X.domBottom}}eq(K){return K instanceof BigScaler?this.scale==K.scale&&this.viewports.length==K.viewports.length&&this.viewports.every((W,G)=>W.from==K.viewports[G].from&&W.to==K.viewports[G].to):!1}}function scaleBlock(H,K){if(K.scale==1)return H;let W=K.toDOM(H.top),G=K.toDOM(H.bottom);return new BlockInfo(H.from,H.length,W,G-W,Array.isArray(H._content)?H._content.map(U=>scaleBlock(U,K)):H._content)}const theme=Facet.define({combine:H=>H.join(" ")}),darkTheme=Facet.define({combine:H=>H.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(H,K,W){return new StyleModule(K,{finish(G){return/&/.test(G)?G.replace(/&\w*/,U=>{if(U=="&")return H;if(!W||!W[U])throw new RangeError(`Unsupported selector: ${U}`);return W[U]}):H+" "+G}})}const baseTheme$1$3=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(K){this.view=K,this.active=!1,this.editContext=null,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=K.contentDOM,this.observer=new MutationObserver(W=>{for(let G of W)this.queue.push(G);(browser.ie&&browser.ie_version<=11||browser.ios&&K.composing)&&W.some(G=>G.type=="childList"&&G.removedNodes.length||G.type=="characterData"&&G.oldValue.length>G.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&browser.android&&K.constructor.EDIT_CONTEXT!==!1&&!(browser.chrome&&browser.chrome_version<126)&&(this.editContext=new EditContextManager(K),K.state.facet(editable)&&(K.contentDOM.editContext=this.editContext.editContext)),useCharData&&(this.onCharData=W=>{this.queue.push({target:W.target,type:"characterData",oldValue:W.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var W;((W=this.view.docView)===null||W===void 0?void 0:W.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(K.scrollDOM)),this.addWindowListeners(this.win=K.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(W=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),W.length>0&&W[W.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(W=>{W.length>0&&W[W.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(K){this.view.inputState.runHandlers("scroll",K),this.intersecting&&this.view.measure()}onScroll(K){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(K)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(K){(K.type=="change"||!K.type)&&!K.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(K){if(this.gapIntersection&&(K.length!=this.gaps.length||this.gaps.some((W,G)=>W!=K[G]))){this.gapIntersection.disconnect();for(let W of K)this.gapIntersection.observe(W);this.gaps=K}}onSelectionChange(K){let W=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:G}=this,U=this.selectionRange;if(G.state.facet(editable)?G.root.activeElement!=this.dom:!hasSelection(this.dom,U))return;let X=U.anchorNode&&G.docView.nearest(U.anchorNode);if(X&&X.ignoreEvent(K)){W||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!G.state.selection.main.empty&&U.focusNode&&isEquivalentPosition(U.focusNode,U.focusOffset,U.anchorNode,U.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:K}=this,W=getSelection(K.root);if(!W)return!1;let G=browser.safari&&K.root.nodeType==11&&K.root.activeElement==this.dom&&safariSelectionRangeHack(this.view,W)||W;if(!G||this.selectionRange.eq(G))return!1;let U=hasSelection(this.dom,G);return U&&!this.selectionChanged&&K.inputState.lastFocusTime>Date.now()-200&&K.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,G)?(this.view.inputState.lastFocusTime=0,K.docView.updateSelection(),!1):(this.selectionRange.setRange(G),U&&(this.selectionChanged=!0),!0)}setSelectionRange(K,W){this.selectionRange.set(K.node,K.offset,W.node,W.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let K=0,W=null;for(let G=this.dom;G;)if(G.nodeType==1)!W&&K<this.scrollTargets.length&&this.scrollTargets[K]==G?K++:W||(W=this.scrollTargets.slice(0,K)),W&&W.push(G),G=G.assignedSlot||G.parentNode;else if(G.nodeType==11)G=G.host;else break;if(K<this.scrollTargets.length&&!W&&(W=this.scrollTargets.slice(0,K)),W){for(let G of this.scrollTargets)G.removeEventListener("scroll",this.onScroll);for(let G of this.scrollTargets=W)G.addEventListener("scroll",this.onScroll)}}ignore(K){if(!this.active)return K();try{return this.stop(),K()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(K,W){var G;if(!this.delayedAndroidKey){let U=()=>{let X=this.delayedAndroidKey;X&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=X.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&X.force&&dispatchKey(this.dom,X.key,X.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(U)}(!this.delayedAndroidKey||K=="Enter")&&(this.delayedAndroidKey={key:K,keyCode:W,force:this.lastChange<Date.now()-50||!!(!((G=this.delayedAndroidKey)===null||G===void 0)&&G.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let K of this.observer.takeRecords())this.queue.push(K);return this.queue}processRecords(){let K=this.pendingRecords();K.length&&(this.queue=[]);let W=-1,G=-1,U=!1;for(let X of K){let Q=this.readMutation(X);Q&&(Q.typeOver&&(U=!0),W==-1?{from:W,to:G}=Q:(W=Math.min(Q.from,W),G=Math.max(Q.to,G)))}return{from:W,to:G,typeOver:U}}readChange(){let{from:K,to:W,typeOver:G}=this.processRecords(),U=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(K<0&&!U)return null;K>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let X=new DOMChange(this.view,K,W,G);return this.view.docView.domChanged={newSel:X.newSel?X.newSel.main:null},X}flush(K=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;K&&this.readSelectionRange();let W=this.readChange();if(!W)return this.view.requestMeasure(),!1;let G=this.view.state,U=applyDOMChange(this.view,W);return this.view.state==G&&(W.domChanged||W.newSel&&!W.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),U}readMutation(K){let W=this.view.docView.nearest(K.target);if(!W||W.ignoreMutation(K))return null;if(W.markDirty(K.type=="attributes"),K.type=="attributes"&&(W.flags|=4),K.type=="childList"){let G=findChild(W,K.previousSibling||K.target.previousSibling,-1),U=findChild(W,K.nextSibling||K.target.nextSibling,1);return{from:G?W.posAfter(G):W.posAtStart,to:U?W.posBefore(U):W.posAtEnd,typeOver:!1}}else return K.type=="characterData"?{from:W.posAtStart,to:W.posAtEnd,typeOver:K.target.nodeValue==K.oldValue}:null}setWindow(K){K!=this.win&&(this.removeWindowListeners(this.win),this.win=K,this.addWindowListeners(this.win))}addWindowListeners(K){K.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):K.addEventListener("beforeprint",this.onPrint),K.addEventListener("scroll",this.onScroll),K.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(K){K.removeEventListener("scroll",this.onScroll),K.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):K.removeEventListener("beforeprint",this.onPrint),K.document.removeEventListener("selectionchange",this.onSelectionChange)}update(K){this.editContext&&(this.editContext.update(K),K.startState.facet(editable)!=K.state.facet(editable)&&(K.view.contentDOM.editContext=K.state.facet(editable)?this.editContext.editContext:null))}destroy(){var K,W,G;this.stop(),(K=this.intersection)===null||K===void 0||K.disconnect(),(W=this.gapIntersection)===null||W===void 0||W.disconnect(),(G=this.resizeScroll)===null||G===void 0||G.disconnect();for(let U of this.scrollTargets)U.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function findChild(H,K,W){for(;K;){let G=ContentView.get(K);if(G&&G.parent==H)return G;let U=K.parentNode;K=U!=H.dom?U:W>0?K.nextSibling:K.previousSibling}return null}function buildSelectionRangeFromRange(H,K){let W=K.startContainer,G=K.startOffset,U=K.endContainer,X=K.endOffset,Q=H.docView.domAtPos(H.state.selection.main.anchor);return isEquivalentPosition(Q.node,Q.offset,U,X)&&([W,G,U,X]=[U,X,W,G]),{anchorNode:W,anchorOffset:G,focusNode:U,focusOffset:X}}function safariSelectionRangeHack(H,K){if(K.getComposedRanges){let U=K.getComposedRanges(H.root)[0];if(U)return buildSelectionRangeFromRange(H,U)}let W=null;function G(U){U.preventDefault(),U.stopImmediatePropagation(),W=U.getTargetRanges()[0]}return H.contentDOM.addEventListener("beforeinput",G,!0),H.dom.ownerDocument.execCommand("indent"),H.contentDOM.removeEventListener("beforeinput",G,!0),W?buildSelectionRangeFromRange(H,W):null}class EditContextManager{constructor(K){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(K.state);let W=this.editContext=new window.EditContext({text:K.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,K.state.selection.main.anchor))),selectionEnd:this.toContextPos(K.state.selection.main.head)});this.handlers.textupdate=G=>{let U=K.state.selection.main,{anchor:X,head:Q}=U,Z=this.toEditorPos(G.updateRangeStart),ee=this.toEditorPos(G.updateRangeEnd);K.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:G.updateRangeStart,editorBase:Z,drifted:!1});let ne={from:Z,to:ee,insert:Text.of(G.text.split(`
`))};if(ne.from==this.from&&X<this.from?ne.from=X:ne.to==this.to&&X>this.to&&(ne.to=X),ne.from==ne.to&&!ne.insert.length){let te=EditorSelection.single(this.toEditorPos(G.selectionStart),this.toEditorPos(G.selectionEnd));te.main.eq(U)||K.dispatch({selection:te,userEvent:"select"});return}if((browser.mac||browser.android)&&ne.from==Q-1&&/^\. ?$/.test(G.text)&&K.contentDOM.getAttribute("autocorrect")=="off"&&(ne={from:Z,to:ee,insert:Text.of([G.text.replace("."," ")])}),this.pendingContextChange=ne,!K.state.readOnly){let te=this.to-this.from+(ne.to-ne.from+ne.insert.length);applyDOMChangeInner(K,ne,EditorSelection.single(this.toEditorPos(G.selectionStart,te),this.toEditorPos(G.selectionEnd,te)))}this.pendingContextChange&&(this.revertPending(K.state),this.setSelection(K.state))},this.handlers.characterboundsupdate=G=>{let U=[],X=null;for(let Q=this.toEditorPos(G.rangeStart),Z=this.toEditorPos(G.rangeEnd);Q<Z;Q++){let ee=K.coordsForChar(Q);X=ee&&new DOMRect(ee.left,ee.top,ee.right-ee.left,ee.bottom-ee.top)||X||new DOMRect,U.push(X)}W.updateCharacterBounds(G.rangeStart,U)},this.handlers.textformatupdate=G=>{let U=[];for(let X of G.getTextFormats()){let Q=X.underlineStyle,Z=X.underlineThickness;if(Q!="None"&&Z!="None"){let ee=this.toEditorPos(X.rangeStart),ne=this.toEditorPos(X.rangeEnd);if(ee<ne){let te=`text-decoration: underline ${Q=="Dashed"?"dashed ":Q=="Squiggle"?"wavy ":""}${Z=="Thin"?1:2}px`;U.push(Decoration.mark({attributes:{style:te}}).range(ee,ne))}}}K.dispatch({effects:setEditContextFormatting.of(Decoration.set(U))})},this.handlers.compositionstart=()=>{K.inputState.composing<0&&(K.inputState.composing=0,K.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(K.inputState.composing=-1,K.inputState.compositionFirstChange=null,this.composing){let{drifted:G}=this.composing;this.composing=null,G&&this.reset(K.state)}};for(let G in this.handlers)W.addEventListener(G,this.handlers[G]);this.measureReq={read:G=>{this.editContext.updateControlBounds(G.contentDOM.getBoundingClientRect());let U=getSelection(G.root);U&&U.rangeCount&&this.editContext.updateSelectionBounds(U.getRangeAt(0).getBoundingClientRect())}}}applyEdits(K){let W=0,G=!1,U=this.pendingContextChange;return K.changes.iterChanges((X,Q,Z,ee,ne)=>{if(G)return;let te=ne.length-(Q-X);if(U&&Q>=U.to)if(U.from==X&&U.to==Q&&U.insert.eq(ne)){U=this.pendingContextChange=null,W+=te,this.to+=te;return}else U=null,this.revertPending(K.state);if(X+=W,Q+=W,Q<=this.from)this.from+=te,this.to+=te;else if(X<this.to){if(X<this.from||Q>this.to||this.to-this.from+ne.length>3e4){G=!0;return}this.editContext.updateText(this.toContextPos(X),this.toContextPos(Q),ne.toString()),this.to+=te}W+=te}),U&&!G&&this.revertPending(K.state),!G}update(K){let W=this.pendingContextChange,G=K.startState.selection.main;this.composing&&(this.composing.drifted||!K.changes.touchesRange(G.from,G.to)&&K.transactions.some(U=>!U.isUserEvent("input.type")&&U.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=K.changes.mapPos(this.composing.editorBase)):!this.applyEdits(K)||!this.rangeIsValid(K.state)?(this.pendingContextChange=null,this.reset(K.state)):(K.docChanged||K.selectionSet||W)&&this.setSelection(K.state),(K.geometryChanged||K.docChanged||K.selectionSet)&&K.view.requestMeasure(this.measureReq)}resetRange(K){let{head:W}=K.selection.main;this.from=Math.max(0,W-1e4),this.to=Math.min(K.doc.length,W+1e4)}reset(K){this.resetRange(K),this.editContext.updateText(0,this.editContext.text.length,K.doc.sliceString(this.from,this.to)),this.setSelection(K)}revertPending(K){let W=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(W.from),this.toContextPos(W.from+W.insert.length),K.doc.sliceString(W.from,W.to))}setSelection(K){let{main:W}=K.selection,G=this.toContextPos(Math.max(this.from,Math.min(this.to,W.anchor))),U=this.toContextPos(W.head);(this.editContext.selectionStart!=G||this.editContext.selectionEnd!=U)&&this.editContext.updateSelection(G,U)}rangeIsValid(K){let{head:W}=K.selection.main;return!(this.from>0&&W-this.from<500||this.to<K.doc.length&&this.to-W<500||this.to-this.from>1e4*3)}toEditorPos(K,W=this.to-this.from){K=Math.min(K,W);let G=this.composing;return G&&G.drifted?G.editorBase+(K-G.contextBase):K+this.from}toContextPos(K){let W=this.composing;return W&&W.drifted?W.contextBase+(K-W.editorBase):K-this.from}destroy(){for(let K in this.handlers)this.editContext.removeEventListener(K,this.handlers[K])}}class EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(K={}){var W;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),K.parent&&K.parent.appendChild(this.dom);let{dispatch:G}=K;this.dispatchTransactions=K.dispatchTransactions||G&&(U=>U.forEach(X=>G(X,this)))||(U=>this.update(U)),this.dispatch=this.dispatch.bind(this),this._root=K.root||getRoot(K.parent)||document,this.viewState=new ViewState(K.state||EditorState.create(K)),K.scrollTo&&K.scrollTo.is(scrollIntoView$1)&&(this.viewState.scrollTarget=K.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(viewPlugin).map(U=>new PluginInstance(U));for(let U of this.plugins)U.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((W=document.fonts)===null||W===void 0)&&W.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...K){let W=K.length==1&&K[0]instanceof Transaction?K:K.length==1&&Array.isArray(K[0])?K[0]:[this.state.update(...K)];this.dispatchTransactions(W,this)}update(K){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let W=!1,G=!1,U,X=this.state;for(let re of K){if(re.startState!=X)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");X=re.state}if(this.destroyed){this.viewState.state=X;return}let Q=this.hasFocus,Z=0,ee=null;K.some(re=>re.annotation(isFocusChange))?(this.inputState.notifiedFocused=Q,Z=1):Q!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=Q,ee=focusChangeTransaction(X,Q),ee||(Z=1));let ne=this.observer.delayedAndroidKey,te=null;if(ne?(this.observer.clearDelayedAndroidKey(),te=this.observer.readChange(),(te&&!this.state.doc.eq(X.doc)||!this.state.selection.eq(X.selection))&&(te=null)):this.observer.clear(),X.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(X);U=ViewUpdate.create(this,X,K),U.flags|=Z;let oe=this.viewState.scrollTarget;try{this.updateState=2;for(let re of K){if(oe&&(oe=oe.map(re.changes)),re.scrollIntoView){let{main:ae}=re.state.selection;oe=new ScrollTarget(ae.empty?ae:EditorSelection.cursor(ae.head,ae.head>ae.anchor?-1:1))}for(let ae of re.effects)ae.is(scrollIntoView$1)&&(oe=ae.value.clip(this.state))}this.viewState.update(U,oe),this.bidiCache=CachedOrder.update(this.bidiCache,U.changes),U.empty||(this.updatePlugins(U),this.inputState.update(U)),W=this.docView.update(U),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),G=this.updateAttrs(),this.showAnnouncements(K),this.docView.updateSelection(W,K.some(re=>re.isUserEvent("select.pointer")))}finally{this.updateState=0}if(U.startState.facet(theme)!=U.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(W||G||oe||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),W&&this.docViewUpdate(),!U.empty)for(let re of this.state.facet(updateListener))try{re(U)}catch(ae){logException(this.state,ae,"update listener")}(ee||te)&&Promise.resolve().then(()=>{ee&&this.state==ee.startState&&this.dispatch(ee),te&&!applyDOMChange(this,te)&&ne.force&&dispatchKey(this.contentDOM,ne.key,ne.keyCode)})}setState(K){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=K;return}this.updateState=2;let W=this.hasFocus;try{for(let G of this.plugins)G.destroy(this);this.viewState=new ViewState(K),this.plugins=K.facet(viewPlugin).map(G=>new PluginInstance(G)),this.pluginMap.clear();for(let G of this.plugins)G.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}W&&this.focus(),this.requestMeasure()}updatePlugins(K){let W=K.startState.facet(viewPlugin),G=K.state.facet(viewPlugin);if(W!=G){let U=[];for(let X of G){let Q=W.indexOf(X);if(Q<0)U.push(new PluginInstance(X));else{let Z=this.plugins[Q];Z.mustUpdate=K,U.push(Z)}}for(let X of this.plugins)X.mustUpdate!=K&&X.destroy(this);this.plugins=U,this.pluginMap.clear()}else for(let U of this.plugins)U.mustUpdate=K;for(let U=0;U<this.plugins.length;U++)this.plugins[U].update(this);W!=G&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let K of this.plugins){let W=K.value;if(W&&W.docViewUpdate)try{W.docViewUpdate(this)}catch(G){logException(this.state,G,"doc view update listener")}}}measure(K=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,K&&this.observer.forceFlush();let W=null,G=this.scrollDOM,U=G.scrollTop*this.scaleY,{scrollAnchorPos:X,scrollAnchorHeight:Q}=this.viewState;Math.abs(U-this.viewState.scrollTop)>1&&(Q=-1),this.viewState.scrollAnchorHeight=-1;try{for(let Z=0;;Z++){if(Q<0)if(isScrolledToBottom(G))X=-1,Q=this.viewState.heightMap.height;else{let ae=this.viewState.scrollAnchorAt(U);X=ae.from,Q=ae.top}this.updateState=1;let ee=this.viewState.measure(this);if(!ee&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(Z>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let ne=[];ee&4||([this.measureRequests,ne]=[ne,this.measureRequests]);let te=ne.map(ae=>{try{return ae.read(this)}catch(se){return logException(this.state,se),BadMeasure}}),oe=ViewUpdate.create(this,this.state,[]),re=!1;oe.flags|=ee,W?W.flags|=ee:W=oe,this.updateState=2,oe.empty||(this.updatePlugins(oe),this.inputState.update(oe),this.updateAttrs(),re=this.docView.update(oe),re&&this.docViewUpdate());for(let ae=0;ae<ne.length;ae++)if(te[ae]!=BadMeasure)try{let se=ne[ae];se.write&&se.write(te[ae],this)}catch(se){logException(this.state,se)}if(re&&this.docView.updateSelection(!0),!oe.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,Q=-1;continue}else{let se=(X<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(X).top)-Q;if(se>1||se<-1){U=U+se,G.scrollTop=U/this.scaleY,Q=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(W&&!W.empty)for(let Z of this.state.facet(updateListener))Z(W)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let K=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),W={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(W["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,W);let G=this.observer.ignore(()=>{let U=updateAttrs(this.contentDOM,this.contentAttrs,W),X=updateAttrs(this.dom,this.editorAttrs,K);return U||X});return this.editorAttrs=K,this.contentAttrs=W,G}showAnnouncements(K){let W=!0;for(let G of K)for(let U of G.effects)if(U.is(EditorView.announce)){W&&(this.announceDOM.textContent=""),W=!1;let X=this.announceDOM.appendChild(document.createElement("div"));X.textContent=U.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);let K=this.state.facet(EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$3).reverse(),K?{nonce:K}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(K){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),K){if(this.measureRequests.indexOf(K)>-1)return;if(K.key!=null){for(let W=0;W<this.measureRequests.length;W++)if(this.measureRequests[W].key===K.key){this.measureRequests[W]=K;return}}this.measureRequests.push(K)}}plugin(K){let W=this.pluginMap.get(K);return(W===void 0||W&&W.plugin!=K)&&this.pluginMap.set(K,W=this.plugins.find(G=>G.plugin==K)||null),W&&W.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(K){return this.readMeasured(),this.viewState.elementAtHeight(K)}lineBlockAtHeight(K){return this.readMeasured(),this.viewState.lineBlockAtHeight(K)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(K){return this.viewState.lineBlockAt(K)}get contentHeight(){return this.viewState.contentHeight}moveByChar(K,W,G){return skipAtoms(this,K,moveByChar(this,K,W,G))}moveByGroup(K,W){return skipAtoms(this,K,moveByChar(this,K,W,G=>byGroup(this,K.head,G)))}visualLineSide(K,W){let G=this.bidiSpans(K),U=this.textDirectionAt(K.from),X=G[W?G.length-1:0];return EditorSelection.cursor(X.side(W,U)+K.from,X.forward(!W,U)?1:-1)}moveToLineBoundary(K,W,G=!0){return moveToLineBoundary(this,K,W,G)}moveVertically(K,W,G){return skipAtoms(this,K,moveVertically(this,K,W,G))}domAtPos(K){return this.docView.domAtPos(K)}posAtDOM(K,W=0){return this.docView.posFromDOM(K,W)}posAtCoords(K,W=!0){return this.readMeasured(),posAtCoords(this,K,W)}coordsAtPos(K,W=1){this.readMeasured();let G=this.docView.coordsAt(K,W);if(!G||G.left==G.right)return G;let U=this.state.doc.lineAt(K),X=this.bidiSpans(U),Q=X[BidiSpan.find(X,K-U.from,-1,W)];return flattenRect(G,Q.dir==Direction.LTR==W>0)}coordsForChar(K){return this.readMeasured(),this.docView.coordsForChar(K)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(K){return!this.state.facet(perLineTextDirection)||K<this.viewport.from||K>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(K))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(K){if(K.length>MaxBidiLine)return trivialOrder(K.length);let W=this.textDirectionAt(K.from),G;for(let X of this.bidiCache)if(X.from==K.from&&X.dir==W&&(X.fresh||isolatesEq(X.isolates,G=getIsolatedRanges(this,K))))return X.order;G||(G=getIsolatedRanges(this,K));let U=computeOrder(K.text,W,G);return this.bidiCache.push(new CachedOrder(K.from,K.to,W,G,!0,U)),U}get hasFocus(){var K;return(this.dom.ownerDocument.hasFocus()||browser.safari&&((K=this.inputState)===null||K===void 0?void 0:K.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(K){this._root!=K&&(this._root=K,this.observer.setWindow((K.nodeType==9?K:K.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let K of this.plugins)K.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(K,W={}){return scrollIntoView$1.of(new ScrollTarget(typeof K=="number"?EditorSelection.cursor(K):K,W.y,W.x,W.yMargin,W.xMargin))}scrollSnapshot(){let{scrollTop:K,scrollLeft:W}=this.scrollDOM,G=this.viewState.scrollAnchorAt(K);return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(G.from),"start","start",G.top-K,W,!0))}setTabFocusMode(K){K==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof K=="boolean"?this.inputState.tabFocusMode=K?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+K)}static domEventHandlers(K){return ViewPlugin.define(()=>({}),{eventHandlers:K})}static domEventObservers(K){return ViewPlugin.define(()=>({}),{eventObservers:K})}static theme(K,W){let G=StyleModule.newName(),U=[theme.of(G),styleModule.of(buildTheme(`.${G}`,K))];return W&&W.dark&&U.push(darkTheme.of(!0)),U}static baseTheme(K){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,K,lightDarkIDs)))}static findFromDOM(K){var W;let G=K.querySelector(".cm-content"),U=G&&ContentView.get(G)||ContentView.get(K);return((W=U?.rootView)===null||W===void 0?void 0:W.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.clipboardInputFilter=clipboardInputFilter;EditorView.clipboardOutputFilter=clipboardOutputFilter;EditorView.scrollHandler=scrollHandler;EditorView.focusChangeEffect=focusChangeEffect;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.outerDecorations=outerDecorations;EditorView.atomicRanges=atomicRanges;EditorView.bidiIsolatedRanges=bidiIsolatedRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.cspNonce=Facet.define({combine:H=>H.length?H[0]:""});EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(K,W,G,U,X,Q){this.from=K,this.to=W,this.dir=G,this.isolates=U,this.fresh=X,this.order=Q}static update(K,W){if(W.empty&&!K.some(X=>X.fresh))return K;let G=[],U=K.length?K[K.length-1].dir:Direction.LTR;for(let X=Math.max(0,K.length-10);X<K.length;X++){let Q=K[X];Q.dir==U&&!W.touchesRange(Q.from,Q.to)&&G.push(new CachedOrder(W.mapPos(Q.from,1),W.mapPos(Q.to,-1),Q.dir,Q.isolates,!1,Q.order))}return G}}function attrsFromFacet(H,K,W){for(let G=H.state.facet(K),U=G.length-1;U>=0;U--){let X=G[U],Q=typeof X=="function"?X(H):X;Q&&combineAttrs(Q,W)}return W}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(H,K){const W=H.split(/-(?!$)/);let G=W[W.length-1];G=="Space"&&(G=" ");let U,X,Q,Z;for(let ee=0;ee<W.length-1;++ee){const ne=W[ee];if(/^(cmd|meta|m)$/i.test(ne))Z=!0;else if(/^a(lt)?$/i.test(ne))U=!0;else if(/^(c|ctrl|control)$/i.test(ne))X=!0;else if(/^s(hift)?$/i.test(ne))Q=!0;else if(/^mod$/i.test(ne))K=="mac"?Z=!0:X=!0;else throw new Error("Unrecognized modifier name: "+ne)}return U&&(G="Alt-"+G),X&&(G="Ctrl-"+G),Z&&(G="Meta-"+G),Q&&(G="Shift-"+G),G}function modifiers(H,K,W){return K.altKey&&(H="Alt-"+H),K.ctrlKey&&(H="Ctrl-"+H),K.metaKey&&(H="Meta-"+H),W!==!1&&K.shiftKey&&(H="Shift-"+H),H}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(H,K){return runHandlers(getKeymap(K.state),H,K,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(H){let K=H.facet(keymap),W=Keymaps.get(K);return W||Keymaps.set(K,W=buildKeymap(K.reduce((G,U)=>G.concat(U),[]))),W}function runScopeHandlers(H,K,W){return runHandlers(getKeymap(H.state),K,H,W)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(H,K=currentPlatform){let W=Object.create(null),G=Object.create(null),U=(Q,Z)=>{let ee=G[Q];if(ee==null)G[Q]=Z;else if(ee!=Z)throw new Error("Key binding "+Q+" is used both as a regular binding and as a multi-stroke prefix")},X=(Q,Z,ee,ne,te)=>{var oe,re;let ae=W[Q]||(W[Q]=Object.create(null)),se=Z.split(/ (?!$)/).map(le=>normalizeKeyName(le,K));for(let le=1;le<se.length;le++){let fe=se.slice(0,le).join(" ");U(fe,!0),ae[fe]||(ae[fe]={preventDefault:!0,stopPropagation:!1,run:[pe=>{let me=storedPrefix={view:pe,prefix:fe,scope:Q};return setTimeout(()=>{storedPrefix==me&&(storedPrefix=null)},PrefixTimeout),!0}]})}let ce=se.join(" ");U(ce,!1);let de=ae[ce]||(ae[ce]={preventDefault:!1,stopPropagation:!1,run:((re=(oe=ae._any)===null||oe===void 0?void 0:oe.run)===null||re===void 0?void 0:re.slice())||[]});ee&&de.run.push(ee),ne&&(de.preventDefault=!0),te&&(de.stopPropagation=!0)};for(let Q of H){let Z=Q.scope?Q.scope.split(" "):["editor"];if(Q.any)for(let ne of Z){let te=W[ne]||(W[ne]=Object.create(null));te._any||(te._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:oe}=Q;for(let re in te)te[re].run.push(ae=>oe(ae,currentKeyEvent))}let ee=Q[K]||Q.key;if(ee)for(let ne of Z)X(ne,ee,Q.run,Q.preventDefault,Q.stopPropagation),Q.shift&&X(ne,"Shift-"+ee,Q.shift,Q.preventDefault,Q.stopPropagation)}return W}let currentKeyEvent=null;function runHandlers(H,K,W,G){currentKeyEvent=K;let U=keyName(K),X=codePointAt(U,0),Q=codePointSize(X)==U.length&&U!=" ",Z="",ee=!1,ne=!1,te=!1;storedPrefix&&storedPrefix.view==W&&storedPrefix.scope==G&&(Z=storedPrefix.prefix+" ",modifierCodes.indexOf(K.keyCode)<0&&(ne=!0,storedPrefix=null));let oe=new Set,re=de=>{if(de){for(let le of de.run)if(!oe.has(le)&&(oe.add(le),le(W)))return de.stopPropagation&&(te=!0),!0;de.preventDefault&&(de.stopPropagation&&(te=!0),ne=!0)}return!1},ae=H[G],se,ce;return ae&&(re(ae[Z+modifiers(U,K,!Q)])?ee=!0:Q&&(K.altKey||K.metaKey||K.ctrlKey)&&!(browser.windows&&K.ctrlKey&&K.altKey)&&(se=base[K.keyCode])&&se!=U?(re(ae[Z+modifiers(se,K,!0)])||K.shiftKey&&(ce=shift[K.keyCode])!=U&&ce!=se&&re(ae[Z+modifiers(ce,K,!1)]))&&(ee=!0):Q&&K.shiftKey&&re(ae[Z+modifiers(U,K,!0)])&&(ee=!0),!ee&&re(ae._any)&&(ee=!0)),ne&&(ee=!0),ee&&te&&K.stopPropagation(),currentKeyEvent=null,ee}class RectangleMarker{constructor(K,W,G,U,X){this.className=K,this.left=W,this.top=G,this.width=U,this.height=X}draw(){let K=document.createElement("div");return K.className=this.className,this.adjust(K),K}update(K,W){return W.className!=this.className?!1:(this.adjust(K),!0)}adjust(K){K.style.left=this.left+"px",K.style.top=this.top+"px",this.width!=null&&(K.style.width=this.width+"px"),K.style.height=this.height+"px"}eq(K){return this.left==K.left&&this.top==K.top&&this.width==K.width&&this.height==K.height&&this.className==K.className}static forRange(K,W,G){if(G.empty){let U=K.coordsAtPos(G.head,G.assoc||1);if(!U)return[];let X=getBase(K);return[new RectangleMarker(W,U.left-X.left,U.top-X.top,null,U.bottom-U.top)]}else return rectanglesForRange(K,W,G)}}function getBase(H){let K=H.scrollDOM.getBoundingClientRect();return{left:(H.textDirection==Direction.LTR?K.left:K.right-H.scrollDOM.clientWidth*H.scaleX)-H.scrollDOM.scrollLeft*H.scaleX,top:K.top-H.scrollDOM.scrollTop*H.scaleY}}function wrappedLine(H,K,W,G){let U=H.coordsAtPos(K,W*2);if(!U)return G;let X=H.dom.getBoundingClientRect(),Q=(U.top+U.bottom)/2,Z=H.posAtCoords({x:X.left+1,y:Q}),ee=H.posAtCoords({x:X.right-1,y:Q});return Z==null||ee==null?G:{from:Math.max(G.from,Math.min(Z,ee)),to:Math.min(G.to,Math.max(Z,ee))}}function rectanglesForRange(H,K,W){if(W.to<=H.viewport.from||W.from>=H.viewport.to)return[];let G=Math.max(W.from,H.viewport.from),U=Math.min(W.to,H.viewport.to),X=H.textDirection==Direction.LTR,Q=H.contentDOM,Z=Q.getBoundingClientRect(),ee=getBase(H),ne=Q.querySelector(".cm-line"),te=ne&&window.getComputedStyle(ne),oe=Z.left+(te?parseInt(te.paddingLeft)+Math.min(0,parseInt(te.textIndent)):0),re=Z.right-(te?parseInt(te.paddingRight):0),ae=blockAt(H,G,1),se=blockAt(H,U,-1),ce=ae.type==BlockType.Text?ae:null,de=se.type==BlockType.Text?se:null;if(ce&&(H.lineWrapping||ae.widgetLineBreaks)&&(ce=wrappedLine(H,G,1,ce)),de&&(H.lineWrapping||se.widgetLineBreaks)&&(de=wrappedLine(H,U,-1,de)),ce&&de&&ce.from==de.from&&ce.to==de.to)return fe(pe(W.from,W.to,ce));{let ue=ce?pe(W.from,null,ce):me(ae,!1),ge=de?pe(null,W.to,de):me(se,!0),he=[];return(ce||ae).to<(de||se).from-(ce&&de?1:0)||ae.widgetLineBreaks>1&&ue.bottom+H.defaultLineHeight/2<ge.top?he.push(le(oe,ue.bottom,re,ge.top)):ue.bottom<ge.top&&H.elementAtHeight((ue.bottom+ge.top)/2).type==BlockType.Text&&(ue.bottom=ge.top=(ue.bottom+ge.top)/2),fe(ue).concat(he).concat(fe(ge))}function le(ue,ge,he,ve){return new RectangleMarker(K,ue-ee.left,ge-ee.top,he-ue,ve-ge)}function fe({top:ue,bottom:ge,horizontal:he}){let ve=[];for(let ye=0;ye<he.length;ye+=2)ve.push(le(he[ye],ue,he[ye+1],ge));return ve}function pe(ue,ge,he){let ve=1e9,ye=-1e9,be=[];function Se(Ne,$e,Ee,Te,Be){let Ae=H.coordsAtPos(Ne,Ne==he.to?-2:2),ze=H.coordsAtPos(Ee,Ee==he.from?2:-2);!Ae||!ze||(ve=Math.min(Ae.top,ze.top,ve),ye=Math.max(Ae.bottom,ze.bottom,ye),Be==Direction.LTR?be.push(X&&$e?oe:Ae.left,X&&Te?re:ze.right):be.push(!X&&Te?oe:ze.left,!X&&$e?re:Ae.right))}let Ce=ue??he.from,xe=ge??he.to;for(let Ne of H.visibleRanges)if(Ne.to>Ce&&Ne.from<xe)for(let $e=Math.max(Ne.from,Ce),Ee=Math.min(Ne.to,xe);;){let Te=H.state.doc.lineAt($e);for(let Be of H.bidiSpans(Te)){let Ae=Be.from+Te.from,ze=Be.to+Te.from;if(Ae>=Ee)break;ze>$e&&Se(Math.max(Ae,$e),ue==null&&Ae<=Ce,Math.min(ze,Ee),ge==null&&ze>=xe,Be.dir)}if($e=Te.to+1,$e>=Ee)break}return be.length==0&&Se(Ce,ue==null,xe,ge==null,H.textDirection),{top:ve,bottom:ye,horizontal:be}}function me(ue,ge){let he=Z.top+(ge?ue.top:ue.bottom);return{top:he,bottom:he,horizontal:[]}}}function sameMarker(H,K){return H.constructor==K.constructor&&H.eq(K)}class LayerView{constructor(K,W){this.view=K,this.layer=W,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=K.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),W.above&&this.dom.classList.add("cm-layer-above"),W.class&&this.dom.classList.add(W.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(K.state),K.requestMeasure(this.measureReq),W.mount&&W.mount(this.dom,K)}update(K){K.startState.facet(layerOrder)!=K.state.facet(layerOrder)&&this.setOrder(K.state),(this.layer.update(K,this.dom)||K.geometryChanged)&&(this.scale(),K.view.requestMeasure(this.measureReq))}docViewUpdate(K){this.layer.updateOnDocViewUpdate!==!1&&K.requestMeasure(this.measureReq)}setOrder(K){let W=0,G=K.facet(layerOrder);for(;W<G.length&&G[W]!=this.layer;)W++;this.dom.style.zIndex=String((this.layer.above?150:-1)-W)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:K,scaleY:W}=this.view;(K!=this.scaleX||W!=this.scaleY)&&(this.scaleX=K,this.scaleY=W,this.dom.style.transform=`scale(${1/K}, ${1/W})`)}draw(K){if(K.length!=this.drawn.length||K.some((W,G)=>!sameMarker(W,this.drawn[G]))){let W=this.dom.firstChild,G=0;for(let U of K)U.update&&W&&U.constructor&&this.drawn[G].constructor&&U.update(W,this.drawn[G])?(W=W.nextSibling,G++):this.dom.insertBefore(U.draw(),W);for(;W;){let U=W.nextSibling;W.remove(),W=U}this.drawn=K}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(H){return[ViewPlugin.define(K=>new LayerView(K,H)),layerOrder.of(H)]}const selectionConfig=Facet.define({combine(H){return combineConfig(H,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(K,W)=>Math.min(K,W),drawRangeCursor:(K,W)=>K||W})}});function drawSelection(H={}){return[selectionConfig.of(H),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(!0)]}function configChanged(H){return H.startState.facet(selectionConfig)!=H.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(H){let{state:K}=H,W=K.facet(selectionConfig),G=[];for(let U of K.selection.ranges){let X=U==K.selection.main;if(U.empty||W.drawRangeCursor){let Q=X?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",Z=U.empty?U:EditorSelection.cursor(U.head,U.head>U.anchor?-1:1);for(let ee of RectangleMarker.forRange(H,Q,Z))G.push(ee)}}return G},update(H,K){H.transactions.some(G=>G.selection)&&(K.style.animationName=K.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let W=configChanged(H);return W&&setBlinkRate(H.state,K),H.docChanged||H.selectionSet||W},mount(H,K){setBlinkRate(K.state,H)},class:"cm-cursorLayer"});function setBlinkRate(H,K){K.style.animationDuration=H.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(H){return H.state.selection.ranges.map(K=>K.empty?[]:RectangleMarker.forRange(H,"cm-selectionBackground",K)).reduce((K,W)=>K.concat(W))},update(H,K){return H.docChanged||H.selectionSet||H.viewportChanged||configChanged(H)},class:"cm-selectionLayer"}),hideNativeSelection=Prec.highest(EditorView.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),setDropCursorPos=StateEffect.define({map(H,K){return H==null?null:K.mapPos(H)}}),dropCursorPos=StateField.define({create(){return null},update(H,K){return H!=null&&(H=K.changes.mapPos(H)),K.effects.reduce((W,G)=>G.is(setDropCursorPos)?G.value:W,H)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(H){this.view=H,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(H){var K;let W=H.state.field(dropCursorPos);W==null?this.cursor!=null&&((K=this.cursor)===null||K===void 0||K.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(H.startState.field(dropCursorPos)!=W||H.docChanged||H.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:H}=this,K=H.state.field(dropCursorPos),W=K!=null&&H.coordsAtPos(K);if(!W)return null;let G=H.scrollDOM.getBoundingClientRect();return{left:W.left-G.left+H.scrollDOM.scrollLeft*H.scaleX,top:W.top-G.top+H.scrollDOM.scrollTop*H.scaleY,height:W.bottom-W.top}}drawCursor(H){if(this.cursor){let{scaleX:K,scaleY:W}=this.view;H?(this.cursor.style.left=H.left/K+"px",this.cursor.style.top=H.top/W+"px",this.cursor.style.height=H.height/W+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(H){this.view.state.field(dropCursorPos)!=H&&this.view.dispatch({effects:setDropCursorPos.of(H)})}},{eventObservers:{dragover(H){this.setDropPos(this.view.posAtCoords({x:H.clientX,y:H.clientY}))},dragleave(H){(H.target==this.view.contentDOM||!this.view.contentDOM.contains(H.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(H,K,W,G,U){K.lastIndex=0;for(let X=H.iterRange(W,G),Q=W,Z;!X.next().done;Q+=X.value.length)if(!X.lineBreak)for(;Z=K.exec(X.value);)U(Q+Z.index,Z)}function matchRanges(H,K){let W=H.visibleRanges;if(W.length==1&&W[0].from==H.viewport.from&&W[0].to==H.viewport.to)return W;let G=[];for(let{from:U,to:X}of W)U=Math.max(H.state.doc.lineAt(U).from,U-K),X=Math.min(H.state.doc.lineAt(X).to,X+K),G.length&&G[G.length-1].to>=U?G[G.length-1].to=X:G.push({from:U,to:X});return G}class MatchDecorator{constructor(K){const{regexp:W,decoration:G,decorate:U,boundary:X,maxLength:Q=1e3}=K;if(!W.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=W,U)this.addMatch=(Z,ee,ne,te)=>U(te,ne,ne+Z[0].length,Z,ee);else if(typeof G=="function")this.addMatch=(Z,ee,ne,te)=>{let oe=G(Z,ee,ne);oe&&te(ne,ne+Z[0].length,oe)};else if(G)this.addMatch=(Z,ee,ne,te)=>te(ne,ne+Z[0].length,G);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=X,this.maxLength=Q}createDeco(K){let W=new RangeSetBuilder,G=W.add.bind(W);for(let{from:U,to:X}of matchRanges(K,this.maxLength))iterMatches(K.state.doc,this.regexp,U,X,(Q,Z)=>this.addMatch(Z,K,Q,G));return W.finish()}updateDeco(K,W){let G=1e9,U=-1;return K.docChanged&&K.changes.iterChanges((X,Q,Z,ee)=>{ee>=K.view.viewport.from&&Z<=K.view.viewport.to&&(G=Math.min(Z,G),U=Math.max(ee,U))}),K.viewportMoved||U-G>1e3?this.createDeco(K.view):U>-1?this.updateRange(K.view,W.map(K.changes),G,U):W}updateRange(K,W,G,U){for(let X of K.visibleRanges){let Q=Math.max(X.from,G),Z=Math.min(X.to,U);if(Z>=Q){let ee=K.state.doc.lineAt(Q),ne=ee.to<Z?K.state.doc.lineAt(Z):ee,te=Math.max(X.from,ee.from),oe=Math.min(X.to,ne.to);if(this.boundary){for(;Q>ee.from;Q--)if(this.boundary.test(ee.text[Q-1-ee.from])){te=Q;break}for(;Z<ne.to;Z++)if(this.boundary.test(ne.text[Z-ne.from])){oe=Z;break}}let re=[],ae,se=(ce,de,le)=>re.push(le.range(ce,de));if(ee==ne)for(this.regexp.lastIndex=te-ee.from;(ae=this.regexp.exec(ee.text))&&ae.index<oe-ee.from;)this.addMatch(ae,K,ae.index+ee.from,se);else iterMatches(K.state.doc,this.regexp,te,oe,(ce,de)=>this.addMatch(de,K,ce,se));W=W.update({filterFrom:te,filterTo:oe,filter:(ce,de)=>ce<te||de>oe,add:re})}}return W}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var H;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let K=document.body.style;_supportsTabSize=((H=K.tabSize)!==null&&H!==void 0?H:K.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(H){let K=combineConfig(H,{render:null,specialChars:Specials,addSpecialChars:null});return(K.replaceTabs=!supportsTabSize())&&(K.specialChars=new RegExp("	|"+K.specialChars.source,UnicodeRegexpSupport)),K.addSpecialChars&&(K.specialChars=new RegExp(K.specialChars.source+"|"+K.addSpecialChars.source,UnicodeRegexpSupport)),K}});function highlightSpecialChars(H={}){return[specialCharConfig.of(H),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(H){this.view=H,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(H.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(H)}makeDecorator(H){return new MatchDecorator({regexp:H.specialChars,decoration:(K,W,G)=>{let{doc:U}=W.state,X=codePointAt(K[0],0);if(X==9){let Q=U.lineAt(G),Z=W.state.tabSize,ee=countColumn(Q.text,Z,G-Q.from);return Decoration.replace({widget:new TabWidget((Z-ee%Z)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[X]||(this.decorationCache[X]=Decoration.replace({widget:new SpecialCharWidget(H,X)}))},boundary:H.replaceTabs?void 0:/[^]/})}update(H){let K=H.state.facet(specialCharConfig);H.startState.facet(specialCharConfig)!=K?(this.decorator=this.makeDecorator(K),this.decorations=this.decorator.createDeco(H.view)):this.decorations=this.decorator.updateDeco(H,this.decorations)}},{decorations:H=>H.decorations}))}const DefaultPlaceholder="";function placeholder$1(H){return H>=32?DefaultPlaceholder:H==10?"":String.fromCharCode(9216+H)}class SpecialCharWidget extends WidgetType{constructor(K,W){super(),this.options=K,this.code=W}eq(K){return K.code==this.code}toDOM(K){let W=placeholder$1(this.code),G=K.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),U=this.options.render&&this.options.render(this.code,G,W);if(U)return U;let X=document.createElement("span");return X.textContent=W,X.title=G,X.setAttribute("aria-label",G),X.className="cm-specialChar",X}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(K){super(),this.width=K}eq(K){return K.width==this.width}toDOM(){let K=document.createElement("span");return K.textContent="	",K.className="cm-tab",K.style.width=this.width+"px",K}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(H){this.decorations=this.getDeco(H)}update(H){(H.docChanged||H.selectionSet)&&(this.decorations=this.getDeco(H.view))}getDeco(H){let K=-1,W=[];for(let G of H.state.selection.ranges){let U=H.lineBlockAt(G.head);U.from>K&&(W.push(lineDeco.range(U.from)),K=U.from)}return Decoration.set(W)}},{decorations:H=>H.decorations}),MaxOff=2e3;function rectangleFor(H,K,W){let G=Math.min(K.line,W.line),U=Math.max(K.line,W.line),X=[];if(K.off>MaxOff||W.off>MaxOff||K.col<0||W.col<0){let Q=Math.min(K.off,W.off),Z=Math.max(K.off,W.off);for(let ee=G;ee<=U;ee++){let ne=H.doc.line(ee);ne.length<=Z&&X.push(EditorSelection.range(ne.from+Q,ne.to+Z))}}else{let Q=Math.min(K.col,W.col),Z=Math.max(K.col,W.col);for(let ee=G;ee<=U;ee++){let ne=H.doc.line(ee),te=findColumn(ne.text,Q,H.tabSize,!0);if(te<0)X.push(EditorSelection.cursor(ne.to));else{let oe=findColumn(ne.text,Z,H.tabSize);X.push(EditorSelection.range(ne.from+te,ne.from+oe))}}}return X}function absoluteColumn(H,K){let W=H.coordsAtPos(H.viewport.from);return W?Math.round(Math.abs((W.left-K)/H.defaultCharacterWidth)):-1}function getPos(H,K){let W=H.posAtCoords({x:K.clientX,y:K.clientY},!1),G=H.state.doc.lineAt(W),U=W-G.from,X=U>MaxOff?-1:U==G.length?absoluteColumn(H,K.clientX):countColumn(G.text,H.state.tabSize,W-G.from);return{line:G.number,col:X,off:U}}function rectangleSelectionStyle(H,K){let W=getPos(H,K),G=H.state.selection;return W?{update(U){if(U.docChanged){let X=U.changes.mapPos(U.startState.doc.line(W.line).from),Q=U.state.doc.lineAt(X);W={line:Q.number,col:W.col,off:Math.min(W.off,Q.length)},G=G.map(U.changes)}},get(U,X,Q){let Z=getPos(H,U);if(!Z)return G;let ee=rectangleFor(H.state,W,Z);return ee.length?Q?EditorSelection.create(ee.concat(G.ranges)):EditorSelection.create(ee):G}}:null}function rectangularSelection(H){let K=W=>W.altKey&&W.button==0;return EditorView.mouseSelectionStyle.of((W,G)=>K(G)?rectangleSelectionStyle(W,G):null)}const keys={Alt:[18,H=>!!H.altKey],Control:[17,H=>!!H.ctrlKey],Shift:[16,H=>!!H.shiftKey],Meta:[91,H=>!!H.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(H={}){let[K,W]=keys[H.key||"Alt"],G=ViewPlugin.fromClass(class{constructor(U){this.view=U,this.isDown=!1}set(U){this.isDown!=U&&(this.isDown=U,this.view.update([]))}},{eventObservers:{keydown(U){this.set(U.keyCode==K||W(U))},keyup(U){(U.keyCode==K||!W(U))&&this.set(!1)},mousemove(U){this.set(W(U))}}});return[G,EditorView.contentAttributes.of(U=>{var X;return!((X=U.plugin(G))===null||X===void 0)&&X.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(K,W,G,U){this.facet=W,this.createTooltipView=G,this.removeTooltipView=U,this.input=K.state.facet(W),this.tooltips=this.input.filter(Q=>Q);let X=null;this.tooltipViews=this.tooltips.map(Q=>X=G(Q,X))}update(K,W){var G;let U=K.state.facet(this.facet),X=U.filter(ee=>ee);if(U===this.input){for(let ee of this.tooltipViews)ee.update&&ee.update(K);return!1}let Q=[],Z=W?[]:null;for(let ee=0;ee<X.length;ee++){let ne=X[ee],te=-1;if(ne){for(let oe=0;oe<this.tooltips.length;oe++){let re=this.tooltips[oe];re&&re.create==ne.create&&(te=oe)}if(te<0)Q[ee]=this.createTooltipView(ne,ee?Q[ee-1]:null),Z&&(Z[ee]=!!ne.above);else{let oe=Q[ee]=this.tooltipViews[te];Z&&(Z[ee]=W[te]),oe.update&&oe.update(K)}}}for(let ee of this.tooltipViews)Q.indexOf(ee)<0&&(this.removeTooltipView(ee),(G=ee.destroy)===null||G===void 0||G.call(ee));return W&&(Z.forEach((ee,ne)=>W[ne]=ee),W.length=Z.length),this.input=U,this.tooltips=X,this.tooltipViews=Q,!0}}function windowSpace(H){let K=H.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:K.clientHeight,right:K.clientWidth}}const tooltipConfig=Facet.define({combine:H=>{var K,W,G;return{position:browser.ios?"absolute":((K=H.find(U=>U.position))===null||K===void 0?void 0:K.position)||"fixed",parent:((W=H.find(U=>U.parent))===null||W===void 0?void 0:W.parent)||null,tooltipSpace:((G=H.find(U=>U.tooltipSpace))===null||G===void 0?void 0:G.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(H){this.view=H,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let K=H.state.facet(tooltipConfig);this.position=K.position,this.parent=K.parent,this.classes=H.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(H,showTooltip,(W,G)=>this.createTooltip(W,G),W=>{this.resizeObserver&&this.resizeObserver.unobserve(W.dom),W.dom.remove()}),this.above=this.manager.tooltips.map(W=>!!W.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(W=>{Date.now()>this.lastTransaction-50&&W.length>0&&W[W.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),H.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let H of this.manager.tooltipViews)this.intersectionObserver.observe(H.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(H){H.transactions.length&&(this.lastTransaction=Date.now());let K=this.manager.update(H,this.above);K&&this.observeIntersection();let W=K||H.geometryChanged,G=H.state.facet(tooltipConfig);if(G.position!=this.position&&!this.madeAbsolute){this.position=G.position;for(let U of this.manager.tooltipViews)U.dom.style.position=this.position;W=!0}if(G.parent!=this.parent){this.parent&&this.container.remove(),this.parent=G.parent,this.createContainer();for(let U of this.manager.tooltipViews)this.container.appendChild(U.dom);W=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);W&&this.maybeMeasure()}createTooltip(H,K){let W=H.create(this.view),G=K?K.dom:null;if(W.dom.classList.add("cm-tooltip"),H.arrow&&!W.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let U=document.createElement("div");U.className="cm-tooltip-arrow",W.dom.appendChild(U)}return W.dom.style.position=this.position,W.dom.style.top=Outside,W.dom.style.left="0px",this.container.insertBefore(W.dom,G),W.mount&&W.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(W.dom),W}destroy(){var H,K,W;this.view.win.removeEventListener("resize",this.measureSoon);for(let G of this.manager.tooltipViews)G.dom.remove(),(H=G.destroy)===null||H===void 0||H.call(G);this.parent&&this.container.remove(),(K=this.resizeObserver)===null||K===void 0||K.disconnect(),(W=this.intersectionObserver)===null||W===void 0||W.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let H=1,K=1,W=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:X}=this.manager.tooltipViews[0];if(browser.gecko)W=X.offsetParent!=this.container.ownerDocument.body;else if(X.style.top==Outside&&X.style.left=="0px"){let Q=X.getBoundingClientRect();W=Math.abs(Q.top+1e4)>1||Math.abs(Q.left)>1}}if(W||this.position=="absolute")if(this.parent){let X=this.parent.getBoundingClientRect();X.width&&X.height&&(H=X.width/this.parent.offsetWidth,K=X.height/this.parent.offsetHeight)}else({scaleX:H,scaleY:K}=this.view.viewState);let G=this.view.scrollDOM.getBoundingClientRect(),U=getScrollMargins(this.view);return{visible:{left:G.left+U.left,top:G.top+U.top,right:G.right-U.right,bottom:G.bottom-U.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((X,Q)=>{let Z=this.manager.tooltipViews[Q];return Z.getCoords?Z.getCoords(X.pos):this.view.coordsAtPos(X.pos)}),size:this.manager.tooltipViews.map(({dom:X})=>X.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view),scaleX:H,scaleY:K,makeAbsolute:W}}writeMeasure(H){var K;if(H.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let Z of this.manager.tooltipViews)Z.dom.style.position="absolute"}let{visible:W,space:G,scaleX:U,scaleY:X}=H,Q=[];for(let Z=0;Z<this.manager.tooltips.length;Z++){let ee=this.manager.tooltips[Z],ne=this.manager.tooltipViews[Z],{dom:te}=ne,oe=H.pos[Z],re=H.size[Z];if(!oe||ee.clip!==!1&&(oe.bottom<=Math.max(W.top,G.top)||oe.top>=Math.min(W.bottom,G.bottom)||oe.right<Math.max(W.left,G.left)-.1||oe.left>Math.min(W.right,G.right)+.1)){te.style.top=Outside;continue}let ae=ee.arrow?ne.dom.querySelector(".cm-tooltip-arrow"):null,se=ae?7:0,ce=re.right-re.left,de=(K=knownHeight.get(ne))!==null&&K!==void 0?K:re.bottom-re.top,le=ne.offset||noOffset,fe=this.view.textDirection==Direction.LTR,pe=re.width>G.right-G.left?fe?G.left:G.right-re.width:fe?Math.max(G.left,Math.min(oe.left-(ae?14:0)+le.x,G.right-ce)):Math.min(Math.max(G.left,oe.left-ce+(ae?14:0)-le.x),G.right-ce),me=this.above[Z];!ee.strictSide&&(me?oe.top-de-se-le.y<G.top:oe.bottom+de+se+le.y>G.bottom)&&me==G.bottom-oe.bottom>oe.top-G.top&&(me=this.above[Z]=!me);let ue=(me?oe.top-G.top:G.bottom-oe.bottom)-se;if(ue<de&&ne.resize!==!1){if(ue<this.view.defaultLineHeight){te.style.top=Outside;continue}knownHeight.set(ne,de),te.style.height=(de=ue)/X+"px"}else te.style.height&&(te.style.height="");let ge=me?oe.top-de-se-le.y:oe.bottom+se+le.y,he=pe+ce;if(ne.overlap!==!0)for(let ve of Q)ve.left<he&&ve.right>pe&&ve.top<ge+de&&ve.bottom>ge&&(ge=me?ve.top-de-2-se:ve.bottom+se+2);if(this.position=="absolute"?(te.style.top=(ge-H.parent.top)/X+"px",setLeftStyle(te,(pe-H.parent.left)/U)):(te.style.top=ge/X+"px",setLeftStyle(te,pe/U)),ae){let ve=oe.left+(fe?le.x:-le.x)-(pe+14-7);ae.style.left=ve/U+"px"}ne.overlap!==!0&&Q.push({left:pe,top:ge,right:he,bottom:ge+de}),te.classList.toggle("cm-tooltip-above",me),te.classList.toggle("cm-tooltip-below",!me),ne.positioned&&ne.positioned(H.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let H of this.manager.tooltipViews)H.dom.style.top=Outside}},{eventObservers:{scroll(){this.maybeMeasure()}}});function setLeftStyle(H,K){let W=parseInt(H.style.left,10);(isNaN(W)||Math.abs(K-W)>1)&&(H.style.left=K+"px")}const baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$4]}),showHoverTooltip=Facet.define({combine:H=>H.reduce((K,W)=>K.concat(W),[])});class HoverTooltipHost{static create(K){return new HoverTooltipHost(K)}constructor(K){this.view=K,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(K,showHoverTooltip,(W,G)=>this.createHostedView(W,G),W=>W.dom.remove())}createHostedView(K,W){let G=K.create(this.view);return G.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(G.dom,W?W.dom.nextSibling:this.dom.firstChild),this.mounted&&G.mount&&G.mount(this.view),G}mount(K){for(let W of this.manager.tooltipViews)W.mount&&W.mount(K);this.mounted=!0}positioned(K){for(let W of this.manager.tooltipViews)W.positioned&&W.positioned(K)}update(K){this.manager.update(K)}destroy(){var K;for(let W of this.manager.tooltipViews)(K=W.destroy)===null||K===void 0||K.call(W)}passProp(K){let W;for(let G of this.manager.tooltipViews){let U=G[K];if(U!==void 0){if(W===void 0)W=U;else if(W!==U)return}}return W}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],H=>{let K=H.facet(showHoverTooltip);return K.length===0?null:{pos:Math.min(...K.map(W=>W.pos)),end:Math.max(...K.map(W=>{var G;return(G=W.end)!==null&&G!==void 0?G:W.pos})),create:HoverTooltipHost.create,above:K[0].above,arrow:K.some(W=>W.arrow)}});class HoverPlugin{constructor(K,W,G,U,X){this.view=K,this.source=W,this.field=G,this.setHover=U,this.hoverTime=X,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:K.dom,time:0},this.checkHover=this.checkHover.bind(this),K.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),K.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let K=Date.now()-this.lastMove.time;K<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-K):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:K,lastMove:W}=this,G=K.docView.nearest(W.target);if(!G)return;let U,X=1;if(G instanceof WidgetView)U=G.posAtStart;else{if(U=K.posAtCoords(W),U==null)return;let Z=K.coordsAtPos(U);if(!Z||W.y<Z.top||W.y>Z.bottom||W.x<Z.left-K.defaultCharacterWidth||W.x>Z.right+K.defaultCharacterWidth)return;let ee=K.bidiSpans(K.state.doc.lineAt(U)).find(te=>te.from<=U&&te.to>=U),ne=ee&&ee.dir==Direction.RTL?-1:1;X=W.x<Z.left?-ne:ne}let Q=this.source(K,U,X);if(Q?.then){let Z=this.pending={pos:U};Q.then(ee=>{this.pending==Z&&(this.pending=null,ee&&!(Array.isArray(ee)&&!ee.length)&&K.dispatch({effects:this.setHover.of(Array.isArray(ee)?ee:[ee])}))},ee=>logException(K.state,ee,"hover tooltip"))}else Q&&!(Array.isArray(Q)&&!Q.length)&&K.dispatch({effects:this.setHover.of(Array.isArray(Q)?Q:[Q])})}get tooltip(){let K=this.view.plugin(tooltipPlugin),W=K?K.manager.tooltips.findIndex(G=>G.create==HoverTooltipHost.create):-1;return W>-1?K.manager.tooltipViews[W]:null}mousemove(K){var W,G;this.lastMove={x:K.clientX,y:K.clientY,target:K.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:U,tooltip:X}=this;if(U.length&&X&&!isInTooltip(X.dom,K)||this.pending){let{pos:Q}=U[0]||this.pending,Z=(G=(W=U[0])===null||W===void 0?void 0:W.end)!==null&&G!==void 0?G:Q;(Q==Z?this.view.posAtCoords(this.lastMove)!=Q:!isOverRange(this.view,Q,Z,K.clientX,K.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(K){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:W}=this;if(W.length){let{tooltip:G}=this;G&&G.dom.contains(K.relatedTarget)?this.watchTooltipLeave(G.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(K){let W=G=>{K.removeEventListener("mouseleave",W),this.active.length&&!this.view.dom.contains(G.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};K.addEventListener("mouseleave",W)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const tooltipMargin=4;function isInTooltip(H,K){let{left:W,right:G,top:U,bottom:X}=H.getBoundingClientRect(),Q;if(Q=H.querySelector(".cm-tooltip-arrow")){let Z=Q.getBoundingClientRect();U=Math.min(Z.top,U),X=Math.max(Z.bottom,X)}return K.clientX>=W-tooltipMargin&&K.clientX<=G+tooltipMargin&&K.clientY>=U-tooltipMargin&&K.clientY<=X+tooltipMargin}function isOverRange(H,K,W,G,U,X){let Q=H.scrollDOM.getBoundingClientRect(),Z=H.documentTop+H.documentPadding.top+H.contentHeight;if(Q.left>G||Q.right<G||Q.top>U||Math.min(Q.bottom,Z)<U)return!1;let ee=H.posAtCoords({x:G,y:U},!1);return ee>=K&&ee<=W}function hoverTooltip(H,K={}){let W=StateEffect.define(),G=StateField.define({create(){return[]},update(U,X){if(U.length&&(K.hideOnChange&&(X.docChanged||X.selection)?U=[]:K.hideOn&&(U=U.filter(Q=>!K.hideOn(X,Q))),X.docChanged)){let Q=[];for(let Z of U){let ee=X.changes.mapPos(Z.pos,-1,MapMode.TrackDel);if(ee!=null){let ne=Object.assign(Object.create(null),Z);ne.pos=ee,ne.end!=null&&(ne.end=X.changes.mapPos(ne.end)),Q.push(ne)}}U=Q}for(let Q of X.effects)Q.is(W)&&(U=Q.value),Q.is(closeHoverTooltipEffect)&&(U=[]);return U},provide:U=>showHoverTooltip.from(U)});return{active:G,extension:[G,ViewPlugin.define(U=>new HoverPlugin(U,H,G,W,K.hoverTime||300)),showHoverTooltipHost]}}function getTooltip(H,K){let W=H.plugin(tooltipPlugin);if(!W)return null;let G=W.manager.tooltips.indexOf(K);return G<0?null:W.manager.tooltipViews[G]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(H){let K,W;for(let G of H)K=K||G.topContainer,W=W||G.bottomContainer;return{topContainer:K,bottomContainer:W}}});function getPanel(H,K){let W=H.plugin(panelPlugin),G=W?W.specs.indexOf(K):-1;return G>-1?W.panels[G]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(H){this.input=H.state.facet(showPanel),this.specs=this.input.filter(W=>W),this.panels=this.specs.map(W=>W(H));let K=H.state.facet(panelConfig);this.top=new PanelGroup(H,!0,K.topContainer),this.bottom=new PanelGroup(H,!1,K.bottomContainer),this.top.sync(this.panels.filter(W=>W.top)),this.bottom.sync(this.panels.filter(W=>!W.top));for(let W of this.panels)W.dom.classList.add("cm-panel"),W.mount&&W.mount()}update(H){let K=H.state.facet(panelConfig);this.top.container!=K.topContainer&&(this.top.sync([]),this.top=new PanelGroup(H.view,!0,K.topContainer)),this.bottom.container!=K.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(H.view,!1,K.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let W=H.state.facet(showPanel);if(W!=this.input){let G=W.filter(ee=>ee),U=[],X=[],Q=[],Z=[];for(let ee of G){let ne=this.specs.indexOf(ee),te;ne<0?(te=ee(H.view),Z.push(te)):(te=this.panels[ne],te.update&&te.update(H)),U.push(te),(te.top?X:Q).push(te)}this.specs=G,this.panels=U,this.top.sync(X),this.bottom.sync(Q);for(let ee of Z)ee.dom.classList.add("cm-panel"),ee.mount&&ee.mount()}else for(let G of this.panels)G.update&&G.update(H)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:H=>EditorView.scrollMargins.of(K=>{let W=K.plugin(H);return W&&{top:W.top.scrollMargin(),bottom:W.bottom.scrollMargin()}})});class PanelGroup{constructor(K,W,G){this.view=K,this.top=W,this.container=G,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(K){for(let W of this.panels)W.destroy&&K.indexOf(W)<0&&W.destroy();this.panels=K,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let W=this.container||this.view.dom;W.insertBefore(this.dom,this.top?W.firstChild:null)}let K=this.dom.firstChild;for(let W of this.panels)if(W.dom.parentNode==this.dom){for(;K!=W.dom;)K=rm(K);K=K.nextSibling}else this.dom.insertBefore(W.dom,K);for(;K;)K=rm(K)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let K of this.classes.split(" "))K&&this.container.classList.remove(K);for(let K of(this.classes=this.view.themeClasses).split(" "))K&&this.container.classList.add(K)}}}function rm(H){let K=H.nextSibling;return H.remove(),K}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(K){return this==K||this.constructor==K.constructor&&this.eq(K)}eq(K){return!1}destroy(K){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),gutterWidgetClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},activeGutters=Facet.define();function gutter(H){return[gutters(),activeGutters.of({...defaults$1,...H})]}const unfixGutters=Facet.define({combine:H=>H.some(K=>K)});function gutters(H){return[gutterView]}const gutterView=ViewPlugin.fromClass(class{constructor(H){this.view=H,this.domAfter=null,this.prevViewport=H.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=H.state.facet(activeGutters).map(K=>new SingleGutterView(H,K)),this.fixed=!H.state.facet(unfixGutters);for(let K of this.gutters)K.config.side=="after"?this.getDOMAfter().appendChild(K.dom):this.dom.appendChild(K.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),H.scrollDOM.insertBefore(this.dom,H.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(H){if(this.updateGutters(H)){let K=this.prevViewport,W=H.view.viewport,G=Math.min(K.to,W.to)-Math.max(K.from,W.from);this.syncGutters(G<(W.to-W.from)*.8)}if(H.geometryChanged){let K=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=K,this.domAfter&&(this.domAfter.style.minHeight=K)}this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=H.view.viewport}syncGutters(H){let K=this.dom.nextSibling;H&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let W=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),G=[],U=this.gutters.map(X=>new UpdateContext(X,this.view.viewport,-this.view.documentPadding.top));for(let X of this.view.viewportLineBlocks)if(G.length&&(G=[]),Array.isArray(X.type)){let Q=!0;for(let Z of X.type)if(Z.type==BlockType.Text&&Q){advanceCursor(W,G,Z.from);for(let ee of U)ee.line(this.view,Z,G);Q=!1}else if(Z.widget)for(let ee of U)ee.widget(this.view,Z)}else if(X.type==BlockType.Text){advanceCursor(W,G,X.from);for(let Q of U)Q.line(this.view,X,G)}else if(X.widget)for(let Q of U)Q.widget(this.view,X);for(let X of U)X.finish();H&&(this.view.scrollDOM.insertBefore(this.dom,K),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(H){let K=H.startState.facet(activeGutters),W=H.state.facet(activeGutters),G=H.docChanged||H.heightChanged||H.viewportChanged||!RangeSet.eq(H.startState.facet(gutterLineClass),H.state.facet(gutterLineClass),H.view.viewport.from,H.view.viewport.to);if(K==W)for(let U of this.gutters)U.update(H)&&(G=!0);else{G=!0;let U=[];for(let X of W){let Q=K.indexOf(X);Q<0?U.push(new SingleGutterView(this.view,X)):(this.gutters[Q].update(H),U.push(this.gutters[Q]))}for(let X of this.gutters)X.dom.remove(),U.indexOf(X)<0&&X.destroy();for(let X of U)X.config.side=="after"?this.getDOMAfter().appendChild(X.dom):this.dom.appendChild(X.dom);this.gutters=U}return G}destroy(){for(let H of this.gutters)H.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:H=>EditorView.scrollMargins.of(K=>{let W=K.plugin(H);if(!W||W.gutters.length==0||!W.fixed)return null;let G=W.dom.offsetWidth*K.scaleX,U=W.domAfter?W.domAfter.offsetWidth*K.scaleX:0;return K.textDirection==Direction.LTR?{left:G,right:U}:{right:G,left:U}})});function asArray(H){return Array.isArray(H)?H:[H]}function advanceCursor(H,K,W){for(;H.value&&H.from<=W;)H.from==W&&K.push(H.value),H.next()}class UpdateContext{constructor(K,W,G){this.gutter=K,this.height=G,this.i=0,this.cursor=RangeSet.iter(K.markers,W.from)}addElement(K,W,G){let{gutter:U}=this,X=(W.top-this.height)/K.scaleY,Q=W.height/K.scaleY;if(this.i==U.elements.length){let Z=new GutterElement(K,Q,X,G);U.elements.push(Z),U.dom.appendChild(Z.dom)}else U.elements[this.i].update(K,Q,X,G);this.height=W.bottom,this.i++}line(K,W,G){let U=[];advanceCursor(this.cursor,U,W.from),G.length&&(U=U.concat(G));let X=this.gutter.config.lineMarker(K,W,U);X&&U.unshift(X);let Q=this.gutter;U.length==0&&!Q.config.renderEmptyElements||this.addElement(K,W,U)}widget(K,W){let G=this.gutter.config.widgetMarker(K,W.widget,W),U=G?[G]:null;for(let X of K.state.facet(gutterWidgetClass)){let Q=X(K,W.widget,W);Q&&(U||(U=[])).push(Q)}U&&this.addElement(K,W,U)}finish(){let K=this.gutter;for(;K.elements.length>this.i;){let W=K.elements.pop();K.dom.removeChild(W.dom),W.destroy()}}}class SingleGutterView{constructor(K,W){this.view=K,this.config=W,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let G in W.domEventHandlers)this.dom.addEventListener(G,U=>{let X=U.target,Q;if(X!=this.dom&&this.dom.contains(X)){for(;X.parentNode!=this.dom;)X=X.parentNode;let ee=X.getBoundingClientRect();Q=(ee.top+ee.bottom)/2}else Q=U.clientY;let Z=K.lineBlockAtHeight(Q-K.documentTop);W.domEventHandlers[G](K,Z,U)&&U.preventDefault()});this.markers=asArray(W.markers(K)),W.initialSpacer&&(this.spacer=new GutterElement(K,0,0,[W.initialSpacer(K)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(K){let W=this.markers;if(this.markers=asArray(this.config.markers(K.view)),this.spacer&&this.config.updateSpacer){let U=this.config.updateSpacer(this.spacer.markers[0],K);U!=this.spacer.markers[0]&&this.spacer.update(K.view,0,0,[U])}let G=K.view.viewport;return!RangeSet.eq(this.markers,W,G.from,G.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(K):!1)}destroy(){for(let K of this.elements)K.destroy()}}class GutterElement{constructor(K,W,G,U){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(K,W,G,U)}update(K,W,G,U){this.height!=W&&(this.height=W,this.dom.style.height=W+"px"),this.above!=G&&(this.dom.style.marginTop=(this.above=G)?G+"px":""),sameMarkers(this.markers,U)||this.setMarkers(K,U)}setMarkers(K,W){let G="cm-gutterElement",U=this.dom.firstChild;for(let X=0,Q=0;;){let Z=Q,ee=X<W.length?W[X++]:null,ne=!1;if(ee){let te=ee.elementClass;te&&(G+=" "+te);for(let oe=Q;oe<this.markers.length;oe++)if(this.markers[oe].compare(ee)){Z=oe,ne=!0;break}}else Z=this.markers.length;for(;Q<Z;){let te=this.markers[Q++];if(te.toDOM){te.destroy(U);let oe=U.nextSibling;U.remove(),U=oe}}if(!ee)break;ee.toDOM&&(ne?U=U.nextSibling:this.dom.insertBefore(ee.toDOM(K),U)),ne&&Q++}this.dom.className=G,this.markers=W}destroy(){this.setMarkers(null,[])}}function sameMarkers(H,K){if(H.length!=K.length)return!1;for(let W=0;W<H.length;W++)if(!H[W].compare(K[W]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberWidgetMarker=Facet.define(),lineNumberConfig=Facet.define({combine(H){return combineConfig(H,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(K,W){let G=Object.assign({},K);for(let U in W){let X=G[U],Q=W[U];G[U]=X?(Z,ee,ne)=>X(Z,ee,ne)||Q(Z,ee,ne):Q}return G}})}});class NumberMarker extends GutterMarker{constructor(K){super(),this.number=K}eq(K){return this.number==K.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(H,K){return H.state.facet(lineNumberConfig).formatNumber(K,H.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],H=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(K){return K.state.facet(lineNumberMarkers)},lineMarker(K,W,G){return G.some(U=>U.toDOM)?null:new NumberMarker(formatNumber(K,K.state.doc.lineAt(W.from).number))},widgetMarker:(K,W,G)=>{for(let U of K.state.facet(lineNumberWidgetMarker)){let X=U(K,W,G);if(X)return X}return null},lineMarkerChange:K=>K.startState.facet(lineNumberConfig)!=K.state.facet(lineNumberConfig),initialSpacer(K){return new NumberMarker(formatNumber(K,maxLineNumber(K.state.doc.lines)))},updateSpacer(K,W){let G=formatNumber(W.view,maxLineNumber(W.view.state.doc.lines));return G==K.number?K:new NumberMarker(G)},domEventHandlers:H.facet(lineNumberConfig).domEventHandlers,side:"before"}));function lineNumbers(H={}){return[lineNumberConfig.of(H),gutters(),lineNumberGutter]}function maxLineNumber(H){let K=9;for(;K<H;)K=K*10+9;return K}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],H=>{let K=[],W=-1;for(let G of H.selection.ranges){let U=H.doc.lineAt(G.head).from;U>W&&(W=U,K.push(activeLineGutterMarker.range(U)))}return RangeSet.of(K)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(K,W){this.from=K,this.to=W}}class NodeProp{constructor(K={}){this.id=nextPropID++,this.perNode=!!K.perNode,this.deserialize=K.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(K){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof K!="function"&&(K=NodeType.match(K)),W=>{let G=K(W);return G===void 0?null:[this,G]}}}NodeProp.closedBy=new NodeProp({deserialize:H=>H.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:H=>H.split(" ")});NodeProp.group=new NodeProp({deserialize:H=>H.split(" ")});NodeProp.isolate=new NodeProp({deserialize:H=>{if(H&&H!="rtl"&&H!="ltr"&&H!="auto")throw new RangeError("Invalid value for isolate: "+H);return H||"auto"}});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor(K,W,G){this.tree=K,this.overlay=W,this.parser=G}static get(K){return K&&K.props&&K.props[NodeProp.mounted.id]}}const noProps=Object.create(null);class NodeType{constructor(K,W,G,U=0){this.name=K,this.props=W,this.id=G,this.flags=U}static define(K){let W=K.props&&K.props.length?Object.create(null):noProps,G=(K.top?1:0)|(K.skipped?2:0)|(K.error?4:0)|(K.name==null?8:0),U=new NodeType(K.name||"",W,K.id,G);if(K.props){for(let X of K.props)if(Array.isArray(X)||(X=X(U)),X){if(X[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");W[X[0].id]=X[1]}}return U}prop(K){return this.props[K.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(K){if(typeof K=="string"){if(this.name==K)return!0;let W=this.prop(NodeProp.group);return W?W.indexOf(K)>-1:!1}return this.id==K}static match(K){let W=Object.create(null);for(let G in K)for(let U of G.split(" "))W[U]=K[G];return G=>{for(let U=G.prop(NodeProp.group),X=-1;X<(U?U.length:0);X++){let Q=W[X<0?G.name:U[X]];if(Q)return Q}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(K){this.types=K;for(let W=0;W<K.length;W++)if(K[W].id!=W)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...K){let W=[];for(let G of this.types){let U=null;for(let X of K){let Q=X(G);Q&&(U||(U=Object.assign({},G.props)),U[Q[0].id]=Q[1])}W.push(U?new NodeType(G.name,U,G.id,G.flags):G)}return new NodeSet(W)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(H){H[H.ExcludeBuffers=1]="ExcludeBuffers",H[H.IncludeAnonymous=2]="IncludeAnonymous",H[H.IgnoreMounts=4]="IgnoreMounts",H[H.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor(K,W,G,U,X){if(this.type=K,this.children=W,this.positions=G,this.length=U,this.props=null,X&&X.length){this.props=Object.create(null);for(let[Q,Z]of X)this.props[typeof Q=="number"?Q:Q.id]=Z}}toString(){let K=MountedTree.get(this);if(K&&!K.overlay)return K.tree.toString();let W="";for(let G of this.children){let U=G.toString();U&&(W&&(W+=","),W+=U)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(W.length?"("+W+")":""):W}cursor(K=0){return new TreeCursor(this.topNode,K)}cursorAt(K,W=0,G=0){let U=CachedNode.get(this)||this.topNode,X=new TreeCursor(U);return X.moveTo(K,W),CachedNode.set(this,X._tree),X}get topNode(){return new TreeNode(this,0,0,null)}resolve(K,W=0){let G=resolveNode(CachedNode.get(this)||this.topNode,K,W,!1);return CachedNode.set(this,G),G}resolveInner(K,W=0){let G=resolveNode(CachedInnerNode.get(this)||this.topNode,K,W,!0);return CachedInnerNode.set(this,G),G}resolveStack(K,W=0){return stackIterator(this,K,W)}iterate(K){let{enter:W,leave:G,from:U=0,to:X=this.length}=K,Q=K.mode||0,Z=(Q&IterMode.IncludeAnonymous)>0;for(let ee=this.cursor(Q|IterMode.IncludeAnonymous);;){let ne=!1;if(ee.from<=X&&ee.to>=U&&(!Z&&ee.type.isAnonymous||W(ee)!==!1)){if(ee.firstChild())continue;ne=!0}for(;ne&&G&&(Z||!ee.type.isAnonymous)&&G(ee),!ee.nextSibling();){if(!ee.parent())return;ne=!0}}}prop(K){return K.perNode?this.props?this.props[K.id]:void 0:this.type.prop(K)}get propValues(){let K=[];if(this.props)for(let W in this.props)K.push([+W,this.props[W]]);return K}balance(K={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(W,G,U)=>new Tree(this.type,W,G,U,this.propValues),K.makeTree||((W,G,U)=>new Tree(NodeType.none,W,G,U)))}static build(K){return buildTree(K)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(K,W){this.buffer=K,this.index=W}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(K,W,G){this.buffer=K,this.length=W,this.set=G}get type(){return NodeType.none}toString(){let K=[];for(let W=0;W<this.buffer.length;)K.push(this.childString(W)),W=this.buffer[W+3];return K.join(",")}childString(K){let W=this.buffer[K],G=this.buffer[K+3],U=this.set.types[W],X=U.name;if(/\W/.test(X)&&!U.isError&&(X=JSON.stringify(X)),K+=4,G==K)return X;let Q=[];for(;K<G;)Q.push(this.childString(K)),K=this.buffer[K+3];return X+"("+Q.join(",")+")"}findChild(K,W,G,U,X){let{buffer:Q}=this,Z=-1;for(let ee=K;ee!=W&&!(checkSide(X,U,Q[ee+1],Q[ee+2])&&(Z=ee,G>0));ee=Q[ee+3]);return Z}slice(K,W,G){let U=this.buffer,X=new Uint16Array(W-K),Q=0;for(let Z=K,ee=0;Z<W;){X[ee++]=U[Z++],X[ee++]=U[Z++]-G;let ne=X[ee++]=U[Z++]-G;X[ee++]=U[Z++]-K,Q=Math.max(Q,ne)}return new TreeBuffer(X,Q,this.set)}}function checkSide(H,K,W,G){switch(H){case-2:return W<K;case-1:return G>=K&&W<K;case 0:return W<K&&G>K;case 1:return W<=K&&G>K;case 2:return G>K;case 4:return!0}}function resolveNode(H,K,W,G){for(var U;H.from==H.to||(W<1?H.from>=K:H.from>K)||(W>-1?H.to<=K:H.to<K);){let Q=!G&&H instanceof TreeNode&&H.index<0?null:H.parent;if(!Q)return H;H=Q}let X=G?0:IterMode.IgnoreOverlays;if(G)for(let Q=H,Z=Q.parent;Z;Q=Z,Z=Q.parent)Q instanceof TreeNode&&Q.index<0&&((U=Z.enter(K,W,X))===null||U===void 0?void 0:U.from)!=Q.from&&(H=Z);for(;;){let Q=H.enter(K,W,X);if(!Q)return H;H=Q}}class BaseNode{cursor(K=0){return new TreeCursor(this,K)}getChild(K,W=null,G=null){let U=getChildren(this,K,W,G);return U.length?U[0]:null}getChildren(K,W=null,G=null){return getChildren(this,K,W,G)}resolve(K,W=0){return resolveNode(this,K,W,!1)}resolveInner(K,W=0){return resolveNode(this,K,W,!0)}matchContext(K){return matchNodeContext(this.parent,K)}enterUnfinishedNodesBefore(K){let W=this.childBefore(K),G=this;for(;W;){let U=W.lastChild;if(!U||U.to!=W.to)break;U.type.isError&&U.from==U.to?(G=W,W=U.prevSibling):W=U}return G}get node(){return this}get next(){return this.parent}}class TreeNode extends BaseNode{constructor(K,W,G,U){super(),this._tree=K,this.from=W,this.index=G,this._parent=U}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(K,W,G,U,X=0){for(let Q=this;;){for(let{children:Z,positions:ee}=Q._tree,ne=W>0?Z.length:-1;K!=ne;K+=W){let te=Z[K],oe=ee[K]+Q.from;if(checkSide(U,G,oe,oe+te.length)){if(te instanceof TreeBuffer){if(X&IterMode.ExcludeBuffers)continue;let re=te.findChild(0,te.buffer.length,W,G-oe,U);if(re>-1)return new BufferNode(new BufferContext(Q,te,K,oe),null,re)}else if(X&IterMode.IncludeAnonymous||!te.type.isAnonymous||hasChild(te)){let re;if(!(X&IterMode.IgnoreMounts)&&(re=MountedTree.get(te))&&!re.overlay)return new TreeNode(re.tree,oe,K,Q);let ae=new TreeNode(te,oe,K,Q);return X&IterMode.IncludeAnonymous||!ae.type.isAnonymous?ae:ae.nextChild(W<0?te.children.length-1:0,W,G,U)}}}if(X&IterMode.IncludeAnonymous||!Q.type.isAnonymous||(Q.index>=0?K=Q.index+W:K=W<0?-1:Q._parent._tree.children.length,Q=Q._parent,!Q))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(K){return this.nextChild(0,1,K,2)}childBefore(K){return this.nextChild(this._tree.children.length-1,-1,K,-2)}enter(K,W,G=0){let U;if(!(G&IterMode.IgnoreOverlays)&&(U=MountedTree.get(this._tree))&&U.overlay){let X=K-this.from;for(let{from:Q,to:Z}of U.overlay)if((W>0?Q<=X:Q<X)&&(W<0?Z>=X:Z>X))return new TreeNode(U.tree,U.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,K,W,G)}nextSignificantParent(){let K=this;for(;K.type.isAnonymous&&K._parent;)K=K._parent;return K}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function getChildren(H,K,W,G){let U=H.cursor(),X=[];if(!U.firstChild())return X;if(W!=null){for(let Q=!1;!Q;)if(Q=U.type.is(W),!U.nextSibling())return X}for(;;){if(G!=null&&U.type.is(G))return X;if(U.type.is(K)&&X.push(U.node),!U.nextSibling())return G==null?X:[]}}function matchNodeContext(H,K,W=K.length-1){for(let G=H;W>=0;G=G.parent){if(!G)return!1;if(!G.type.isAnonymous){if(K[W]&&K[W]!=G.name)return!1;W--}}return!0}class BufferContext{constructor(K,W,G,U){this.parent=K,this.buffer=W,this.index=G,this.start=U}}class BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(K,W,G){super(),this.context=K,this._parent=W,this.index=G,this.type=K.buffer.set.types[K.buffer.buffer[G]]}child(K,W,G){let{buffer:U}=this.context,X=U.findChild(this.index+4,U.buffer[this.index+3],K,W-this.context.start,G);return X<0?null:new BufferNode(this.context,this,X)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(K){return this.child(1,K,2)}childBefore(K){return this.child(-1,K,-2)}enter(K,W,G=0){if(G&IterMode.ExcludeBuffers)return null;let{buffer:U}=this.context,X=U.findChild(this.index+4,U.buffer[this.index+3],W>0?1:-1,K-this.context.start,W);return X<0?null:new BufferNode(this.context,this,X)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(K){return this._parent?null:this.context.parent.nextChild(this.context.index+K,K,0,4)}get nextSibling(){let{buffer:K}=this.context,W=K.buffer[this.index+3];return W<(this._parent?K.buffer[this._parent.index+3]:K.buffer.length)?new BufferNode(this.context,this._parent,W):this.externalSibling(1)}get prevSibling(){let{buffer:K}=this.context,W=this._parent?this._parent.index+4:0;return this.index==W?this.externalSibling(-1):new BufferNode(this.context,this._parent,K.findChild(W,this.index,-1,0,4))}get tree(){return null}toTree(){let K=[],W=[],{buffer:G}=this.context,U=this.index+4,X=G.buffer[this.index+3];if(X>U){let Q=G.buffer[this.index+1];K.push(G.slice(U,X,Q)),W.push(0)}return new Tree(this.type,K,W,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function iterStack(H){if(!H.length)return null;let K=0,W=H[0];for(let X=1;X<H.length;X++){let Q=H[X];(Q.from>W.from||Q.to<W.to)&&(W=Q,K=X)}let G=W instanceof TreeNode&&W.index<0?null:W.parent,U=H.slice();return G?U[K]=G:U.splice(K,1),new StackIterator(U,W)}class StackIterator{constructor(K,W){this.heads=K,this.node=W}get next(){return iterStack(this.heads)}}function stackIterator(H,K,W){let G=H.resolveInner(K,W),U=null;for(let X=G instanceof TreeNode?G:G.context.parent;X;X=X.parent)if(X.index<0){let Q=X.parent;(U||(U=[G])).push(Q.resolve(K,W)),X=Q}else{let Q=MountedTree.get(X.tree);if(Q&&Q.overlay&&Q.overlay[0].from<=K&&Q.overlay[Q.overlay.length-1].to>=K){let Z=new TreeNode(Q.tree,Q.overlay[0].from+X.from,-1,X);(U||(U=[G])).push(resolveNode(Z,K,W,!1))}}return U?iterStack(U):G}class TreeCursor{get name(){return this.type.name}constructor(K,W=0){if(this.mode=W,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,K instanceof TreeNode)this.yieldNode(K);else{this._tree=K.context.parent,this.buffer=K.context;for(let G=K._parent;G;G=G._parent)this.stack.unshift(G.index);this.bufferNode=K,this.yieldBuf(K.index)}}yieldNode(K){return K?(this._tree=K,this.type=K.type,this.from=K.from,this.to=K.to,!0):!1}yieldBuf(K,W){this.index=K;let{start:G,buffer:U}=this.buffer;return this.type=W||U.set.types[U.buffer[K]],this.from=G+U.buffer[K+1],this.to=G+U.buffer[K+2],!0}yield(K){return K?K instanceof TreeNode?(this.buffer=null,this.yieldNode(K)):(this.buffer=K.context,this.yieldBuf(K.index,K.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(K,W,G){if(!this.buffer)return this.yield(this._tree.nextChild(K<0?this._tree._tree.children.length-1:0,K,W,G,this.mode));let{buffer:U}=this.buffer,X=U.findChild(this.index+4,U.buffer[this.index+3],K,W-this.buffer.start,G);return X<0?!1:(this.stack.push(this.index),this.yieldBuf(X))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(K){return this.enterChild(1,K,2)}childBefore(K){return this.enterChild(-1,K,-2)}enter(K,W,G=this.mode){return this.buffer?G&IterMode.ExcludeBuffers?!1:this.enterChild(1,K,W):this.yield(this._tree.enter(K,W,G))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let K=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(K)}sibling(K){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+K,K,0,4,this.mode)):!1;let{buffer:W}=this.buffer,G=this.stack.length-1;if(K<0){let U=G<0?0:this.stack[G]+4;if(this.index!=U)return this.yieldBuf(W.findChild(U,this.index,-1,0,4))}else{let U=W.buffer[this.index+3];if(U<(G<0?W.buffer.length:W.buffer[this.stack[G]+3]))return this.yieldBuf(U)}return G<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+K,K,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(K){let W,G,{buffer:U}=this;if(U){if(K>0){if(this.index<U.buffer.buffer.length)return!1}else for(let X=0;X<this.index;X++)if(U.buffer.buffer[X+3]<this.index)return!1;({index:W,parent:G}=U)}else({index:W,_parent:G}=this._tree);for(;G;{index:W,_parent:G}=G)if(W>-1)for(let X=W+K,Q=K<0?-1:G._tree.children.length;X!=Q;X+=K){let Z=G._tree.children[X];if(this.mode&IterMode.IncludeAnonymous||Z instanceof TreeBuffer||!Z.type.isAnonymous||hasChild(Z))return!1}return!0}move(K,W){if(W&&this.enterChild(K,0,4))return!0;for(;;){if(this.sibling(K))return!0;if(this.atLastNode(K)||!this.parent())return!1}}next(K=!0){return this.move(1,K)}prev(K=!0){return this.move(-1,K)}moveTo(K,W=0){for(;(this.from==this.to||(W<1?this.from>=K:this.from>K)||(W>-1?this.to<=K:this.to<K))&&this.parent(););for(;this.enterChild(1,K,W););return this}get node(){if(!this.buffer)return this._tree;let K=this.bufferNode,W=null,G=0;if(K&&K.context==this.buffer)e:for(let U=this.index,X=this.stack.length;X>=0;){for(let Q=K;Q;Q=Q._parent)if(Q.index==U){if(U==this.index)return Q;W=Q,G=X+1;break e}U=this.stack[--X]}for(let U=G;U<this.stack.length;U++)W=new BufferNode(this.buffer,W,this.stack[U]);return this.bufferNode=new BufferNode(this.buffer,W,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(K,W){for(let G=0;;){let U=!1;if(this.type.isAnonymous||K(this)!==!1){if(this.firstChild()){G++;continue}this.type.isAnonymous||(U=!0)}for(;;){if(U&&W&&W(this),U=this.type.isAnonymous,!G)return;if(this.nextSibling())break;this.parent(),G--,U=!0}}}matchContext(K){if(!this.buffer)return matchNodeContext(this.node.parent,K);let{buffer:W}=this.buffer,{types:G}=W.set;for(let U=K.length-1,X=this.stack.length-1;U>=0;X--){if(X<0)return matchNodeContext(this._tree,K,U);let Q=G[W.buffer[this.stack[X]]];if(!Q.isAnonymous){if(K[U]&&K[U]!=Q.name)return!1;U--}}return!0}}function hasChild(H){return H.children.some(K=>K instanceof TreeBuffer||!K.type.isAnonymous||hasChild(K))}function buildTree(H){var K;let{buffer:W,nodeSet:G,maxBufferLength:U=DefaultBufferLength,reused:X=[],minRepeatType:Q=G.types.length}=H,Z=Array.isArray(W)?new FlatBufferCursor(W,W.length):W,ee=G.types,ne=0,te=0;function oe(ue,ge,he,ve,ye,be){let{id:Se,start:Ce,end:xe,size:Ne}=Z,$e=te,Ee=ne;for(;Ne<0;)if(Z.next(),Ne==-1){let We=X[Se];he.push(We),ve.push(Ce-ue);return}else if(Ne==-3){ne=Se;return}else if(Ne==-4){te=Se;return}else throw new RangeError(`Unrecognized record size: ${Ne}`);let Te=ee[Se],Be,Ae,ze=Ce-ue;if(xe-Ce<=U&&(Ae=de(Z.pos-ge,ye))){let We=new Uint16Array(Ae.size-Ae.skip),Le=Z.pos-Ae.size,Ze=We.length;for(;Z.pos>Le;)Ze=le(Ae.start,We,Ze);Be=new TreeBuffer(We,xe-Ae.start,G),ze=Ae.start-ue}else{let We=Z.pos-Ne;Z.next();let Le=[],Ze=[],Ye=Se>=Q?Se:-1,Re=0,Ke=xe;for(;Z.pos>We;)Ye>=0&&Z.id==Ye&&Z.size>=0?(Z.end<=Ke-U&&(se(Le,Ze,Ce,Re,Z.end,Ke,Ye,$e,Ee),Re=Le.length,Ke=Z.end),Z.next()):be>2500?re(Ce,We,Le,Ze):oe(Ce,We,Le,Ze,Ye,be+1);if(Ye>=0&&Re>0&&Re<Le.length&&se(Le,Ze,Ce,Re,Ce,Ke,Ye,$e,Ee),Le.reverse(),Ze.reverse(),Ye>-1&&Re>0){let we=ae(Te,Ee);Be=balanceRange(Te,Le,Ze,0,Le.length,0,xe-Ce,we,we)}else Be=ce(Te,Le,Ze,xe-Ce,$e-xe,Ee)}he.push(Be),ve.push(ze)}function re(ue,ge,he,ve){let ye=[],be=0,Se=-1;for(;Z.pos>ge;){let{id:Ce,start:xe,end:Ne,size:$e}=Z;if($e>4)Z.next();else{if(Se>-1&&xe<Se)break;Se<0&&(Se=Ne-U),ye.push(Ce,xe,Ne),be++,Z.next()}}if(be){let Ce=new Uint16Array(be*4),xe=ye[ye.length-2];for(let Ne=ye.length-3,$e=0;Ne>=0;Ne-=3)Ce[$e++]=ye[Ne],Ce[$e++]=ye[Ne+1]-xe,Ce[$e++]=ye[Ne+2]-xe,Ce[$e++]=$e;he.push(new TreeBuffer(Ce,ye[2]-xe,G)),ve.push(xe-ue)}}function ae(ue,ge){return(he,ve,ye)=>{let be=0,Se=he.length-1,Ce,xe;if(Se>=0&&(Ce=he[Se])instanceof Tree){if(!Se&&Ce.type==ue&&Ce.length==ye)return Ce;(xe=Ce.prop(NodeProp.lookAhead))&&(be=ve[Se]+Ce.length+xe)}return ce(ue,he,ve,ye,be,ge)}}function se(ue,ge,he,ve,ye,be,Se,Ce,xe){let Ne=[],$e=[];for(;ue.length>ve;)Ne.push(ue.pop()),$e.push(ge.pop()+he-ye);ue.push(ce(G.types[Se],Ne,$e,be-ye,Ce-be,xe)),ge.push(ye-he)}function ce(ue,ge,he,ve,ye,be,Se){if(be){let Ce=[NodeProp.contextHash,be];Se=Se?[Ce].concat(Se):[Ce]}if(ye>25){let Ce=[NodeProp.lookAhead,ye];Se=Se?[Ce].concat(Se):[Ce]}return new Tree(ue,ge,he,ve,Se)}function de(ue,ge){let he=Z.fork(),ve=0,ye=0,be=0,Se=he.end-U,Ce={size:0,start:0,skip:0};e:for(let xe=he.pos-ue;he.pos>xe;){let Ne=he.size;if(he.id==ge&&Ne>=0){Ce.size=ve,Ce.start=ye,Ce.skip=be,be+=4,ve+=4,he.next();continue}let $e=he.pos-Ne;if(Ne<0||$e<xe||he.start<Se)break;let Ee=he.id>=Q?4:0,Te=he.start;for(he.next();he.pos>$e;){if(he.size<0)if(he.size==-3)Ee+=4;else break e;else he.id>=Q&&(Ee+=4);he.next()}ye=Te,ve+=Ne,be+=Ee}return(ge<0||ve==ue)&&(Ce.size=ve,Ce.start=ye,Ce.skip=be),Ce.size>4?Ce:void 0}function le(ue,ge,he){let{id:ve,start:ye,end:be,size:Se}=Z;if(Z.next(),Se>=0&&ve<Q){let Ce=he;if(Se>4){let xe=Z.pos-(Se-4);for(;Z.pos>xe;)he=le(ue,ge,he)}ge[--he]=Ce,ge[--he]=be-ue,ge[--he]=ye-ue,ge[--he]=ve}else Se==-3?ne=ve:Se==-4&&(te=ve);return he}let fe=[],pe=[];for(;Z.pos>0;)oe(H.start||0,H.bufferStart||0,fe,pe,-1,0);let me=(K=H.length)!==null&&K!==void 0?K:fe.length?pe[0]+fe[0].length:0;return new Tree(ee[H.topID],fe.reverse(),pe.reverse(),me)}const nodeSizeCache=new WeakMap;function nodeSize(H,K){if(!H.isAnonymous||K instanceof TreeBuffer||K.type!=H)return 1;let W=nodeSizeCache.get(K);if(W==null){W=1;for(let G of K.children){if(G.type!=H||!(G instanceof Tree)){W=1;break}W+=nodeSize(H,G)}nodeSizeCache.set(K,W)}return W}function balanceRange(H,K,W,G,U,X,Q,Z,ee){let ne=0;for(let se=G;se<U;se++)ne+=nodeSize(H,K[se]);let te=Math.ceil(ne*1.5/8),oe=[],re=[];function ae(se,ce,de,le,fe){for(let pe=de;pe<le;){let me=pe,ue=ce[pe],ge=nodeSize(H,se[pe]);for(pe++;pe<le;pe++){let he=nodeSize(H,se[pe]);if(ge+he>=te)break;ge+=he}if(pe==me+1){if(ge>te){let he=se[me];ae(he.children,he.positions,0,he.children.length,ce[me]+fe);continue}oe.push(se[me])}else{let he=ce[pe-1]+se[pe-1].length-ue;oe.push(balanceRange(H,se,ce,me,pe,ue,he,null,ee))}re.push(ue+fe-X)}}return ae(K,W,G,U,0),(Z||ee)(oe,re,Q)}class TreeFragment{constructor(K,W,G,U,X=!1,Q=!1){this.from=K,this.to=W,this.tree=G,this.offset=U,this.open=(X?1:0)|(Q?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(K,W=[],G=!1){let U=[new TreeFragment(0,K.length,K,0,!1,G)];for(let X of W)X.to>K.length&&U.push(X);return U}static applyChanges(K,W,G=128){if(!W.length)return K;let U=[],X=1,Q=K.length?K[0]:null;for(let Z=0,ee=0,ne=0;;Z++){let te=Z<W.length?W[Z]:null,oe=te?te.fromA:1e9;if(oe-ee>=G)for(;Q&&Q.from<oe;){let re=Q;if(ee>=re.from||oe<=re.to||ne){let ae=Math.max(re.from,ee)-ne,se=Math.min(re.to,oe)-ne;re=ae>=se?null:new TreeFragment(ae,se,re.tree,re.offset+ne,Z>0,!!te)}if(re&&U.push(re),Q.to>oe)break;Q=X<K.length?K[X++]:null}if(!te)break;ee=te.toA,ne=te.toA-te.toB}return U}}class Parser{startParse(K,W,G){return typeof K=="string"&&(K=new StringInput(K)),G=G?G.length?G.map(U=>new Range(U.from,U.to)):[new Range(0,0)]:[new Range(0,K.length)],this.createParse(K,W||[],G)}parse(K,W,G){let U=this.startParse(K,W,G);for(;;){let X=U.advance();if(X)return X}}}class StringInput{constructor(K){this.string=K}get length(){return this.string.length}chunk(K){return this.string.slice(K)}get lineChunks(){return!1}read(K,W){return this.string.slice(K,W)}}new NodeProp({perNode:!0});let nextTagID=0;class Tag{constructor(K,W,G,U){this.name=K,this.set=W,this.base=G,this.modified=U,this.id=nextTagID++}toString(){let{name:K}=this;for(let W of this.modified)W.name&&(K=`${W.name}(${K})`);return K}static define(K,W){let G=typeof K=="string"?K:"?";if(K instanceof Tag&&(W=K),W?.base)throw new Error("Can not derive from a modified tag");let U=new Tag(G,[],null,[]);if(U.set.push(U),W)for(let X of W.set)U.set.push(X);return U}static defineModifier(K){let W=new Modifier(K);return G=>G.modified.indexOf(W)>-1?G:Modifier.get(G.base||G,G.modified.concat(W).sort((U,X)=>U.id-X.id))}}let nextModifierID=0;class Modifier{constructor(K){this.name=K,this.instances=[],this.id=nextModifierID++}static get(K,W){if(!W.length)return K;let G=W[0].instances.find(Z=>Z.base==K&&sameArray(W,Z.modified));if(G)return G;let U=[],X=new Tag(K.name,U,K,W);for(let Z of W)Z.instances.push(X);let Q=powerSet(W);for(let Z of K.set)if(!Z.modified.length)for(let ee of Q)U.push(Modifier.get(Z,ee));return X}}function sameArray(H,K){return H.length==K.length&&H.every((W,G)=>W==K[G])}function powerSet(H){let K=[[]];for(let W=0;W<H.length;W++)for(let G=0,U=K.length;G<U;G++)K.push(K[G].concat(H[W]));return K.sort((W,G)=>G.length-W.length)}function styleTags(H){let K=Object.create(null);for(let W in H){let G=H[W];Array.isArray(G)||(G=[G]);for(let U of W.split(" "))if(U){let X=[],Q=2,Z=U;for(let oe=0;;){if(Z=="..."&&oe>0&&oe+3==U.length){Q=1;break}let re=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(Z);if(!re)throw new RangeError("Invalid path: "+U);if(X.push(re[0]=="*"?"":re[0][0]=='"'?JSON.parse(re[0]):re[0]),oe+=re[0].length,oe==U.length)break;let ae=U[oe++];if(oe==U.length&&ae=="!"){Q=0;break}if(ae!="/")throw new RangeError("Invalid path: "+U);Z=U.slice(oe)}let ee=X.length-1,ne=X[ee];if(!ne)throw new RangeError("Invalid path: "+U);let te=new Rule(G,Q,ee>0?X.slice(0,ee):null);K[ne]=te.sort(K[ne])}}return ruleNodeProp.add(K)}const ruleNodeProp=new NodeProp;class Rule{constructor(K,W,G,U){this.tags=K,this.mode=W,this.context=G,this.next=U}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(K){return!K||K.depth<this.depth?(this.next=K,this):(K.next=this.sort(K.next),K)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(H,K){let W=Object.create(null);for(let X of H)if(!Array.isArray(X.tag))W[X.tag.id]=X.class;else for(let Q of X.tag)W[Q.id]=X.class;let{scope:G,all:U=null}=K||{};return{style:X=>{let Q=U;for(let Z of X)for(let ee of Z.set){let ne=W[ee.id];if(ne){Q=Q?Q+" "+ne:ne;break}}return Q},scope:G}}function highlightTags(H,K){let W=null;for(let G of H){let U=G.style(K);U&&(W=W?W+" "+U:U)}return W}function highlightTree(H,K,W,G=0,U=H.length){let X=new HighlightBuilder(G,Array.isArray(K)?K:[K],W);X.highlightRange(H.cursor(),G,U,"",X.highlighters),X.flush(U)}class HighlightBuilder{constructor(K,W,G){this.at=K,this.highlighters=W,this.span=G,this.class=""}startSpan(K,W){W!=this.class&&(this.flush(K),K>this.at&&(this.at=K),this.class=W)}flush(K){K>this.at&&this.class&&this.span(this.at,K,this.class)}highlightRange(K,W,G,U,X){let{type:Q,from:Z,to:ee}=K;if(Z>=G||ee<=W)return;Q.isTop&&(X=this.highlighters.filter(ae=>!ae.scope||ae.scope(Q)));let ne=U,te=getStyleTags(K)||Rule.empty,oe=highlightTags(X,te.tags);if(oe&&(ne&&(ne+=" "),ne+=oe,te.mode==1&&(U+=(U?" ":"")+oe)),this.startSpan(Math.max(W,Z),ne),te.opaque)return;let re=K.tree&&K.tree.prop(NodeProp.mounted);if(re&&re.overlay){let ae=K.node.enter(re.overlay[0].from+Z,1),se=this.highlighters.filter(de=>!de.scope||de.scope(re.tree.type)),ce=K.firstChild();for(let de=0,le=Z;;de++){let fe=de<re.overlay.length?re.overlay[de]:null,pe=fe?fe.from+Z:ee,me=Math.max(W,le),ue=Math.min(G,pe);if(me<ue&&ce)for(;K.from<ue&&(this.highlightRange(K,me,ue,U,X),this.startSpan(Math.min(ue,K.to),ne),!(K.to>=pe||!K.nextSibling())););if(!fe||pe>G)break;le=fe.to+Z,le>W&&(this.highlightRange(ae.cursor(),Math.max(W,fe.from+Z),Math.min(G,le),"",se),this.startSpan(Math.min(G,le),ne))}ce&&K.parent()}else if(K.firstChild()){re&&(U="");do if(!(K.to<=W)){if(K.from>=G)break;this.highlightRange(K,W,G,U,X),this.startSpan(Math.min(G,K.to),ne)}while(K.nextSibling());K.parent()}}}function getStyleTags(H){let K=H.type.prop(ruleNodeProp);for(;K&&K.context&&!H.matchContext(K.context);)K=K.next;return K||null}const t=Tag.define,comment=t(),name=t(),typeName=t(name),propertyName=t(name),literal=t(),string=t(literal),number=t(literal),content=t(),heading=t(content),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags={comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name,variableName:t(name),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name),labelName:t(name),namespace:t(name),macroName:t(name),literal,string,docString:t(string),character:t(string),attributeValue:t(string),number,integer:t(number),float:t(number),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content,heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag.defineModifier("definition"),constant:Tag.defineModifier("constant"),function:Tag.defineModifier("function"),standard:Tag.defineModifier("standard"),local:Tag.defineModifier("local"),special:Tag.defineModifier("special")};for(let H in tags){let K=tags[H];K instanceof Tag&&(K.name=H)}tagHighlighter([{tag:tags.link,class:"tok-link"},{tag:tags.heading,class:"tok-heading"},{tag:tags.emphasis,class:"tok-emphasis"},{tag:tags.strong,class:"tok-strong"},{tag:tags.keyword,class:"tok-keyword"},{tag:tags.atom,class:"tok-atom"},{tag:tags.bool,class:"tok-bool"},{tag:tags.url,class:"tok-url"},{tag:tags.labelName,class:"tok-labelName"},{tag:tags.inserted,class:"tok-inserted"},{tag:tags.deleted,class:"tok-deleted"},{tag:tags.literal,class:"tok-literal"},{tag:tags.string,class:"tok-string"},{tag:tags.number,class:"tok-number"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],class:"tok-string2"},{tag:tags.variableName,class:"tok-variableName"},{tag:tags.local(tags.variableName),class:"tok-variableName tok-local"},{tag:tags.definition(tags.variableName),class:"tok-variableName tok-definition"},{tag:tags.special(tags.variableName),class:"tok-variableName2"},{tag:tags.definition(tags.propertyName),class:"tok-propertyName tok-definition"},{tag:tags.typeName,class:"tok-typeName"},{tag:tags.namespace,class:"tok-namespace"},{tag:tags.className,class:"tok-className"},{tag:tags.macroName,class:"tok-macroName"},{tag:tags.propertyName,class:"tok-propertyName"},{tag:tags.operator,class:"tok-operator"},{tag:tags.comment,class:"tok-comment"},{tag:tags.meta,class:"tok-meta"},{tag:tags.invalid,class:"tok-invalid"},{tag:tags.punctuation,class:"tok-punctuation"}]);var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(H){return Facet.define({combine:H?K=>K.concat(H):void 0})}const sublanguageProp=new NodeProp;class Language{constructor(K,W,G=[],U=""){this.data=K,this.name=U,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=W,this.extension=[language.of(this),EditorState.languageData.of((X,Q,Z)=>{let ee=topNodeAt(X,Q,Z),ne=ee.type.prop(languageDataProp);if(!ne)return[];let te=X.facet(ne),oe=ee.type.prop(sublanguageProp);if(oe){let re=ee.resolve(Q-ee.from,Z);for(let ae of oe)if(ae.test(re,X)){let se=X.facet(ae.facet);return ae.type=="replace"?se:se.concat(te)}}return te})].concat(G)}isActiveAt(K,W,G=-1){return topNodeAt(K,W,G).type.prop(languageDataProp)==this.data}findRegions(K){let W=K.facet(language);if(W?.data==this.data)return[{from:0,to:K.doc.length}];if(!W||!W.allowsNesting)return[];let G=[],U=(X,Q)=>{if(X.prop(languageDataProp)==this.data){G.push({from:Q,to:Q+X.length});return}let Z=X.prop(NodeProp.mounted);if(Z){if(Z.tree.prop(languageDataProp)==this.data){if(Z.overlay)for(let ee of Z.overlay)G.push({from:ee.from+Q,to:ee.to+Q});else G.push({from:Q,to:Q+X.length});return}else if(Z.overlay){let ee=G.length;if(U(Z.tree,Z.overlay[0].from+Q),G.length>ee)return}}for(let ee=0;ee<X.children.length;ee++){let ne=X.children[ee];ne instanceof Tree&&U(ne,X.positions[ee]+Q)}};return U(syntaxTree(K),0),G}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(H,K,W){let G=H.facet(language),U=syntaxTree(H).topNode;if(!G||G.allowsNesting)for(let X=U;X;X=X.enter(K,W,IterMode.ExcludeBuffers))X.type.isTop&&(U=X);return U}function syntaxTree(H){let K=H.field(Language.state,!1);return K?K.tree:Tree.empty}class DocInput{constructor(K){this.doc=K,this.cursorPos=0,this.string="",this.cursor=K.iter()}get length(){return this.doc.length}syncTo(K){return this.string=this.cursor.next(K-this.cursorPos).value,this.cursorPos=K+this.string.length,this.cursorPos-this.string.length}chunk(K){return this.syncTo(K),this.string}get lineChunks(){return!0}read(K,W){let G=this.cursorPos-this.string.length;return K<G||W>=this.cursorPos?this.doc.sliceString(K,W):this.string.slice(K-G,W-G)}}let currentContext=null;class ParseContext{constructor(K,W,G=[],U,X,Q,Z,ee){this.parser=K,this.state=W,this.fragments=G,this.tree=U,this.treeLen=X,this.viewport=Q,this.skipped=Z,this.scheduleOn=ee,this.parse=null,this.tempSkipped=[]}static create(K,W,G){return new ParseContext(K,W,[],Tree.empty,0,G,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(K,W){return W!=null&&W>=this.state.doc.length&&(W=void 0),this.tree!=Tree.empty&&this.isDone(W??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var G;if(typeof K=="number"){let U=Date.now()+K;K=()=>Date.now()>U}for(this.parse||(this.parse=this.startParse()),W!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>W)&&W<this.state.doc.length&&this.parse.stopAt(W);;){let U=this.parse.advance();if(U)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(U,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(G=this.parse.stoppedAt)!==null&&G!==void 0?G:this.state.doc.length,this.tree=U,this.parse=null,this.treeLen<(W??this.state.doc.length))this.parse=this.startParse();else return!0;if(K())return!1}})}takeTree(){let K,W;this.parse&&(K=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>K)&&this.parse.stopAt(K),this.withContext(()=>{for(;!(W=this.parse.advance()););}),this.treeLen=K,this.tree=W,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(K){let W=currentContext;currentContext=this;try{return K()}finally{currentContext=W}}withoutTempSkipped(K){for(let W;W=this.tempSkipped.pop();)K=cutFragments(K,W.from,W.to);return K}changes(K,W){let{fragments:G,tree:U,treeLen:X,viewport:Q,skipped:Z}=this;if(this.takeTree(),!K.empty){let ee=[];if(K.iterChangedRanges((ne,te,oe,re)=>ee.push({fromA:ne,toA:te,fromB:oe,toB:re})),G=TreeFragment.applyChanges(G,ee),U=Tree.empty,X=0,Q={from:K.mapPos(Q.from,-1),to:K.mapPos(Q.to,1)},this.skipped.length){Z=[];for(let ne of this.skipped){let te=K.mapPos(ne.from,1),oe=K.mapPos(ne.to,-1);te<oe&&Z.push({from:te,to:oe})}}}return new ParseContext(this.parser,W,G,U,X,Q,Z,this.scheduleOn)}updateViewport(K){if(this.viewport.from==K.from&&this.viewport.to==K.to)return!1;this.viewport=K;let W=this.skipped.length;for(let G=0;G<this.skipped.length;G++){let{from:U,to:X}=this.skipped[G];U<K.to&&X>K.from&&(this.fragments=cutFragments(this.fragments,U,X),this.skipped.splice(G--,1))}return this.skipped.length>=W?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(K,W){this.skipped.push({from:K,to:W})}static getSkippingParser(K){return new class extends Parser{createParse(W,G,U){let X=U[0].from,Q=U[U.length-1].to;return{parsedPos:X,advance(){let ee=currentContext;if(ee){for(let ne of U)ee.tempSkipped.push(ne);K&&(ee.scheduleOn=ee.scheduleOn?Promise.all([ee.scheduleOn,K]):K)}return this.parsedPos=Q,new Tree(NodeType.none,[],[],Q-X)},stoppedAt:null,stopAt(){}}}}}isDone(K){K=Math.min(K,this.state.doc.length);let W=this.fragments;return this.treeLen>=K&&W.length&&W[0].from==0&&W[0].to>=K}static get(){return currentContext}}function cutFragments(H,K,W){return TreeFragment.applyChanges(H,[{fromA:K,toA:W,fromB:K,toB:W}])}class LanguageState{constructor(K){this.context=K,this.tree=K.tree}apply(K){if(!K.docChanged&&this.tree==this.context.tree)return this;let W=this.context.changes(K.changes,K.state),G=this.context.treeLen==K.startState.doc.length?void 0:Math.max(K.changes.mapPos(this.context.treeLen),W.viewport.to);return W.work(20,G)||W.takeTree(),new LanguageState(W)}static init(K){let W=Math.min(3e3,K.doc.length),G=ParseContext.create(K.facet(language).parser,K,{from:0,to:W});return G.work(20,W)||G.takeTree(),new LanguageState(G)}}Language.state=StateField.define({create:LanguageState.init,update(H,K){for(let W of K.effects)if(W.is(Language.setState))return W.value;return K.startState.facet(language)!=K.state.facet(language)?LanguageState.init(K.state):H.apply(K)}});let requestIdle=H=>{let K=setTimeout(()=>H(),500);return()=>clearTimeout(K)};typeof requestIdleCallback<"u"&&(requestIdle=H=>{let K=-1,W=setTimeout(()=>{K=requestIdleCallback(H,{timeout:400})},100);return()=>K<0?clearTimeout(W):cancelIdleCallback(K)});const isInputPending=typeof navigator<"u"&&(!((_a=navigator.scheduling)===null||_a===void 0)&&_a.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(K){this.view=K,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(K){let W=this.view.state.field(Language.state).context;(W.updateViewport(K.view.viewport)||this.view.viewport.to>W.treeLen)&&this.scheduleWork(),(K.docChanged||K.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(W)}scheduleWork(){if(this.working)return;let{state:K}=this.view,W=K.field(Language.state);(W.tree!=W.context.tree||!W.context.isDone(K.doc.length))&&(this.working=requestIdle(this.work))}work(K){this.working=null;let W=Date.now();if(this.chunkEnd<W&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=W+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:G,viewport:{to:U}}=this.view,X=G.field(Language.state);if(X.tree==X.context.tree&&X.context.isDone(U+1e5))return;let Q=Date.now()+Math.min(this.chunkBudget,100,K&&!isInputPending?Math.max(25,K.timeRemaining()-5):1e9),Z=X.context.treeLen<U&&G.doc.length>U+1e3,ee=X.context.work(()=>isInputPending&&isInputPending()||Date.now()>Q,U+(Z?0:1e5));this.chunkBudget-=Date.now()-W,(ee||this.chunkBudget<=0)&&(X.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(X.context))})),this.chunkBudget>0&&!(ee&&!Z)&&this.scheduleWork(),this.checkAsyncSchedule(X.context)}checkAsyncSchedule(K){K.scheduleOn&&(this.workScheduled++,K.scheduleOn.then(()=>this.scheduleWork()).catch(W=>logException(this.view.state,W)).then(()=>this.workScheduled--),K.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(H){return H.length?H[0]:null},enables:H=>[Language.state,parseWorker,EditorView.contentAttributes.compute([H],K=>{let W=K.facet(H);return W&&W.name?{"data-language":W.name}:{}})]}),indentService=Facet.define(),indentUnit=Facet.define({combine:H=>{if(!H.length)return"  ";let K=H[0];if(!K||/\S/.test(K)||Array.from(K).some(W=>W!=K[0]))throw new Error("Invalid indent unit: "+JSON.stringify(H[0]));return K}});function getIndentUnit(H){let K=H.facet(indentUnit);return K.charCodeAt(0)==9?H.tabSize*K.length:K.length}function indentString(H,K){let W="",G=H.tabSize,U=H.facet(indentUnit)[0];if(U=="	"){for(;K>=G;)W+="	",K-=G;U=" "}for(let X=0;X<K;X++)W+=U;return W}function getIndentation(H,K){H instanceof EditorState&&(H=new IndentContext(H));for(let G of H.state.facet(indentService)){let U=G(H,K);if(U!==void 0)return U}let W=syntaxTree(H.state);return W.length>=K?syntaxIndentation(H,W,K):null}class IndentContext{constructor(K,W={}){this.state=K,this.options=W,this.unit=getIndentUnit(K)}lineAt(K,W=1){let G=this.state.doc.lineAt(K),{simulateBreak:U,simulateDoubleBreak:X}=this.options;return U!=null&&U>=G.from&&U<=G.to?X&&U==K?{text:"",from:K}:(W<0?U<K:U<=K)?{text:G.text.slice(U-G.from),from:U}:{text:G.text.slice(0,U-G.from),from:G.from}:G}textAfterPos(K,W=1){if(this.options.simulateDoubleBreak&&K==this.options.simulateBreak)return"";let{text:G,from:U}=this.lineAt(K,W);return G.slice(K-U,Math.min(G.length,K+100-U))}column(K,W=1){let{text:G,from:U}=this.lineAt(K,W),X=this.countColumn(G,K-U),Q=this.options.overrideIndentation?this.options.overrideIndentation(U):-1;return Q>-1&&(X+=Q-this.countColumn(G,G.search(/\S|$/))),X}countColumn(K,W=K.length){return countColumn(K,this.state.tabSize,W)}lineIndent(K,W=1){let{text:G,from:U}=this.lineAt(K,W),X=this.options.overrideIndentation;if(X){let Q=X(U);if(Q>-1)return Q}return this.countColumn(G,G.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(H,K,W){let G=K.resolveStack(W),U=K.resolveInner(W,-1).resolve(W,0).enterUnfinishedNodesBefore(W);if(U!=G.node){let X=[];for(let Q=U;Q&&!(Q.from<G.node.from||Q.to>G.node.to||Q.from==G.node.from&&Q.type==G.node.type);Q=Q.parent)X.push(Q);for(let Q=X.length-1;Q>=0;Q--)G={node:X[Q],next:G}}return indentFor(G,H,W)}function indentFor(H,K,W){for(let G=H;G;G=G.next){let U=indentStrategy(G.node);if(U)return U(TreeIndentContext.create(K,W,G))}return 0}function ignoreClosed(H){return H.pos==H.options.simulateBreak&&H.options.simulateDoubleBreak}function indentStrategy(H){let K=H.type.prop(indentNodeProp);if(K)return K;let W=H.firstChild,G;if(W&&(G=W.type.prop(NodeProp.closedBy))){let U=H.lastChild,X=U&&G.indexOf(U.name)>-1;return Q=>delimitedStrategy(Q,!0,1,void 0,X&&!ignoreClosed(Q)?U.from:void 0)}return H.parent==null?topIndent:null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(K,W,G){super(K.state,K.options),this.base=K,this.pos=W,this.context=G}get node(){return this.context.node}static create(K,W,G){return new TreeIndentContext(K,W,G)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(K){let W=this.state.doc.lineAt(K.from);for(;;){let G=K.resolve(W.from);for(;G.parent&&G.parent.from==G.from;)G=G.parent;if(isParent(G,K))break;W=this.state.doc.lineAt(G.from)}return this.lineIndent(W.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}}function isParent(H,K){for(let W=K;W;W=W.parent)if(H==W)return!0;return!1}function bracketedAligned(H){let K=H.node,W=K.childAfter(K.from),G=K.lastChild;if(!W)return null;let U=H.options.simulateBreak,X=H.state.doc.lineAt(W.from),Q=U==null||U<=X.from?X.to:Math.min(X.to,U);for(let Z=W.to;;){let ee=K.childAfter(Z);if(!ee||ee==G)return null;if(!ee.type.isSkipped){if(ee.from>=Q)return null;let ne=/^ */.exec(X.text.slice(W.to-X.from))[0].length;return{from:W.from,to:W.to+ne}}Z=ee.to}}function delimitedStrategy(H,K,W,G,U){let X=H.textAfter,Q=X.match(/^\s*/)[0].length,Z=G&&X.slice(Q,Q+G.length)==G||U==H.pos+Q,ee=bracketedAligned(H);return ee?Z?H.column(ee.from):H.column(ee.to):H.baseIndent+(Z?0:H.unit*W)}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(H=>{if(!H.docChanged||!H.isUserEvent("input.type")&&!H.isUserEvent("input.complete"))return H;let K=H.startState.languageDataAt("indentOnInput",H.startState.selection.main.head);if(!K.length)return H;let W=H.newDoc,{head:G}=H.newSelection.main,U=W.lineAt(G);if(G>U.from+DontIndentBeyond)return H;let X=W.sliceString(U.from,G);if(!K.some(ne=>ne.test(X)))return H;let{state:Q}=H,Z=-1,ee=[];for(let{head:ne}of Q.selection.ranges){let te=Q.doc.lineAt(ne);if(te.from==Z)continue;Z=te.from;let oe=getIndentation(Q,te.from);if(oe==null)continue;let re=/^\s*/.exec(te.text)[0],ae=indentString(Q,oe);re!=ae&&ee.push({from:te.from,to:te.from+re.length,insert:ae})}return ee.length?[H,{changes:ee,sequential:!0}]:H})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function syntaxFolding(H,K,W){let G=syntaxTree(H);if(G.length<W)return null;let U=G.resolveStack(W,1),X=null;for(let Q=U;Q;Q=Q.next){let Z=Q.node;if(Z.to<=W||Z.from>W)continue;if(X&&Z.from<K)break;let ee=Z.type.prop(foldNodeProp);if(ee&&(Z.to<G.length-50||G.length==H.doc.length||!isUnfinished(Z))){let ne=ee(Z,H);ne&&ne.from<=W&&ne.from>=K&&ne.to>W&&(X=ne)}}return X}function isUnfinished(H){let K=H.lastChild;return K&&K.to==H.to&&K.type.isError}function foldable(H,K,W){for(let G of H.facet(foldService)){let U=G(H,K,W);if(U)return U}return syntaxFolding(H,K,W)}function mapRange(H,K){let W=K.mapPos(H.from,1),G=K.mapPos(H.to,-1);return W>=G?void 0:{from:W,to:G}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(H){let K=[];for(let{head:W}of H.state.selection.ranges)K.some(G=>G.from<=W&&G.to>=W)||K.push(H.lineBlockAt(W));return K}const foldState=StateField.define({create(){return Decoration.none},update(H,K){K.isUserEvent("delete")&&K.changes.iterChangedRanges((W,G)=>H=clearTouchedFolds(H,W,G)),H=H.map(K.changes);for(let W of K.effects)if(W.is(foldEffect)&&!foldExists(H,W.value.from,W.value.to)){let{preparePlaceholder:G}=K.state.facet(foldConfig),U=G?Decoration.replace({widget:new PreparedFoldWidget(G(K.state,W.value))}):foldWidget;H=H.update({add:[U.range(W.value.from,W.value.to)]})}else W.is(unfoldEffect)&&(H=H.update({filter:(G,U)=>W.value.from!=G||W.value.to!=U,filterFrom:W.value.from,filterTo:W.value.to}));return K.selection&&(H=clearTouchedFolds(H,K.selection.main.head)),H},provide:H=>EditorView.decorations.from(H),toJSON(H,K){let W=[];return H.between(0,K.doc.length,(G,U)=>{W.push(G,U)}),W},fromJSON(H){if(!Array.isArray(H)||H.length%2)throw new RangeError("Invalid JSON for fold state");let K=[];for(let W=0;W<H.length;){let G=H[W++],U=H[W++];if(typeof G!="number"||typeof U!="number")throw new RangeError("Invalid JSON for fold state");K.push(foldWidget.range(G,U))}return Decoration.set(K,!0)}});function clearTouchedFolds(H,K,W=K){let G=!1;return H.between(K,W,(U,X)=>{U<W&&X>K&&(G=!0)}),G?H.update({filterFrom:K,filterTo:W,filter:(U,X)=>U>=W||X<=K}):H}function findFold(H,K,W){var G;let U=null;return(G=H.field(foldState,!1))===null||G===void 0||G.between(K,W,(X,Q)=>{(!U||U.from>X)&&(U={from:X,to:Q})}),U}function foldExists(H,K,W){let G=!1;return H.between(K,K,(U,X)=>{U==K&&X==W&&(G=!0)}),G}function maybeEnable(H,K){return H.field(foldState,!1)?K:K.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=H=>{for(let K of selectedLines(H)){let W=foldable(H.state,K.from,K.to);if(W)return H.dispatch({effects:maybeEnable(H.state,[foldEffect.of(W),announceFold(H,W)])}),!0}return!1},unfoldCode=H=>{if(!H.state.field(foldState,!1))return!1;let K=[];for(let W of selectedLines(H)){let G=findFold(H.state,W.from,W.to);G&&K.push(unfoldEffect.of(G),announceFold(H,G,!1))}return K.length&&H.dispatch({effects:K}),K.length>0};function announceFold(H,K,W=!0){let G=H.state.doc.lineAt(K.from).number,U=H.state.doc.lineAt(K.to).number;return EditorView.announce.of(`${H.state.phrase(W?"Folded lines":"Unfolded lines")} ${G} ${H.state.phrase("to")} ${U}.`)}const foldAll=H=>{let{state:K}=H,W=[];for(let G=0;G<K.doc.length;){let U=H.lineBlockAt(G),X=foldable(K,U.from,U.to);X&&W.push(foldEffect.of(X)),G=(X?H.lineBlockAt(X.to):U).to+1}return W.length&&H.dispatch({effects:maybeEnable(H.state,W)}),!!W.length},unfoldAll=H=>{let K=H.state.field(foldState,!1);if(!K||!K.size)return!1;let W=[];return K.between(0,H.state.doc.length,(G,U)=>{W.push(unfoldEffect.of({from:G,to:U}))}),H.dispatch({effects:W}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},foldConfig=Facet.define({combine(H){return combineConfig(H,defaultConfig)}});function codeFolding(H){return[foldState,baseTheme$1$2]}function widgetToDOM(H,K){let{state:W}=H,G=W.facet(foldConfig),U=Q=>{let Z=H.lineBlockAt(H.posAtDOM(Q.target)),ee=findFold(H.state,Z.from,Z.to);ee&&H.dispatch({effects:unfoldEffect.of(ee)}),Q.preventDefault()};if(G.placeholderDOM)return G.placeholderDOM(H,U,K);let X=document.createElement("span");return X.textContent=G.placeholderText,X.setAttribute("aria-label",W.phrase("folded code")),X.title=W.phrase("unfold"),X.className="cm-foldPlaceholder",X.onclick=U,X}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(H){return widgetToDOM(H,null)}}});class PreparedFoldWidget extends WidgetType{constructor(K){super(),this.value=K}eq(K){return this.value==K.value}toDOM(K){return widgetToDOM(K,this.value)}}const foldGutterDefaults={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(K,W){super(),this.config=K,this.open=W}eq(K){return this.config==K.config&&this.open==K.open}toDOM(K){if(this.config.markerDOM)return this.config.markerDOM(this.open);let W=document.createElement("span");return W.textContent=this.open?this.config.openText:this.config.closedText,W.title=K.state.phrase(this.open?"Fold line":"Unfold line"),W}}function foldGutter(H={}){let K={...foldGutterDefaults,...H},W=new FoldMarker(K,!0),G=new FoldMarker(K,!1),U=ViewPlugin.fromClass(class{constructor(Q){this.from=Q.viewport.from,this.markers=this.buildMarkers(Q)}update(Q){(Q.docChanged||Q.viewportChanged||Q.startState.facet(language)!=Q.state.facet(language)||Q.startState.field(foldState,!1)!=Q.state.field(foldState,!1)||syntaxTree(Q.startState)!=syntaxTree(Q.state)||K.foldingChanged(Q))&&(this.markers=this.buildMarkers(Q.view))}buildMarkers(Q){let Z=new RangeSetBuilder;for(let ee of Q.viewportLineBlocks){let ne=findFold(Q.state,ee.from,ee.to)?G:foldable(Q.state,ee.from,ee.to)?W:null;ne&&Z.add(ee.from,ee.from,ne)}return Z.finish()}}),{domEventHandlers:X}=K;return[U,gutter({class:"cm-foldGutter",markers(Q){var Z;return((Z=Q.plugin(U))===null||Z===void 0?void 0:Z.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(K,!1)},domEventHandlers:{...X,click:(Q,Z,ee)=>{if(X.click&&X.click(Q,Z,ee))return!0;let ne=findFold(Q.state,Z.from,Z.to);if(ne)return Q.dispatch({effects:unfoldEffect.of(ne)}),!0;let te=foldable(Q.state,Z.from,Z.to);return te?(Q.dispatch({effects:foldEffect.of(te)}),!0):!1}}}),codeFolding()]}const baseTheme$1$2=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(K,W){this.specs=K;let G;function U(Z){let ee=StyleModule.newName();return(G||(G=Object.create(null)))["."+ee]=Z,ee}const X=typeof W.all=="string"?W.all:W.all?U(W.all):void 0,Q=W.scope;this.scope=Q instanceof Language?Z=>Z.prop(languageDataProp)==Q.data:Q?Z=>Z==Q:void 0,this.style=tagHighlighter(K.map(Z=>({tag:Z.tag,class:Z.class||U(Object.assign({},Z,{tag:null}))})),{all:X}).style,this.module=G?new StyleModule(G):null,this.themeType=W.themeType}static define(K,W){return new HighlightStyle(K,W||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(H){return H.length?[H[0]]:null}});function getHighlighters(H){let K=H.facet(highlighterFacet);return K.length?K:H.facet(fallbackHighlighter)}function syntaxHighlighting(H,K){let W=[treeHighlighter],G;return H instanceof HighlightStyle&&(H.module&&W.push(EditorView.styleModule.of(H.module)),G=H.themeType),K?.fallback?W.push(fallbackHighlighter.of(H)):G?W.push(highlighterFacet.computeN([EditorView.darkTheme],U=>U.facet(EditorView.darkTheme)==(G=="dark")?[H]:[])):W.push(highlighterFacet.of(H)),W}class TreeHighlighter{constructor(K){this.markCache=Object.create(null),this.tree=syntaxTree(K.state),this.decorations=this.buildDeco(K,getHighlighters(K.state)),this.decoratedTo=K.viewport.to}update(K){let W=syntaxTree(K.state),G=getHighlighters(K.state),U=G!=getHighlighters(K.startState),{viewport:X}=K.view,Q=K.changes.mapPos(this.decoratedTo,1);W.length<X.to&&!U&&W.type==this.tree.type&&Q>=X.to?(this.decorations=this.decorations.map(K.changes),this.decoratedTo=Q):(W!=this.tree||K.viewportChanged||U)&&(this.tree=W,this.decorations=this.buildDeco(K.view,G),this.decoratedTo=X.to)}buildDeco(K,W){if(!W||!this.tree.length)return Decoration.none;let G=new RangeSetBuilder;for(let{from:U,to:X}of K.visibleRanges)highlightTree(this.tree,W,(Q,Z,ee)=>{G.add(Q,Z,this.markCache[ee]||(this.markCache[ee]=Decoration.mark({class:ee})))},U,X);return G.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:H=>H.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags.meta,color:"#404740"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.keyword,color:"#708"},{tag:[tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName],color:"#219"},{tag:[tags.literal,tags.inserted],color:"#164"},{tag:[tags.string,tags.deleted],color:"#a11"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],color:"#e40"},{tag:tags.definition(tags.variableName),color:"#00f"},{tag:tags.local(tags.variableName),color:"#30a"},{tag:[tags.typeName,tags.namespace],color:"#085"},{tag:tags.className,color:"#167"},{tag:[tags.special(tags.variableName),tags.macroName],color:"#256"},{tag:tags.definition(tags.propertyName),color:"#00c"},{tag:tags.comment,color:"#940"},{tag:tags.invalid,color:"#f00"}]),baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(H){return combineConfig(H,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(H){let K=[],W=H.matched?matchingMark:nonmatchingMark;return K.push(W.range(H.start.from,H.start.to)),H.end&&K.push(W.range(H.end.from,H.end.to)),K}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(H,K){if(!K.docChanged&&!K.selection)return H;let W=[],G=K.state.facet(bracketMatchingConfig);for(let U of K.state.selection.ranges){if(!U.empty)continue;let X=matchBrackets(K.state,U.head,-1,G)||U.head>0&&matchBrackets(K.state,U.head-1,1,G)||G.afterCursor&&(matchBrackets(K.state,U.head,1,G)||U.head<K.state.doc.length&&matchBrackets(K.state,U.head+1,-1,G));X&&(W=W.concat(G.renderMatch(X,K.state)))}return Decoration.set(W,!0)},provide:H=>EditorView.decorations.from(H)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(H={}){return[bracketMatchingConfig.of(H),bracketMatchingUnique]}const bracketMatchingHandle=new NodeProp;function matchingNodes(H,K,W){let G=H.prop(K<0?NodeProp.openedBy:NodeProp.closedBy);if(G)return G;if(H.name.length==1){let U=W.indexOf(H.name);if(U>-1&&U%2==(K<0?1:0))return[W[U+K]]}return null}function findHandle(H){let K=H.type.prop(bracketMatchingHandle);return K?K(H.node):H}function matchBrackets(H,K,W,G={}){let U=G.maxScanDistance||DefaultScanDist,X=G.brackets||DefaultBrackets,Q=syntaxTree(H),Z=Q.resolveInner(K,W);for(let ee=Z;ee;ee=ee.parent){let ne=matchingNodes(ee.type,W,X);if(ne&&ee.from<ee.to){let te=findHandle(ee);if(te&&(W>0?K>=te.from&&K<te.to:K>te.from&&K<=te.to))return matchMarkedBrackets(H,K,W,ee,te,ne,X)}}return matchPlainBrackets(H,K,W,Q,Z.type,U,X)}function matchMarkedBrackets(H,K,W,G,U,X,Q){let Z=G.parent,ee={from:U.from,to:U.to},ne=0,te=Z?.cursor();if(te&&(W<0?te.childBefore(G.from):te.childAfter(G.to)))do if(W<0?te.to<=G.from:te.from>=G.to){if(ne==0&&X.indexOf(te.type.name)>-1&&te.from<te.to){let oe=findHandle(te);return{start:ee,end:oe?{from:oe.from,to:oe.to}:void 0,matched:!0}}else if(matchingNodes(te.type,W,Q))ne++;else if(matchingNodes(te.type,-W,Q)){if(ne==0){let oe=findHandle(te);return{start:ee,end:oe&&oe.from<oe.to?{from:oe.from,to:oe.to}:void 0,matched:!1}}ne--}}while(W<0?te.prevSibling():te.nextSibling());return{start:ee,matched:!1}}function matchPlainBrackets(H,K,W,G,U,X,Q){let Z=W<0?H.sliceDoc(K-1,K):H.sliceDoc(K,K+1),ee=Q.indexOf(Z);if(ee<0||ee%2==0!=W>0)return null;let ne={from:W<0?K-1:K,to:W>0?K+1:K},te=H.doc.iterRange(K,W>0?H.doc.length:0),oe=0;for(let re=0;!te.next().done&&re<=X;){let ae=te.value;W<0&&(re+=ae.length);let se=K+re*W;for(let ce=W>0?0:ae.length-1,de=W>0?ae.length:-1;ce!=de;ce+=W){let le=Q.indexOf(ae[ce]);if(!(le<0||G.resolveInner(se+ce,1).type!=U))if(le%2==0==W>0)oe++;else{if(oe==1)return{start:ne,end:{from:se+ce,to:se+ce+1},matched:le>>1==ee>>1};oe--}}W>0&&(re+=ae.length)}return te.done?{start:ne,matched:!1}:null}function countCol(H,K,W,G=0,U=0){K==null&&(K=H.search(/[^\s\u00a0]/),K==-1&&(K=H.length));let X=U;for(let Q=G;Q<K;Q++)H.charCodeAt(Q)==9?X+=W-X%W:X++;return X}class StringStream{constructor(K,W,G,U){this.string=K,this.tabSize=W,this.indentUnit=G,this.overrideIndent=U,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(K){let W=this.string.charAt(this.pos),G;if(typeof K=="string"?G=W==K:G=W&&(K instanceof RegExp?K.test(W):K(W)),G)return++this.pos,W}eatWhile(K){let W=this.pos;for(;this.eat(K););return this.pos>W}eatSpace(){let K=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>K}skipToEnd(){this.pos=this.string.length}skipTo(K){let W=this.string.indexOf(K,this.pos);if(W>-1)return this.pos=W,!0}backUp(K){this.pos-=K}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=countCol(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var K;return(K=this.overrideIndent)!==null&&K!==void 0?K:countCol(this.string,null,this.tabSize)}match(K,W,G){if(typeof K=="string"){let U=Q=>G?Q.toLowerCase():Q,X=this.string.substr(this.pos,K.length);return U(X)==U(K)?(W!==!1&&(this.pos+=K.length),!0):null}else{let U=this.string.slice(this.pos).match(K);return U&&U.index>0?null:(U&&W!==!1&&(this.pos+=U[0].length),U)}}current(){return this.string.slice(this.start,this.pos)}}function fullParser(H){return{name:H.name||"",token:H.token,blankLine:H.blankLine||(()=>{}),startState:H.startState||(()=>!0),copyState:H.copyState||defaultCopyState,indent:H.indent||(()=>null),languageData:H.languageData||{},tokenTable:H.tokenTable||noTokens,mergeTokens:H.mergeTokens!==!1}}function defaultCopyState(H){if(typeof H!="object")return H;let K={};for(let W in H){let G=H[W];K[W]=G instanceof Array?G.slice():G}return K}const IndentedFrom=new WeakMap;class StreamLanguage extends Language{constructor(K){let W=defineLanguageFacet(K.languageData),G=fullParser(K),U,X=new class extends Parser{createParse(Q,Z,ee){return new Parse(U,Q,Z,ee)}};super(W,X,[],K.name),this.topNode=docID(W,this),U=this,this.streamParser=G,this.stateAfter=new NodeProp({perNode:!0}),this.tokenTable=K.tokenTable?new TokenTable(G.tokenTable):defaultTokenTable}static define(K){return new StreamLanguage(K)}getIndent(K){let W,{overrideIndentation:G}=K.options;G&&(W=IndentedFrom.get(K.state),W!=null&&W<K.pos-1e4&&(W=void 0));let U=findState(this,K.node.tree,K.node.from,K.node.from,W??K.pos),X,Q;if(U?(Q=U.state,X=U.pos+1):(Q=this.streamParser.startState(K.unit),X=K.node.from),K.pos-X>1e4)return null;for(;X<K.pos;){let ee=K.state.doc.lineAt(X),ne=Math.min(K.pos,ee.to);if(ee.length){let te=G?G(ee.from):-1,oe=new StringStream(ee.text,K.state.tabSize,K.unit,te<0?void 0:te);for(;oe.pos<ne-ee.from;)readToken(this.streamParser.token,oe,Q)}else this.streamParser.blankLine(Q,K.unit);if(ne==K.pos)break;X=ee.to+1}let Z=K.lineAt(K.pos);return G&&W==null&&IndentedFrom.set(K.state,Z.from),this.streamParser.indent(Q,/^\s*(.*)/.exec(Z.text)[1],K)}get allowsNesting(){return!1}}function findState(H,K,W,G,U){let X=W>=G&&W+K.length<=U&&K.prop(H.stateAfter);if(X)return{state:H.streamParser.copyState(X),pos:W+K.length};for(let Q=K.children.length-1;Q>=0;Q--){let Z=K.children[Q],ee=W+K.positions[Q],ne=Z instanceof Tree&&ee<U&&findState(H,Z,ee,G,U);if(ne)return ne}return null}function cutTree(H,K,W,G,U){if(U&&W<=0&&G>=K.length)return K;!U&&W==0&&K.type==H.topNode&&(U=!0);for(let X=K.children.length-1;X>=0;X--){let Q=K.positions[X],Z=K.children[X],ee;if(Q<G&&Z instanceof Tree){if(!(ee=cutTree(H,Z,W-Q,G-Q,U)))break;return U?new Tree(K.type,K.children.slice(0,X).concat(ee),K.positions.slice(0,X+1),Q+ee.length):ee}}return null}function findStartInFragments(H,K,W,G,U){for(let X of K){let Q=X.from+(X.openStart?25:0),Z=X.to-(X.openEnd?25:0),ee=Q<=W&&Z>W&&findState(H,X.tree,0-X.offset,W,Z),ne;if(ee&&ee.pos<=G&&(ne=cutTree(H,X.tree,W+X.offset,ee.pos+X.offset,!1)))return{state:ee.state,tree:ne}}return{state:H.streamParser.startState(U?getIndentUnit(U):4),tree:Tree.empty}}class Parse{constructor(K,W,G,U){this.lang=K,this.input=W,this.fragments=G,this.ranges=U,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=U[U.length-1].to;let X=ParseContext.get(),Q=U[0].from,{state:Z,tree:ee}=findStartInFragments(K,G,Q,this.to,X?.state);this.state=Z,this.parsedPos=this.chunkStart=Q+ee.length;for(let ne=0;ne<ee.children.length;ne++)this.chunks.push(ee.children[ne]),this.chunkPos.push(ee.positions[ne]);X&&this.parsedPos<X.viewport.from-1e5&&U.some(ne=>ne.from<=X.viewport.from&&ne.to>=X.viewport.from)&&(this.state=this.lang.streamParser.startState(getIndentUnit(X.state)),X.skipUntilInView(this.parsedPos,X.viewport.from),this.parsedPos=X.viewport.from),this.moveRangeIndex()}advance(){let K=ParseContext.get(),W=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),G=Math.min(W,this.chunkStart+2048);for(K&&(G=Math.min(G,K.viewport.to));this.parsedPos<G;)this.parseLine(K);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=W?this.finish():K&&this.parsedPos>=K.viewport.to?(K.skipUntilInView(this.parsedPos,W),this.finish()):null}stopAt(K){this.stoppedAt=K}lineAfter(K){let W=this.input.chunk(K);if(this.input.lineChunks)W==`
`&&(W="");else{let G=W.indexOf(`
`);G>-1&&(W=W.slice(0,G))}return K+W.length<=this.to?W:W.slice(0,this.to-K)}nextLine(){let K=this.parsedPos,W=this.lineAfter(K),G=K+W.length;for(let U=this.rangeIndex;;){let X=this.ranges[U].to;if(X>=G||(W=W.slice(0,X-(G-W.length)),U++,U==this.ranges.length))break;let Q=this.ranges[U].from,Z=this.lineAfter(Q);W+=Z,G=Q+Z.length}return{line:W,end:G}}skipGapsTo(K,W,G){for(;;){let U=this.ranges[this.rangeIndex].to,X=K+W;if(G>0?U>X:U>=X)break;let Q=this.ranges[++this.rangeIndex].from;W+=Q-U}return W}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(K,W,G,U){let X=4;if(this.ranges.length>1){U=this.skipGapsTo(W,U,1),W+=U;let Z=this.chunk.length;U=this.skipGapsTo(G,U,-1),G+=U,X+=this.chunk.length-Z}let Q=this.chunk.length-4;return this.lang.streamParser.mergeTokens&&X==4&&Q>=0&&this.chunk[Q]==K&&this.chunk[Q+2]==W?this.chunk[Q+2]=G:this.chunk.push(K,W,G,X),U}parseLine(K){let{line:W,end:G}=this.nextLine(),U=0,{streamParser:X}=this.lang,Q=new StringStream(W,K?K.state.tabSize:4,K?getIndentUnit(K.state):2);if(Q.eol())X.blankLine(this.state,Q.indentUnit);else for(;!Q.eol();){let Z=readToken(X.token,Q,this.state);if(Z&&(U=this.emitToken(this.lang.tokenTable.resolve(Z),this.parsedPos+Q.start,this.parsedPos+Q.pos,U)),Q.start>1e4)break}this.parsedPos=G,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let K=Tree.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet,topID:0,maxBufferLength:2048,reused:this.chunkReused});K=new Tree(K.type,K.children,K.positions,K.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(K),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Tree(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function readToken(H,K,W){K.start=K.pos;for(let G=0;G<10;G++){let U=H(K,W);if(K.pos>K.start)return U}throw new Error("Stream parser failed to advance stream.")}const noTokens=Object.create(null),typeArray=[NodeType.none],nodeSet=new NodeSet(typeArray),warned=[],byTag=Object.create(null),defaultTable=Object.create(null);for(let[H,K]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[H]=createTokenType(noTokens,K);class TokenTable{constructor(K){this.extra=K,this.table=Object.assign(Object.create(null),defaultTable)}resolve(K){return K?this.table[K]||(this.table[K]=createTokenType(this.extra,K)):0}}const defaultTokenTable=new TokenTable(noTokens);function warnForPart(H,K){warned.indexOf(H)>-1||(warned.push(H),console.warn(K))}function createTokenType(H,K){let W=[];for(let Z of K.split(" ")){let ee=[];for(let ne of Z.split(".")){let te=H[ne]||tags[ne];te?typeof te=="function"?ee.length?ee=ee.map(te):warnForPart(ne,`Modifier ${ne} used at start of tag`):ee.length?warnForPart(ne,`Tag ${ne} used as modifier`):ee=Array.isArray(te)?te:[te]:warnForPart(ne,`Unknown highlighting tag ${ne}`)}for(let ne of ee)W.push(ne)}if(!W.length)return 0;let G=K.replace(/ /g,"_"),U=G+" "+W.map(Z=>Z.id),X=byTag[U];if(X)return X.id;let Q=byTag[U]=NodeType.define({id:typeArray.length,name:G,props:[styleTags({[G]:W})]});return typeArray.push(Q),Q.id}function docID(H,K){let W=NodeType.define({id:typeArray.length,name:"Document",props:[languageDataProp.add(()=>H),indentNodeProp.add(()=>G=>K.getIndent(G))],top:!0});return typeArray.push(W),W}Direction.RTL,Direction.LTR;const toggleComment=H=>{let{state:K}=H,W=K.doc.lineAt(K.selection.main.from),G=getConfig(H.state,W.from);return G.line?toggleLineComment(H):G.block?toggleBlockCommentByLine(H):!1};function command(H,K){return({state:W,dispatch:G})=>{if(W.readOnly)return!1;let U=H(K,W);return U?(G(W.update(U)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((H,K)=>changeBlockComment(H,K,selectedLineRanges(K)),0);function getConfig(H,K){let W=H.languageDataAt("commentTokens",K,1);return W.length?W[0]:{}}const SearchMargin=50;function findBlockComment(H,{open:K,close:W},G,U){let X=H.sliceDoc(G-SearchMargin,G),Q=H.sliceDoc(U,U+SearchMargin),Z=/\s*$/.exec(X)[0].length,ee=/^\s*/.exec(Q)[0].length,ne=X.length-Z;if(X.slice(ne-K.length,ne)==K&&Q.slice(ee,ee+W.length)==W)return{open:{pos:G-Z,margin:Z&&1},close:{pos:U+ee,margin:ee&&1}};let te,oe;U-G<=2*SearchMargin?te=oe=H.sliceDoc(G,U):(te=H.sliceDoc(G,G+SearchMargin),oe=H.sliceDoc(U-SearchMargin,U));let re=/^\s*/.exec(te)[0].length,ae=/\s*$/.exec(oe)[0].length,se=oe.length-ae-W.length;return te.slice(re,re+K.length)==K&&oe.slice(se,se+W.length)==W?{open:{pos:G+re+K.length,margin:/\s/.test(te.charAt(re+K.length))?1:0},close:{pos:U-ae-W.length,margin:/\s/.test(oe.charAt(se-1))?1:0}}:null}function selectedLineRanges(H){let K=[];for(let W of H.selection.ranges){let G=H.doc.lineAt(W.from),U=W.to<=G.to?G:H.doc.lineAt(W.to);U.from>G.from&&U.from==W.to&&(U=W.to==G.to+1?G:H.doc.lineAt(W.to-1));let X=K.length-1;X>=0&&K[X].to>G.from?K[X].to=U.to:K.push({from:G.from+/^\s*/.exec(G.text)[0].length,to:U.to})}return K}function changeBlockComment(H,K,W=K.selection.ranges){let G=W.map(X=>getConfig(K,X.from).block);if(!G.every(X=>X))return null;let U=W.map((X,Q)=>findBlockComment(K,G[Q],X.from,X.to));if(H!=2&&!U.every(X=>X))return{changes:K.changes(W.map((X,Q)=>U[Q]?[]:[{from:X.from,insert:G[Q].open+" "},{from:X.to,insert:" "+G[Q].close}]))};if(H!=1&&U.some(X=>X)){let X=[];for(let Q=0,Z;Q<U.length;Q++)if(Z=U[Q]){let ee=G[Q],{open:ne,close:te}=Z;X.push({from:ne.pos-ee.open.length,to:ne.pos+ne.margin},{from:te.pos-te.margin,to:te.pos+ee.close.length})}return{changes:X}}return null}function changeLineComment(H,K,W=K.selection.ranges){let G=[],U=-1;for(let{from:X,to:Q}of W){let Z=G.length,ee=1e9,ne=getConfig(K,X).line;if(ne){for(let te=X;te<=Q;){let oe=K.doc.lineAt(te);if(oe.from>U&&(X==Q||Q>oe.from)){U=oe.from;let re=/^\s*/.exec(oe.text)[0].length,ae=re==oe.length,se=oe.text.slice(re,re+ne.length)==ne?re:-1;re<oe.text.length&&re<ee&&(ee=re),G.push({line:oe,comment:se,token:ne,indent:re,empty:ae,single:!1})}te=oe.to+1}if(ee<1e9)for(let te=Z;te<G.length;te++)G[te].indent<G[te].line.text.length&&(G[te].indent=ee);G.length==Z+1&&(G[Z].single=!0)}}if(H!=2&&G.some(X=>X.comment<0&&(!X.empty||X.single))){let X=[];for(let{line:Z,token:ee,indent:ne,empty:te,single:oe}of G)(oe||!te)&&X.push({from:Z.from+ne,insert:ee+" "});let Q=K.changes(X);return{changes:Q,selection:K.selection.map(Q,1)}}else if(H!=1&&G.some(X=>X.comment>=0)){let X=[];for(let{line:Q,comment:Z,token:ee}of G)if(Z>=0){let ne=Q.from+Z,te=ne+ee.length;Q.text[te-Q.from]==" "&&te++,X.push({from:ne,to:te})}return{changes:X}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(H){return combineConfig(H,{minDepth:100,newGroupDelay:500,joinToEvent:(K,W)=>W},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(K,W)=>(G,U)=>K(G,U)||W(G,U)})}}),historyField_=StateField.define({create(){return HistoryState.empty},update(H,K){let W=K.state.facet(historyConfig),G=K.annotation(fromHistory);if(G){let ee=HistEvent.fromTransaction(K,G.selection),ne=G.side,te=ne==0?H.undone:H.done;return ee?te=updateBranch(te,te.length,W.minDepth,ee):te=addSelection(te,K.startState.selection),new HistoryState(ne==0?G.rest:te,ne==0?te:G.rest)}let U=K.annotation(isolateHistory);if((U=="full"||U=="before")&&(H=H.isolate()),K.annotation(Transaction.addToHistory)===!1)return K.changes.empty?H:H.addMapping(K.changes.desc);let X=HistEvent.fromTransaction(K),Q=K.annotation(Transaction.time),Z=K.annotation(Transaction.userEvent);return X?H=H.addChanges(X,Q,Z,W,K):K.selection&&(H=H.addSelection(K.startState.selection,Q,Z,W.newGroupDelay)),(U=="full"||U=="after")&&(H=H.isolate()),H},toJSON(H){return{done:H.done.map(K=>K.toJSON()),undone:H.undone.map(K=>K.toJSON())}},fromJSON(H){return new HistoryState(H.done.map(HistEvent.fromJSON),H.undone.map(HistEvent.fromJSON))}});function history$1(H={}){return[historyField_,historyConfig.of(H),EditorView.domEventHandlers({beforeinput(K,W){let G=K.inputType=="historyUndo"?undo:K.inputType=="historyRedo"?redo:null;return G?(K.preventDefault(),G(W)):!1}})]}const historyField=historyField_;function cmd(H,K){return function({state:W,dispatch:G}){if(!K&&W.readOnly)return!1;let U=W.field(historyField_,!1);if(!U)return!1;let X=U.pop(H,W,K);return X?(G(X),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(K,W,G,U,X){this.changes=K,this.effects=W,this.mapped=G,this.startSelection=U,this.selectionsAfter=X}setSelAfter(K){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,K)}toJSON(){var K,W,G;return{changes:(K=this.changes)===null||K===void 0?void 0:K.toJSON(),mapped:(W=this.mapped)===null||W===void 0?void 0:W.toJSON(),startSelection:(G=this.startSelection)===null||G===void 0?void 0:G.toJSON(),selectionsAfter:this.selectionsAfter.map(U=>U.toJSON())}}static fromJSON(K){return new HistEvent(K.changes&&ChangeSet.fromJSON(K.changes),[],K.mapped&&ChangeDesc.fromJSON(K.mapped),K.startSelection&&EditorSelection.fromJSON(K.startSelection),K.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(K,W){let G=none$1;for(let U of K.startState.facet(invertedEffects)){let X=U(K);X.length&&(G=G.concat(X))}return!G.length&&K.changes.empty?null:new HistEvent(K.changes.invert(K.startState.doc),G,void 0,W||K.startState.selection,none$1)}static selection(K){return new HistEvent(void 0,none$1,void 0,void 0,K)}}function updateBranch(H,K,W,G){let U=K+1>W+20?K-W-1:0,X=H.slice(U,K);return X.push(G),X}function isAdjacent(H,K){let W=[],G=!1;return H.iterChangedRanges((U,X)=>W.push(U,X)),K.iterChangedRanges((U,X,Q,Z)=>{for(let ee=0;ee<W.length;){let ne=W[ee++],te=W[ee++];Z>=ne&&Q<=te&&(G=!0)}}),G}function eqSelectionShape(H,K){return H.ranges.length==K.ranges.length&&H.ranges.filter((W,G)=>W.empty!=K.ranges[G].empty).length===0}function conc(H,K){return H.length?K.length?H.concat(K):H:K}const none$1=[],MaxSelectionsPerEvent=200;function addSelection(H,K){if(H.length){let W=H[H.length-1],G=W.selectionsAfter.slice(Math.max(0,W.selectionsAfter.length-MaxSelectionsPerEvent));return G.length&&G[G.length-1].eq(K)?H:(G.push(K),updateBranch(H,H.length-1,1e9,W.setSelAfter(G)))}else return[HistEvent.selection([K])]}function popSelection(H){let K=H[H.length-1],W=H.slice();return W[H.length-1]=K.setSelAfter(K.selectionsAfter.slice(0,K.selectionsAfter.length-1)),W}function addMappingToBranch(H,K){if(!H.length)return H;let W=H.length,G=none$1;for(;W;){let U=mapEvent(H[W-1],K,G);if(U.changes&&!U.changes.empty||U.effects.length){let X=H.slice(0,W);return X[W-1]=U,X}else K=U.mapped,W--,G=U.selectionsAfter}return G.length?[HistEvent.selection(G)]:none$1}function mapEvent(H,K,W){let G=conc(H.selectionsAfter.length?H.selectionsAfter.map(Z=>Z.map(K)):none$1,W);if(!H.changes)return HistEvent.selection(G);let U=H.changes.map(K),X=K.mapDesc(H.changes,!0),Q=H.mapped?H.mapped.composeDesc(X):X;return new HistEvent(U,StateEffect.mapEffects(H.effects,K),Q,H.startSelection.map(X),G)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(K,W,G=0,U=void 0){this.done=K,this.undone=W,this.prevTime=G,this.prevUserEvent=U}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(K,W,G,U,X){let Q=this.done,Z=Q[Q.length-1];return Z&&Z.changes&&!Z.changes.empty&&K.changes&&(!G||joinableUserEvent.test(G))&&(!Z.selectionsAfter.length&&W-this.prevTime<U.newGroupDelay&&U.joinToEvent(X,isAdjacent(Z.changes,K.changes))||G=="input.type.compose")?Q=updateBranch(Q,Q.length-1,U.minDepth,new HistEvent(K.changes.compose(Z.changes),conc(StateEffect.mapEffects(K.effects,Z.changes),Z.effects),Z.mapped,Z.startSelection,none$1)):Q=updateBranch(Q,Q.length,U.minDepth,K),new HistoryState(Q,none$1,W,G)}addSelection(K,W,G,U){let X=this.done.length?this.done[this.done.length-1].selectionsAfter:none$1;return X.length>0&&W-this.prevTime<U&&G==this.prevUserEvent&&G&&/^select($|\.)/.test(G)&&eqSelectionShape(X[X.length-1],K)?this:new HistoryState(addSelection(this.done,K),this.undone,W,G)}addMapping(K){return new HistoryState(addMappingToBranch(this.done,K),addMappingToBranch(this.undone,K),this.prevTime,this.prevUserEvent)}pop(K,W,G){let U=K==0?this.done:this.undone;if(U.length==0)return null;let X=U[U.length-1],Q=X.selectionsAfter[0]||W.selection;if(G&&X.selectionsAfter.length)return W.update({selection:X.selectionsAfter[X.selectionsAfter.length-1],annotations:fromHistory.of({side:K,rest:popSelection(U),selection:Q}),userEvent:K==0?"select.undo":"select.redo",scrollIntoView:!0});if(X.changes){let Z=U.length==1?none$1:U.slice(0,U.length-1);return X.mapped&&(Z=addMappingToBranch(Z,X.mapped)),W.update({changes:X.changes,selection:X.startSelection,effects:X.effects,annotations:fromHistory.of({side:K,rest:Z,selection:Q}),filter:!1,userEvent:K==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$1,none$1);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(H,K){return EditorSelection.create(H.ranges.map(K),H.mainIndex)}function setSel(H,K){return H.update({selection:K,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:H,dispatch:K},W){let G=updateSel(H.selection,W);return G.eq(H.selection,!0)?!1:(K(setSel(H,G)),!0)}function rangeEnd(H,K){return EditorSelection.cursor(K?H.to:H.from)}function cursorByChar(H,K){return moveSel(H,W=>W.empty?H.moveByChar(W,K):rangeEnd(W,K))}function ltrAtCursor(H){return H.textDirectionAt(H.state.selection.main.head)==Direction.LTR}const cursorCharLeft=H=>cursorByChar(H,!ltrAtCursor(H)),cursorCharRight=H=>cursorByChar(H,ltrAtCursor(H));function cursorByGroup(H,K){return moveSel(H,W=>W.empty?H.moveByGroup(W,K):rangeEnd(W,K))}const cursorGroupLeft=H=>cursorByGroup(H,!ltrAtCursor(H)),cursorGroupRight=H=>cursorByGroup(H,ltrAtCursor(H));function interestingNode(H,K,W){if(K.type.prop(W))return!0;let G=K.to-K.from;return G&&(G>2||/[^\s,.;:]/.test(H.sliceDoc(K.from,K.to)))||K.firstChild}function moveBySyntax(H,K,W){let G=syntaxTree(H).resolveInner(K.head),U=W?NodeProp.closedBy:NodeProp.openedBy;for(let ee=K.head;;){let ne=W?G.childAfter(ee):G.childBefore(ee);if(!ne)break;interestingNode(H,ne,U)?G=ne:ee=W?ne.to:ne.from}let X=G.type.prop(U),Q,Z;return X&&(Q=W?matchBrackets(H,G.from,1):matchBrackets(H,G.to,-1))&&Q.matched?Z=W?Q.end.to:Q.end.from:Z=W?G.to:G.from,EditorSelection.cursor(Z,W?-1:1)}const cursorSyntaxLeft=H=>moveSel(H,K=>moveBySyntax(H.state,K,!ltrAtCursor(H))),cursorSyntaxRight=H=>moveSel(H,K=>moveBySyntax(H.state,K,ltrAtCursor(H)));function cursorByLine(H,K){return moveSel(H,W=>{if(!W.empty)return rangeEnd(W,K);let G=H.moveVertically(W,K);return G.head!=W.head?G:H.moveToLineBoundary(W,K)})}const cursorLineUp=H=>cursorByLine(H,!1),cursorLineDown=H=>cursorByLine(H,!0);function pageInfo(H){let K=H.scrollDOM.clientHeight<H.scrollDOM.scrollHeight-2,W=0,G=0,U;if(K){for(let X of H.state.facet(EditorView.scrollMargins)){let Q=X(H);Q?.top&&(W=Math.max(Q?.top,W)),Q?.bottom&&(G=Math.max(Q?.bottom,G))}U=H.scrollDOM.clientHeight-W-G}else U=(H.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:W,marginBottom:G,selfScroll:K,height:Math.max(H.defaultLineHeight,U-5)}}function cursorByPage(H,K){let W=pageInfo(H),{state:G}=H,U=updateSel(G.selection,Q=>Q.empty?H.moveVertically(Q,K,W.height):rangeEnd(Q,K));if(U.eq(G.selection))return!1;let X;if(W.selfScroll){let Q=H.coordsAtPos(G.selection.main.head),Z=H.scrollDOM.getBoundingClientRect(),ee=Z.top+W.marginTop,ne=Z.bottom-W.marginBottom;Q&&Q.top>ee&&Q.bottom<ne&&(X=EditorView.scrollIntoView(U.main.head,{y:"start",yMargin:Q.top-ee}))}return H.dispatch(setSel(G,U),{effects:X}),!0}const cursorPageUp=H=>cursorByPage(H,!1),cursorPageDown=H=>cursorByPage(H,!0);function moveByLineBoundary(H,K,W){let G=H.lineBlockAt(K.head),U=H.moveToLineBoundary(K,W);if(U.head==K.head&&U.head!=(W?G.to:G.from)&&(U=H.moveToLineBoundary(K,W,!1)),!W&&U.head==G.from&&G.length){let X=/^\s*/.exec(H.state.sliceDoc(G.from,Math.min(G.from+100,G.to)))[0].length;X&&K.head!=G.from+X&&(U=EditorSelection.cursor(G.from+X))}return U}const cursorLineBoundaryForward=H=>moveSel(H,K=>moveByLineBoundary(H,K,!0)),cursorLineBoundaryBackward=H=>moveSel(H,K=>moveByLineBoundary(H,K,!1)),cursorLineBoundaryLeft=H=>moveSel(H,K=>moveByLineBoundary(H,K,!ltrAtCursor(H))),cursorLineBoundaryRight=H=>moveSel(H,K=>moveByLineBoundary(H,K,ltrAtCursor(H))),cursorLineStart=H=>moveSel(H,K=>EditorSelection.cursor(H.lineBlockAt(K.head).from,1)),cursorLineEnd=H=>moveSel(H,K=>EditorSelection.cursor(H.lineBlockAt(K.head).to,-1));function toMatchingBracket(H,K,W){let G=!1,U=updateSel(H.selection,X=>{let Q=matchBrackets(H,X.head,-1)||matchBrackets(H,X.head,1)||X.head>0&&matchBrackets(H,X.head-1,1)||X.head<H.doc.length&&matchBrackets(H,X.head+1,-1);if(!Q||!Q.end)return X;G=!0;let Z=Q.start.from==X.head?Q.end.to:Q.end.from;return EditorSelection.cursor(Z)});return G?(K(setSel(H,U)),!0):!1}const cursorMatchingBracket=({state:H,dispatch:K})=>toMatchingBracket(H,K);function extendSel(H,K){let W=updateSel(H.state.selection,G=>{let U=K(G);return EditorSelection.range(G.anchor,U.head,U.goalColumn,U.bidiLevel||void 0)});return W.eq(H.state.selection)?!1:(H.dispatch(setSel(H.state,W)),!0)}function selectByChar(H,K){return extendSel(H,W=>H.moveByChar(W,K))}const selectCharLeft=H=>selectByChar(H,!ltrAtCursor(H)),selectCharRight=H=>selectByChar(H,ltrAtCursor(H));function selectByGroup(H,K){return extendSel(H,W=>H.moveByGroup(W,K))}const selectGroupLeft=H=>selectByGroup(H,!ltrAtCursor(H)),selectGroupRight=H=>selectByGroup(H,ltrAtCursor(H)),selectSyntaxLeft=H=>extendSel(H,K=>moveBySyntax(H.state,K,!ltrAtCursor(H))),selectSyntaxRight=H=>extendSel(H,K=>moveBySyntax(H.state,K,ltrAtCursor(H)));function selectByLine(H,K){return extendSel(H,W=>H.moveVertically(W,K))}const selectLineUp=H=>selectByLine(H,!1),selectLineDown=H=>selectByLine(H,!0);function selectByPage(H,K){return extendSel(H,W=>H.moveVertically(W,K,pageInfo(H).height))}const selectPageUp=H=>selectByPage(H,!1),selectPageDown=H=>selectByPage(H,!0),selectLineBoundaryForward=H=>extendSel(H,K=>moveByLineBoundary(H,K,!0)),selectLineBoundaryBackward=H=>extendSel(H,K=>moveByLineBoundary(H,K,!1)),selectLineBoundaryLeft=H=>extendSel(H,K=>moveByLineBoundary(H,K,!ltrAtCursor(H))),selectLineBoundaryRight=H=>extendSel(H,K=>moveByLineBoundary(H,K,ltrAtCursor(H))),selectLineStart=H=>extendSel(H,K=>EditorSelection.cursor(H.lineBlockAt(K.head).from)),selectLineEnd=H=>extendSel(H,K=>EditorSelection.cursor(H.lineBlockAt(K.head).to)),cursorDocStart=({state:H,dispatch:K})=>(K(setSel(H,{anchor:0})),!0),cursorDocEnd=({state:H,dispatch:K})=>(K(setSel(H,{anchor:H.doc.length})),!0),selectDocStart=({state:H,dispatch:K})=>(K(setSel(H,{anchor:H.selection.main.anchor,head:0})),!0),selectDocEnd=({state:H,dispatch:K})=>(K(setSel(H,{anchor:H.selection.main.anchor,head:H.doc.length})),!0),selectAll=({state:H,dispatch:K})=>(K(H.update({selection:{anchor:0,head:H.doc.length},userEvent:"select"})),!0),selectLine=({state:H,dispatch:K})=>{let W=selectedLineBlocks(H).map(({from:G,to:U})=>EditorSelection.range(G,Math.min(U+1,H.doc.length)));return K(H.update({selection:EditorSelection.create(W),userEvent:"select"})),!0},selectParentSyntax=({state:H,dispatch:K})=>{let W=updateSel(H.selection,G=>{let U=syntaxTree(H),X=U.resolveStack(G.from,1);if(G.empty){let Q=U.resolveStack(G.from,-1);Q.node.from>=X.node.from&&Q.node.to<=X.node.to&&(X=Q)}for(let Q=X;Q;Q=Q.next){let{node:Z}=Q;if((Z.from<G.from&&Z.to>=G.to||Z.to>G.to&&Z.from<=G.from)&&Q.next)return EditorSelection.range(Z.to,Z.from)}return G});return W.eq(H.selection)?!1:(K(setSel(H,W)),!0)},simplifySelection=({state:H,dispatch:K})=>{let W=H.selection,G=null;return W.ranges.length>1?G=EditorSelection.create([W.main]):W.main.empty||(G=EditorSelection.create([EditorSelection.cursor(W.main.head)])),G?(K(setSel(H,G)),!0):!1};function deleteBy(H,K){if(H.state.readOnly)return!1;let W="delete.selection",{state:G}=H,U=G.changeByRange(X=>{let{from:Q,to:Z}=X;if(Q==Z){let ee=K(X);ee<Q?(W="delete.backward",ee=skipAtomic(H,ee,!1)):ee>Q&&(W="delete.forward",ee=skipAtomic(H,ee,!0)),Q=Math.min(Q,ee),Z=Math.max(Z,ee)}else Q=skipAtomic(H,Q,!1),Z=skipAtomic(H,Z,!0);return Q==Z?{range:X}:{changes:{from:Q,to:Z},range:EditorSelection.cursor(Q,Q<X.head?-1:1)}});return U.changes.empty?!1:(H.dispatch(G.update(U,{scrollIntoView:!0,userEvent:W,effects:W=="delete.selection"?EditorView.announce.of(G.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(H,K,W){if(H instanceof EditorView)for(let G of H.state.facet(EditorView.atomicRanges).map(U=>U(H)))G.between(K,K,(U,X)=>{U<K&&X>K&&(K=W?X:U)});return K}const deleteByChar=(H,K,W)=>deleteBy(H,G=>{let U=G.from,{state:X}=H,Q=X.doc.lineAt(U),Z,ee;if(W&&!K&&U>Q.from&&U<Q.from+200&&!/[^ \t]/.test(Z=Q.text.slice(0,U-Q.from))){if(Z[Z.length-1]=="	")return U-1;let ne=countColumn(Z,X.tabSize),te=ne%getIndentUnit(X)||getIndentUnit(X);for(let oe=0;oe<te&&Z[Z.length-1-oe]==" ";oe++)U--;ee=U}else ee=findClusterBreak(Q.text,U-Q.from,K,K)+Q.from,ee==U&&Q.number!=(K?X.doc.lines:1)?ee+=K?1:-1:!K&&/[\ufe00-\ufe0f]/.test(Q.text.slice(ee-Q.from,U-Q.from))&&(ee=findClusterBreak(Q.text,ee-Q.from,!1,!1)+Q.from);return ee}),deleteCharBackward=H=>deleteByChar(H,!1,!0),deleteCharForward=H=>deleteByChar(H,!0,!1),deleteByGroup=(H,K)=>deleteBy(H,W=>{let G=W.head,{state:U}=H,X=U.doc.lineAt(G),Q=U.charCategorizer(G);for(let Z=null;;){if(G==(K?X.to:X.from)){G==W.head&&X.number!=(K?U.doc.lines:1)&&(G+=K?1:-1);break}let ee=findClusterBreak(X.text,G-X.from,K)+X.from,ne=X.text.slice(Math.min(G,ee)-X.from,Math.max(G,ee)-X.from),te=Q(ne);if(Z!=null&&te!=Z)break;(ne!=" "||G!=W.head)&&(Z=te),G=ee}return G}),deleteGroupBackward=H=>deleteByGroup(H,!1),deleteGroupForward=H=>deleteByGroup(H,!0),deleteToLineEnd=H=>deleteBy(H,K=>{let W=H.lineBlockAt(K.head).to;return K.head<W?W:Math.min(H.state.doc.length,K.head+1)}),deleteLineBoundaryBackward=H=>deleteBy(H,K=>{let W=H.moveToLineBoundary(K,!1).head;return K.head>W?W:Math.max(0,K.head-1)}),deleteLineBoundaryForward=H=>deleteBy(H,K=>{let W=H.moveToLineBoundary(K,!0).head;return K.head<W?W:Math.min(H.state.doc.length,K.head+1)}),splitLine=({state:H,dispatch:K})=>{if(H.readOnly)return!1;let W=H.changeByRange(G=>({changes:{from:G.from,to:G.to,insert:Text.of(["",""])},range:EditorSelection.cursor(G.from)}));return K(H.update(W,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:H,dispatch:K})=>{if(H.readOnly)return!1;let W=H.changeByRange(G=>{if(!G.empty||G.from==0||G.from==H.doc.length)return{range:G};let U=G.from,X=H.doc.lineAt(U),Q=U==X.from?U-1:findClusterBreak(X.text,U-X.from,!1)+X.from,Z=U==X.to?U+1:findClusterBreak(X.text,U-X.from,!0)+X.from;return{changes:{from:Q,to:Z,insert:H.doc.slice(U,Z).append(H.doc.slice(Q,U))},range:EditorSelection.cursor(Z)}});return W.changes.empty?!1:(K(H.update(W,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(H){let K=[],W=-1;for(let G of H.selection.ranges){let U=H.doc.lineAt(G.from),X=H.doc.lineAt(G.to);if(!G.empty&&G.to==X.from&&(X=H.doc.lineAt(G.to-1)),W>=U.number){let Q=K[K.length-1];Q.to=X.to,Q.ranges.push(G)}else K.push({from:U.from,to:X.to,ranges:[G]});W=X.number+1}return K}function moveLine(H,K,W){if(H.readOnly)return!1;let G=[],U=[];for(let X of selectedLineBlocks(H)){if(W?X.to==H.doc.length:X.from==0)continue;let Q=H.doc.lineAt(W?X.to+1:X.from-1),Z=Q.length+1;if(W){G.push({from:X.to,to:Q.to},{from:X.from,insert:Q.text+H.lineBreak});for(let ee of X.ranges)U.push(EditorSelection.range(Math.min(H.doc.length,ee.anchor+Z),Math.min(H.doc.length,ee.head+Z)))}else{G.push({from:Q.from,to:X.from},{from:X.to,insert:H.lineBreak+Q.text});for(let ee of X.ranges)U.push(EditorSelection.range(ee.anchor-Z,ee.head-Z))}}return G.length?(K(H.update({changes:G,scrollIntoView:!0,selection:EditorSelection.create(U,H.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:H,dispatch:K})=>moveLine(H,K,!1),moveLineDown=({state:H,dispatch:K})=>moveLine(H,K,!0);function copyLine(H,K,W){if(H.readOnly)return!1;let G=[];for(let U of selectedLineBlocks(H))W?G.push({from:U.from,insert:H.doc.slice(U.from,U.to)+H.lineBreak}):G.push({from:U.to,insert:H.lineBreak+H.doc.slice(U.from,U.to)});return K(H.update({changes:G,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:H,dispatch:K})=>copyLine(H,K,!1),copyLineDown=({state:H,dispatch:K})=>copyLine(H,K,!0),deleteLine=H=>{if(H.state.readOnly)return!1;let{state:K}=H,W=K.changes(selectedLineBlocks(K).map(({from:U,to:X})=>(U>0?U--:X<K.doc.length&&X++,{from:U,to:X}))),G=updateSel(K.selection,U=>{let X;if(H.lineWrapping){let Q=H.lineBlockAt(U.head),Z=H.coordsAtPos(U.head,U.assoc||1);Z&&(X=Q.bottom+H.documentTop-Z.bottom+H.defaultLineHeight/2)}return H.moveVertically(U,!0,X)}).map(W);return H.dispatch({changes:W,selection:G,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(H,K){if(/\(\)|\[\]|\{\}/.test(H.sliceDoc(K-1,K+1)))return{from:K,to:K};let W=syntaxTree(H).resolveInner(K),G=W.childBefore(K),U=W.childAfter(K),X;return G&&U&&G.to<=K&&U.from>=K&&(X=G.type.prop(NodeProp.closedBy))&&X.indexOf(U.name)>-1&&H.doc.lineAt(G.to).from==H.doc.lineAt(U.from).from&&!/\S/.test(H.sliceDoc(G.to,U.from))?{from:G.to,to:U.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(H){return({state:K,dispatch:W})=>{if(K.readOnly)return!1;let G=K.changeByRange(U=>{let{from:X,to:Q}=U,Z=K.doc.lineAt(X),ee=!H&&X==Q&&isBetweenBrackets(K,X);H&&(X=Q=(Q<=Z.to?Z:K.doc.lineAt(Q)).to);let ne=new IndentContext(K,{simulateBreak:X,simulateDoubleBreak:!!ee}),te=getIndentation(ne,X);for(te==null&&(te=countColumn(/^\s*/.exec(K.doc.lineAt(X).text)[0],K.tabSize));Q<Z.to&&/\s/.test(Z.text[Q-Z.from]);)Q++;ee?{from:X,to:Q}=ee:X>Z.from&&X<Z.from+100&&!/\S/.test(Z.text.slice(0,X))&&(X=Z.from);let oe=["",indentString(K,te)];return ee&&oe.push(indentString(K,ne.lineIndent(Z.from,-1))),{changes:{from:X,to:Q,insert:Text.of(oe)},range:EditorSelection.cursor(X+1+oe[1].length)}});return W(K.update(G,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(H,K){let W=-1;return H.changeByRange(G=>{let U=[];for(let Q=G.from;Q<=G.to;){let Z=H.doc.lineAt(Q);Z.number>W&&(G.empty||G.to>Z.from)&&(K(Z,U,G),W=Z.number),Q=Z.to+1}let X=H.changes(U);return{changes:U,range:EditorSelection.range(X.mapPos(G.anchor,1),X.mapPos(G.head,1))}})}const indentSelection=({state:H,dispatch:K})=>{if(H.readOnly)return!1;let W=Object.create(null),G=new IndentContext(H,{overrideIndentation:X=>{let Q=W[X];return Q??-1}}),U=changeBySelectedLine(H,(X,Q,Z)=>{let ee=getIndentation(G,X.from);if(ee==null)return;/\S/.test(X.text)||(ee=0);let ne=/^\s*/.exec(X.text)[0],te=indentString(H,ee);(ne!=te||Z.from<X.from+ne.length)&&(W[X.from]=ee,Q.push({from:X.from,to:X.from+ne.length,insert:te}))});return U.changes.empty||K(H.update(U,{userEvent:"indent"})),!0},indentMore=({state:H,dispatch:K})=>H.readOnly?!1:(K(H.update(changeBySelectedLine(H,(W,G)=>{G.push({from:W.from,insert:H.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:H,dispatch:K})=>H.readOnly?!1:(K(H.update(changeBySelectedLine(H,(W,G)=>{let U=/^\s*/.exec(W.text)[0];if(!U)return;let X=countColumn(U,H.tabSize),Q=0,Z=indentString(H,Math.max(0,X-getIndentUnit(H)));for(;Q<U.length&&Q<Z.length&&U.charCodeAt(Q)==Z.charCodeAt(Q);)Q++;G.push({from:W.from+Q,to:W.from+U.length,insert:Z.slice(Q)})}),{userEvent:"delete.dedent"})),!0),toggleTabFocusMode=H=>(H.setTabFocusMode(),!0),insertTab=({state:H,dispatch:K})=>H.selection.ranges.some(W=>!W.empty)?indentMore({state:H,dispatch:K}):(K(H.update(H.replaceSelection("	"),{scrollIntoView:!0,userEvent:"input"})),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent,shift:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteLineBoundaryBackward},{mac:"Mod-Delete",run:deleteLineBoundaryForward}].concat(emacsStyleKeymap.map(H=>({mac:H.key,run:H.run,shift:H.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment},{key:"Ctrl-m",mac:"Shift-Alt-m",run:toggleTabFocusMode}].concat(standardKeymap),basicNormalize=typeof String.prototype.normalize=="function"?H=>H.normalize("NFKD"):H=>H;class SearchCursor{constructor(K,W,G=0,U=K.length,X,Q){this.test=Q,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=K.iterRange(G,U),this.bufferStart=G,this.normalize=X?Z=>X(basicNormalize(Z)):basicNormalize,this.query=this.normalize(W)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let K=this.peek();if(K<0)return this.done=!0,this;let W=fromCodePoint(K),G=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(K);let U=this.normalize(W);if(U.length)for(let X=0,Q=G;;X++){let Z=U.charCodeAt(X),ee=this.match(Z,Q,this.bufferPos+this.bufferStart);if(X==U.length-1){if(ee)return this.value=ee,this;break}Q==G&&X<W.length&&W.charCodeAt(X)==Z&&Q++}}}match(K,W,G){let U=null;for(let X=0;X<this.matches.length;X+=2){let Q=this.matches[X],Z=!1;this.query.charCodeAt(Q)==K&&(Q==this.query.length-1?U={from:this.matches[X+1],to:G}:(this.matches[X]++,Z=!0)),Z||(this.matches.splice(X,2),X-=2)}return this.query.charCodeAt(0)==K&&(this.query.length==1?U={from:W,to:G}:this.matches.push(1,W)),U&&this.test&&!this.test(U.from,U.to,this.buffer,this.bufferStart)&&(U=null),U}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(K,W,G,U=0,X=K.length){if(this.text=K,this.to=X,this.curLine="",this.done=!1,this.value=empty,/\\[sWDnr]|\n|\r|\[\^/.test(W))return new MultilineRegExpCursor(K,W,G,U,X);this.re=new RegExp(W,baseFlags+(G?.ignoreCase?"i":"")),this.test=G?.test,this.iter=K.iter();let Q=K.lineAt(U);this.curLineStart=Q.from,this.matchPos=toCharEnd(K,U),this.getLine(this.curLineStart)}getLine(K){this.iter.next(K),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let K=this.matchPos-this.curLineStart;;){this.re.lastIndex=K;let W=this.matchPos<=this.to&&this.re.exec(this.curLine);if(W){let G=this.curLineStart+W.index,U=G+W[0].length;if(this.matchPos=toCharEnd(this.text,U+(G==U?1:0)),G==this.curLineStart+this.curLine.length&&this.nextLine(),(G<U||G>this.value.to)&&(!this.test||this.test(G,U,W)))return this.value={from:G,to:U,match:W},this;K=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),K=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(K,W){this.from=K,this.text=W}get to(){return this.from+this.text.length}static get(K,W,G){let U=flattened.get(K);if(!U||U.from>=G||U.to<=W){let Z=new FlattenedDoc(W,K.sliceString(W,G));return flattened.set(K,Z),Z}if(U.from==W&&U.to==G)return U;let{text:X,from:Q}=U;return Q>W&&(X=K.sliceString(W,Q)+X,Q=W),U.to<G&&(X+=K.sliceString(U.to,G)),flattened.set(K,new FlattenedDoc(Q,X)),new FlattenedDoc(W,X.slice(W-Q,G-Q))}}class MultilineRegExpCursor{constructor(K,W,G,U,X){this.text=K,this.to=X,this.done=!1,this.value=empty,this.matchPos=toCharEnd(K,U),this.re=new RegExp(W,baseFlags+(G?.ignoreCase?"i":"")),this.test=G?.test,this.flat=FlattenedDoc.get(K,U,this.chunkEnd(U+5e3))}chunkEnd(K){return K>=this.to?this.to:this.text.lineAt(K).to}next(){for(;;){let K=this.re.lastIndex=this.matchPos-this.flat.from,W=this.re.exec(this.flat.text);if(W&&!W[0]&&W.index==K&&(this.re.lastIndex=K+1,W=this.re.exec(this.flat.text)),W){let G=this.flat.from+W.index,U=G+W[0].length;if((this.flat.to>=this.to||W.index+W[0].length<=this.flat.text.length-10)&&(!this.test||this.test(G,U,W)))return this.value={from:G,to:U,match:W},this.matchPos=toCharEnd(this.text,U+(G==U?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(H){try{return new RegExp(H,baseFlags),!0}catch{return!1}}function toCharEnd(H,K){if(K>=H.length)return K;let W=H.lineAt(K),G;for(;K<W.to&&(G=W.text.charCodeAt(K-W.from))>=56320&&G<57344;)K++;return K}function createLineDialog(H){let K=String(H.state.doc.lineAt(H.state.selection.main.head).number),W=crelt("input",{class:"cm-textfield",name:"line",value:K}),G=crelt("form",{class:"cm-gotoLine",onkeydown:X=>{X.keyCode==27?(X.preventDefault(),H.dispatch({effects:dialogEffect.of(!1)}),H.focus()):X.keyCode==13&&(X.preventDefault(),U())},onsubmit:X=>{X.preventDefault(),U()}},crelt("label",H.state.phrase("Go to line"),": ",W)," ",crelt("button",{class:"cm-button",type:"submit"},H.state.phrase("go")),crelt("button",{name:"close",onclick:()=>{H.dispatch({effects:dialogEffect.of(!1)}),H.focus()},"aria-label":H.state.phrase("close"),type:"button"},[""]));function U(){let X=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(W.value);if(!X)return;let{state:Q}=H,Z=Q.doc.lineAt(Q.selection.main.head),[,ee,ne,te,oe]=X,re=te?+te.slice(1):0,ae=ne?+ne:Z.number;if(ne&&oe){let de=ae/100;ee&&(de=de*(ee=="-"?-1:1)+Z.number/Q.doc.lines),ae=Math.round(Q.doc.lines*de)}else ne&&ee&&(ae=ae*(ee=="-"?-1:1)+Z.number);let se=Q.doc.line(Math.max(1,Math.min(Q.doc.lines,ae))),ce=EditorSelection.cursor(se.from+Math.max(0,Math.min(re,se.length)));H.dispatch({effects:[dialogEffect.of(!1),EditorView.scrollIntoView(ce.from,{y:"center"})],selection:ce}),H.focus()}return{dom:G}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(H,K){for(let W of K.effects)W.is(dialogEffect)&&(H=W.value);return H},provide:H=>showPanel.from(H,K=>K?createLineDialog:null)}),gotoLine=H=>{let K=getPanel(H,createLineDialog);if(!K){let W=[dialogEffect.of(!0)];H.state.field(dialogField,!1)==null&&W.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1])),H.dispatch({effects:W}),K=getPanel(H,createLineDialog)}return K&&K.dom.querySelector("input").select(),!0},baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(H){return combineConfig(H,defaultHighlightOptions,{highlightWordAroundCursor:(K,W)=>K||W,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(H){return[defaultTheme,matchHighlighter]}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(H,K,W,G){return(W==0||H(K.sliceDoc(W-1,W))!=CharCategory.Word)&&(G==K.doc.length||H(K.sliceDoc(G,G+1))!=CharCategory.Word)}function insideWord(H,K,W,G){return H(K.sliceDoc(W,W+1))==CharCategory.Word&&H(K.sliceDoc(G-1,G))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(H){this.decorations=this.getDeco(H)}update(H){(H.selectionSet||H.docChanged||H.viewportChanged)&&(this.decorations=this.getDeco(H.view))}getDeco(H){let K=H.state.facet(highlightConfig),{state:W}=H,G=W.selection;if(G.ranges.length>1)return Decoration.none;let U=G.main,X,Q=null;if(U.empty){if(!K.highlightWordAroundCursor)return Decoration.none;let ee=W.wordAt(U.head);if(!ee)return Decoration.none;Q=W.charCategorizer(U.head),X=W.sliceDoc(ee.from,ee.to)}else{let ee=U.to-U.from;if(ee<K.minSelectionLength||ee>200)return Decoration.none;if(K.wholeWords){if(X=W.sliceDoc(U.from,U.to),Q=W.charCategorizer(U.head),!(insideWordBoundaries(Q,W,U.from,U.to)&&insideWord(Q,W,U.from,U.to)))return Decoration.none}else if(X=W.sliceDoc(U.from,U.to),!X)return Decoration.none}let Z=[];for(let ee of H.visibleRanges){let ne=new SearchCursor(W.doc,X,ee.from,ee.to);for(;!ne.next().done;){let{from:te,to:oe}=ne.value;if((!Q||insideWordBoundaries(Q,W,te,oe))&&(U.empty&&te<=U.from&&oe>=U.to?Z.push(mainMatchDeco.range(te,oe)):(te>=U.to||oe<=U.from)&&Z.push(matchDeco.range(te,oe)),Z.length>K.maxMatches))return Decoration.none}}return Decoration.set(Z)}},{decorations:H=>H.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:H,dispatch:K})=>{let{selection:W}=H,G=EditorSelection.create(W.ranges.map(U=>H.wordAt(U.head)||EditorSelection.cursor(U.head)),W.mainIndex);return G.eq(W)?!1:(K(H.update({selection:G})),!0)};function findNextOccurrence(H,K){let{main:W,ranges:G}=H.selection,U=H.wordAt(W.head),X=U&&U.from==W.from&&U.to==W.to;for(let Q=!1,Z=new SearchCursor(H.doc,K,G[G.length-1].to);;)if(Z.next(),Z.done){if(Q)return null;Z=new SearchCursor(H.doc,K,0,Math.max(0,G[G.length-1].from-1)),Q=!0}else{if(Q&&G.some(ee=>ee.from==Z.value.from))continue;if(X){let ee=H.wordAt(Z.value.from);if(!ee||ee.from!=Z.value.from||ee.to!=Z.value.to)continue}return Z.value}}const selectNextOccurrence=({state:H,dispatch:K})=>{let{ranges:W}=H.selection;if(W.some(X=>X.from===X.to))return selectWord({state:H,dispatch:K});let G=H.sliceDoc(W[0].from,W[0].to);if(H.selection.ranges.some(X=>H.sliceDoc(X.from,X.to)!=G))return!1;let U=findNextOccurrence(H,G);return U?(K(H.update({selection:H.selection.addRange(EditorSelection.range(U.from,U.to),!1),effects:EditorView.scrollIntoView(U.to)})),!0):!1},searchConfigFacet=Facet.define({combine(H){return combineConfig(H,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:K=>new SearchPanel(K),scrollToMatch:K=>EditorView.scrollIntoView(K)})}});function search(H){return searchExtensions}class SearchQuery{constructor(K){this.search=K.search,this.caseSensitive=!!K.caseSensitive,this.literal=!!K.literal,this.regexp=!!K.regexp,this.replace=K.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!K.wholeWord}unquote(K){return this.literal?K:K.replace(/\\([nrt\\])/g,(W,G)=>G=="n"?`
`:G=="r"?"\r":G=="t"?"	":"\\")}eq(K){return this.search==K.search&&this.replace==K.replace&&this.caseSensitive==K.caseSensitive&&this.regexp==K.regexp&&this.wholeWord==K.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(K,W=0,G){let U=K.doc?K:EditorState.create({doc:K});return G==null&&(G=U.doc.length),this.regexp?regexpCursor(this,U,W,G):stringCursor(this,U,W,G)}}class QueryType{constructor(K){this.spec=K}}function stringCursor(H,K,W,G){return new SearchCursor(K.doc,H.unquoted,W,G,H.caseSensitive?void 0:U=>U.toLowerCase(),H.wholeWord?stringWordTest(K.doc,K.charCategorizer(K.selection.main.head)):void 0)}function stringWordTest(H,K){return(W,G,U,X)=>((X>W||X+U.length<G)&&(X=Math.max(0,W-2),U=H.sliceString(X,Math.min(H.length,G+2))),(K(charBefore(U,W-X))!=CharCategory.Word||K(charAfter(U,W-X))!=CharCategory.Word)&&(K(charAfter(U,G-X))!=CharCategory.Word||K(charBefore(U,G-X))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(K){super(K)}nextMatch(K,W,G){let U=stringCursor(this.spec,K,G,K.doc.length).nextOverlapping();if(U.done){let X=Math.min(K.doc.length,W+this.spec.unquoted.length);U=stringCursor(this.spec,K,0,X).nextOverlapping()}return U.done||U.value.from==W&&U.value.to==G?null:U.value}prevMatchInRange(K,W,G){for(let U=G;;){let X=Math.max(W,U-1e4-this.spec.unquoted.length),Q=stringCursor(this.spec,K,X,U),Z=null;for(;!Q.nextOverlapping().done;)Z=Q.value;if(Z)return Z;if(X==W)return null;U-=1e4}}prevMatch(K,W,G){let U=this.prevMatchInRange(K,0,W);return U||(U=this.prevMatchInRange(K,Math.max(0,G-this.spec.unquoted.length),K.doc.length)),U&&(U.from!=W||U.to!=G)?U:null}getReplacement(K){return this.spec.unquote(this.spec.replace)}matchAll(K,W){let G=stringCursor(this.spec,K,0,K.doc.length),U=[];for(;!G.next().done;){if(U.length>=W)return null;U.push(G.value)}return U}highlight(K,W,G,U){let X=stringCursor(this.spec,K,Math.max(0,W-this.spec.unquoted.length),Math.min(G+this.spec.unquoted.length,K.doc.length));for(;!X.next().done;)U(X.value.from,X.value.to)}}function regexpCursor(H,K,W,G){return new RegExpCursor(K.doc,H.search,{ignoreCase:!H.caseSensitive,test:H.wholeWord?regexpWordTest(K.charCategorizer(K.selection.main.head)):void 0},W,G)}function charBefore(H,K){return H.slice(findClusterBreak(H,K,!1),K)}function charAfter(H,K){return H.slice(K,findClusterBreak(H,K))}function regexpWordTest(H){return(K,W,G)=>!G[0].length||(H(charBefore(G.input,G.index))!=CharCategory.Word||H(charAfter(G.input,G.index))!=CharCategory.Word)&&(H(charAfter(G.input,G.index+G[0].length))!=CharCategory.Word||H(charBefore(G.input,G.index+G[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(K,W,G){let U=regexpCursor(this.spec,K,G,K.doc.length).next();return U.done&&(U=regexpCursor(this.spec,K,0,W).next()),U.done?null:U.value}prevMatchInRange(K,W,G){for(let U=1;;U++){let X=Math.max(W,G-U*1e4),Q=regexpCursor(this.spec,K,X,G),Z=null;for(;!Q.next().done;)Z=Q.value;if(Z&&(X==W||Z.from>X+10))return Z;if(X==W)return null}}prevMatch(K,W,G){return this.prevMatchInRange(K,0,W)||this.prevMatchInRange(K,G,K.doc.length)}getReplacement(K){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(W,G)=>{if(G=="&")return K.match[0];if(G=="$")return"$";for(let U=G.length;U>0;U--){let X=+G.slice(0,U);if(X>0&&X<K.match.length)return K.match[X]+G.slice(U)}return W})}matchAll(K,W){let G=regexpCursor(this.spec,K,0,K.doc.length),U=[];for(;!G.next().done;){if(U.length>=W)return null;U.push(G.value)}return U}highlight(K,W,G,U){let X=regexpCursor(this.spec,K,Math.max(0,W-250),Math.min(G+250,K.doc.length));for(;!X.next().done;)U(X.value.from,X.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(H){return new SearchState(defaultQuery(H).create(),null)},update(H,K){for(let W of K.effects)W.is(setSearchQuery)?H=new SearchState(W.value.create(),H.panel):W.is(togglePanel$1)&&(H=new SearchState(H.query,W.value?createSearchPanel:null));return H},provide:H=>showPanel.from(H,K=>K.panel)});class SearchState{constructor(K,W){this.query=K,this.panel=W}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(H){this.view=H,this.decorations=this.highlight(H.state.field(searchState))}update(H){let K=H.state.field(searchState);(K!=H.startState.field(searchState)||H.docChanged||H.selectionSet||H.viewportChanged)&&(this.decorations=this.highlight(K))}highlight({query:H,panel:K}){if(!K||!H.spec.valid)return Decoration.none;let{view:W}=this,G=new RangeSetBuilder;for(let U=0,X=W.visibleRanges,Q=X.length;U<Q;U++){let{from:Z,to:ee}=X[U];for(;U<Q-1&&ee>X[U+1].from-2*250;)ee=X[++U].to;H.highlight(W.state,Z,ee,(ne,te)=>{let oe=W.state.selection.ranges.some(re=>re.from==ne&&re.to==te);G.add(ne,te,oe?selectedMatchMark:matchMark)})}return G.finish()}},{decorations:H=>H.decorations});function searchCommand(H){return K=>{let W=K.state.field(searchState,!1);return W&&W.query.spec.valid?H(K,W):openSearchPanel(K)}}const findNext=searchCommand((H,{query:K})=>{let{to:W}=H.state.selection.main,G=K.nextMatch(H.state,W,W);if(!G)return!1;let U=EditorSelection.single(G.from,G.to),X=H.state.facet(searchConfigFacet);return H.dispatch({selection:U,effects:[announceMatch(H,G),X.scrollToMatch(U.main,H)],userEvent:"select.search"}),selectSearchInput(H),!0}),findPrevious=searchCommand((H,{query:K})=>{let{state:W}=H,{from:G}=W.selection.main,U=K.prevMatch(W,G,G);if(!U)return!1;let X=EditorSelection.single(U.from,U.to),Q=H.state.facet(searchConfigFacet);return H.dispatch({selection:X,effects:[announceMatch(H,U),Q.scrollToMatch(X.main,H)],userEvent:"select.search"}),selectSearchInput(H),!0}),selectMatches=searchCommand((H,{query:K})=>{let W=K.matchAll(H.state,1e3);return!W||!W.length?!1:(H.dispatch({selection:EditorSelection.create(W.map(G=>EditorSelection.range(G.from,G.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:H,dispatch:K})=>{let W=H.selection;if(W.ranges.length>1||W.main.empty)return!1;let{from:G,to:U}=W.main,X=[],Q=0;for(let Z=new SearchCursor(H.doc,H.sliceDoc(G,U));!Z.next().done;){if(X.length>1e3)return!1;Z.value.from==G&&(Q=X.length),X.push(EditorSelection.range(Z.value.from,Z.value.to))}return K(H.update({selection:EditorSelection.create(X,Q),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((H,{query:K})=>{let{state:W}=H,{from:G,to:U}=W.selection.main;if(W.readOnly)return!1;let X=K.nextMatch(W,G,G);if(!X)return!1;let Q=X,Z=[],ee,ne,te=[];Q.from==G&&Q.to==U&&(ne=W.toText(K.getReplacement(Q)),Z.push({from:Q.from,to:Q.to,insert:ne}),Q=K.nextMatch(W,Q.from,Q.to),te.push(EditorView.announce.of(W.phrase("replaced match on line $",W.doc.lineAt(G).number)+".")));let oe=H.state.changes(Z);return Q&&(ee=EditorSelection.single(Q.from,Q.to).map(oe),te.push(announceMatch(H,Q)),te.push(W.facet(searchConfigFacet).scrollToMatch(ee.main,H))),H.dispatch({changes:oe,selection:ee,effects:te,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((H,{query:K})=>{if(H.state.readOnly)return!1;let W=K.matchAll(H.state,1e9).map(U=>{let{from:X,to:Q}=U;return{from:X,to:Q,insert:K.getReplacement(U)}});if(!W.length)return!1;let G=H.state.phrase("replaced $ matches",W.length)+".";return H.dispatch({changes:W,effects:EditorView.announce.of(G),userEvent:"input.replace.all"}),!0});function createSearchPanel(H){return H.state.facet(searchConfigFacet).createPanel(H)}function defaultQuery(H,K){var W,G,U,X,Q;let Z=H.selection.main,ee=Z.empty||Z.to>Z.from+100?"":H.sliceDoc(Z.from,Z.to);if(K&&!ee)return K;let ne=H.facet(searchConfigFacet);return new SearchQuery({search:((W=K?.literal)!==null&&W!==void 0?W:ne.literal)?ee:ee.replace(/\n/g,"\\n"),caseSensitive:(G=K?.caseSensitive)!==null&&G!==void 0?G:ne.caseSensitive,literal:(U=K?.literal)!==null&&U!==void 0?U:ne.literal,regexp:(X=K?.regexp)!==null&&X!==void 0?X:ne.regexp,wholeWord:(Q=K?.wholeWord)!==null&&Q!==void 0?Q:ne.wholeWord})}function getSearchInput(H){let K=getPanel(H,createSearchPanel);return K&&K.dom.querySelector("[main-field]")}function selectSearchInput(H){let K=getSearchInput(H);K&&K==H.root.activeElement&&K.select()}const openSearchPanel=H=>{let K=H.state.field(searchState,!1);if(K&&K.panel){let W=getSearchInput(H);if(W&&W!=H.root.activeElement){let G=defaultQuery(H.state,K.query.spec);G.valid&&H.dispatch({effects:setSearchQuery.of(G)}),W.focus(),W.select()}}else H.dispatch({effects:[togglePanel$1.of(!0),K?setSearchQuery.of(defaultQuery(H.state,K.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=H=>{let K=H.state.field(searchState,!1);if(!K||!K.panel)return!1;let W=getPanel(H,createSearchPanel);return W&&W.dom.contains(H.root.activeElement)&&H.focus(),H.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Mod-Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(K){this.view=K;let W=this.query=K.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:W.search,placeholder:phrase(K,"Find"),"aria-label":phrase(K,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:W.replace,placeholder:phrase(K,"Replace"),"aria-label":phrase(K,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:W.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:W.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:W.wholeWord,onchange:this.commit});function G(U,X,Q){return crelt("button",{class:"cm-button",name:U,onclick:X,type:"button"},Q)}this.dom=crelt("div",{onkeydown:U=>this.keydown(U),class:"cm-search"},[this.searchField,G("next",()=>findNext(K),[phrase(K,"next")]),G("prev",()=>findPrevious(K),[phrase(K,"previous")]),G("select",()=>selectMatches(K),[phrase(K,"all")]),crelt("label",null,[this.caseField,phrase(K,"match case")]),crelt("label",null,[this.reField,phrase(K,"regexp")]),crelt("label",null,[this.wordField,phrase(K,"by word")]),...K.state.readOnly?[]:[crelt("br"),this.replaceField,G("replace",()=>replaceNext(K),[phrase(K,"replace")]),G("replaceAll",()=>replaceAll(K),[phrase(K,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(K),"aria-label":phrase(K,"close"),type:"button"},[""])])}commit(){let K=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});K.eq(this.query)||(this.query=K,this.view.dispatch({effects:setSearchQuery.of(K)}))}keydown(K){runScopeHandlers(this.view,K,"search-panel")?K.preventDefault():K.keyCode==13&&K.target==this.searchField?(K.preventDefault(),(K.shiftKey?findPrevious:findNext)(this.view)):K.keyCode==13&&K.target==this.replaceField&&(K.preventDefault(),replaceNext(this.view))}update(K){for(let W of K.transactions)for(let G of W.effects)G.is(setSearchQuery)&&!G.value.eq(this.query)&&this.setQuery(G.value)}setQuery(K){this.query=K,this.searchField.value=K.search,this.replaceField.value=K.replace,this.caseField.checked=K.caseSensitive,this.reField.checked=K.regexp,this.wordField.checked=K.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(H,K){return H.state.phrase(K)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(H,{from:K,to:W}){let G=H.state.doc.lineAt(K),U=H.state.doc.lineAt(W).to,X=Math.max(G.from,K-AnnounceMargin),Q=Math.min(U,W+AnnounceMargin),Z=H.state.sliceDoc(X,Q);if(X!=G.from){for(let ee=0;ee<AnnounceMargin;ee++)if(!Break.test(Z[ee+1])&&Break.test(Z[ee])){Z=Z.slice(ee);break}}if(Q!=U){for(let ee=Z.length-1;ee>Z.length-AnnounceMargin;ee--)if(!Break.test(Z[ee-1])&&Break.test(Z[ee])){Z=Z.slice(0,ee);break}}return EditorView.announce.of(`${H.state.phrase("current match")}. ${Z} ${H.state.phrase("on line")} ${G.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.low(searchHighlighter),baseTheme$2],index=Object.freeze(Object.defineProperty({__proto__:null,RegExpCursor,SearchCursor,SearchQuery,closeSearchPanel,findNext,findPrevious,gotoLine,highlightSelectionMatches,openSearchPanel,replaceAll,replaceNext,search,searchKeymap,selectMatches,selectNextOccurrence,selectSelectionMatches,setSearchQuery},Symbol.toStringTag,{value:"Module"}));class CompletionContext{constructor(K,W,G,U){this.state=K,this.pos=W,this.explicit=G,this.view=U,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(K){let W=syntaxTree(this.state).resolveInner(this.pos,-1);for(;W&&K.indexOf(W.name)<0;)W=W.parent;return W?{from:W.from,to:this.pos,text:this.state.sliceDoc(W.from,this.pos),type:W.type}:null}matchBefore(K){let W=this.state.doc.lineAt(this.pos),G=Math.max(W.from,this.pos-250),U=W.text.slice(G-W.from,this.pos-W.from),X=U.search(ensureAnchor(K,!1));return X<0?null:{from:G+X,to:this.pos,text:U.slice(X)}}get aborted(){return this.abortListeners==null}addEventListener(K,W,G){K=="abort"&&this.abortListeners&&(this.abortListeners.push(W),G&&G.onDocChange&&(this.abortOnDocChange=!0))}}function toSet(H){let K=Object.keys(H).join(""),W=/\w/.test(K);return W&&(K=K.replace(/\w/g,"")),`[${W?"\\w":""}${K.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(H){let K=Object.create(null),W=Object.create(null);for(let{label:U}of H){K[U[0]]=!0;for(let X=1;X<U.length;X++)W[U[X]]=!0}let G=toSet(K)+toSet(W)+"*$";return[new RegExp("^"+G),new RegExp(G)]}function completeFromList(H){let K=H.map(U=>typeof U=="string"?{label:U}:U),[W,G]=K.every(U=>/^\w+$/.test(U.label))?[/\w*$/,/\w+$/]:prefixMatch(K);return U=>{let X=U.matchBefore(G);return X||U.explicit?{from:X?X.from:U.pos,options:K,validFor:W}:null}}class Option{constructor(K,W,G,U){this.completion=K,this.source=W,this.match=G,this.score=U}}function cur(H){return H.selection.main.from}function ensureAnchor(H,K){var W;let{source:G}=H,U=K&&G[0]!="^",X=G[G.length-1]!="$";return!U&&!X?H:new RegExp(`${U?"^":""}(?:${G})${X?"$":""}`,(W=H.flags)!==null&&W!==void 0?W:H.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(H,K,W,G){let{main:U}=H.selection,X=W-U.from,Q=G-U.from;return Object.assign(Object.assign({},H.changeByRange(Z=>{if(Z!=U&&W!=G&&H.sliceDoc(Z.from+X,Z.from+Q)!=H.sliceDoc(W,G))return{range:Z};let ee=H.toText(K);return{changes:{from:Z.from+X,to:G==U.from?Z.to:Z.from+Q,insert:ee},range:EditorSelection.cursor(Z.from+X+ee.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const SourceCache=new WeakMap;function asSource(H){if(!Array.isArray(H))return H;let K=SourceCache.get(H);return K||SourceCache.set(H,K=completeFromList(H)),K}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define();class FuzzyMatcher{constructor(K){this.pattern=K,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let W=0;W<K.length;){let G=codePointAt(K,W),U=codePointSize(G);this.chars.push(G);let X=K.slice(W,W+U),Q=X.toUpperCase();this.folded.push(codePointAt(Q==X?X.toLowerCase():Q,0)),W+=U}this.astral=K.length!=this.chars.length}ret(K,W){return this.score=K,this.matched=W,this}match(K){if(this.pattern.length==0)return this.ret(-100,[]);if(K.length<this.pattern.length)return null;let{chars:W,folded:G,any:U,precise:X,byWord:Q}=this;if(W.length==1){let fe=codePointAt(K,0),pe=codePointSize(fe),me=pe==K.length?0:-100;if(fe!=W[0])if(fe==G[0])me+=-200;else return null;return this.ret(me,[0,pe])}let Z=K.indexOf(this.pattern);if(Z==0)return this.ret(K.length==this.pattern.length?0:-100,[0,this.pattern.length]);let ee=W.length,ne=0;if(Z<0){for(let fe=0,pe=Math.min(K.length,200);fe<pe&&ne<ee;){let me=codePointAt(K,fe);(me==W[ne]||me==G[ne])&&(U[ne++]=fe),fe+=codePointSize(me)}if(ne<ee)return null}let te=0,oe=0,re=!1,ae=0,se=-1,ce=-1,de=/[a-z]/.test(K),le=!0;for(let fe=0,pe=Math.min(K.length,200),me=0;fe<pe&&oe<ee;){let ue=codePointAt(K,fe);Z<0&&(te<ee&&ue==W[te]&&(X[te++]=fe),ae<ee&&(ue==W[ae]||ue==G[ae]?(ae==0&&(se=fe),ce=fe+1,ae++):ae=0));let ge,he=ue<255?ue>=48&&ue<=57||ue>=97&&ue<=122?2:ue>=65&&ue<=90?1:0:(ge=fromCodePoint(ue))!=ge.toLowerCase()?1:ge!=ge.toUpperCase()?2:0;(!fe||he==1&&de||me==0&&he!=0)&&(W[oe]==ue||G[oe]==ue&&(re=!0)?Q[oe++]=fe:Q.length&&(le=!1)),me=he,fe+=codePointSize(ue)}return oe==ee&&Q[0]==0&&le?this.result(-100+(re?-200:0),Q,K):ae==ee&&se==0?this.ret(-200-K.length+(ce==K.length?0:-100),[0,ce]):Z>-1?this.ret(-700-K.length,[Z,Z+this.pattern.length]):ae==ee?this.ret(-900-K.length,[se,ce]):oe==ee?this.result(-100+(re?-200:0)+-700+(le?0:-1100),Q,K):W.length==2?null:this.result((U[0]?-700:0)+-200+-1100,U,K)}result(K,W,G){let U=[],X=0;for(let Q of W){let Z=Q+(this.astral?codePointSize(codePointAt(G,Q)):1);X&&U[X-1]==Q?U[X-1]=Z:(U[X++]=Q,U[X++]=Z)}return this.ret(K-G.length,U)}}class StrictMatcher{constructor(K){this.pattern=K,this.matched=[],this.score=0,this.folded=K.toLowerCase()}match(K){if(K.length<this.pattern.length)return null;let W=K.slice(0,this.pattern.length),G=W==this.pattern?0:W.toLowerCase()==this.folded?-200:null;return G==null?null:(this.matched=[0,W.length],this.score=G+(K.length==this.pattern.length?0:-100),this)}}const completionConfig=Facet.define({combine(H){return combineConfig(H,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,filterStrict:!1,compareCompletions:(K,W)=>K.label.localeCompare(W.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(K,W)=>K&&W,closeOnBlur:(K,W)=>K&&W,icons:(K,W)=>K&&W,tooltipClass:(K,W)=>G=>joinClass(K(G),W(G)),optionClass:(K,W)=>G=>joinClass(K(G),W(G)),addToOptions:(K,W)=>K.concat(W),filterStrict:(K,W)=>K||W})}});function joinClass(H,K){return H?K?H+" "+K:H:K}function defaultPositionInfo(H,K,W,G,U,X){let Q=H.textDirection==Direction.RTL,Z=Q,ee=!1,ne="top",te,oe,re=K.left-U.left,ae=U.right-K.right,se=G.right-G.left,ce=G.bottom-G.top;if(Z&&re<Math.min(se,ae)?Z=!1:!Z&&ae<Math.min(se,re)&&(Z=!0),se<=(Z?re:ae))te=Math.max(U.top,Math.min(W.top,U.bottom-ce))-K.top,oe=Math.min(400,Z?re:ae);else{ee=!0,oe=Math.min(400,(Q?K.right:U.right-K.left)-30);let fe=U.bottom-K.bottom;fe>=ce||fe>K.top?te=W.bottom-K.top:(ne="bottom",te=K.bottom-W.top)}let de=(K.bottom-K.top)/X.offsetHeight,le=(K.right-K.left)/X.offsetWidth;return{style:`${ne}: ${te/de}px; max-width: ${oe/le}px`,class:"cm-completionInfo-"+(ee?Q?"left-narrow":"right-narrow":Z?"left":"right")}}function optionContent(H){let K=H.addToOptions.slice();return H.icons&&K.push({render(W){let G=document.createElement("div");return G.classList.add("cm-completionIcon"),W.type&&G.classList.add(...W.type.split(/\s+/g).map(U=>"cm-completionIcon-"+U)),G.setAttribute("aria-hidden","true"),G},position:20}),K.push({render(W,G,U,X){let Q=document.createElement("span");Q.className="cm-completionLabel";let Z=W.displayLabel||W.label,ee=0;for(let ne=0;ne<X.length;){let te=X[ne++],oe=X[ne++];te>ee&&Q.appendChild(document.createTextNode(Z.slice(ee,te)));let re=Q.appendChild(document.createElement("span"));re.appendChild(document.createTextNode(Z.slice(te,oe))),re.className="cm-completionMatchedText",ee=oe}return ee<Z.length&&Q.appendChild(document.createTextNode(Z.slice(ee))),Q},position:50},{render(W){if(!W.detail)return null;let G=document.createElement("span");return G.className="cm-completionDetail",G.textContent=W.detail,G},position:80}),K.sort((W,G)=>W.position-G.position).map(W=>W.render)}function rangeAroundSelected(H,K,W){if(H<=W)return{from:0,to:H};if(K<0&&(K=0),K<=H>>1){let U=Math.floor(K/W);return{from:U*W,to:(U+1)*W}}let G=Math.floor((H-K)/W);return{from:H-(G+1)*W,to:H-G*W}}class CompletionTooltip{constructor(K,W,G){this.view=K,this.stateField=W,this.applyCompletion=G,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:ee=>this.placeInfo(ee),key:this},this.space=null,this.currentClass="";let U=K.state.field(W),{options:X,selected:Q}=U.open,Z=K.state.facet(completionConfig);this.optionContent=optionContent(Z),this.optionClass=Z.optionClass,this.tooltipClass=Z.tooltipClass,this.range=rangeAroundSelected(X.length,Q,Z.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(K.state),this.dom.addEventListener("mousedown",ee=>{let{options:ne}=K.state.field(W).open;for(let te=ee.target,oe;te&&te!=this.dom;te=te.parentNode)if(te.nodeName=="LI"&&(oe=/-(\d+)$/.exec(te.id))&&+oe[1]<ne.length){this.applyCompletion(K,ne[+oe[1]]),ee.preventDefault();return}}),this.dom.addEventListener("focusout",ee=>{let ne=K.state.field(this.stateField,!1);ne&&ne.tooltip&&K.state.facet(completionConfig).closeOnBlur&&ee.relatedTarget!=K.contentDOM&&K.dispatch({effects:closeCompletionEffect.of(null)})}),this.showOptions(X,U.id)}mount(){this.updateSel()}showOptions(K,W){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(K,W,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(K){var W;let G=K.state.field(this.stateField),U=K.startState.field(this.stateField);if(this.updateTooltipClass(K.state),G!=U){let{options:X,selected:Q,disabled:Z}=G.open;(!U.open||U.open.options!=X)&&(this.range=rangeAroundSelected(X.length,Q,K.state.facet(completionConfig).maxRenderedOptions),this.showOptions(X,G.id)),this.updateSel(),Z!=((W=U.open)===null||W===void 0?void 0:W.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!Z)}}updateTooltipClass(K){let W=this.tooltipClass(K);if(W!=this.currentClass){for(let G of this.currentClass.split(" "))G&&this.dom.classList.remove(G);for(let G of W.split(" "))G&&this.dom.classList.add(G);this.currentClass=W}}positioned(K){this.space=K,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let K=this.view.state.field(this.stateField),W=K.open;if((W.selected>-1&&W.selected<this.range.from||W.selected>=this.range.to)&&(this.range=rangeAroundSelected(W.options.length,W.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.showOptions(W.options,K.id)),this.updateSelectedOption(W.selected)){this.destroyInfo();let{completion:G}=W.options[W.selected],{info:U}=G;if(!U)return;let X=typeof U=="string"?document.createTextNode(U):U(G);if(!X)return;"then"in X?X.then(Q=>{Q&&this.view.state.field(this.stateField,!1)==K&&this.addInfoPane(Q,G)}).catch(Q=>logException(this.view.state,Q,"completion info")):this.addInfoPane(X,G)}}addInfoPane(K,W){this.destroyInfo();let G=this.info=document.createElement("div");if(G.className="cm-tooltip cm-completionInfo",K.nodeType!=null)G.appendChild(K),this.infoDestroy=null;else{let{dom:U,destroy:X}=K;G.appendChild(U),this.infoDestroy=X||null}this.dom.appendChild(G),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(K){let W=null;for(let G=this.list.firstChild,U=this.range.from;G;G=G.nextSibling,U++)G.nodeName!="LI"||!G.id?U--:U==K?G.hasAttribute("aria-selected")||(G.setAttribute("aria-selected","true"),W=G):G.hasAttribute("aria-selected")&&G.removeAttribute("aria-selected");return W&&scrollIntoView(this.list,W),W}measureInfo(){let K=this.dom.querySelector("[aria-selected]");if(!K||!this.info)return null;let W=this.dom.getBoundingClientRect(),G=this.info.getBoundingClientRect(),U=K.getBoundingClientRect(),X=this.space;if(!X){let Q=this.dom.ownerDocument.documentElement;X={left:0,top:0,right:Q.clientWidth,bottom:Q.clientHeight}}return U.top>Math.min(X.bottom,W.bottom)-10||U.bottom<Math.max(X.top,W.top)+10?null:this.view.state.facet(completionConfig).positionInfo(this.view,W,U,G,X,this.dom)}placeInfo(K){this.info&&(K?(K.style&&(this.info.style.cssText=K.style),this.info.className="cm-tooltip cm-completionInfo "+(K.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(K,W,G){const U=document.createElement("ul");U.id=W,U.setAttribute("role","listbox"),U.setAttribute("aria-expanded","true"),U.setAttribute("aria-label",this.view.state.phrase("Completions")),U.addEventListener("mousedown",Q=>{Q.target==U&&Q.preventDefault()});let X=null;for(let Q=G.from;Q<G.to;Q++){let{completion:Z,match:ee}=K[Q],{section:ne}=Z;if(ne){let re=typeof ne=="string"?ne:ne.name;if(re!=X&&(Q>G.from||G.from==0))if(X=re,typeof ne!="string"&&ne.header)U.appendChild(ne.header(ne));else{let ae=U.appendChild(document.createElement("completion-section"));ae.textContent=re}}const te=U.appendChild(document.createElement("li"));te.id=W+"-"+Q,te.setAttribute("role","option");let oe=this.optionClass(Z);oe&&(te.className=oe);for(let re of this.optionContent){let ae=re(Z,this.view.state,this.view,ee);ae&&te.appendChild(ae)}}return G.from&&U.classList.add("cm-completionListIncompleteTop"),G.to<K.length&&U.classList.add("cm-completionListIncompleteBottom"),U}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function completionTooltip(H,K){return W=>new CompletionTooltip(W,H,K)}function scrollIntoView(H,K){let W=H.getBoundingClientRect(),G=K.getBoundingClientRect(),U=W.height/H.offsetHeight;G.top<W.top?H.scrollTop-=(W.top-G.top)/U:G.bottom>W.bottom&&(H.scrollTop+=(G.bottom-W.bottom)/U)}function score(H){return(H.boost||0)*100+(H.apply?10:0)+(H.info?5:0)+(H.type?1:0)}function sortOptions(H,K){let W=[],G=null,U=ne=>{W.push(ne);let{section:te}=ne.completion;if(te){G||(G=[]);let oe=typeof te=="string"?te:te.name;G.some(re=>re.name==oe)||G.push(typeof te=="string"?{name:oe}:te)}},X=K.facet(completionConfig);for(let ne of H)if(ne.hasResult()){let te=ne.result.getMatch;if(ne.result.filter===!1)for(let oe of ne.result.options)U(new Option(oe,ne.source,te?te(oe):[],1e9-W.length));else{let oe=K.sliceDoc(ne.from,ne.to),re,ae=X.filterStrict?new StrictMatcher(oe):new FuzzyMatcher(oe);for(let se of ne.result.options)if(re=ae.match(se.label)){let ce=se.displayLabel?te?te(se,re.matched):[]:re.matched;U(new Option(se,ne.source,ce,re.score+(se.boost||0)))}}}if(G){let ne=Object.create(null),te=0,oe=(re,ae)=>{var se,ce;return((se=re.rank)!==null&&se!==void 0?se:1e9)-((ce=ae.rank)!==null&&ce!==void 0?ce:1e9)||(re.name<ae.name?-1:1)};for(let re of G.sort(oe))te-=1e5,ne[re.name]=te;for(let re of W){let{section:ae}=re.completion;ae&&(re.score+=ne[typeof ae=="string"?ae:ae.name])}}let Q=[],Z=null,ee=X.compareCompletions;for(let ne of W.sort((te,oe)=>oe.score-te.score||ee(te.completion,oe.completion))){let te=ne.completion;!Z||Z.label!=te.label||Z.detail!=te.detail||Z.type!=null&&te.type!=null&&Z.type!=te.type||Z.apply!=te.apply||Z.boost!=te.boost?Q.push(ne):score(ne.completion)>score(Z)&&(Q[Q.length-1]=ne),Z=ne.completion}return Q}class CompletionDialog{constructor(K,W,G,U,X,Q){this.options=K,this.attrs=W,this.tooltip=G,this.timestamp=U,this.selected=X,this.disabled=Q}setSelected(K,W){return K==this.selected||K>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(W,K),this.tooltip,this.timestamp,K,this.disabled)}static build(K,W,G,U,X,Q){if(U&&!Q&&K.some(ne=>ne.isPending))return U.setDisabled();let Z=sortOptions(K,W);if(!Z.length)return U&&K.some(ne=>ne.isPending)?U.setDisabled():null;let ee=W.facet(completionConfig).selectOnOpen?0:-1;if(U&&U.selected!=ee&&U.selected!=-1){let ne=U.options[U.selected].completion;for(let te=0;te<Z.length;te++)if(Z[te].completion==ne){ee=te;break}}return new CompletionDialog(Z,makeAttrs(G,ee),{pos:K.reduce((ne,te)=>te.hasResult()?Math.min(ne,te.from):ne,1e8),create:createTooltip,above:X.aboveCursor},U?U.timestamp:Date.now(),ee,!1)}map(K){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:K.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new CompletionDialog(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class CompletionState{constructor(K,W,G){this.active=K,this.id=W,this.open=G}static start(){return new CompletionState(none,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(K){let{state:W}=K,G=W.facet(completionConfig),X=(G.override||W.languageDataAt("autocomplete",cur(W)).map(asSource)).map(ee=>(this.active.find(te=>te.source==ee)||new ActiveSource(ee,this.active.some(te=>te.state!=0)?1:0)).update(K,G));X.length==this.active.length&&X.every((ee,ne)=>ee==this.active[ne])&&(X=this.active);let Q=this.open,Z=K.effects.some(ee=>ee.is(setActiveEffect));Q&&K.docChanged&&(Q=Q.map(K.changes)),K.selection||X.some(ee=>ee.hasResult()&&K.changes.touchesRange(ee.from,ee.to))||!sameResults(X,this.active)||Z?Q=CompletionDialog.build(X,W,this.id,Q,G,Z):Q&&Q.disabled&&!X.some(ee=>ee.isPending)&&(Q=null),!Q&&X.every(ee=>!ee.isPending)&&X.some(ee=>ee.hasResult())&&(X=X.map(ee=>ee.hasResult()?new ActiveSource(ee.source,0):ee));for(let ee of K.effects)ee.is(setSelectedEffect)&&(Q=Q&&Q.setSelected(ee.value,this.id));return X==this.active&&Q==this.open?this:new CompletionState(X,this.id,Q)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?baseAttrs:noAttrs}}function sameResults(H,K){if(H==K)return!0;for(let W=0,G=0;;){for(;W<H.length&&!H[W].hasResult();)W++;for(;G<K.length&&!K[G].hasResult();)G++;let U=W==H.length,X=G==K.length;if(U||X)return U==X;if(H[W++].result!=K[G++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"},noAttrs={};function makeAttrs(H,K){let W={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":H};return K>-1&&(W["aria-activedescendant"]=H+"-"+K),W}const none=[];function getUpdateType(H,K){if(H.isUserEvent("input.complete")){let G=H.annotation(pickedCompletion);if(G&&K.activateOnCompletion(G))return 12}let W=H.isUserEvent("input.type");return W&&K.activateOnTyping?5:W?1:H.isUserEvent("delete.backward")?2:H.selection?8:H.docChanged?16:0}class ActiveSource{constructor(K,W,G=!1){this.source=K,this.state=W,this.explicit=G}hasResult(){return!1}get isPending(){return this.state==1}update(K,W){let G=getUpdateType(K,W),U=this;(G&8||G&16&&this.touches(K))&&(U=new ActiveSource(U.source,0)),G&4&&U.state==0&&(U=new ActiveSource(this.source,1)),U=U.updateFor(K,G);for(let X of K.effects)if(X.is(startCompletionEffect))U=new ActiveSource(U.source,1,X.value);else if(X.is(closeCompletionEffect))U=new ActiveSource(U.source,0);else if(X.is(setActiveEffect))for(let Q of X.value)Q.source==U.source&&(U=Q);return U}updateFor(K,W){return this.map(K.changes)}map(K){return this}touches(K){return K.changes.touchesRange(cur(K.state))}}class ActiveResult extends ActiveSource{constructor(K,W,G,U,X,Q){super(K,3,W),this.limit=G,this.result=U,this.from=X,this.to=Q}hasResult(){return!0}updateFor(K,W){var G;if(!(W&3))return this.map(K.changes);let U=this.result;U.map&&!K.changes.empty&&(U=U.map(U,K.changes));let X=K.changes.mapPos(this.from),Q=K.changes.mapPos(this.to,1),Z=cur(K.state);if(Z>Q||!U||W&2&&(cur(K.startState)==this.from||Z<this.limit))return new ActiveSource(this.source,W&4?1:0);let ee=K.changes.mapPos(this.limit);return checkValid(U.validFor,K.state,X,Q)?new ActiveResult(this.source,this.explicit,ee,U,X,Q):U.update&&(U=U.update(U,X,Q,new CompletionContext(K.state,Z,!1)))?new ActiveResult(this.source,this.explicit,ee,U,U.from,(G=U.to)!==null&&G!==void 0?G:cur(K.state)):new ActiveSource(this.source,1,this.explicit)}map(K){return K.empty?this:(this.result.map?this.result.map(this.result,K):this.result)?new ActiveResult(this.source,this.explicit,K.mapPos(this.limit),this.result,K.mapPos(this.from),K.mapPos(this.to,1)):new ActiveSource(this.source,0)}touches(K){return K.changes.touchesRange(this.from,this.to)}}function checkValid(H,K,W,G){if(!H)return!1;let U=K.sliceDoc(W,G);return typeof H=="function"?H(U,W,G,K):ensureAnchor(H,!0).test(U)}const setActiveEffect=StateEffect.define({map(H,K){return H.map(W=>W.map(K))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(H,K){return H.update(K)},provide:H=>[showTooltip.from(H,K=>K.tooltip),EditorView.contentAttributes.from(H,K=>K.attrs)]});function applyCompletion(H,K){const W=K.completion.apply||K.completion.label;let G=H.state.field(completionState).active.find(U=>U.source==K.source);return G instanceof ActiveResult?(typeof W=="string"?H.dispatch(Object.assign(Object.assign({},insertCompletionText(H.state,W,G.from,G.to)),{annotations:pickedCompletion.of(K.completion)})):W(H,K.completion,G.from,G.to),!0):!1}const createTooltip=completionTooltip(completionState,applyCompletion);function moveCompletionSelection(H,K="option"){return W=>{let G=W.state.field(completionState,!1);if(!G||!G.open||G.open.disabled||Date.now()-G.open.timestamp<W.state.facet(completionConfig).interactionDelay)return!1;let U=1,X;K=="page"&&(X=getTooltip(W,G.open.tooltip))&&(U=Math.max(2,Math.floor(X.dom.offsetHeight/X.dom.querySelector("li").offsetHeight)-1));let{length:Q}=G.open.options,Z=G.open.selected>-1?G.open.selected+U*(H?1:-1):H?0:Q-1;return Z<0?Z=K=="page"?0:Q-1:Z>=Q&&(Z=K=="page"?Q-1:0),W.dispatch({effects:setSelectedEffect.of(Z)}),!0}}const acceptCompletion=H=>{let K=H.state.field(completionState,!1);return H.state.readOnly||!K||!K.open||K.open.selected<0||K.open.disabled||Date.now()-K.open.timestamp<H.state.facet(completionConfig).interactionDelay?!1:applyCompletion(H,K.open.options[K.open.selected])},startCompletion=H=>H.state.field(completionState,!1)?(H.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=H=>{let K=H.state.field(completionState,!1);return!K||!K.active.some(W=>W.state!=0)?!1:(H.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(K,W){this.active=K,this.context=W,this.time=Date.now(),this.updates=[],this.done=void 0}}const MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(H){this.view=H,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let K of H.state.field(completionState).active)K.isPending&&this.startQuery(K)}update(H){let K=H.state.field(completionState),W=H.state.facet(completionConfig);if(!H.selectionSet&&!H.docChanged&&H.startState.field(completionState)==K)return;let G=H.transactions.some(X=>{let Q=getUpdateType(X,W);return Q&8||(X.selection||X.docChanged)&&!(Q&3)});for(let X=0;X<this.running.length;X++){let Q=this.running[X];if(G||Q.context.abortOnDocChange&&H.docChanged||Q.updates.length+H.transactions.length>MaxUpdateCount&&Date.now()-Q.time>MinAbortTime){for(let Z of Q.context.abortListeners)try{Z()}catch(ee){logException(this.view.state,ee)}Q.context.abortListeners=null,this.running.splice(X--,1)}else Q.updates.push(...H.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),H.transactions.some(X=>X.effects.some(Q=>Q.is(startCompletionEffect)))&&(this.pendingStart=!0);let U=this.pendingStart?50:W.activateOnTypingDelay;if(this.debounceUpdate=K.active.some(X=>X.isPending&&!this.running.some(Q=>Q.active.source==X.source))?setTimeout(()=>this.startUpdate(),U):-1,this.composing!=0)for(let X of H.transactions)X.isUserEvent("input.type")?this.composing=2:this.composing==2&&X.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:H}=this.view,K=H.field(completionState);for(let W of K.active)W.isPending&&!this.running.some(G=>G.active.source==W.source)&&this.startQuery(W);this.running.length&&K.open&&K.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}startQuery(H){let{state:K}=this.view,W=cur(K),G=new CompletionContext(K,W,H.explicit,this.view),U=new RunningQuery(H,G);this.running.push(U),Promise.resolve(H.source(G)).then(X=>{U.context.aborted||(U.done=X||null,this.scheduleAccept())},X=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,X)})}scheduleAccept(){this.running.every(H=>H.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}accept(){var H;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let K=[],W=this.view.state.facet(completionConfig),G=this.view.state.field(completionState);for(let U=0;U<this.running.length;U++){let X=this.running[U];if(X.done===void 0)continue;if(this.running.splice(U--,1),X.done){let Z=cur(X.updates.length?X.updates[0].startState:this.view.state),ee=Math.min(Z,X.done.from+(X.active.explicit?0:1)),ne=new ActiveResult(X.active.source,X.active.explicit,ee,X.done,X.done.from,(H=X.done.to)!==null&&H!==void 0?H:Z);for(let te of X.updates)ne=ne.update(te,W);if(ne.hasResult()){K.push(ne);continue}}let Q=G.active.find(Z=>Z.source==X.active.source);if(Q&&Q.isPending)if(X.done==null){let Z=new ActiveSource(X.active.source,0);for(let ee of X.updates)Z=Z.update(ee,W);Z.isPending||K.push(Z)}else this.startQuery(Q)}(K.length||G.open&&G.open.disabled)&&this.view.dispatch({effects:setActiveEffect.of(K)})}},{eventHandlers:{blur(H){let K=this.view.state.field(completionState,!1);if(K&&K.tooltip&&this.view.state.facet(completionConfig).closeOnBlur){let W=K.open&&getTooltip(this.view,K.open.tooltip);(!W||!W.dom.contains(H.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:closeCompletionEffect.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),windows=typeof navigator=="object"&&/Win/.test(navigator.platform),commitCharacters=Prec.highest(EditorView.domEventHandlers({keydown(H,K){let W=K.state.field(completionState,!1);if(!W||!W.open||W.open.disabled||W.open.selected<0||H.key.length>1||H.ctrlKey&&!(windows&&H.altKey)||H.metaKey)return!1;let G=W.open.options[W.open.selected],U=W.active.find(Q=>Q.source==G.source),X=G.completion.commitCharacters||U.result.commitCharacters;return X&&X.indexOf(H.key)>-1&&applyCompletion(K,G),!1}})),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),defaults={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},closeBracketEffect=StateEffect.define({map(H,K){let W=K.mapPos(H,-1,MapMode.TrackAfter);return W??void 0}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(H,K){if(H=H.map(K.changes),K.selection){let W=K.state.doc.lineAt(K.selection.main.head);H=H.update({filter:G=>G>=W.from&&G<=W.to})}for(let W of K.effects)W.is(closeBracketEffect)&&(H=H.update({add:[closedBracket.range(W.value,W.value+1)]}));return H}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(H){for(let K=0;K<definedClosing.length;K+=2)if(definedClosing.charCodeAt(K)==H)return definedClosing.charAt(K+1);return fromCodePoint(H<128?H:H+1)}function config(H,K){return H.languageDataAt("closeBrackets",K)[0]||defaults}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((H,K,W,G)=>{if((android?H.composing:H.compositionStarted)||H.state.readOnly)return!1;let U=H.state.selection.main;if(G.length>2||G.length==2&&codePointSize(codePointAt(G,0))==1||K!=U.from||W!=U.to)return!1;let X=insertBracket(H.state,G);return X?(H.dispatch(X),!0):!1}),deleteBracketPair=({state:H,dispatch:K})=>{if(H.readOnly)return!1;let G=config(H,H.selection.main.head).brackets||defaults.brackets,U=null,X=H.changeByRange(Q=>{if(Q.empty){let Z=prevChar(H.doc,Q.head);for(let ee of G)if(ee==Z&&nextChar(H.doc,Q.head)==closing(codePointAt(ee,0)))return{changes:{from:Q.head-ee.length,to:Q.head+ee.length},range:EditorSelection.cursor(Q.head-ee.length)}}return{range:U=Q}});return U||K(H.update(X,{scrollIntoView:!0,userEvent:"delete.backward"})),!U},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(H,K){let W=config(H,H.selection.main.head),G=W.brackets||defaults.brackets;for(let U of G){let X=closing(codePointAt(U,0));if(K==U)return X==U?handleSame(H,U,G.indexOf(U+U+U)>-1,W):handleOpen(H,U,X,W.before||defaults.before);if(K==X&&closedBracketAt(H,H.selection.main.from))return handleClose(H,U,X)}return null}function closedBracketAt(H,K){let W=!1;return H.field(bracketState).between(0,H.doc.length,G=>{G==K&&(W=!0)}),W}function nextChar(H,K){let W=H.sliceString(K,K+2);return W.slice(0,codePointSize(codePointAt(W,0)))}function prevChar(H,K){let W=H.sliceString(K-2,K);return codePointSize(codePointAt(W,0))==W.length?W:W.slice(1)}function handleOpen(H,K,W,G){let U=null,X=H.changeByRange(Q=>{if(!Q.empty)return{changes:[{insert:K,from:Q.from},{insert:W,from:Q.to}],effects:closeBracketEffect.of(Q.to+K.length),range:EditorSelection.range(Q.anchor+K.length,Q.head+K.length)};let Z=nextChar(H.doc,Q.head);return!Z||/\s/.test(Z)||G.indexOf(Z)>-1?{changes:{insert:K+W,from:Q.head},effects:closeBracketEffect.of(Q.head+K.length),range:EditorSelection.cursor(Q.head+K.length)}:{range:U=Q}});return U?null:H.update(X,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(H,K,W){let G=null,U=H.changeByRange(X=>X.empty&&nextChar(H.doc,X.head)==W?{changes:{from:X.head,to:X.head+W.length,insert:W},range:EditorSelection.cursor(X.head+W.length)}:G={range:X});return G?null:H.update(U,{scrollIntoView:!0,userEvent:"input.type"})}function handleSame(H,K,W,G){let U=G.stringPrefixes||defaults.stringPrefixes,X=null,Q=H.changeByRange(Z=>{if(!Z.empty)return{changes:[{insert:K,from:Z.from},{insert:K,from:Z.to}],effects:closeBracketEffect.of(Z.to+K.length),range:EditorSelection.range(Z.anchor+K.length,Z.head+K.length)};let ee=Z.head,ne=nextChar(H.doc,ee),te;if(ne==K){if(nodeStart(H,ee))return{changes:{insert:K+K,from:ee},effects:closeBracketEffect.of(ee+K.length),range:EditorSelection.cursor(ee+K.length)};if(closedBracketAt(H,ee)){let re=W&&H.sliceDoc(ee,ee+K.length*3)==K+K+K?K+K+K:K;return{changes:{from:ee,to:ee+re.length,insert:re},range:EditorSelection.cursor(ee+re.length)}}}else{if(W&&H.sliceDoc(ee-2*K.length,ee)==K+K&&(te=canStartStringAt(H,ee-2*K.length,U))>-1&&nodeStart(H,te))return{changes:{insert:K+K+K+K,from:ee},effects:closeBracketEffect.of(ee+K.length),range:EditorSelection.cursor(ee+K.length)};if(H.charCategorizer(ee)(ne)!=CharCategory.Word&&canStartStringAt(H,ee,U)>-1&&!probablyInString(H,ee,K,U))return{changes:{insert:K+K,from:ee},effects:closeBracketEffect.of(ee+K.length),range:EditorSelection.cursor(ee+K.length)}}return{range:X=Z}});return X?null:H.update(Q,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(H,K){let W=syntaxTree(H).resolveInner(K+1);return W.parent&&W.from==K}function probablyInString(H,K,W,G){let U=syntaxTree(H).resolveInner(K,-1),X=G.reduce((Q,Z)=>Math.max(Q,Z.length),0);for(let Q=0;Q<5;Q++){let Z=H.sliceDoc(U.from,Math.min(U.to,U.from+W.length+X)),ee=Z.indexOf(W);if(!ee||ee>-1&&G.indexOf(Z.slice(0,ee))>-1){let te=U.firstChild;for(;te&&te.from==U.from&&te.to-te.from>W.length+ee;){if(H.sliceDoc(te.to-W.length,te.to)==W)return!1;te=te.firstChild}return!0}let ne=U.to==K&&U.parent;if(!ne)break;U=ne}return!1}function canStartStringAt(H,K,W){let G=H.charCategorizer(K);if(G(H.sliceDoc(K-1,K))!=CharCategory.Word)return K;for(let U of W){let X=K-U.length;if(H.sliceDoc(X,K)==U&&G(H.sliceDoc(X-1,X))!=CharCategory.Word)return X}return-1}function autocompletion(H={}){return[commitCharacters,completionState,completionConfig.of(H),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{mac:"Alt-`",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],H=>H.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(K,W,G){this.from=K,this.to=W,this.diagnostic=G}}class LintState{constructor(K,W,G){this.diagnostics=K,this.panel=W,this.selected=G}static init(K,W,G){let U=G.facet(lintConfig).markerFilter;U&&(K=U(K,G));let X=K.slice().sort((te,oe)=>te.from-oe.from||te.to-oe.to),Q=new RangeSetBuilder,Z=[],ee=0;for(let te=0;;){let oe=te==X.length?null:X[te];if(!oe&&!Z.length)break;let re,ae;for(Z.length?(re=ee,ae=Z.reduce((ce,de)=>Math.min(ce,de.to),oe&&oe.from>re?oe.from:1e8)):(re=oe.from,ae=oe.to,Z.push(oe),te++);te<X.length;){let ce=X[te];if(ce.from==re&&(ce.to>ce.from||ce.to==re))Z.push(ce),te++,ae=Math.min(ce.to,ae);else{ae=Math.min(ce.from,ae);break}}let se=maxSeverity(Z);if(Z.some(ce=>ce.from==ce.to||ce.from==ce.to-1&&G.doc.lineAt(ce.from).to==ce.from))Q.add(re,re,Decoration.widget({widget:new DiagnosticWidget(se),diagnostics:Z.slice()}));else{let ce=Z.reduce((de,le)=>le.markClass?de+" "+le.markClass:de,"");Q.add(re,ae,Decoration.mark({class:"cm-lintRange cm-lintRange-"+se+ce,diagnostics:Z.slice(),inclusiveEnd:Z.some(de=>de.to>ae)}))}ee=ae;for(let ce=0;ce<Z.length;ce++)Z[ce].to<=ee&&Z.splice(ce--,1)}let ne=Q.finish();return new LintState(ne,W,findDiagnostic(ne))}}function findDiagnostic(H,K=null,W=0){let G=null;return H.between(W,1e9,(U,X,{spec:Q})=>{if(!(K&&Q.diagnostics.indexOf(K)<0))if(!G)G=new SelectedDiagnostic(U,X,K||Q.diagnostics[0]);else{if(Q.diagnostics.indexOf(G.diagnostic)<0)return!1;G=new SelectedDiagnostic(G.from,X,G.diagnostic)}}),G}function hideTooltip(H,K){let W=K.pos,G=K.end||W,U=H.state.facet(lintConfig).hideOn(H,W,G);if(U!=null)return U;let X=H.startState.doc.lineAt(K.pos);return!!(H.effects.some(Q=>Q.is(setDiagnosticsEffect))||H.changes.touchesRange(X.from,Math.max(X.to,G)))}function maybeEnableLint(H,K){return H.field(lintState,!1)?K:K.concat(StateEffect.appendConfig.of(lintExtensions))}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(H,K){if(K.docChanged&&H.diagnostics.size){let W=H.diagnostics.map(K.changes),G=null,U=H.panel;if(H.selected){let X=K.changes.mapPos(H.selected.from,1);G=findDiagnostic(W,H.selected.diagnostic,X)||findDiagnostic(W,null,X)}!W.size&&U&&K.state.facet(lintConfig).autoPanel&&(U=null),H=new LintState(W,U,G)}for(let W of K.effects)if(W.is(setDiagnosticsEffect)){let G=K.state.facet(lintConfig).autoPanel?W.value.length?LintPanel.open:null:H.panel;H=LintState.init(W.value,G,K.state)}else W.is(togglePanel)?H=new LintState(H.diagnostics,W.value?LintPanel.open:null,H.selected):W.is(movePanelSelection)&&(H=new LintState(H.diagnostics,H.panel,W.value));return H},provide:H=>[showPanel.from(H,K=>K.panel),EditorView.decorations.from(H,K=>K.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(H,K,W){let{diagnostics:G}=H.state.field(lintState),U,X=-1,Q=-1;G.between(K-(W<0?1:0),K+(W>0?1:0),(ee,ne,{spec:te})=>{if(K>=ee&&K<=ne&&(ee==ne||(K>ee||W>0)&&(K<ne||W<0)))return U=te.diagnostics,X=ee,Q=ne,!1});let Z=H.state.facet(lintConfig).tooltipFilter;return U&&Z&&(U=Z(U,H.state)),U?{pos:X,end:Q,above:H.state.doc.lineAt(X).to<Q,create(){return{dom:diagnosticsTooltip(H,U)}}}:null}function diagnosticsTooltip(H,K){return crelt("ul",{class:"cm-tooltip-lint"},K.map(W=>renderDiagnostic(H,W,!1)))}const openLintPanel=H=>{let K=H.state.field(lintState,!1);(!K||!K.panel)&&H.dispatch({effects:maybeEnableLint(H.state,[togglePanel.of(!0)])});let W=getPanel(H,LintPanel.open);return W&&W.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=H=>{let K=H.state.field(lintState,!1);return!K||!K.panel?!1:(H.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=H=>{let K=H.state.field(lintState,!1);if(!K)return!1;let W=H.state.selection.main,G=K.diagnostics.iter(W.to+1);return!G.value&&(G=K.diagnostics.iter(0),!G.value||G.from==W.from&&G.to==W.to)?!1:(H.dispatch({selection:{anchor:G.from,head:G.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:!0},{key:"F8",run:nextDiagnostic}],lintConfig=Facet.define({combine(H){return Object.assign({sources:H.map(K=>K.source).filter(K=>K!=null)},combineConfig(H.map(K=>K.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(K,W)=>K?W?G=>K(G)||W(G):K:W}))}});function assignKeys(H){let K=[];if(H)e:for(let{name:W}of H){for(let G=0;G<W.length;G++){let U=W[G];if(/[a-zA-Z]/.test(U)&&!K.some(X=>X.toLowerCase()==U.toLowerCase())){K.push(U);continue e}}K.push("")}return K}function renderDiagnostic(H,K,W){var G;let U=W?assignKeys(K.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+K.severity},crelt("span",{class:"cm-diagnosticText"},K.renderMessage?K.renderMessage(H):K.message),(G=K.actions)===null||G===void 0?void 0:G.map((X,Q)=>{let Z=!1,ee=re=>{if(re.preventDefault(),Z)return;Z=!0;let ae=findDiagnostic(H.state.field(lintState).diagnostics,K);ae&&X.apply(H,ae.from,ae.to)},{name:ne}=X,te=U[Q]?ne.indexOf(U[Q]):-1,oe=te<0?ne:[ne.slice(0,te),crelt("u",ne.slice(te,te+1)),ne.slice(te+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:ee,onmousedown:ee,"aria-label":` Action: ${ne}${te<0?"":` (access key "${U[Q]})"`}.`},oe)}),K.source&&crelt("div",{class:"cm-diagnosticSource"},K.source))}class DiagnosticWidget extends WidgetType{constructor(K){super(),this.sev=K}eq(K){return K.sev==this.sev}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class PanelItem{constructor(K,W){this.diagnostic=W,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(K,W,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(K){this.view=K,this.items=[];let W=U=>{if(U.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(U.keyCode==38||U.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(U.keyCode==40||U.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(U.keyCode==36)this.moveSelection(0);else if(U.keyCode==35)this.moveSelection(this.items.length-1);else if(U.keyCode==13)this.view.focus();else if(U.keyCode>=65&&U.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:X}=this.items[this.selectedIndex],Q=assignKeys(X.actions);for(let Z=0;Z<Q.length;Z++)if(Q[Z].toUpperCase().charCodeAt(0)==U.keyCode){let ee=findDiagnostic(this.view.state.field(lintState).diagnostics,X);ee&&X.actions[Z].apply(K,ee.from,ee.to)}}else return;U.preventDefault()},G=U=>{for(let X=0;X<this.items.length;X++)this.items[X].dom.contains(U.target)&&this.moveSelection(X)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:W,onclick:G}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"")),this.update()}get selectedIndex(){let K=this.view.state.field(lintState).selected;if(!K)return-1;for(let W=0;W<this.items.length;W++)if(this.items[W].diagnostic==K.diagnostic)return W;return-1}update(){let{diagnostics:K,selected:W}=this.view.state.field(lintState),G=0,U=!1,X=null,Q=new Set;for(K.between(0,this.view.state.doc.length,(Z,ee,{spec:ne})=>{for(let te of ne.diagnostics){if(Q.has(te))continue;Q.add(te);let oe=-1,re;for(let ae=G;ae<this.items.length;ae++)if(this.items[ae].diagnostic==te){oe=ae;break}oe<0?(re=new PanelItem(this.view,te),this.items.splice(G,0,re),U=!0):(re=this.items[oe],oe>G&&(this.items.splice(G,oe-G),U=!0)),W&&re.diagnostic==W.diagnostic?re.dom.hasAttribute("aria-selected")||(re.dom.setAttribute("aria-selected","true"),X=re):re.dom.hasAttribute("aria-selected")&&re.dom.removeAttribute("aria-selected"),G++}});G<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)U=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),U=!0),X?(this.list.setAttribute("aria-activedescendant",X.id),this.view.requestMeasure({key:this,read:()=>({sel:X.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:Z,panel:ee})=>{let ne=ee.height/this.list.offsetHeight;Z.top<ee.top?this.list.scrollTop-=(ee.top-Z.top)/ne:Z.bottom>ee.bottom&&(this.list.scrollTop+=(Z.bottom-ee.bottom)/ne)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),U&&this.sync()}sync(){let K=this.list.firstChild;function W(){let G=K;K=G.nextSibling,G.remove()}for(let G of this.items)if(G.dom.parentNode==this.list){for(;K!=G.dom;)W();K=G.dom.nextSibling}else this.list.insertBefore(G.dom,K);for(;K;)W()}moveSelection(K){if(this.selectedIndex<0)return;let W=this.view.state.field(lintState),G=findDiagnostic(W.diagnostics,this.items[K].diagnostic);G&&this.view.dispatch({selection:{anchor:G.from,head:G.to},scrollIntoView:!0,effects:movePanelSelection.of(G)})}static open(K){return new LintPanel(K)}}function svg(H,K='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${K}>${encodeURIComponent(H)}</svg>')`}function underline(H){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${H}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-hint":{backgroundImage:underline("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function severityWeight(H){return H=="error"?4:H=="warning"?3:H=="info"?2:1}function maxSeverity(H){let K="hint",W=1;for(let G of H){let U=severityWeight(G.severity);U>W&&(W=U,K=G.severity)}return K}const lintExtensions=[lintState,EditorView.decorations.compute([lintState],H=>{let{selected:K,panel:W}=H.field(lintState);return!K||!W||K.from==K.to?Decoration.none:Decoration.set([activeMark.range(K.from,K.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme],basicSetup=[lineNumbers(),highlightActiveLineGutter(),highlightSpecialChars(),history$1(),foldGutter(),drawSelection(),dropCursor(),EditorState.allowMultipleSelections.of(!0),indentOnInput(),syntaxHighlighting(defaultHighlightStyle,{fallback:!0}),bracketMatching(),closeBrackets(),autocompletion(),rectangularSelection(),crosshairCursor(),highlightActiveLine(),highlightSelectionMatches(),keymap.of([...closeBracketsKeymap,...defaultKeymap,...searchKeymap,...historyKeymap,...foldKeymap,...completionKeymap,...lintKeymap])];function parseWords(H){for(var K={},W=H.split(" "),G=0;G<W.length;++G)K[W[G]]=!0;return K}var keywords=parseWords("Tcl safe after append array auto_execok auto_import auto_load auto_mkindex auto_mkindex_old auto_qualify auto_reset bgerror binary break catch cd close concat continue dde eof encoding error eval exec exit expr fblocked fconfigure fcopy file fileevent filename filename flush for foreach format gets glob global history http if incr info interp join lappend lindex linsert list llength load lrange lreplace lsearch lset lsort memory msgcat namespace open package parray pid pkg::create pkg_mkIndex proc puts pwd re_syntax read regex regexp registry regsub rename resource return scan seek set socket source split string subst switch tcl_endOfWord tcl_findLibrary tcl_startOfNextWord tcl_wordBreakAfter tcl_startOfPreviousWord tcl_wordBreakBefore tcltest tclvars tell time trace unknown unset update uplevel upvar variable vwait"),functions=parseWords("if elseif else and not or eq ne in ni for foreach while switch"),isOperatorChar=/[+\-*&%=<>!?^\/\|]/;function chain(H,K,W){return K.tokenize=W,W(H,K)}function tokenBase(H,K){var W=K.beforeParams;K.beforeParams=!1;var G=H.next();if((G=='"'||G=="'")&&K.inParams)return chain(H,K,tokenString(G));if(/[\[\]{}\(\),;\.]/.test(G))return G=="("&&W?K.inParams=!0:G==")"&&(K.inParams=!1),null;if(/\d/.test(G))return H.eatWhile(/[\w\.]/),"number";if(G=="#")return H.eat("*")?chain(H,K,tokenComment):G=="#"&&H.match(/ *\[ *\[/)?chain(H,K,tokenUnparsed):(H.skipToEnd(),"comment");if(G=='"')return H.skipTo(/"/),"comment";if(G=="$")return H.eatWhile(/[$_a-z0-9A-Z\.{:]/),H.eatWhile(/}/),K.beforeParams=!0,"builtin";if(isOperatorChar.test(G))return H.eatWhile(isOperatorChar),"comment";H.eatWhile(/[\w\$_{}\xa1-\uffff]/);var U=H.current().toLowerCase();return keywords&&keywords.propertyIsEnumerable(U)?"keyword":functions&&functions.propertyIsEnumerable(U)?(K.beforeParams=!0,"keyword"):null}function tokenString(H){return function(K,W){for(var G=!1,U,X=!1;(U=K.next())!=null;){if(U==H&&!G){X=!0;break}G=!G&&U=="\\"}return X&&(W.tokenize=tokenBase),"string"}}function tokenComment(H,K){for(var W=!1,G;G=H.next();){if(G=="#"&&W){K.tokenize=tokenBase;break}W=G=="*"}return"comment"}function tokenUnparsed(H,K){for(var W=0,G;G=H.next();){if(G=="#"&&W==2){K.tokenize=tokenBase;break}G=="]"?W++:G!=" "&&(W=0)}return"meta"}const tcl={name:"tcl",startState:function(){return{tokenize:tokenBase,beforeParams:!1,inParams:!1}},token:function(H,K){return H.eatSpace()?null:K.tokenize(H,K)},languageData:{commentTokens:{line:"#"}}},chalky="#e5c07b",coral="#e06c75",cyan="#56b6c2",invalid="#ffffff",ivory="#abb2bf",stone="#7d8799",malibu="#61afef",sage="#98c379",whiskey="#d19a66",violet="#c678dd",darkBackground="#21252b",highlightBackground="#2c313a",background="#282c34",tooltipBackground="#353a42",selection="#3E4451",cursor="#528bff",oneDarkTheme=EditorView.theme({"&":{color:ivory,backgroundColor:background},".cm-content":{caretColor:cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:cursor},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:selection},".cm-panels":{backgroundColor:darkBackground,color:ivory},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:background,color:stone,border:"none"},".cm-activeLineGutter":{backgroundColor:highlightBackground},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tooltipBackground,borderBottomColor:tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:highlightBackground,color:ivory}}},{dark:!0}),oneDarkHighlightStyle=HighlightStyle.define([{tag:tags.keyword,color:violet},{tag:[tags.name,tags.deleted,tags.character,tags.propertyName,tags.macroName],color:coral},{tag:[tags.function(tags.variableName),tags.labelName],color:malibu},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:whiskey},{tag:[tags.definition(tags.name),tags.separator],color:ivory},{tag:[tags.typeName,tags.className,tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:chalky},{tag:[tags.operator,tags.operatorKeyword,tags.url,tags.escape,tags.regexp,tags.link,tags.special(tags.string)],color:cyan},{tag:[tags.meta,tags.comment],color:stone},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.link,color:stone,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:coral},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:whiskey},{tag:[tags.processingInstruction,tags.string,tags.inserted],color:sage},{tag:tags.invalid,color:invalid}]),oneDark=[oneDarkTheme,syntaxHighlighting(oneDarkHighlightStyle)];class TclFormatter{static formatTclCode(K,W=4){const G=this.splitLines(K),U=[];let X=0,Q=!1,Z=null;for(let ee=0;ee<G.length;ee++){const ne=G[ee],te=this.trim(ne);if(te.length===0){U.push("");continue}if(te[0]==="#"){let de;Q?de=this.calculateContinuationIndent(Z,W):de=X*W,U.push(" ".repeat(de)+te);const le=te.endsWith("\\");!Q&&le?(Q=!0,Z=this.createContinuationContext(te,X,ee)):Q&&!le&&(Q=!1,Z=null);continue}const oe=te.endsWith("\\"),re=this.countUnquotedChar(te,"{"),ae=this.countUnquotedChar(te,"}");let se;Q?se=this.calculateContinuationIndent(Z,W,te):(se=X*W,te[0]==="}"&&(se=Math.max(0,(X-1)*W)),this.startsWithKeyword(te,["else","elseif","catch"])&&(se=Math.max(0,(X-1)*W)));const ce=this.formatLine(te,se);U.push(ce),!Q&&oe?(Q=!0,Z=this.createContinuationContext(te,X,ee),X+=re-ae,X<0&&(X=0)):Q&&oe?(this.updateContinuationContext(Z,te),X+=re-ae,X<0&&(X=0)):Q&&!oe?(X+=re-ae,X<0&&(X=0),Q=!1,Z=null):(X+=re-ae,X<0&&(X=0))}return this.joinLines(U)}static createContinuationContext(K,W,G){const U={baseIndentLevel:W,firstLine:K,lineIndex:G,bracketDepth:0,commandNesting:0,alignmentColumn:null};return U.alignmentColumn=this.findAlignmentColumn(K),U.bracketDepth=this.countOpeningBrackets(K)-this.countClosingBrackets(K),U}static updateContinuationContext(K,W){if(!K)return;const G=this.countOpeningBrackets(W),U=this.countClosingBrackets(W);K.bracketDepth+=G-U,K.bracketDepth<0&&(K.bracketDepth=0)}static calculateContinuationIndent(K,W,G=""){if(!K)return W;if(K.alignmentColumn!==null)return K.alignmentColumn;const U=K.baseIndentLevel*W,X=W,Q=Math.max(0,K.bracketDepth)*W;return U+X+Q}static findAlignmentColumn(K){const W=K.trim(),G=K.length-K.trimStart().length;if(W.match(/^dl_local\s+\S+\s+\[/)){const Z=W.indexOf("[");return G+Z+1}if(W.match(/^set\s+\S+\s+\[/)){const Z=W.indexOf("[");return G+Z+1}const Q=W.indexOf("[");return Q!==-1?G+Q+1:null}static calculateLineIndent(K,W,G=4){if(W<0||W>=K.length)return 0;let U=0,X=!1,Q=null;for(let ne=0;ne<W;ne++){const te=K[ne],oe=this.trim(te);if(oe.length===0||oe[0]==="#")continue;const re=oe.endsWith("\\"),ae=this.countUnquotedChar(oe,"{"),se=this.countUnquotedChar(oe,"}");!X&&re?(X=!0,Q=this.createContinuationContext(oe,U,ne),U+=ae-se):X&&re?(this.updateContinuationContext(Q,oe),U+=ae-se):X&&!re?(U+=ae-se,X=!1,Q=null):U+=ae-se,U<0&&(U=0)}const Z=this.trim(K[W]);if(X)return this.calculateContinuationIndent(Q,G,Z);let ee=U;return Z.length>0&&(Z[0]==="}"&&(ee=Math.max(0,U-1)),this.startsWithKeyword(Z,["else","elseif","catch"])&&(ee=Math.max(0,U-1))),ee*G}static countOpeningBrackets(K){let W=0,G=!1,U=!1;for(const X of K){if(U){U=!1;continue}if(X==="\\"){U=!0;continue}if(X==='"'){G=!G;continue}!G&&X==="["&&W++}return W}static countClosingBrackets(K){let W=0,G=!1,U=!1;for(const X of K){if(U){U=!1;continue}if(X==="\\"){U=!0;continue}if(X==='"'){G=!G;continue}!G&&X==="]"&&W++}return W}static splitLines(K){return K.split(`
`)}static joinLines(K){return K.join(`
`)}static trim(K){return K.trim()}static startsWithKeyword(K,W){for(const G of W)if(new RegExp(`^\\s*${G}\\b`).test(K))return!0;return!1}static countUnquotedChar(K,W){let G=0,U=!1,X=!1,Q=0,Z=!1;for(const ee of K){if(Z){Z=!1;continue}if(ee==="\\"){Z=!0;continue}if(ee==='"'&&!X){U=!U;continue}U||(ee==="{"?(Q++,X=Q>0):ee==="}"&&(Q--,X=Q>0)),!U&&ee===W&&(W==="{"||W==="}"||!X)&&G++}return G}static formatLine(K,W){const G=" ".repeat(Math.max(0,W));let U="",X=!1,Q=!1,Z="";for(const ee of K){if(Q){U+=ee,Q=!1,Z=ee;continue}if(ee==="\\"){U+=ee,Q=!0,Z=ee;continue}if(ee==='"'){X=!X,U+=ee,Z=ee;continue}X?(U+=ee,Z=ee):/\s/.test(ee)?Z!==" "&&Z!==""&&(U+=" ",Z=" "):(U+=ee,Z=ee)}return U=U.replace(/\s+$/,""),G+U}}const _hoisted_1$h={style:{height:"100%",display:"flex","flex-direction":"column",overflow:"hidden"}},_hoisted_2$b={style:{"flex-shrink":"0",display:"flex","align-items":"center","justify-content":"space-between",padding:"8px","border-bottom":"1px solid #d9d9d9",background:"#fafafa"}},_hoisted_3$a={style:{display:"flex","align-items":"center",gap:"8px"}},_hoisted_4$a={style:{display:"flex","align-items":"center","justify-content":"space-between",width:"100%"}},_hoisted_5$a={style:{display:"flex","align-items":"center",gap:"4px"}},_hoisted_6$9={key:0,style:{width:"6px",height:"6px",background:"#ff4d4f","border-radius":"50%"}},_hoisted_7$9={key:1,style:{width:"6px",height:"6px",background:"#ff4d4f","border-radius":"50%"}},_hoisted_8$9={key:2,style:{width:"6px",height:"6px",background:"#ff4d4f","border-radius":"50%"},title:"Has validation errors"},_hoisted_9$9={key:0,style:{display:"flex","align-items":"center",gap:"6px"}},_hoisted_10$8={style:{display:"flex","align-items":"center","justify-content":"space-between",width:"100%"}},_hoisted_11$8={key:0,style:{width:"6px",height:"6px",background:"#ff4d4f","border-radius":"50%"},title:"Modified"},_hoisted_12$7={style:{display:"flex","align-items":"center",gap:"8px"}},_hoisted_13$7={key:0,style:{"flex-shrink":"0","max-height":"200px","overflow-y":"auto",background:"#fafafa","border-top":"1px solid #d9d9d9",padding:"8px"}},_hoisted_14$4={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"8px"}},_hoisted_15$4={style:{"font-weight":"500","font-size":"12px"}},_hoisted_16$4={style:{display:"flex",gap:"8px"}},_hoisted_17$4={key:0,style:{"flex-shrink":"0",background:"#fafafa","border-top":"1px solid #d9d9d9"}},_hoisted_18$4={key:1,style:{"margin-bottom":"8px"}},_hoisted_19$4={style:{"font-weight":"500",color:"#ff4d4f","font-size":"11px","margin-bottom":"4px"}},_hoisted_20$4=["onClick"],_hoisted_21$4={key:2},_hoisted_22$4={style:{"font-weight":"500",color:"#faad14","font-size":"11px","margin-bottom":"4px"}},_hoisted_23$3=["onClick"],_hoisted_24$3={style:{"flex-shrink":"0",display:"flex","justify-content":"space-between","align-items":"center",padding:"4px 8px",background:"#f0f0f0","border-top":"1px solid #d9d9d9","font-size":"11px",color:"#666"}},_hoisted_25$3={style:{display:"flex",gap:"12px"}},_hoisted_26$3={key:0},_hoisted_27$3={key:1},_hoisted_28$3={key:2},_hoisted_29$3={key:3,style:{color:"#ff9500"}},_hoisted_30$3={key:0,style:{color:"#ff4d4f"}},_hoisted_31$3={key:1,style:{color:"#faad14"}},_hoisted_32$3={key:2,style:{color:"#52c41a"}},_hoisted_33$3={key:3,style:{color:"#722ed1"}},_hoisted_34$3={key:5,style:{color:"#1890ff"}},_hoisted_35$3={style:{display:"flex",gap:"12px"}},_hoisted_36$3={style:{margin:"16px 0"}},_sfc_main$k={__name:"Scripts",setup(H){const K=ref(null);let W=null;const G=ref("system"),U=ref("emacs"),X=ref(!1),Q=ref(!1),Z=ref(!1),ee=ref(null),ne=ref(!1),te=ref(!1),oe=ref(!0),re=ref(!1),ae=ref(!1),se=ref(!1),ce=ref(!1),de=ref(""),le=ref([]),fe=ref([]),pe=ref(""),me=ref(!1),ue=ref(!1),ge=ref(""),he=computed(()=>G.value==="lib"),ve=ref({system:{name:"system",content:"",originalContent:"",modified:!1,loaded:!1,unchangedHistoryDepth:0},protocol:{name:"protocol",content:"",originalContent:"",modified:!1,loaded:!1,unchangedHistoryDepth:0},loaders:{name:"loaders",content:"",originalContent:"",modified:!1,loaded:!1,unchangedHistoryDepth:0},variants:{name:"variants",content:"",originalContent:"",modified:!1,loaded:!1,unchangedHistoryDepth:0},stim:{name:"stim",content:"",originalContent:"",modified:!1,loaded:!1,unchangedHistoryDepth:0},lib:null}),ye=[{name:"system",label:"System",type:"script"},{name:"protocol",label:"Protocol",type:"script"},{name:"loaders",label:"Loaders",type:"script"},{name:"variants",label:"Variants",type:"script"},{name:"stim",label:"Stim",type:"script"},{name:"lib",label:"Lib Files",type:"library"}],be=computed(()=>G.value==="lib"?ve.value.lib:ve.value[G.value]),Se=ref(!1);watch(ve,Ie=>{Object.values(Ie).some(ot=>ot?.modified)&&(Se.value=!0)},{deep:!0});let Ce=null;watch(()=>be.value?.content,Ie=>{!oe.value||!Ie||(Ce&&clearTimeout(Ce),Ce=setTimeout(()=>{Ye()},1e3))});async function xe(){me.value=!0;try{const Ie=await dserv.essCommand("ess::get_lib_files");fe.value=Array.isArray(Ie)?Ie:Ie?Ie.split(" ").filter(De=>De.length>0):[],console.log("Loaded lib files:",fe.value)}catch(Ie){console.error("Failed to load lib files:",Ie),api$1.error("Failed to load lib files"),fe.value=[]}finally{me.value=!1}}async function Ne(Ie){if(!Ie){pe.value="",ve.value.lib&&(ve.value.lib=null),W&&Pe("",!0);return}try{console.log("Loading lib file:",Ie);const De=await dserv.essCommand(`ess::get_lib_file_content {${Ie}}`);ve.value.lib={name:"lib",filename:Ie,content:De,originalContent:De,modified:!1,loaded:!0,unchangedHistoryDepth:0},pe.value=Ie,Pe(De,!0),console.log("Loaded lib file successfully:",Ie)}catch(De){console.error("Failed to load lib file:",De),api$1.error(`Failed to load lib file: ${De.message}`)}}async function $e(){if(!pe.value||!ve.value.lib?.modified){console.log("No lib file to save or not modified");return}try{const De=new TclLinter().lint(ve.value.lib.content);if(!De.isValid){const ot=De.errors.filter(st=>st.message.includes("syntax")||st.message.includes("brace")||st.message.includes("quote"));if(ot.length>0&&!await new Promise(et=>{Modal.confirm({title:"Syntax Errors in Lib File",content:`This lib file has ${ot.length} syntax error(s). Save anyway?`,okText:"Save Anyway",okType:"danger",cancelText:"Fix Errors First",onOk:()=>et(!0),onCancel:()=>et(!1)})}))return}if(X.value=!0,console.log("Saving lib file:",pe.value),await dserv.essCommand(`ess::save_lib_file {${pe.value}} {${ve.value.lib.content}}`),ve.value.lib.modified=!1,ve.value.lib.originalContent=ve.value.lib.content,W){const ot=W.state.field(historyField,!1);ot&&(ve.value.lib.unchangedHistoryDepth=ot.done.length)}We(),api$1.success(`Lib file ${pe.value} saved`)}catch(Ie){console.error("Failed to save lib file:",Ie),api$1.error(`Failed to save lib file: ${Ie.message}`)}finally{X.value=!1}}async function Ee(){let Ie=ge.value.trim();if(!Ie){api$1.error("Please enter a filename");return}if(Ie.endsWith(".tm")||(Ie+=".tm"),!/^[a-zA-Z0-9._-]+\.tm$/.test(Ie)){api$1.error("Invalid filename. Use only letters, numbers, dots, dashes, and underscores.");return}try{const De=`# ${Ie}
# Tcl Module

package require Tcl 8.5
package provide ${Ie.replace(".tm","")} 1.0

# Add your procedures here
`;await dserv.essCommand(`ess::save_lib_file {${Ie}} {${De}}`),await xe(),pe.value=Ie,await Ne(Ie),ue.value=!1,ge.value="",api$1.success(`Created lib file: ${Ie}`)}catch(De){console.error("Failed to create lib file:",De),api$1.error(`Failed to create lib file: ${De.message}`)}}function Te(){G.value="lib",fe.value.length===0&&xe(),pe.value?ve.value.lib&&Pe(ve.value.lib.content,!1):W&&Pe("",!0)}function Be(Ie){ee.value=null,ne.value=!1,Ie==="lib"?Te():(G.value==="lib"&&(pe.value="",ve.value.lib=null),we(Ie)),oe.value&&Ie!=="lib"&&setTimeout(()=>{Ye()},500)}async function Ae(){if(G.value==="lib")return await $e();if(be.value?.modified)try{const De=new TclLinter().lint(be.value.content);let ot;try{ot=await dserv.essCommand(`ess::validate_script_minimal {${be.value.content}}`)}catch(st){console.warn("Backend validation unavailable for save:",st)}if(ee.value=De,!De.isValid){const st=De.errors.filter(et=>et.message.includes("syntax")||et.message.includes("brace")||et.message.includes("quote"));if(st.length>0&&!await new Promise(nt=>{Modal.confirm({title:"Syntax Errors Detected",content:`This script has ${st.length} syntax error(s). Saving may cause issues when the system loads this script.`,okText:"Save Anyway",okType:"danger",cancelText:"Fix Errors First",onOk:()=>nt(!0),onCancel:()=>nt(!1)})})){ne.value=!0;return}}await Ue()}catch(Ie){console.error("Save with error handling failed:",Ie),api$1.error(`Failed to save script: ${Ie.message}`)}}function ze(Ie=""){if(!W){console.log(`[${Ie}] No editor view`);return}const De=W.state.field(historyField,!1);if(!De){console.log(`[${Ie}] No history state`);return}const ot=be.value;console.log(`[${Ie}] History debug:`,{scriptName:ot?.name,doneLength:De.done.length,undoneLength:De.undone.length,canUndo:se.value,canRedo:ce.value,modified:ot?.modified,unchangedDepth:ot?.unchangedHistoryDepth,doneEntries:De.done.map((st,et)=>({index:et,hasChanges:st.changes?st.changes.length:0}))})}function We(){if(!W)return;const Ie=W.state.field(historyField,!1);if(Ie){const De=Ie.done.length,ot=Ie.undone.length,st=De>0,et=ot>0,nt=De,it=be.value;if(it){const ct=it.modified,pt=W.state.doc.toString(),ht=pt===it.originalContent;ht?(it.modified=!1,se.value=!1,console.log(`Content matches original - marking ${it.name} as unmodified and blocking undo`)):nt===it.unchangedHistoryDepth?(it.modified=!1,se.value=st,console.log(`History depth matches unchanged depth - marking ${it.name} as unmodified`)):(it.modified=!0,se.value=st),ce.value=et,console.log(`updateUndoRedoState: ${it.name}:`,{wasModified:ct,nowModified:it.modified,currentDepth:nt,unchangedDepth:it.unchangedHistoryDepth,cmCanUndo:st,cmCanRedo:et,finalCanUndo:se.value,finalCanRedo:ce.value,doneLength:De,undoneLength:ot,isBackToOriginalContent:ht,currentContentLength:pt.length,originalContentLength:it.originalContent?it.originalContent.length:0})}else se.value=st,ce.value=et}else se.value=!1,ce.value=!1,console.warn("No history state available in updateUndoRedoState")}function Le(){if(W&&se.value){console.log("undoEdit called");const Ie=W.state.doc.toString(),De=be.value;if(De&&Ie===De.originalContent)return console.log("Already at original content - undo blocked"),!1;const ot=undo(W);return nextTick(()=>{We(),ze("after undoEdit")}),ot}return!1}function Ze(){if(W&&ce.value){console.log("redoEdit called");const Ie=redo(W);return nextTick(()=>{We(),ze("after redoEdit")}),Ie}return!1}async function Ye(){if(be.value?.content){te.value=!0;try{const De=new TclLinter().lint(be.value.content);if(ee.value=De,ne.value=De.errors.length>0||De.warnings.length>0,De.isValid)try{const ot=await dserv.essCommand(`ess::validate_script_minimal {${be.value.content}}`);console.log("Backend validation result:",ot),ot&&typeof ot=="string"&&ot.includes("valid 0")&&(ee.value.errors.push({line:0,column:0,message:"Backend syntax validation failed",severity:"error"}),ee.value.isValid=!1,console.error("Backend validation details:",ot))}catch(ot){console.log("Backend validation unavailable:",ot.message)}}catch(Ie){console.error("Validation error:",Ie),ee.value={isValid:!1,errors:[{line:0,column:0,message:"Validation failed: "+Ie.message,severity:"error"}],warnings:[],summary:"Validation error"}}finally{te.value=!1}}}async function Re(){const Ie={};for(const et of ye)if(et.type==="script"&&ve.value[et.name]?.content){const nt=new TclLinter;Ie[et.name]=nt.lint(ve.value[et.name].content)}if(ve.value.lib?.content){const et=new TclLinter;Ie[`lib:${pe.value}`]=et.lint(ve.value.lib.content)}const De=Object.values(Ie).every(et=>et.isValid),ot=Object.values(Ie).reduce((et,nt)=>et+nt.errors.length,0),st=Object.values(Ie).reduce((et,nt)=>et+nt.warnings.length,0);if(De&&st===0)api$1.success("All scripts are valid!");else if(De)api$1.info(`All scripts are syntactically valid but have ${st} warning(s)`);else{const et=[];ot>0&&et.push(`${ot} error(s)`),st>0&&et.push(`${st} warning(s)`),api$1.warning(`Validation complete: ${et.join(", ")} found across all scripts`)}console.log("Validation results for all scripts:",Ie)}function Ke(Ie){if(!(!W||!Ie.line))try{const ot=W.state.doc.line(Ie.line).from+(Ie.column||0);W.dispatch({selection:{anchor:ot},effects:EditorView.scrollIntoView(ot,{y:"center"})}),W.focus()}catch(De){console.error("Failed to jump to error:",De)}}function we(Ie){G.value=Ie;const De=ve.value[Ie]?.content||"";W&&(W.destroy(),qe(De),nextTick(()=>{ve.value[Ie]&&W&&W.state.field(historyField,!1)&&(ve.value[Ie].unchangedHistoryDepth=0,console.log(`switchScript: Set ${Ie} unchangedDepth=0, preserving modified=${ve.value[Ie].modified}`)),We(),ze("after switchScript")}))}async function _e(Ie){try{G.value==="lib"&&pe.value?(await dserv.essCommand(`ess::restore_lib_backup {${pe.value}} {${Ie}}`),await Ne(pe.value)):(await dserv.essCommand(`ess::restore_script_backup ${G.value} {${Ie}}`),Oe()),api$1.success("Script restored from backup"),re.value=!1}catch(De){console.error("Failed to restore backup:",De),api$1.error(`Failed to restore backup: ${De.message}`)}}async function Ve(Ie){if(Ie!==de.value){Q.value=!0;try{console.log(`Switching to branch: ${Ie}`),await dserv.gitSwitchBranch(Ie),console.log(`Successfully switched to branch: ${Ie}`),Se.value=!1,setTimeout(()=>{Oe(),xe()},500)}catch(De){console.error(`Failed to switch to branch ${Ie}:`,De),Qe()}finally{Q.value=!1}}}function je(){qe(be.value?.content||"")}function qe(Ie=""){if(!K.value)return;const De={key:"Ctrl-s",run:()=>(Ae(),!0)},ot={key:"Ctrl-/",run:lt=>(__vitePreload(async()=>{const{openSearchPanel:dt}=await Promise.resolve().then(()=>index);return{openSearchPanel:dt}},void 0).then(({openSearchPanel:dt})=>{dt(lt)}),!0)},st={key:"Ctrl-Shift-f",run:()=>(ke(),!0)},et={key:"Ctrl-Shift-v",run:()=>(Ye(),!0)},nt={key:"Ctrl-z",run:lt=>{console.log("Undo command triggered");const dt=lt.state.doc.toString(),ft=be.value;if(ft&&dt===ft.originalContent)return console.log("Already at original content - undo blocked"),!0;const gt=undo(lt);return nextTick(()=>{We(),ze("after undo command")}),gt}},it={key:"Ctrl-y",run:lt=>{console.log("Redo command triggered");const dt=redo(lt);return nextTick(()=>{We(),ze("after redo command")}),dt}},ct={key:"Ctrl-Shift-z",run:lt=>{console.log("Redo alt command triggered");const dt=redo(lt);return nextTick(()=>{We(),ze("after redo alt command")}),dt}},pt=[{key:"Ctrl-a",run:cursorLineStart},{key:"Ctrl-e",run:cursorLineEnd},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Alt-<",run:cursorDocStart},{key:"Alt->",run:cursorDocEnd},{key:"Enter",run:lt=>Je(lt)},{key:"Tab",run:Fe},{key:"Shift-Tab",run:indentLess},st,ot],ht=[{key:"Enter",run:lt=>Je(lt)},{key:"Tab",run:Fe},st,{key:"Shift-Tab",run:indentLess}],Ge=U.value==="emacs"?pt:ht,Xe=U.value==="emacs"?[]:searchKeymap,rt=[...Ge,...Xe,De,et,nt,it,ct],at=EditorState.create({doc:Ie,extensions:[basicSetup,history$1(),StreamLanguage.define(tcl),oneDark,lineNumbers(),search(),highlightSelectionMatches(),EditorState.tabSize.of(4),EditorView.lineWrapping,keymap.of(rt),EditorView.updateListener.of(lt=>{if(lt.docChanged&&!Z.value){const dt=lt.state.doc.toString();G.value==="lib"&&ve.value.lib?(ve.value.lib.content=dt,ve.value.lib.modified=!0,console.log(`Content changed in lib file ${pe.value}, marking as modified`)):ve.value[G.value]&&(ve.value[G.value].content=dt,ve.value[G.value].modified=!0,console.log(`Content changed in ${G.value}, marking as modified`)),setTimeout(()=>{We(),ze("after content change")},0)}if(lt.docChanged&&setTimeout(()=>{We()},0),lt.docChanged)try{let dt=!1,ft=-1;lt.changes.iterChanges((gt,ut,mt,vt,yt)=>{const bt=yt.toString();bt.includes(`
`)&&(dt=!0,ft=mt+bt.indexOf(`
`)+1)}),dt&&ft>0&&setTimeout(()=>{try{const gt=lt.view,ut=gt.state,mt=ut.doc.lineAt(ft);if(mt.text.trim()===""){const vt=ut.doc.toString(),yt=TclFormatter.splitLines(vt),bt=mt.number-1,St=TclFormatter.calculateLineIndent(yt,bt,4);if(St>0){const $t=" ".repeat(St);Z.value=!0,gt.dispatch({changes:{from:mt.from,to:mt.to,insert:$t},selection:EditorSelection.cursor(mt.from+St)}),nextTick(()=>{Z.value=!1})}}}catch(gt){console.error("Error in auto-indent:",gt)}},10)}catch(dt){console.error("Error in update listener:",dt)}}),EditorView.theme({"&":{height:"100%"},".cm-scroller":{fontFamily:'Monaco, Menlo, "Ubuntu Mono", monospace',fontSize:"12px"},".cm-focused":{outline:"none"},".cm-search":{backgroundColor:"#2d3748",border:"1px solid #4a5568",borderRadius:"4px"},".cm-search input":{backgroundColor:"#1a202c",color:"#e2e8f0",border:"1px solid #4a5568",borderRadius:"2px"},".cm-search button":{backgroundColor:"#4a5568",color:"#e2e8f0",border:"1px solid #4a5568",borderRadius:"2px"},".cm-search button:hover":{backgroundColor:"#718096"}})]});W=new EditorView({state:at,parent:K.value}),nextTick(()=>{const lt=be.value;lt&&(lt.unchangedHistoryDepth=0,console.log(`createEditorWithContent: Initialized ${G.value} with unchangedDepth=0`)),We(),ze("after createEditorWithContent")})}function Pe(Ie,De=!1){if(!W)return;W.state.doc.toString()!==Ie&&(Z.value=!0,De?(W.dom.parentNode,W.destroy(),qe(Ie)):W.dispatch({changes:{from:0,to:W.state.doc.length,insert:Ie}}),nextTick(()=>{Z.value=!1;const st=be.value;if(st&&W){const et=W.state.field(historyField,!1);if(et){const nt=et.done.length;De?(st.unchangedHistoryDepth=0,st.modified=!1,console.log(`updateEditorContent: Cleared history for ${st.name||st.filename}, unchangedDepth=0, modified=false`)):(st.unchangedHistoryDepth=nt,st.modified=!1,console.log(`updateEditorContent: Set ${st.name||st.filename} unchangedDepth=${nt}, modified=false`))}}We(),ze("after updateEditorContent")}))}function ke(){if(be.value?.content)try{const Ie=TclFormatter.formatTclCode(be.value.content,4);G.value==="lib"&&ve.value.lib?(ve.value.lib.content=Ie,ve.value.lib.modified=!0):(ve.value[G.value].content=Ie,ve.value[G.value].modified=!0),Pe(Ie)}catch(Ie){console.error("Error formatting script:",Ie);const De=be.value.content.split(`
`);let ot=0;const st=[];for(let nt of De){const it=nt.trim();if(!it){st.push("");continue}it.startsWith("}")&&(ot=Math.max(0,ot-1)),st.push("    ".repeat(ot)+it),it.endsWith("{")&&ot++}const et=st.join(`
`);G.value==="lib"&&ve.value.lib?(ve.value.lib.content=et,ve.value.lib.modified=!0):(ve.value[G.value].content=et,ve.value[G.value].modified=!0),Pe(et)}}async function Ue(){if(be.value?.modified){X.value=!0;try{const Ie=be.value.content,De=`ess::save_script ${G.value} {${Ie}}`;if(console.log(`Saving ${G.value} script...`),await dserv.essCommand(De),ve.value[G.value].modified=!1,ve.value[G.value].originalContent=Ie,W){const ot=W.state.field(historyField,!1);ot&&(ve.value[G.value].unchangedHistoryDepth=ot.done.length,console.log(`saveScript: Set ${G.value} unchangedDepth=${ot.done.length}, updated originalContent`))}console.log(`${G.value} script saved successfully`),ee.value=null,ne.value=!1,We(),ze("after saveScript")}catch(Ie){console.error(`Failed to save ${G.value} script:`,Ie)}finally{X.value=!1}}}async function He(){Q.value=!0;try{console.log("Pulling scripts from git..."),await dserv.gitCommand("git::pull"),console.log("Git pull completed successfully"),Se.value=!1,setTimeout(()=>{Oe(),xe()},500)}catch(Ie){console.error("Failed to pull scripts:",Ie)}finally{Q.value=!1}}async function Me(){Q.value=!0;try{console.log("Committing and pushing scripts to git..."),await dserv.gitCommand("git::commit_and_push"),console.log("Git push completed successfully"),Se.value=!1}catch(Ie){console.error("Failed to push scripts:",Ie)}finally{Q.value=!1}}function Je(Ie){console.log("=== autoIndentNewline called ===");const De=Ie.state,ot=De.selection.main,st=De.doc.lineAt(ot.head);console.log("Current line:",st.text),console.log("Cursor position:",ot.head);const et=De.doc.toString(),nt=TclFormatter.splitLines(et),it=st.number-1;console.log("Current line number:",it);try{const ct=TclFormatter.calculateLineIndent(nt,it+1,4);console.log("Calculated next line indent:",ct);const ht=`
`+" ".repeat(ct);return console.log("Inserting newline with indent:",JSON.stringify(ht)),Ie.dispatch({changes:{from:ot.head,insert:ht},selection:{anchor:ot.head+ht.length}}),console.log("Auto-indent completed successfully"),!0}catch(ct){console.error("Error in auto-indent:",ct),console.log("Using fallback auto-indent");const ht=`
`+st.text.match(/^\s*/)[0];return Ie.dispatch({changes:{from:ot.head,insert:ht},selection:{anchor:ot.head+ht.length}}),!0}}function Fe(Ie){const De=Ie.state,ot=De.selection.main,st=De.doc.lineAt(ot.head),et=De.doc.toString(),nt=TclFormatter.splitLines(et),it=st.number-1;try{const ct=TclFormatter.calculateLineIndent(nt,it,4),ht=st.text.match(/^(\s*)/),Ge=ht?ht[1].length:0,Xe=st.from,rt=Xe+Ge,at=" ".repeat(ct);return Ie.dispatch({changes:{from:Xe,to:rt,insert:at},selection:{anchor:Xe+ct}}),!0}catch(ct){return console.error("Error in smart tab:",ct),Ie.dispatch({changes:{from:ot.head,insert:"    "},selection:{anchor:ot.head+4}}),!0}}onMounted(()=>{console.log("Scripts component mounted");const Ie=dserv.registerComponent("Scripts");dserv.on("datapoint:ess/git/branches",De=>{console.log("Received git branches:",De.data),De.data&&(le.value=De.data.trim().split(/\s+/).filter(ot=>ot.length>0),console.log("Available branches:",le.value))},"Scripts"),dserv.on("datapoint:ess/git/branch",De=>{console.log("Received current git branch:",De.data),de.value=De.data||""},"Scripts"),dserv.on("datapoint:ess/system_script",De=>{console.log("Received system script data"),ve.value.system.content=De.data,ve.value.system.originalContent=De.data,ve.value.system.loaded=!0,ve.value.system.unchangedHistoryDepth=0,ve.value.system.modified=!1,G.value==="system"&&Pe(De.data,!0)},"Scripts"),dserv.on("datapoint:ess/protocol_script",De=>{console.log("Received protocol script data"),ve.value.protocol.content=De.data,ve.value.protocol.originalContent=De.data,ve.value.protocol.loaded=!0,ve.value.protocol.unchangedHistoryDepth=0,ve.value.protocol.modified=!1,G.value==="protocol"&&Pe(De.data,!0)},"Scripts"),dserv.on("datapoint:ess/loaders_script",De=>{console.log("Received loaders script data"),ve.value.loaders.content=De.data,ve.value.loaders.originalContent=De.data,ve.value.loaders.loaded=!0,ve.value.loaders.unchangedHistoryDepth=0,ve.value.loaders.modified=!1,G.value==="loaders"&&Pe(De.data,!0)},"Scripts"),dserv.on("datapoint:ess/variants_script",De=>{console.log("Received variants script data"),ve.value.variants.content=De.data,ve.value.variants.originalContent=De.data,ve.value.variants.loaded=!0,ve.value.variants.unchangedHistoryDepth=0,ve.value.variants.modified=!1,G.value==="variants"&&Pe(De.data,!0)},"Scripts"),dserv.on("datapoint:ess/stim_script",De=>{console.log("Received stim script data"),ve.value.stim.content=De.data,ve.value.stim.originalContent=De.data,ve.value.stim.loaded=!0,ve.value.stim.unchangedHistoryDepth=0,ve.value.stim.modified=!1,G.value==="stim"&&Pe(De.data,!0)},"Scripts"),dserv.on("connection",({connected:De})=>{De&&(console.log("Connected - requesting script and git data"),Oe(),Qe(),xe())},"Scripts"),dserv.on("initialized",()=>{console.log("dserv initialized - requesting script and git data"),Oe(),Qe(),xe()},"Scripts"),nextTick(()=>{je()}),dserv.state.connected&&(console.log("Already connected - requesting script and git data"),setTimeout(()=>{Oe(),Qe(),xe()},100)),onUnmounted(()=>{Ie(),W&&W.destroy()})});function Oe(){try{console.log("Touching script variables..."),dserv.essCommand("dservTouch ess/system_script"),dserv.essCommand("dservTouch ess/protocol_script"),dserv.essCommand("dservTouch ess/loaders_script"),dserv.essCommand("dservTouch ess/variants_script"),dserv.essCommand("dservTouch ess/stim_script")}catch(Ie){console.error("Failed to request script data:",Ie)}}function Qe(){try{console.log("Touching git variables..."),dserv.essCommand("dservTouch ess/git/branches"),dserv.essCommand("dservTouch ess/git/branch")}catch(Ie){console.error("Failed to request git data:",Ie)}}return typeof window<"u"&&(window.debugHistory=()=>ze("manual check"),window.debugScriptState=()=>{const Ie=be.value;console.log("Current script state:",{name:Ie?.name||Ie?.filename,modified:Ie?.modified,unchangedDepth:Ie?.unchangedHistoryDepth,canUndo:se.value,canRedo:ce.value,hasEditor:!!W,isLibMode:he.value,selectedLibFile:pe.value})}),(Ie,De)=>{const ot=SelectOption,st=Select,et=Button$1,nt=__unplugin_components_3$3,it=Checkbox,ct=__unplugin_components_5,pt=__unplugin_components_6$1,ht=Menu,Ge=Dropdown,Xe=Modal,rt=Input;return openBlock(),createElementBlock("div",_hoisted_1$h,[createBaseVNode("div",_hoisted_2$b,[createBaseVNode("div",_hoisted_3$a,[createVNode(st,{value:G.value,"onUpdate:value":De[0]||(De[0]=at=>G.value=at),size:"small",style:{width:"100px"},onChange:De[1]||(De[1]=at=>Be(at))},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(ye,at=>createVNode(ot,{key:at.name,value:at.name},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$a,[createBaseVNode("span",null,toDisplayString(at.name==="system"?"System":at.name==="protocol"?"Protocol":at.name==="loaders"?"Loaders":at.name==="variants"?"Variants":at.name==="stim"?"Stim":at.name==="lib"?"Libs":at.label),1),createBaseVNode("div",_hoisted_5$a,[at.type==="script"&&ve.value[at.name]?.modified?(openBlock(),createElementBlock("span",_hoisted_6$9)):createCommentVNode("",!0),at.type==="library"&&ve.value.lib?.modified?(openBlock(),createElementBlock("span",_hoisted_7$9)):createCommentVNode("",!0),G.value===at.name&&ee.value&&!ee.value.isValid?(openBlock(),createElementBlock("span",_hoisted_8$9)):createCommentVNode("",!0)])])]),_:2},1032,["value"])),64))]),_:1},8,["value"]),he.value?(openBlock(),createElementBlock("div",_hoisted_9$9,[createVNode(st,{value:pe.value,"onUpdate:value":De[2]||(De[2]=at=>pe.value=at),size:"small",style:{width:"140px"},placeholder:"Select .tm file",onChange:Ne,loading:me.value,allowClear:""},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(fe.value,at=>(openBlock(),createBlock(ot,{key:at,value:at},{default:withCtx(()=>[createBaseVNode("div",_hoisted_10$8,[createBaseVNode("span",null,toDisplayString(at.replace(".tm","")),1),pe.value===at&&ve.value.lib?.modified?(openBlock(),createElementBlock("span",_hoisted_11$8)):createCommentVNode("",!0)])]),_:2},1032,["value"]))),128))]),_:1},8,["value","loading"]),createVNode(nt,{title:"Refresh lib files"},{default:withCtx(()=>[createVNode(et,{size:"small",onClick:xe,loading:me.value,icon:h$1(unref(ReloadOutlined)),style:{width:"28px",height:"22px"}},null,8,["loading","icon"])]),_:1}),createVNode(nt,{title:"Create new lib file"},{default:withCtx(()=>[createVNode(et,{size:"small",onClick:De[3]||(De[3]=at=>ue.value=!0),icon:h$1(unref(PlusOutlined)),style:{width:"28px",height:"22px"}},null,8,["icon"])]),_:1})])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_12$7,[createVNode(nt,{title:"Validate (Ctrl+Shift+V)"},{default:withCtx(()=>[createVNode(et,{size:"small",onClick:Ye,loading:te.value,icon:h$1(unref(CheckCircleOutlined)),type:ee.value&&!ee.value.isValid?"danger":"default",style:{width:"28px",height:"22px"}},null,8,["loading","icon","type"])]),_:1}),createVNode(nt,{title:"Auto-validate"},{default:withCtx(()=>[createVNode(it,{checked:oe.value,"onUpdate:checked":De[4]||(De[4]=at=>oe.value=at),size:"small",style:{transform:"scale(0.85)"}},null,8,["checked"])]),_:1}),createVNode(nt,{title:"Undo (Ctrl+Z)"},{default:withCtx(()=>[createVNode(et,{size:"small",onClick:Le,disabled:!se.value,icon:h$1(unref(UndoOutlined)),style:{width:"28px",height:"22px"}},null,8,["disabled","icon"])]),_:1}),createVNode(nt,{title:"Redo (Ctrl+Y)"},{default:withCtx(()=>[createVNode(et,{size:"small",onClick:Ze,disabled:!ce.value,icon:h$1(unref(RedoOutlined)),style:{width:"28px",height:"22px"}},null,8,["disabled","icon"])]),_:1}),createVNode(nt,{title:"Format (Ctrl+Shift+F)"},{default:withCtx(()=>[createVNode(et,{size:"small",onClick:ke,disabled:!be.value?.content,icon:h$1(unref(FormatPainterOutlined)),style:{width:"28px",height:"22px"}},null,8,["disabled","icon"])]),_:1}),createVNode(nt,{title:"Save (Ctrl+S)"},{default:withCtx(()=>[createVNode(et,{type:"primary",size:"small",onClick:Ae,loading:X.value,disabled:!be.value?.modified,icon:h$1(unref(SaveOutlined)),style:{width:"28px",height:"22px"}},null,8,["loading","disabled","icon"])]),_:1}),createVNode(nt,{title:"Pull"},{default:withCtx(()=>[createVNode(et,{size:"small",onClick:He,loading:Q.value,icon:h$1(unref(DownloadOutlined)),style:{width:"28px",height:"22px"}},null,8,["loading","icon"])]),_:1}),createVNode(nt,{title:"Push"},{default:withCtx(()=>[createVNode(et,{size:"small",onClick:Me,loading:Q.value,disabled:Q.value,icon:h$1(unref(UploadOutlined)),style:{width:"28px",height:"22px"}},null,8,["loading","disabled","icon"])]),_:1}),createVNode(st,{value:de.value,"onUpdate:value":De[5]||(De[5]=at=>de.value=at),size:"small",style:{width:"80px"},loading:Q.value,onChange:Ve,disabled:Q.value,placeholder:"Branch"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(le.value,at=>(openBlock(),createBlock(ot,{key:at,value:at},{default:withCtx(()=>[createTextVNode(toDisplayString(at),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","loading","disabled"]),createVNode(Ge,null,{overlay:withCtx(()=>[createVNode(ht,null,{default:withCtx(()=>[createVNode(ct,{key:"backups",onClick:De[6]||(De[6]=at=>re.value=!0)},{default:withCtx(()=>[createVNode(unref(HistoryOutlined)),De[14]||(De[14]=createTextVNode(" View Backups "))]),_:1,__:[14]}),createVNode(ct,{key:"validate-all",onClick:Re},{default:withCtx(()=>[createVNode(unref(CheckCircleOutlined)),De[15]||(De[15]=createTextVNode(" Validate All Scripts "))]),_:1,__:[15]}),createVNode(pt),createVNode(ct,{key:"debug-mode",onClick:De[7]||(De[7]=at=>ae.value=!ae.value)},{default:withCtx(()=>[createVNode(unref(BugOutlined)),createTextVNode(" "+toDisplayString(ae.value?"Hide":"Show")+" Debug Mode ",1)]),_:1})]),_:1})]),default:withCtx(()=>[createVNode(et,{size:"small",style:{width:"28px",height:"22px"}},{default:withCtx(()=>[createVNode(unref(EllipsisOutlined))]),_:1})]),_:1})])]),createBaseVNode("div",{ref_key:"editorContainer",ref:K,style:{flex:"1",overflow:"hidden",background:"#1e1e1e"}},null,512),ne.value&&ee.value?(openBlock(),createElementBlock("div",_hoisted_13$7,[createBaseVNode("div",_hoisted_14$4,[createBaseVNode("div",_hoisted_15$4," Validation Results: "+toDisplayString(ee.value.summary),1),createBaseVNode("div",_hoisted_16$4,[createVNode(et,{size:"small",onClick:Ye,loading:te.value,style:{height:"24px"}},{default:withCtx(()=>De[16]||(De[16]=[createTextVNode(" Re-validate ")])),_:1,__:[16]},8,["loading"]),createVNode(et,{size:"small",onClick:De[8]||(De[8]=at=>ne.value=!1),style:{height:"24px"}},{default:withCtx(()=>De[17]||(De[17]=[createTextVNode(" Hide ")])),_:1,__:[17]})])]),ae.value?(openBlock(),createElementBlock("div",_hoisted_17$4,[createVNode(BackupDebugger)])):createCommentVNode("",!0),ee.value.errors.length>0?(openBlock(),createElementBlock("div",_hoisted_18$4,[createBaseVNode("div",_hoisted_19$4," Errors ("+toDisplayString(ee.value.errors.length)+") ",1),(openBlock(!0),createElementBlock(Fragment,null,renderList(ee.value.errors,at=>(openBlock(),createElementBlock("div",{key:`error-${at.line}-${at.column}`,style:{"font-size":"11px","margin-bottom":"2px",cursor:"pointer",padding:"2px 4px","border-radius":"2px"},class:"validation-item error-item",onClick:lt=>Ke(at)},[De[18]||(De[18]=createBaseVNode("span",{style:{color:"#ff4d4f"}},"",-1)),createTextVNode(" Line "+toDisplayString(at.line)+": "+toDisplayString(at.message),1)],8,_hoisted_20$4))),128))])):createCommentVNode("",!0),ee.value.warnings.length>0?(openBlock(),createElementBlock("div",_hoisted_21$4,[createBaseVNode("div",_hoisted_22$4," Warnings ("+toDisplayString(ee.value.warnings.length)+") ",1),(openBlock(!0),createElementBlock(Fragment,null,renderList(ee.value.warnings,at=>(openBlock(),createElementBlock("div",{key:`warning-${at.line}-${at.column}`,style:{"font-size":"11px","margin-bottom":"2px",cursor:"pointer",padding:"2px 4px","border-radius":"2px"},class:"validation-item warning-item",onClick:lt=>Ke(at)},[De[19]||(De[19]=createBaseVNode("span",{style:{color:"#faad14"}},"",-1)),createTextVNode(" Line "+toDisplayString(at.line)+": "+toDisplayString(at.message),1)],8,_hoisted_23$3))),128))])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_24$3,[createBaseVNode("div",_hoisted_25$3,[G.value==="lib"&&pe.value?(openBlock(),createElementBlock("span",_hoisted_26$3,toDisplayString(pe.value.toUpperCase())+" (Lib) ",1)):G.value==="lib"?(openBlock(),createElementBlock("span",_hoisted_27$3," LIB FILES (No file selected) ")):(openBlock(),createElementBlock("span",_hoisted_28$3,toDisplayString(be.value?.name?.toUpperCase())+" Script ",1)),be.value?.modified?(openBlock(),createElementBlock("span",_hoisted_29$3,"Modified")):createCommentVNode("",!0),ee.value?(openBlock(),createElementBlock(Fragment,{key:4},[ee.value.isValid?ee.value.warnings.length>0?(openBlock(),createElementBlock("span",_hoisted_31$3,toDisplayString(ee.value.warnings.length)+" warning(s) ",1)):(openBlock(),createElementBlock("span",_hoisted_32$3,"  Valid ")):(openBlock(),createElementBlock("span",_hoisted_30$3,toDisplayString(ee.value.errors.length)+" error(s) ",1)),ae.value?(openBlock(),createElementBlock("span",_hoisted_33$3," Debug")):createCommentVNode("",!0)],64)):createCommentVNode("",!0),De[20]||(De[20]=createBaseVNode("span",null,"Tcl",-1)),de.value?(openBlock(),createElementBlock("span",_hoisted_34$3,toDisplayString(de.value),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_35$3,[createBaseVNode("span",null,toDisplayString(U.value==="emacs"?"Emacs Bindings":"Default Bindings"),1),createBaseVNode("span",null,"Ctrl+S: Save | Ctrl+Z: Undo | Ctrl+Y: Redo | Ctrl+Shift+V: Validate | "+toDisplayString(U.value==="emacs"?"Ctrl+/: Search":"Ctrl+F: Search"),1)])]),createVNode(Xe,{open:re.value,"onUpdate:open":De[10]||(De[10]=at=>re.value=at),title:"Script Backups",width:"600px",footer:null},{default:withCtx(()=>[createVNode(BackupManager,{"script-type":G.value,onRestore:_e,onClose:De[9]||(De[9]=at=>re.value=!1)},null,8,["script-type"])]),_:1},8,["open"]),createVNode(Xe,{open:ue.value,"onUpdate:open":De[13]||(De[13]=at=>ue.value=at),title:"Create New Lib File",width:"400px"},{footer:withCtx(()=>[createVNode(et,{onClick:De[12]||(De[12]=at=>ue.value=!1)},{default:withCtx(()=>De[22]||(De[22]=[createTextVNode("Cancel")])),_:1,__:[22]}),createVNode(et,{type:"primary",onClick:Ee,disabled:!ge.value.trim()},{default:withCtx(()=>De[23]||(De[23]=[createTextVNode(" Create ")])),_:1,__:[23]},8,["disabled"])]),default:withCtx(()=>[createBaseVNode("div",_hoisted_36$3,[createVNode(rt,{value:ge.value,"onUpdate:value":De[11]||(De[11]=at=>ge.value=at),placeholder:"Enter filename (e.g., mymodule.tm)",onKeyup:withKeys(Ee,["enter"]),style:{width:"100%"}},null,8,["value"]),De[21]||(De[21]=createBaseVNode("div",{style:{"margin-top":"8px","font-size":"12px",color:"#666"}}," File will be created in the lib/ directory. Extension .tm will be added if not provided. ",-1))])]),_:1},8,["open"])])}}},Scripts=_export_sfc(_sfc_main$k,[["__scopeId","data-v-3c5b2f65"]]),_hoisted_1$g={style:{height:"100%",display:"flex","flex-direction":"column",overflow:"hidden"}},_hoisted_2$a={style:{"flex-shrink":"0",padding:"8px","border-bottom":"1px solid #e8e8e8",display:"flex","justify-content":"space-between","align-items":"center"}},_hoisted_3$9={style:{"font-size":"12px",color:"#666"}},_hoisted_4$9={key:0,style:{"margin-left":"12px"}},_hoisted_5$9={key:1,style:{"margin-left":"12px"}},_hoisted_6$8={key:2,style:{"margin-left":"12px"}},_hoisted_7$8={style:{display:"flex","align-items":"center",gap:"8px"}},_hoisted_8$8=["transform"],_hoisted_9$8={class:"edges"},_hoisted_10$7=["d","stroke","stroke-width","stroke-dasharray"],_hoisted_11$7=["x","y"],_hoisted_12$6={class:"nodes"},_hoisted_13$6=["transform","onClick"],_hoisted_14$3=["width","height","fill","stroke","stroke-width","stroke-dasharray"],_hoisted_15$3=["x","y"],_hoisted_16$3=["x","y"],_hoisted_17$3=["cx"],_hoisted_18$3={key:2},_hoisted_19$3={x:"8",y:"12","text-anchor":"middle",style:{"font-size":"8px","font-weight":"bold",fill:"white","user-select":"none"}},_hoisted_20$3={key:0,style:{position:"absolute",top:"10px",right:"10px",width:"320px",background:"white",border:"1px solid #d9d9d9","border-radius":"6px","box-shadow":"0 2px 8px rgba(0,0,0,0.1)",padding:"12px","z-index":"10","max-height":"80vh","overflow-y":"auto"}},_hoisted_21$3={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"8px"}},_hoisted_22$3={style:{margin:"0","font-size":"14px"}},_hoisted_23$2={style:{"font-size":"12px",color:"#666"}},_hoisted_24$2={key:0,style:{color:"#52c41a","font-weight":"500","margin-bottom":"4px"}},_hoisted_25$2={key:1,style:{"margin-bottom":"4px"}},_hoisted_26$2={key:2,style:{"margin-bottom":"8px"}},_hoisted_27$2={style:{color:"#1890ff","font-family":"monospace"}},_hoisted_28$2={key:3,style:{"margin-bottom":"8px"}},_hoisted_29$2={style:{"margin-left":"8px"}},_hoisted_30$2={style:{color:"#1890ff","font-family":"monospace"}},_hoisted_31$2={style:{"margin-bottom":"8px"}},_hoisted_32$2={key:0,style:{color:"#999","font-style":"italic","margin-left":"8px"}},_hoisted_33$2={key:1,style:{"margin-left":"8px"}},_hoisted_34$2={style:{display:"flex","justify-content":"space-between","font-size":"11px"}},_hoisted_35$2={key:0,style:{color:"#52c41a","font-family":"monospace"}},_hoisted_36$2={key:1,style:{color:"#999","font-style":"italic","font-size":"10px"}},_sfc_main$j={__name:"StateSystemDiagram",setup(H){const K=ref([]),W=ref([]),G=ref(null),U=ref(""),X=ref(""),Q=ref(""),Z=ref(!1),ee=ref("grid"),ne=ref(new Map),te=ref(new Map),oe=ref(new Map),re=ref(""),ae=ref(0),se=ref(null),ce=ref(null),de=ref(null),le=ref({x:0,y:0,scale:1}),fe=ref(!1),pe=ref({x:0,y:0}),me=computed(()=>{let He=0;for(const Me of ne.value.values())He+=Me;return He}),ue=computed(()=>{let He=0;for(const Me of te.value.values())He+=Me.count;return He});onMounted(()=>{console.log("StateSystemDiagram component mounted");const He=dserv.registerComponent("StateSystemDiagram",{subscriptions:[{pattern:"ess/state_table",every:1},{pattern:"ess/action_state",every:1},{pattern:"ess/transition_state",every:1},{pattern:"ess/state",every:1},{pattern:"ess/reset",every:1}]});dserv.on("datapoint:ess/state_table",Me=>{console.log("Received state table:",Me.data),$e(Me.data)}),dserv.on("datapoint:ess/action_state",Me=>{X.value=Me.data,Be()}),dserv.on("datapoint:ess/transition_state",Me=>{Q.value=Me.data,Be()}),dserv.on("datapoint:ess/state",Me=>{console.log("System state changed to:",Me.data),Me.data==="Stopped"&&(X.value="",Q.value="",U.value="",Be())}),dserv.on("datapoint:ess/reset",()=>{console.log("Reset received, clearing visit counters and timing data"),Ne()}),dserv.on("systemState",({loading:Me})=>{Me&&(console.log("System loading, clearing state diagram"),K.value=[],W.value=[],G.value=null,U.value="",X.value="",Q.value="",Ne())}),nextTick(()=>{if(console.log("Checking for existing state table..."),dserv.state.connected)try{dserv.essCommand("catch {dservTouch ess/state_table}"),dserv.essCommand("catch {dservTouch ess/action_state}"),dserv.essCommand("catch {dservTouch ess/transition_state}"),dserv.essCommand("catch {dservTouch ess/state}")}catch(Me){console.log("Could not touch datapoints (system may not be loaded):",Me)}}),onUnmounted(He)});function ge(He){return ne.value.get(He)||0}function he(He){const Me=[];for(const[Je,Fe]of te.value.entries())Je.endsWith(`->${He}`)&&Me.push({from:Je.split("->")[0],average:Fe.average/1e3,count:Fe.count});return Me.sort((Je,Fe)=>Je.from.localeCompare(Fe.from))}function ve(He){const Me=[];for(const[Je,Fe]of te.value.entries())Je.startsWith(`${He}->`)&&Me.push({to:Je.split("->")[1],average:Fe.average/1e3,count:Fe.count});return Me.sort((Je,Fe)=>Je.to.localeCompare(Fe.to))}function ye(He){const Me=ve(He);if(Me.length===0)return null;const Je=Me.reduce((Oe,Qe)=>Oe+Qe.average*Qe.count,0),Fe=Me.reduce((Oe,Qe)=>Oe+Qe.count,0);return Fe>0?Je/Fe:null}function be(He,Me){const Je=`${He}->${Me}`;return te.value.get(Je)}function Se(He){const Me=be(He.source,He.target);return!Me||Me.count===0?null:`${(Me.average/1e3).toFixed(0)}ms`}function Ce(He){const Me=be(He.source,He.target);return!Me||Me.count===0?"#d9d9d9":Me.count>=10?"#52c41a":Me.count>=5?"#faad14":"#1890ff"}function xe(He){const Me=be(He.source,He.target);return!Me||Me.count===0?1:Me.count>=10?3:Me.count>=5?2:1}function Ne(){ne.value.clear(),ne.value=new Map(ne.value),te.value.clear(),te.value=new Map(te.value),oe.value.clear(),re.value="",ae.value=0,console.log("Visit counters and timing data reset")}function $e(He){if(!He||He.trim()===""){K.value=[],W.value=[];return}try{const Me=Ee(He);console.log("Parsed state dictionary:",Me),Te(Me),nextTick(()=>{ze(),setTimeout(()=>{ke()},50)})}catch(Me){console.error("Failed to parse state table:",Me)}}function Ee(He){const Me={},Je=[];let Fe="",Oe=0;for(let Qe=0;Qe<He.length;Qe++){const Ie=He[Qe];Ie==="{"?(Oe++,Fe+=Ie):Ie==="}"?(Oe--,Fe+=Ie):Ie===" "&&Oe===0?Fe.trim()&&(Je.push(Fe.trim()),Fe=""):Fe+=Ie}Fe.trim()&&Je.push(Fe.trim());for(let Qe=0;Qe<Je.length;Qe+=2){const Ie=Je[Qe];let De=Je[Qe+1]||"";De.startsWith("{")&&De.endsWith("}")?(De=De.slice(1,-1),Me[Ie]=De?De.split(" "):[]):Me[Ie]=De?[De]:[]}return Me}function Te(He){const Me=new Map,Je=[],Fe=[];Ne(),Object.keys(He).forEach((Oe,Qe)=>{const Ie={id:Oe,label:Oe,x:0,y:0,width:Math.max(80,Oe.length*8+20),height:40,transitions:He[Oe]||[],incomingStates:[],isCurrent:!1,isSelected:!1,isStartState:Oe==="start",isEndState:Oe==="end"||(He[Oe]||[]).length===0};Je.push(Ie),Me.set(Oe,Ie)}),Object.entries(He).forEach(([Oe,Qe])=>{Qe.forEach(Ie=>{if(Me.has(Ie)){Me.get(Ie).incomingStates.push(Oe);const De={id:`${Oe}-${Ie}`,source:Oe,target:Ie,isActive:!1};Fe.push(De)}})}),K.value=Je,W.value=Fe,Be()}function Be(){let He="",Me=U.value;const Je=Date.now()*1e3;if(X.value?He=X.value.replace(/_a$/,""):Q.value&&(He=Q.value.replace(/_t$/,"")),He&&He!==Me&&X.value){const Fe=ne.value.get(He)||0;if(ne.value.set(He,Fe+1),re.value&&ae.value>0){const Oe=`${re.value}->${He}`,Qe=Je-ae.value;te.value.has(Oe)||te.value.set(Oe,{durations:[],totalTime:0,count:0,average:0});const Ie=te.value.get(Oe);Ie.durations.push(Qe),Ie.totalTime+=Qe,Ie.count+=1,Ie.average=Ie.totalTime/Ie.count,console.log(`Transition ${Oe}: ${(Qe/1e3).toFixed(1)}ms (avg: ${(Ie.average/1e3).toFixed(1)}ms)`)}re.value=He,ae.value=Je,oe.value.set(He,Je),ne.value=new Map(ne.value),te.value=new Map(te.value)}U.value=He,K.value.forEach(Fe=>{Fe.isCurrent=Fe.id===He}),W.value.forEach(Fe=>{Fe.isActive=Fe.source===He})}function Ae(He){K.value.forEach(Me=>Me.isSelected=!1),He.isSelected=!0,G.value=He}function ze(){if(K.value.length!==0){switch(ee.value){case"hierarchical":We();break;case"circular":Le();break;case"grid":Ze();break}Ye(),setTimeout(()=>{ke()},50)}}function We(){const He=[],Me=new Set,Je=new Map(K.value.map(De=>[De.id,De])),Fe=K.value.find(De=>De.isStartState)||K.value[0];function Oe(De,ot=0){if(Me.has(De))return;Me.add(De),He[ot]||(He[ot]=[]),He[ot].push(De);const st=Je.get(De);st&&st.transitions.forEach(et=>{Me.has(et)||Oe(et,ot+1)})}Oe(Fe.id);const Qe=100,Ie=120;He.forEach((De,ot)=>{const st=ot*Qe,nt=-((De.length-1)*Ie)/2;De.forEach((it,ct)=>{const pt=Je.get(it);pt&&(pt.x=nt+ct*Ie,pt.y=st)})})}function Le(){const Je=Math.max(150,K.value.length*15);K.value.forEach((Fe,Oe)=>{const Qe=Oe/K.value.length*2*Math.PI;Fe.x=0+Je*Math.cos(Qe),Fe.y=0+Je*Math.sin(Qe)})}function Ze(){const He=Math.ceil(Math.sqrt(K.value.length)),Me=120,Je=80;K.value.forEach((Fe,Oe)=>{const Qe=Math.floor(Oe/He),Ie=Oe%He;Fe.x=Ie*Me,Fe.y=Qe*Je})}function Ye(){W.value.forEach(He=>{const Me=K.value.find(Fe=>Fe.id===He.source),Je=K.value.find(Fe=>Fe.id===He.target);if(Me&&Je){const Fe=Re(Me,Je);He.path=Fe,He.labelX=(Me.x+Me.width/2+Je.x+Je.width/2)/2,He.labelY=(Me.y+Me.height/2+Je.y+Je.height/2)/2}})}function Re(He,Me){const Je=He.x+He.width/2,Fe=He.y+He.height/2,Oe=Me.x+Me.width/2,Qe=Me.y+Me.height/2;return`M ${Je} ${Fe} L ${Oe} ${Qe}`}function Ke(He){return He.path||""}function we(He){const Me=ge(He.id);return He.isCurrent?"#e6f7ff":He.isStartState?"#f6ffed":He.isEndState?"#fff2e8":Me>=20?"#fff1f0":Me>=10?"#fff7e6":Me>=5?"#fcffe6":Me>0?"#f6ffed":"#fafafa"}function _e(He){return He.isCurrent?"#1890ff":He.isSelected?"#722ed1":He.isStartState?"#52c41a":He.isEndState?"#fa8c16":"#d9d9d9"}function Ve(He){He.target===se.value&&(fe.value=!0,pe.value={x:He.clientX,y:He.clientY},se.value.style.cursor="grabbing")}function je(He){if(fe.value){const Me=He.clientX-pe.value.x,Je=He.clientY-pe.value.y;le.value.x+=Me,le.value.y+=Je,pe.value={x:He.clientX,y:He.clientY}}}function qe(){fe.value=!1,se.value.style.cursor="grab"}function Pe(He){He.preventDefault();const Me=He.deltaY>0?.9:1.1,Je=Math.max(.1,Math.min(3,le.value.scale*Me));if(Je!==le.value.scale){const Fe=se.value.getBoundingClientRect(),Oe=Fe.width/2,Qe=Fe.height/2,Ie=(Oe-le.value.x)*(Je/le.value.scale-1),De=(Qe-le.value.y)*(Je/le.value.scale-1);le.value.scale=Je,le.value.x-=Ie,le.value.y-=De}}function ke(){if(K.value.length===0)return;const He=Ue(),Me=de.value.getBoundingClientRect(),Je=(Me.width-100)/He.width,Fe=(Me.height-100)/He.height,Oe=Math.min(Je,Fe,1);le.value.scale=Oe,le.value.x=Me.width/2-He.centerX*Oe,le.value.y=Me.height/2-He.centerY*Oe}function Ue(){if(K.value.length===0)return{width:0,height:0,centerX:0,centerY:0};const He=K.value.map(ot=>ot.x),Me=K.value.map(ot=>ot.y),Je=K.value.map(ot=>ot.width),Fe=K.value.map(ot=>ot.height),Oe=Math.min(...He),Qe=Math.max(...He.map((ot,st)=>ot+Je[st])),Ie=Math.min(...Me),De=Math.max(...Me.map((ot,st)=>ot+Fe[st]));return{width:Qe-Oe,height:De-Ie,centerX:(Oe+Qe)/2,centerY:(Ie+De)/2}}return(He,Me)=>{const Je=Spin,Fe=SelectOption,Oe=Select,Qe=Button$1;return openBlock(),createElementBlock("div",_hoisted_1$g,[createBaseVNode("div",_hoisted_2$a,[createBaseVNode("div",_hoisted_3$9,[Z.value?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(Je,{size:"small",style:{"margin-right":"8px"}}),Me[2]||(Me[2]=createTextVNode(" Loading state diagram... "))],64)):K.value.length>0?(openBlock(),createElementBlock(Fragment,{key:1},[createBaseVNode("strong",null,toDisplayString(K.value.length),1),Me[6]||(Me[6]=createTextVNode(" states ")),U.value?(openBlock(),createElementBlock("span",_hoisted_4$9,[Me[3]||(Me[3]=createBaseVNode("strong",null,"Current:",-1)),createTextVNode(" "+toDisplayString(U.value),1)])):createCommentVNode("",!0),me.value>0?(openBlock(),createElementBlock("span",_hoisted_5$9,[Me[4]||(Me[4]=createBaseVNode("strong",null,"Total visits:",-1)),createTextVNode(" "+toDisplayString(me.value),1)])):createCommentVNode("",!0),ue.value>0?(openBlock(),createElementBlock("span",_hoisted_6$8,[Me[5]||(Me[5]=createBaseVNode("strong",null,"Transitions:",-1)),createTextVNode(" "+toDisplayString(ue.value),1)])):createCommentVNode("",!0)],64)):(openBlock(),createElementBlock(Fragment,{key:2},[createTextVNode(" No state system loaded ")],64))]),createBaseVNode("div",_hoisted_7$8,[createVNode(Oe,{value:ee.value,"onUpdate:value":Me[0]||(Me[0]=Ie=>ee.value=Ie),size:"small",style:{width:"120px"},onChange:ze},{default:withCtx(()=>[createVNode(Fe,{value:"grid"},{default:withCtx(()=>Me[7]||(Me[7]=[createTextVNode("Grid")])),_:1,__:[7]}),createVNode(Fe,{value:"hierarchical"},{default:withCtx(()=>Me[8]||(Me[8]=[createTextVNode("Hierarchical")])),_:1,__:[8]}),createVNode(Fe,{value:"circular"},{default:withCtx(()=>Me[9]||(Me[9]=[createTextVNode("Circular")])),_:1,__:[9]})]),_:1},8,["value"]),createVNode(Qe,{size:"small",onClick:Ne,icon:h$1(unref(ClearOutlined)),title:"Reset visit counters and timing data"},{default:withCtx(()=>Me[10]||(Me[10]=[createTextVNode(" Reset ")])),_:1,__:[10]},8,["icon"]),createVNode(Qe,{size:"small",onClick:ke,icon:h$1(unref(ZoomInOutlined))},{default:withCtx(()=>Me[11]||(Me[11]=[createTextVNode(" Fit ")])),_:1,__:[11]},8,["icon"])])]),createBaseVNode("div",{ref_key:"diagramContainer",ref:de,style:{flex:"1",position:"relative",overflow:"hidden"}},[(openBlock(),createElementBlock("svg",{ref_key:"svgRef",ref:se,style:{width:"100%",height:"100%",cursor:"grab"},onMousedown:Ve,onMousemove:je,onMouseup:qe,onWheel:Pe},[Me[13]||(Me[13]=createStaticVNode('<defs data-v-d549e1f2><pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse" data-v-d549e1f2><path d="M 20 0 L 0 0 0 20" fill="none" stroke="#f0f0f0" stroke-width="1" data-v-d549e1f2></path></pattern><marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto" data-v-d549e1f2><polygon points="0 0, 10 3.5, 0 7" fill="#666" data-v-d549e1f2></polygon></marker></defs><rect width="100%" height="100%" fill="url(#grid)" data-v-d549e1f2></rect>',2)),createBaseVNode("g",{ref_key:"transformGroup",ref:ce,transform:`translate(${le.value.x}, ${le.value.y}) scale(${le.value.scale})`},[createBaseVNode("g",_hoisted_9$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(W.value,Ie=>(openBlock(),createElementBlock("g",{key:Ie.id},[createBaseVNode("path",{d:Ke(Ie),stroke:Ie.isActive?"#1890ff":Ce(Ie),"stroke-width":Ie.isActive?3:xe(Ie),fill:"none","stroke-dasharray":Ie.isActive?"5,5":"none","marker-end":"url(#arrowhead)"},null,8,_hoisted_10$7),Se(Ie)?(openBlock(),createElementBlock("text",{key:0,x:Ie.labelX,y:Ie.labelY,"text-anchor":"middle",style:normalizeStyle$1([{"font-size":"9px",fill:"#666","user-select":"none","font-family":"monospace"},{fill:Ie.isActive?"#1890ff":"#999"}])},toDisplayString(Se(Ie)),13,_hoisted_11$7)):createCommentVNode("",!0)]))),128))]),createBaseVNode("g",_hoisted_12$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(K.value,Ie=>(openBlock(),createElementBlock("g",{key:Ie.id,transform:`translate(${Ie.x}, ${Ie.y})`,onClick:De=>Ae(Ie),style:{cursor:"pointer"}},[createBaseVNode("rect",{width:Ie.width,height:Ie.height,rx:8,ry:8,fill:we(Ie),stroke:_e(Ie),"stroke-width":Ie.isSelected||Ie.isCurrent?3:1,"stroke-dasharray":Ie.isCurrent?"3,3":"none"},null,8,_hoisted_14$3),createBaseVNode("text",{x:Ie.width/2,y:Ie.height/2-2,"text-anchor":"middle","dominant-baseline":"middle",style:{"font-size":"12px","font-weight":"500",fill:"#333","user-select":"none"}},toDisplayString(Ie.label),9,_hoisted_15$3),ge(Ie.id)>0?(openBlock(),createElementBlock("text",{key:0,x:Ie.width/2,y:Ie.height/2+12,"text-anchor":"middle","dominant-baseline":"middle",style:{"font-size":"10px","font-weight":"400",fill:"#666","user-select":"none"}}," ("+toDisplayString(ge(Ie.id))+") ",9,_hoisted_16$3)):createCommentVNode("",!0),Ie.isCurrent?(openBlock(),createElementBlock("circle",{key:1,cx:Ie.width-8,cy:8,r:"4",fill:"#52c41a",stroke:"white","stroke-width":"1"},null,8,_hoisted_17$3)):createCommentVNode("",!0),ge(Ie.id)>=10?(openBlock(),createElementBlock("g",_hoisted_18$3,[Me[12]||(Me[12]=createBaseVNode("circle",{cx:8,cy:8,r:"8",fill:"#ff4d4f",stroke:"white","stroke-width":"1"},null,-1)),createBaseVNode("text",_hoisted_19$3,toDisplayString(ge(Ie.id)),1)])):createCommentVNode("",!0)],8,_hoisted_13$6))),128))])],8,_hoisted_8$8)],544)),G.value?(openBlock(),createElementBlock("div",_hoisted_20$3,[createBaseVNode("div",_hoisted_21$3,[createBaseVNode("h4",_hoisted_22$3,toDisplayString(G.value.label),1),createVNode(Qe,{size:"small",type:"text",onClick:Me[1]||(Me[1]=Ie=>G.value=null),icon:h$1(unref(CloseOutlined))},null,8,["icon"])]),createBaseVNode("div",_hoisted_23$2,[G.value.isCurrent?(openBlock(),createElementBlock("div",_hoisted_24$2,"  Currently Active ")):createCommentVNode("",!0),ge(G.value.id)>0?(openBlock(),createElementBlock("div",_hoisted_25$2,[Me[14]||(Me[14]=createBaseVNode("strong",null,"Visits:",-1)),createTextVNode(" "+toDisplayString(ge(G.value.id)),1)])):createCommentVNode("",!0),ye(G.value.id)?(openBlock(),createElementBlock("div",_hoisted_26$2,[Me[15]||(Me[15]=createBaseVNode("strong",null,"Avg Dwell Time:",-1)),createBaseVNode("span",_hoisted_27$2,toDisplayString(ye(G.value.id).toFixed(1))+"ms ",1)])):createCommentVNode("",!0),he(G.value.id).length>0?(openBlock(),createElementBlock("div",_hoisted_28$2,[Me[16]||(Me[16]=createBaseVNode("strong",null,"Incoming Transitions:",-1)),createBaseVNode("div",_hoisted_29$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(he(G.value.id),Ie=>(openBlock(),createElementBlock("div",{key:Ie.from,style:{display:"flex","justify-content":"space-between",margin:"2px 0","font-size":"11px"}},[createBaseVNode("span",null,toDisplayString(Ie.from),1),createBaseVNode("span",_hoisted_30$2,toDisplayString(Ie.average.toFixed(1))+"ms (n="+toDisplayString(Ie.count)+") ",1)]))),128))])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_31$2,[Me[17]||(Me[17]=createBaseVNode("strong",null,"Outgoing Transitions:",-1)),G.value.transitions.length===0?(openBlock(),createElementBlock("div",_hoisted_32$2," No transitions (end state) ")):(openBlock(),createElementBlock("div",_hoisted_33$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(G.value.transitions,Ie=>(openBlock(),createElementBlock("div",{key:Ie,style:{margin:"2px 0"}},[createBaseVNode("div",_hoisted_34$2,[createBaseVNode("span",null,toDisplayString(Ie),1),ve(G.value.id).find(De=>De.to===Ie)?(openBlock(),createElementBlock("span",_hoisted_35$2,toDisplayString(ve(G.value.id).find(De=>De.to===Ie).average.toFixed(1))+"ms (n="+toDisplayString(ve(G.value.id).find(De=>De.to===Ie).count)+") ",1)):(openBlock(),createElementBlock("span",_hoisted_36$2," not visited "))])]))),128))]))])])])):createCommentVNode("",!0)],512)])}}},StateSystemDiagram=_export_sfc(_sfc_main$j,[["__scopeId","data-v-d549e1f2"]]),PTYPE_CONSTANTS={PtypeByte:0,PtypeString:1,PtypeFloat:2,PtypeShort:4,PtypeInt:5},EVENT_TYPES={E_NAME:1,E_USER:3,E_BEGINOBS:19,E_ENDOBS:20},EVENT_SUBTYPES={USER:{E_USER_START:0,E_USER_QUIT:1,E_USER_RESET:2}};class EventService{constructor(){this.evtTypeNames=new Array(256),this.evtSubtypeNames=new Map,this.obsInfo={obsStart:0,obsCount:-1,events:[]},this.historicalObservations=[],this.maxHistoricalObs=20,this.eventHandlers=new Set,this.isInitialized=!1,this.dservCleanup=null,this.initialize()}async initializeGlobalTracking(K){this.isInitialized||(console.log("Starting global event tracking..."),this.dservCleanup=K.registerComponent("EventService",{subscriptions:[{pattern:"eventlog/events",every:1}]}),K.on("datapoint:eventlog/events",this.handleGlobalDatapoint.bind(this)),this.isInitialized=!0,console.log("Global event tracking started"))}handleGlobalDatapoint(K){K.name==="eventlog/events"&&this.processEvent(K)}cleanup(){this.dservCleanup&&(this.dservCleanup(),this.dservCleanup=null),this.isInitialized=!1}initialize(){for(let K=0;K<16;K++)this.evtTypeNames[K]=`Reserved${K}`;for(let K=16;K<128;K++)this.evtTypeNames[K]=`System${K}`;for(let K=128;K<256;K++)this.evtTypeNames[K]=`User${K}`;this.evtTypeNames[0]="Magic Number",this.evtTypeNames[1]="Event Name",this.evtTypeNames[2]="File I/O",this.evtTypeNames[3]="User Interaction",this.evtTypeNames[4]="State System Trace",this.evtTypeNames[5]="Parameter Set",this.evtTypeNames[16]="Time Stamped Spike",this.evtTypeNames[17]="DIS-1 Hardware Spike",this.evtTypeNames[18]="Name",this.evtTypeNames[19]="Start Obs Period",this.evtTypeNames[20]="End Obs Period",this.evtTypeNames[21]="ISI",this.evtTypeNames[22]="Trial Type",this.evtTypeNames[23]="Obs Period Type",this.evtTypeNames[24]="EM Log",this.evtTypeNames[25]="Fixspot",this.evtTypeNames[26]="EM Params",this.evtTypeNames[27]="Stimulus",this.evtTypeNames[28]="Pattern",this.evtTypeNames[29]="Stimulus Type",this.evtTypeNames[30]="Sample",this.evtTypeNames[31]="Probe",this.evtTypeNames[32]="Cue",this.evtTypeNames[33]="Target",this.evtTypeNames[34]="Distractor",this.evtTypeNames[35]="Sound Event",this.evtTypeNames[36]="Fixation",this.evtTypeNames[37]="Response",this.evtTypeNames[38]="Saccade",this.evtTypeNames[39]="Decide",this.evtTypeNames[40]="EOT",this.evtTypeNames[41]="Abort",this.evtTypeNames[42]="Reward"}processEvent(K){const W=this.parseEvent(K);if(!W)return null;switch(W.type){case EVENT_TYPES.E_USER:this.handleUserEvent(W);break;case EVENT_TYPES.E_NAME:const G=this.decodeParams(W);return G&&W.subtype>1&&W.subtype<256&&(this.evtTypeNames[W.subtype]=G,this.notifyHandlers({type:"name_update",eventType:W.subtype,newName:G})),null;case 6:return this.handleSubtypeNames(W),null;case EVENT_TYPES.E_BEGINOBS:this.obsStart(W);break;case EVENT_TYPES.E_ENDOBS:this.obsEnd(W);break}return this.obsInfo.obsCount>=0&&(W.timestamp-=this.obsInfo.obsStart),this.obsAddEvent(W),this.notifyHandlers(W),W}parseEvent(K){try{return K.name!=="eventlog/events"?null:{type:K.e_type,subtype:K.e_subtype,timestamp:K.timestamp,ptype:K.e_dtype,params:K.e_params}}catch(W){return console.error("Failed to parse event:",W,K),null}}decodeParams(K){if(!K.params)return"";try{switch(K.ptype){case PTYPE_CONSTANTS.PtypeByte:case 0:return"";case PTYPE_CONSTANTS.PtypeString:case 1:return typeof K.params=="string"?K.params:JSON.stringify(K.params).replace(/"/g,"");case PTYPE_CONSTANTS.PtypeFloat:case 2:return Array.isArray(K.params)?K.params.map(W=>Number(W).toFixed(3)).join(" "):Number(K.params).toFixed(3);case PTYPE_CONSTANTS.PtypeShort:case 4:return Array.isArray(K.params)?K.params.join(" "):K.params.toString();case PTYPE_CONSTANTS.PtypeInt:case 5:return Array.isArray(K.params)?K.params.join(" "):K.params.toString();default:return K.params?K.params.toString():""}}catch(W){return console.error("Failed to decode params:",W,K),K.params?K.params.toString():""}}getEventTypeName(K){return this.evtTypeNames[K]||`Unknown${K}`}getEventSubtypeName(K,W){const G=`${K}:${W}`;return this.evtSubtypeNames.get(G)||W.toString()}handleUserEvent(K){switch(K.subtype){case EVENT_SUBTYPES.USER.E_USER_START:console.log("System started");break;case EVENT_SUBTYPES.USER.E_USER_QUIT:console.log("System stopped");break;case EVENT_SUBTYPES.USER.E_USER_RESET:this.obsReset();break}}handleSubtypeNames(K){const W=this.decodeParams(K);if(typeof W=="string"&&W.trim()!==""){const G=W.split(" ");for(let U=0;U<G.length;U+=2)if(U+1<G.length){const X=G[U],Q=G[U+1],Z=`${K.subtype}:${Q}`;this.evtSubtypeNames.set(Z,X)}}this.notifyHandlers({type:"subtype_names_update",eventType:K.subtype,subtypes:W})}obsReset(){this.obsInfo.obsCount=-1,this.obsInfo.events=[],this.historicalObservations=[],this.notifyHandlers({type:"obs_reset"})}obsStart(K){if(this.obsInfo.obsCount>=0&&this.obsInfo.events[this.obsInfo.obsCount]?.length>0){const W=this.obsInfo.events[this.obsInfo.obsCount],G={obsNumber:this.obsInfo.obsCount,events:W.map((U,X)=>{let Q="0.0";return X>0&&(Q=((U.timestamp-W[X-1].timestamp)/1e3).toFixed(1)),{...U,elapsedTime:Q,decodedParams:this.decodeParams(U)}}),startTime:this.obsInfo.obsStart,endTime:K.timestamp};this.historicalObservations.unshift(G),this.historicalObservations.length>this.maxHistoricalObs&&(this.historicalObservations=this.historicalObservations.slice(0,this.maxHistoricalObs)),console.log(`Saved observation ${G.obsNumber} with ${G.events.length} events to history`)}this.obsInfo.obsCount++,this.obsInfo.obsStart=K.timestamp,this.obsInfo.events.push([K]),this.notifyHandlers({type:"obs_start",obsCount:this.obsInfo.obsCount})}obsAddEvent(K){this.obsInfo.obsCount!==-1&&(this.obsInfo.events[this.obsInfo.obsCount]||(this.obsInfo.events[this.obsInfo.obsCount]=[]),this.obsInfo.events[this.obsInfo.obsCount].push(K))}obsEnd(K){this.notifyHandlers({type:"obs_end",obsCount:this.obsInfo.obsCount})}addHandler(K){return this.eventHandlers.add(K),()=>this.eventHandlers.delete(K)}notifyHandlers(K){this.eventHandlers.forEach(W=>{try{W(K)}catch(G){console.error("Event handler error:",G)}})}formatTimestamp(K){return this.obsInfo.obsCount>=0?(K/1e3).toFixed(1):new Date(K/1e3).toLocaleTimeString()}getObsInfo(){return{...this.obsInfo}}getCurrentObsEvents(){return this.obsInfo.obsCount>=0&&this.obsInfo.events[this.obsInfo.obsCount]?[...this.obsInfo.events[this.obsInfo.obsCount]]:[]}exportEvents(K="json"){const W={obsInfo:this.obsInfo,typeNames:this.evtTypeNames,subtypeNames:Object.fromEntries(this.evtSubtypeNames)};switch(K){case"json":return JSON.stringify(W,null,2);case"csv":return this.exportEventsCSV();default:return W}}async requestEventNameRefresh(K){if(!K){console.warn("No dserv instance provided for event name refresh");return}try{console.log("Requesting event name refresh..."),await K.essCommand("::ess::store_evt_names"),console.log("Event name refresh requested")}catch(W){console.error("Failed to request event name refresh:",W)}}resetEventNames(){console.log("Resetting event names to defaults"),this.initialize(),this.evtSubtypeNames.clear(),this.notifyHandlers({type:"names_reset"})}getEventNameStats(){const K=this.evtTypeNames.filter((W,G)=>W&&!W.startsWith("Reserved")&&!W.startsWith("System")&&!W.startsWith("User")).length;return{totalTypeNames:this.evtTypeNames.filter(W=>W&&W.trim()).length,customTypeNames:K,subtypeNames:this.evtSubtypeNames.size,lastUpdated:Date.now()}}getHistoricalObservations(){return[...this.historicalObservations]}getHistoricalObservation(K){return this.historicalObservations.find(W=>W.obsNumber===K)}getEventStatistics(){const K=this.getCurrentObsEvents(),W=this.historicalObservations.reduce((G,U)=>G+U.events.length,0);return{currentObservation:{number:this.obsInfo.obsCount,eventCount:K.length,duration:K.length>0?(K[K.length-1].timestamp-K[0].timestamp)/1e3:0},historical:{observationCount:this.historicalObservations.length,totalEvents:W,averageEventsPerObs:this.historicalObservations.length>0?W/this.historicalObservations.length:0},session:{totalObservations:this.historicalObservations.length+(this.obsInfo.obsCount>=0?1:0),totalEvents:W+K.length}}}exportAllData(K="json"){const W={current:{obsInfo:this.obsInfo,events:this.getCurrentObsEvents()},historical:this.historicalObservations,typeNames:this.evtTypeNames,subtypeNames:Object.fromEntries(this.evtSubtypeNames),statistics:this.getEventStatistics(),exportTime:new Date().toISOString()};switch(K){case"json":return JSON.stringify(W,null,2);case"csv":return this.exportAllDataCSV(W);default:return W}}exportAllDataCSV(K){const G=[["ObsNumber","Timestamp","ElapsedTime","Type","Subtype","TypeName","SubtypeName","Parameters"]];return K.historical.forEach(U=>{U.events.forEach(X=>{G.push([U.obsNumber,this.formatTimestamp(X.timestamp),X.elapsedTime||"0.0",X.type,X.subtype,this.getEventTypeName(X.type),this.getEventSubtypeName(X.type,X.subtype),X.decodedParams||this.decodeParams(X)])})}),K.current.events.length>0&&K.current.events.forEach((U,X)=>{let Q="0.0";X>0&&(Q=((U.timestamp-K.current.events[X-1].timestamp)/1e3).toFixed(1)),G.push([K.current.obsInfo.obsCount,this.formatTimestamp(U.timestamp),Q,U.type,U.subtype,this.getEventTypeName(U.type),this.getEventSubtypeName(U.type,U.subtype),this.decodeParams(U)])}),G.map(U=>U.map(X=>`"${X}"`).join(",")).join(`
`)}clearHistoricalData(){this.historicalObservations=[],console.log("Historical observation data cleared"),this.notifyHandlers({type:"historical_data_cleared"})}getHistoricalSummary(){return{totalObservations:this.historicalObservations.length,totalEvents:this.historicalObservations.reduce((K,W)=>K+W.events.length,0),oldestObservation:this.historicalObservations.length>0?this.historicalObservations[this.historicalObservations.length-1].obsNumber:null,newestObservation:this.historicalObservations.length>0?this.historicalObservations[0].obsNumber:null,memoryUsageEstimate:this.historicalObservations.length*50}}exportEventsCSV(){const W=[["Timestamp","Type","Subtype","TypeName","SubtypeName","Parameters"]];return this.obsInfo.events.forEach((G,U)=>{G.forEach(X=>{W.push([this.formatTimestamp(X.timestamp),X.type,X.subtype,this.getEventTypeName(X.type),this.getEventSubtypeName(X.type,X.subtype),this.decodeParams(X)])})}),W.map(G=>G.map(U=>`"${U}"`).join(",")).join(`
`)}}const eventService=new EventService,initializeEventTracking=async H=>await eventService.initializeGlobalTracking(H),_hoisted_1$f={class:"event-tracker-container"},_hoisted_2$9={class:"event-header"},_hoisted_3$8={class:"obs-navigation"},_hoisted_4$8={class:"header-actions"},_hoisted_5$8={class:"table-section"},_hoisted_6$7={class:"table-container"},_hoisted_7$7={key:0,class:"timestamp-cell"},_hoisted_8$7={key:1,class:"elapsed-time-cell"},_hoisted_9$7={key:3,class:"type-name"},_hoisted_10$6={key:5,class:"subtype-name"},_hoisted_11$6=["title"],_hoisted_12$5={class:"event-footer"},_hoisted_13$5={key:0,class:"last-event"},_sfc_main$i={__name:"EventTracker",setup(H,{expose:K}){const W=ref([]),G=ref([]),U=ref(-1),X=ref(!1),Q=ref(!1),Z=ref(null),ee=ref({obsCount:-1,obsStart:0,events:[]}),ne=ref(null),te=ref(null),oe=ref(""),re=ref(!1),ae=[{title:"Time",dataIndex:"timestamp",key:"timestamp",width:80,fixed:"left"},{title:"t",dataIndex:"elapsedTime",key:"elapsedTime",width:60},{title:"Type",dataIndex:"type",key:"type",width:50},{title:"Type Name",dataIndex:"typeName",key:"typeName",width:120},{title:"Sub",dataIndex:"subtype",key:"subtype",width:40},{title:"Subtype Name",dataIndex:"subtypeName",key:"subtypeName",width:100},{title:"Parameters",dataIndex:"params",key:"params",ellipsis:!0,width:200}];function se(){console.log("Syncing with background events...");const Re=eventService.getObsInfo(),Ke=eventService.getCurrentObsEvents();ee.value=Re,W.value=Ke.map((_e,Ve)=>{let je="0.0";return Ve>0&&(je=((_e.timestamp-Ke[Ve-1].timestamp)/1e3).toFixed(1)),{key:`sync_${_e.timestamp}_${_e.type}_${_e.subtype}_${Ve}_${Math.random().toString(36).substr(2,6)}`,..._e,decodedParams:eventService.decodeParams(_e),obsIndex:Re.obsCount,elapsedTime:je}});const we=eventService.getHistoricalObservations();G.value=we.map(_e=>({obsNumber:_e.obsNumber,events:_e.events.map((Ve,je)=>({key:`hist_${_e.obsNumber}_${Ve.timestamp}_${Ve.type}_${Ve.subtype}_${je}_${Math.random().toString(36).substr(2,6)}`,...Ve,decodedParams:Ve.decodedParams||eventService.decodeParams(Ve)})),startTime:_e.startTime,endTime:_e.endTime})),Z.value=W.value.length>0?Date.now():null,re.value=!1,console.log(`Synced ${W.value.length} current events and ${G.value.length} historical observations`),U.value===-1&&W.value.length>0&&ye()}function ce(Re){if(Re.type==="obs_reset")ee.value=eventService.getObsInfo(),G.value=[],W.value=[],U.value=-1;else if(Re.type==="obs_start"){ee.value=eventService.getObsInfo();const Ke=eventService.getHistoricalObservations();G.value=Ke.map(we=>({obsNumber:we.obsNumber,events:we.events.map((_e,Ve)=>({key:`hist_start_${we.obsNumber}_${_e.timestamp}_${_e.type}_${_e.subtype}_${Ve}_${Math.random().toString(36).substr(2,6)}`,..._e,decodedParams:_e.decodedParams||eventService.decodeParams(_e)})),startTime:we.startTime,endTime:we.endTime})),W.value=[],U.value=-1}else Re.type==="obs_end"?ee.value=eventService.getObsInfo():Re.type==="name_update"||Re.type==="subtype_names_update"||Re.type==="names_reset"?(W.value=[...W.value],G.value=[...G.value]):Re.timestamp&&de(Re)}function de(Re){if(Re.type===7||Re.type===1||Re.type===6||!(ee.value.obsCount>=0||Re.type===19||Re.type===20))return;const Ke={key:`live_${Re.timestamp}_${Re.type}_${Re.subtype}_${Date.now()}_${Math.random().toString(36).substr(2,6)}`,...Re,decodedParams:eventService.decodeParams(Re),obsIndex:ee.value.obsCount,elapsedTime:"0.0"};if(W.value.length>0){const we=W.value[W.value.length-1],_e=(Re.timestamp-we.timestamp)/1e3;Ke.elapsedTime=_e.toFixed(1)}W.value.push(Ke),Z.value=Date.now(),W.value.length>2e3&&W.value.splice(0,500),U.value===-1&&ye()}function le(Re){Re.name==="eventlog/events"&&eventService.parseEvent(Re)}const fe=computed(()=>{let Re;if(U.value===-1)Re=W.value;else{const we=G.value[U.value];Re=we?we.events:[]}let Ke=Re;if(te.value!==null&&(Ke=Ke.filter(we=>we.type===te.value)),oe.value){const we=oe.value.toLowerCase();Ke=Ke.filter(_e=>be(_e.type).toLowerCase().includes(we)||Se(_e.type,_e.subtype).toLowerCase().includes(we)||_e.decodedParams.toLowerCase().includes(we))}return Ke}),pe=computed(()=>{if(U.value===-1)return W.value.length;{const Re=G.value[U.value];return Re?Re.events.length:0}}),me=computed(()=>G.value.length),ue=computed(()=>{const Re=U.value===-1?W.value:G.value[U.value]?.events||[],Ke=new Set(Re.map(we=>we.type));return Array.from(Ke).map(we=>({label:`${we} - ${be(we)}`,value:we})).sort((we,_e)=>we.value-_e.value)}),ge=computed(()=>U.value<G.value.length-1),he=computed(()=>U.value>-1),ve=computed(()=>{if(U.value===-1)return"LIVE";{const Re=G.value[U.value];return Re?`${Re.obsNumber} (${Re.events.length} events)`:"N/A"}}),ye=()=>{nextTick(()=>{const Re=ne.value;if(Re?.querySelector){const Ke=Re.querySelector(".ant-table-body");Ke&&requestAnimationFrame(()=>{Ke.scrollTop=Ke.scrollHeight})}})};function be(Re){return eventService.getEventTypeName(Re)}function Se(Re,Ke){return eventService.getEventSubtypeName(Re,Ke)}function Ce(Re){return eventService.formatTimestamp(Re)}function xe(){if(!Z.value)return"";const Re=Math.floor((Date.now()-Z.value)/1e3);return Re<60?`${Re}s ago`:`${Math.floor(Re/60)}m ago`}function Ne(Re){return Re<16?"blue":Re<32?"green":Re<64?"orange":Re<128?"purple":"red"}function $e(Re,Ke){return"default"}function Ee(Re){const Ke=[];switch(Re.type){case 19:Ke.push("obs-start-row");break;case 20:Ke.push("obs-end-row");break;case 3:Ke.push("user-event-row");break}return Ke.join(" ")}function Te(){ge.value&&U.value++}function Be(){he.value&&U.value--}function Ae(){U.value=-1,W.value.length>0&&ye()}function ze(){W.value=[],G.value=[],U.value=-1,eventService.obsReset(),api$1.success("All events and historical data cleared")}function We(){try{const Re=eventService.exportAllData("csv"),Ke=new Blob([Re],{type:"text/csv"}),we=URL.createObjectURL(Ke),_e=document.createElement("a");_e.href=we,_e.download=`all_events_${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.csv`,document.body.appendChild(_e),_e.click(),document.body.removeChild(_e),URL.revokeObjectURL(we);const Ve=eventService.getEventStatistics();console.log("Events exported:",{currentObs:Ve.currentObservation,historical:Ve.historical,session:Ve.session}),api$1.success(`Exported ${Ve.session.totalEvents} events from ${Ve.session.totalObservations} observations`)}catch(Re){console.error("Export failed:",Re),api$1.error("Export failed")}}async function Le(){try{await eventService.requestEventNameRefresh(dserv),console.log("Event names refreshed from system")}catch(Re){console.error("Failed to refresh event names:",Re)}}let Ze=null,Ye=null;return onMounted(()=>{console.log("EventTracker mounted - syncing with background events"),Ze=dserv.registerComponent("EventTracker"),dserv.on("datapoint:eventlog/events",le),dserv.on("connection",Re=>{Q.value=Re.connected}),Ye=eventService.addHandler(ce),Q.value=dserv.state.connected,se(),console.log("EventTracker fully initialized and synced")}),onUnmounted(()=>{console.log("EventTracker unmounted - events will continue tracking in background"),Ze&&Ze(),Ye&&Ye(),dserv.off("datapoint:eventlog/events",le)}),watch(()=>dserv.state.connected,Re=>{Q.value=Re}),watch(()=>document.visibilityState,Re=>{Re==="visible"&&re.value&&se()}),K({clearEvents:ze,exportEvents:We,refreshEventNames:Le,previousObservation:Te,nextObservation:Be,getCurrentEvents:()=>W.value,getObsInfo:()=>ee.value,getAllObservations:()=>G.value,syncWithBackgroundEvents:se}),(Re,Ke)=>{const we=Statistic,_e=__unplugin_components_3$1,Ve=Button$1,je=__unplugin_components_3$2,qe=Space,Pe=__unplugin_components_4$1,ke=Tag$1,Ue=__unplugin_components_6,He=Badge,Me=Select,Je=Input;return openBlock(),createElementBlock("div",_hoisted_1$f,[createBaseVNode("div",_hoisted_2$9,[createVNode(Pe,{gutter:12,align:"middle"},{default:withCtx(()=>[createVNode(_e,{span:4},{default:withCtx(()=>[createVNode(we,{title:U.value===-1?"Current Obs":"Viewing Obs",value:U.value===-1?ee.value.obsCount>=0?ee.value.obsCount:"None":G.value[U.value]?.obsNumber??"N/A"},null,8,["title","value"])]),_:1}),createVNode(_e,{span:4},{default:withCtx(()=>[createVNode(we,{title:"Events",value:pe.value},null,8,["value"])]),_:1}),createVNode(_e,{span:4},{default:withCtx(()=>[createVNode(we,{title:"Total Obs",value:me.value},null,8,["value"])]),_:1}),createVNode(_e,{span:6},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$8,[Ke[2]||(Ke[2]=createBaseVNode("span",{class:"nav-label"},"View:",-1)),createVNode(je,{size:"small"},{default:withCtx(()=>[createVNode(Ve,{onClick:Te,disabled:!ge.value,icon:h$1(unref(LeftOutlined))},null,8,["disabled","icon"]),createVNode(Ve,{onClick:Be,disabled:!he.value,icon:h$1(unref(RightOutlined))},null,8,["disabled","icon"])]),_:1}),createBaseVNode("span",{class:normalizeClass(["view-status",{live:U.value===-1}])},toDisplayString(ve.value),3)])]),_:1}),createVNode(_e,{span:6,style:{"text-align":"right"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$8,[createVNode(qe,{size:"small"},{default:withCtx(()=>[createVNode(Ve,{size:"small",onClick:ze,icon:h$1(unref(ClearOutlined))},{default:withCtx(()=>Ke[3]||(Ke[3]=[createTextVNode(" Clear ")])),_:1,__:[3]},8,["icon"]),createVNode(Ve,{size:"small",onClick:We,icon:h$1(unref(DownloadOutlined))},{default:withCtx(()=>Ke[4]||(Ke[4]=[createTextVNode(" Export ")])),_:1,__:[4]},8,["icon"])]),_:1}),U.value!==-1?(openBlock(),createBlock(Ve,{key:0,size:"small",onClick:Ae,type:"primary",icon:h$1(unref(FastForwardOutlined)),class:"live-button"},{default:withCtx(()=>Ke[5]||(Ke[5]=[createTextVNode(" Live ")])),_:1,__:[5]},8,["icon"])):createCommentVNode("",!0)])]),_:1})]),_:1})]),createBaseVNode("div",_hoisted_5$8,[createBaseVNode("div",_hoisted_6$7,[createVNode(Ue,{ref_key:"eventTable",ref:ne,columns:ae,"data-source":fe.value,pagination:!1,scroll:{y:!0,x:800},size:"small","row-class-name":Ee,loading:X.value,class:"event-table"},{bodyCell:withCtx(({column:Fe,record:Oe})=>[Fe.key==="timestamp"?(openBlock(),createElementBlock("span",_hoisted_7$7,toDisplayString(Ce(Oe.timestamp)),1)):Fe.key==="elapsedTime"?(openBlock(),createElementBlock("span",_hoisted_8$7,toDisplayString(Oe.elapsedTime),1)):Fe.key==="type"?(openBlock(),createBlock(ke,{key:2,color:Ne(Oe.type)},{default:withCtx(()=>[createTextVNode(toDisplayString(Oe.type),1)]),_:2},1032,["color"])):Fe.key==="typeName"?(openBlock(),createElementBlock("span",_hoisted_9$7,toDisplayString(be(Oe.type)),1)):Fe.key==="subtype"?(openBlock(),createBlock(ke,{key:4,size:"small",color:$e(Oe.type,Oe.subtype)},{default:withCtx(()=>[createTextVNode(toDisplayString(Oe.subtype),1)]),_:2},1032,["color"])):Fe.key==="subtypeName"?(openBlock(),createElementBlock("span",_hoisted_10$6,toDisplayString(Se(Oe.type,Oe.subtype)),1)):Fe.key==="params"?(openBlock(),createElementBlock("span",{key:6,class:"params-cell",title:Oe.decodedParams},toDisplayString(Oe.decodedParams),9,_hoisted_11$6)):createCommentVNode("",!0)]),_:1},8,["data-source","loading"])])]),createBaseVNode("div",_hoisted_12$5,[createVNode(Pe,{align:"middle"},{default:withCtx(()=>[createVNode(_e,{span:12},{default:withCtx(()=>[createVNode(qe,{size:"small"},{default:withCtx(()=>[Ke[6]||(Ke[6]=createBaseVNode("span",null,"Connection:",-1)),createVNode(He,{status:Q.value?"processing":"error",text:Q.value?"Connected":"Disconnected"},null,8,["status","text"]),Z.value?(openBlock(),createElementBlock("span",_hoisted_13$5," Last event: "+toDisplayString(xe()),1)):createCommentVNode("",!0),Q.value?(openBlock(),createBlock(He,{key:1,status:"success",text:"Background tracking active"})):createCommentVNode("",!0)]),_:1,__:[6]})]),_:1}),createVNode(_e,{span:12,style:{"text-align":"right"}},{default:withCtx(()=>[createVNode(qe,{size:"small"},{default:withCtx(()=>[Ke[7]||(Ke[7]=createBaseVNode("span",null,"Filter:",-1)),createVNode(Me,{value:te.value,"onUpdate:value":Ke[0]||(Ke[0]=Fe=>te.value=Fe),size:"small",style:{width:"120px"},placeholder:"All types",options:ue.value,"allow-clear":""},null,8,["value","options"]),createVNode(Je,{value:oe.value,"onUpdate:value":Ke[1]||(Ke[1]=Fe=>oe.value=Fe),size:"small",placeholder:"Search events...",style:{width:"150px"},suffix:h$1(unref(SearchOutlined)),"allow-clear":""},null,8,["value","suffix"])]),_:1,__:[7]})]),_:1})]),_:1})])])}}},EventTracker=_export_sfc(_sfc_main$i,[["__scopeId","data-v-4d12ceb3"]]);class ScriptExecutionService{constructor(){this.activeScripts=reactive(new Map),this.scriptContexts=new Map,this.canvasRegistry=new Map,this.eventHandlers=new Map,this.isInitialized=!1,this.globalScriptData=reactive({}),this.scriptErrors=reactive([]),this.eventMappings={types:{},subtypes:{}}}async initialize(){this.isInitialized||(dserv.on("datapoint:ess/visualization_scripts",H=>{console.log("Received visualization scripts from ESS:",H.data),this.handleVisualizationScripts(H.data)},"ScriptExecutionService"),dserv.on("datapoint:ess/event_mappings",H=>{console.log("Received event mappings from ESS:",H.data),this.updateEventMappings(H.data)},"ScriptExecutionService_EventMappings"),dserv.on("datapoint:ess/trial_data",H=>{this.updateTrialData(H.data)},"ScriptExecutionService_TrialData"),eventService.addHandler(H=>{this.routeEventToScripts(H)}),this.isInitialized=!0,console.log("ScriptExecutionService initialized with event routing"))}updateEventMappings(H){try{this.eventMappings=JSON.parse(H||'{"types":{}, "subtypes":{}}'),console.log("Updated event mappings:",this.eventMappings)}catch(K){console.error("Failed to parse event mappings:",K)}}createEventConstants(){const H={};return Object.entries(this.eventMappings.types).forEach(([K,W])=>{H[K]=W,this.eventMappings.subtypes[K]&&Object.entries(this.eventMappings.subtypes[K]).forEach(([G,U])=>{H[`${K}_${G}`]=[W,U]})}),H}processScriptCode(H){const K=this.createEventConstants();return`
// ESS Event Constants (auto-generated)
${Object.entries(K).map(([G,U])=>Array.isArray(U)?`const ${G} = [${U.join(", ")}];`:`const ${G} = ${U};`).join(`
`)}

// Original script code
${H}
`}routeEventToScripts(H){if(H.type==="obs_reset"||H.type==="name_update")return;const K=`${H.type},${H.subtype}`;(this.eventHandlers.get(K)||[]).forEach(G=>{try{G.handler(H)}catch(U){console.error(`Event handler error for ${K}:`,U),this.scriptErrors.push({scriptId:G.scriptId,canvasId:G.canvasId,error:U.message,timestamp:Date.now()})}})}updateTrialData(H){if(!H)return;let K;try{K=JSON.parse(H)}catch(U){console.error("Failed to parse trial_data JSON:",U),this.scriptErrors.push({scriptId:"system",canvasId:"N/A",error:`Failed to parse trial_data: ${U.message}`,timestamp:Date.now()});return}(this.eventHandlers.get("__trial_update_handler__")||[]).forEach(U=>{try{U.handler(K)}catch(X){console.error(`Trial update handler error for script ${U.scriptId}:`,X),this.scriptErrors.push({scriptId:U.scriptId,canvasId:U.canvasId,error:X.message,timestamp:Date.now()})}})}registerCanvas(H,K,W={}){return!H||typeof H!="string"?(console.error("Invalid canvasId provided to registerCanvas:",H),()=>{}):K?(console.log(`Registering canvas: ${H}`),this.canvasRegistry.set(H,{ctx:K,metadata:{width:W.width||300,height:W.height||300,degreesHorizontal:W.degreesHorizontal||20,degreesVertical:W.degreesVertical||20,type:W.type||"general",...W},elements:new Map,drawCallbacks:new Set}),console.log(`Successfully registered canvas: ${H}`),console.log(`Total registered canvases: ${this.canvasRegistry.size}`),()=>this.unregisterCanvas(H)):(console.error("No canvas context provided to registerCanvas for:",H),()=>{})}unregisterCanvas(H){this.canvasRegistry.delete(H),console.log(`Unregistered canvas: ${H}`)}createDrawingAPI(H){const K=this.canvasRegistry.get(H);if(!K)return console.warn(`Canvas ${H} not found`),null;const{metadata:W}=K,U={getCanvasSize:()=>({width:W.width,height:W.height}),getVisualRange:()=>({horizontal:W.degreesHorizontal,vertical:W.degreesVertical}),degreesToPixels:(X,Q)=>{const Z=W.width/2,ee=W.height/2,ne=W.width/W.degreesHorizontal,te=W.height/W.degreesVertical;return{x:Z+X*ne,y:ee-Q*te}},pixelsToDegrees:(X,Q)=>{const Z=W.width/2,ee=W.height/2,ne=W.width/W.degreesHorizontal,te=W.height/W.degreesVertical;return{x:(X-Z)/ne,y:-1*(Q-ee)/te}},addElement:X=>{const Q=X.id||`elem_${Date.now()}_${Math.random().toString(36).substr(2,6)}`;return K.elements.set(Q,{id:Q,type:X.type||"circle",x:X.x||0,y:X.y||0,visible:X.visible!==!1,zIndex:X.zIndex||0,created:Date.now(),...X}),Q},updateElement:(X,Q)=>{if(K.elements.has(X)){const Z=K.elements.get(X);return Object.assign(Z,Q),!0}return!1},removeElement:X=>K.elements.delete(X),clearElements:()=>{K.elements.clear()},drawCircle:(X,Q,Z,ee={})=>{const ne=ee.id||`circle_${Date.now()}_${Math.random().toString(36).substr(2,6)}`;return U.addElement({id:ne,type:"circle",x:X,y:Q,radius:Z,...ee})},drawRectangle:(X,Q,Z,ee,ne={})=>{const te=ne.id||`rectangle_${Date.now()}_${Math.random().toString(36).substr(2,6)}`;return U.addElement({id:te,type:"rectangle",x:X,y:Q,width:Z,height:ee,...ne})},drawText:(X,Q,Z,ee={})=>{const ne=ee.id||`text_${Date.now()}_${Math.random().toString(36).substr(2,6)}`;return U.addElement({id:ne,type:"text",x:X,y:Q,text:Z,...ee})},drawLine:(X,Q,Z,ee,ne={})=>{const te=ne.id||`line_${Date.now()}_${Math.random().toString(36).substr(2,6)}`;return U.addElement({id:te,type:"line",x1:X,y1:Q,x2:Z,y2:ee,...ne})},registerDrawFunction:X=>(K.drawCallbacks.add(X),()=>K.drawCallbacks.delete(X))};return U}registerEventHandler(H,K,W,G){let U=[];if(H==="trial_update")U=["__trial_update_handler__"];else if(Array.isArray(H))U=[H.join(",")];else if(typeof H=="number"){const Q=H;U=[`${Q},0`,`${Q},1`,`${Q},2`,`${Q},3`,`${Q},4`,`${Q},5`]}else U=[String(H)];const X=this.createDrawingAPI(G);U.forEach(Q=>{this.eventHandlers.has(Q)||this.eventHandlers.set(Q,[]);const Z=ee=>{const ne=globalThis.draw;globalThis.draw=X;try{K(ee)}finally{ne!==void 0?globalThis.draw=ne:delete globalThis.draw}};this.eventHandlers.get(Q).push({handler:Z,scriptId:W,canvasId:G})})}executeScript(scriptCode,scriptId,canvasId){try{const canvasData=this.canvasRegistry.get(canvasId);if(!canvasData)throw new Error(`Canvas ${canvasId} not found`);const processedCode=this.processScriptCode(scriptCode);console.log(`Executing processed script for ${scriptId}:`),console.log("--- Event Constants Added ---"),console.log(processedCode.split(`
`).slice(0,10).join(`
`)+"...");const drawingAPI=this.createDrawingAPI(canvasId),originalVars={},scriptGlobals={draw:drawingAPI,registerEventHandler:(H,K)=>{this.registerEventHandler(H,K,scriptId,canvasId)},registerTrialUpdateHandler:H=>{this.registerEventHandler("trial_update",H,scriptId,canvasId)},getStimInfo:()=>{if(dserv.state.stiminfo)try{return JSON.parse(dserv.state.stiminfo)}catch(H){return console.error("Failed to parse stiminfo:",H),null}return null},processStimData:H=>{if(!H||!H.rows||!H.arrays)return[];const{rows:K,arrays:W}=H,G=Object.keys(W);return K.map((U,X)=>{const Q={trial_index:X,...U};return G.forEach(Z=>{if(Z in U&&typeof U[Z]=="number"){const ee=U[Z],ne=W[Z][ee];Q[Z]=ne}}),Q})},setData:(H,K)=>{this.globalScriptData[H]=K},getData:H=>this.globalScriptData[H],getSystemState:()=>({currentSystem:dserv.state.currentSystem,currentProtocol:dserv.state.currentProtocol,currentVariant:dserv.state.currentVariant,inObs:dserv.state.inObs,obsId:dserv.state.obsId,obsTotal:dserv.state.obsTotal}),setTimeout,clearTimeout,Math,Array,Object,Date,console};Object.keys(scriptGlobals).forEach(H=>{window[H]!==void 0&&(originalVars[H]=window[H]),window[H]=scriptGlobals[H]});try{eval(`
          (function() {
            "use strict";
            ${processedCode}
          })();
        `),this.activeScripts.set(scriptId,{id:scriptId,canvasId,code:scriptCode,processedCode,loadedAt:Date.now(),status:"loaded",lastExecution:Date.now()}),console.log(`Successfully executed script ${scriptId}`)}finally{Object.keys(scriptGlobals).forEach(H=>{originalVars[H]!==void 0?window[H]=originalVars[H]:delete window[H]})}}catch(H){throw console.error(`Failed to execute script ${scriptId}:`,H),this.scriptErrors.push({scriptId,canvasId,error:H.message,timestamp:Date.now()}),this.activeScripts.set(scriptId,{id:scriptId,canvasId,code:scriptCode,loadedAt:Date.now(),status:"error",error:H.message}),H}}handleVisualizationScripts(H){try{const K=JSON.parse(H||"{}");this.clearAllScripts(),Object.entries(K).forEach(([W,G])=>{if(W.includes(":")){const[U,X]=W.split(":",2);if(this.canvasRegistry.has(U)){const Q=`${X}_${U}`;this.executeScript(G,Q,U)}else console.warn(`Target canvas "${U}" not found. Available:`,Array.from(this.canvasRegistry.keys()))}else console.warn(`Script key "${W}" doesn't match targeting pattern. Use "canvasId:scriptName". Available canvases:`,Array.from(this.canvasRegistry.keys()))})}catch(K){console.error("Failed to parse visualization scripts:",K)}}renderCanvas(H){const K=this.canvasRegistry.get(H);if(!K)return;Array.from(K.elements.values()).filter(G=>G.visible).sort((G,U)=>(G.zIndex||0)-(U.zIndex||0)).forEach(G=>{this.drawElement(H,G)}),K.drawCallbacks.forEach(G=>{try{const U=this.createDrawingAPI(H),X=globalThis.draw;globalThis.draw=U;try{G()}finally{X!==void 0?globalThis.draw=X:delete globalThis.draw}}catch(U){console.error("Custom draw function error:",U)}})}drawElement(H,K){const W=this.canvasRegistry.get(H);if(!W)return;const{ctx:G,metadata:U}=W,X=U.width/U.degreesHorizontal,Q=U.height/U.degreesVertical,Z=ne=>{if(typeof ne=="string"&&ne.includes(" ")){const te=ne.split(" ").map(Number);if(te.length===3&&te.every(oe=>!isNaN(oe))){const[oe,re,ae]=te;return`rgb(${Math.round(oe*255)}, ${Math.round(re*255)}, ${Math.round(ae*255)})`}}return ne},ee=this.createDrawingAPI(H).degreesToPixels(K.x,K.y);switch(G.save(),G.globalAlpha=K.opacity||1,K.fillColor&&(G.fillStyle=Z(K.fillColor)),K.strokeColor&&(G.strokeStyle=Z(K.strokeColor),G.lineWidth=K.lineWidth||1),K.type){case"circle":{const ne=(K.radius??.5)*X;G.beginPath(),G.arc(ee.x,ee.y,ne,0,2*Math.PI),K.fillColor&&G.fill(),K.strokeColor&&G.stroke();break}case"rectangle":{const ne=K.width*X,te=K.height*Q;G.translate(ee.x,ee.y),K.rotation!==void 0&&K.rotation!==0&&G.rotate(K.rotation),K.fillColor&&G.fillRect(-ne/2,-te/2,ne,te),K.strokeColor&&G.strokeRect(-ne/2,-te/2,ne,te);break}case"text":{G.font=`${K.fontSize||12}px ${K.fontFamily||"sans-serif"}`,G.textAlign=K.textAlign||"center",G.textBaseline=K.textBaseline||"middle",K.fillColor&&G.fillText(K.text,ee.x,ee.y);break}}G.restore()}setGlobalData(H,K){this.globalScriptData[H]=K}getGlobalData(H){return this.globalScriptData[H]}clearAllScripts(){console.log("Clearing all visualization scripts"),this.activeScripts.clear(),this.scriptContexts.clear(),this.eventHandlers.clear(),this.scriptErrors.splice(0),this.canvasRegistry.forEach(H=>{H.elements.clear(),H.drawCallbacks.clear()})}getStatus(){return{initialized:this.isInitialized,activeScripts:Array.from(this.activeScripts.values()),registeredCanvases:Array.from(this.canvasRegistry.keys()),eventHandlers:this.eventHandlers.size,eventHandlerKeys:Array.from(this.eventHandlers.keys()),errors:this.scriptErrors,globalData:this.globalScriptData}}cleanup(){this.clearAllScripts(),this.canvasRegistry.clear(),this.isInitialized=!1}}const scriptExecutionService=new ScriptExecutionService;function useScriptExecution(){return scriptExecutionService.isInitialized||(console.log("useScriptExecution: Initializing service..."),scriptExecutionService.initialize().catch(console.error)),{registerCanvas:(H,K,W)=>(console.log(`useScriptExecution: registerCanvas called for ${H}`),scriptExecutionService.registerCanvas(H,K,W)),renderCanvas:H=>scriptExecutionService.renderCanvas(H),executeScript:(H,K,W)=>scriptExecutionService.executeScript(H,K,W),clearCanvas:H=>{const K=scriptExecutionService.canvasRegistry.get(H);K&&(K.elements.clear(),K.drawCallbacks.clear())},getStatus:()=>scriptExecutionService.getStatus(),activeScripts:scriptExecutionService.activeScripts,globalData:scriptExecutionService.globalScriptData,errors:scriptExecutionService.scriptErrors,service:scriptExecutionService}}scriptExecutionService.initialize().catch(console.error);window.scriptExecutionService=scriptExecutionService;const _hoisted_1$e={class:"eye-touch-visualizer"},_hoisted_2$8={class:"visualizer-header"},_hoisted_3$7={style:{display:"flex","flex-direction":"column",gap:"4px","align-items":"flex-end"}},_hoisted_4$7={style:{display:"flex","align-items":"center",gap:"8px","justify-content":"flex-end"}},_hoisted_5$7={class:"window-indicators-mini"},_hoisted_6$6={style:{display:"flex","align-items":"center",gap:"8px","justify-content":"flex-end"}},_hoisted_7$6={class:"window-indicators-mini"},_hoisted_8$6=["width","height"],_hoisted_9$6={class:"info-overlay"},_hoisted_10$5={class:"coordinate-info"},_hoisted_11$5={key:0},_hoisted_12$4={key:1},_hoisted_13$4={class:"visualizer-toolbar"},ADC_CENTER=2048,ADC_TO_DEG=200,TOUCH_CLEAR_DELAY=500,maxTrailLength=50,_sfc_main$h={__name:"EyeTouchVisualizer",setup(H,{expose:K}){const W=ref({x:0,y:0}),G=ref({x:2048,y:2048}),U=ref({x:0,y:0}),X=ref(!1),{registerCanvas:Q,renderCanvas:Z}=useScriptExecution();console.log("EyeTouchVisualizer: useScriptExecution result:",{registerCanvas:Q,renderCanvas:Z});const ee=ref(!1),ne=ref(!1),te=reactive({x:0,y:0,adcX:ADC_CENTER,adcY:ADC_CENTER,isDragging:!1,dragOffset:{x:0,y:0}}),oe=reactive({x:0,y:0,active:!1,isDragging:!1}),re=ref(null),ae=ref(!1),se=ref(!1),ce=computed(()=>dserv.state.connected);computed(()=>{const Ge=dserv.state.status||"stopped";return Ge.charAt(0).toUpperCase()+Ge.slice(1)}),computed(()=>dserv.state.inObs),computed(()=>dserv.state.obsId+1),computed(()=>dserv.state.obsTotal);const de=computed(()=>dserv.state.eyeWindows),le=computed(()=>dserv.state.eyeWindowStatusMask),fe=computed(()=>(dserv.state.touchWindows||(dserv.state.touchWindows=Array(8).fill(null).map((Ge,Xe)=>({id:Xe,active:!1,state:0,type:"rectangle",center:{x:0,y:0},centerRaw:{x:400,y:320},size:{width:2,height:2},sizeRaw:{width:100,height:100}}))),dserv.state.touchWindows)),pe=computed(()=>dserv.state.touchWindowStatusMask||0),me=computed(()=>({width:dserv.state.screenWidth||800,height:dserv.state.screenHeight||600,halfX:dserv.state.screenHalfX||10,halfY:dserv.state.screenHalfY||7.5})),ue=reactive({showTrails:!1,showLabels:!0}),ge=ref(null),he=ref(null),ve=ref({width:300,height:300}),ye={horizontal:20,vertical:20},be=ref([]);let Se=null,Ce=null;const xe=computed(()=>({x:ve.value.width/ye.horizontal,y:ve.value.height/ye.vertical})),Ne=computed(()=>({x:ve.value.width/2,y:ve.value.height/2}));function $e(Ge,Xe){return{x:Ne.value.x+Ge*xe.value.x,y:Ne.value.y-Xe*xe.value.y}}function Ee(Ge,Xe){return{x:(Ge-Ne.value.x)/xe.value.x,y:-1*(Xe-Ne.value.y)/xe.value.y}}function Te(Ge,Xe){return{x:Math.round(Ge*ADC_TO_DEG+ADC_CENTER),y:Math.round(-Xe*ADC_TO_DEG+ADC_CENTER)}}function Be(Ge,Xe){const rt=me.value,at=rt.width/(2*rt.halfX),lt=rt.height/(2*rt.halfY);return{x:(Ge-rt.width/2)/at,y:-1*(Xe-rt.height/2)/lt}}function Ae(Ge,Xe){const rt=me.value,at=rt.width/(2*rt.halfX),lt=rt.height/(2*rt.halfY);return{x:Math.round(Ge*at+rt.width/2),y:Math.round(-Xe*lt+rt.height/2)}}function ze(Ge,Xe){te.x=Ge,te.y=Xe;const rt=Te(Ge,Xe);te.adcX=rt.x,te.adcY=rt.y,We()}async function We(){try{const Ge=`set d [binary format s2 {${te.adcY} ${te.adcX}}]; dservSetData ain/vals 0 4 $d; unset d`;await dserv.essCommand(Ge)}catch(Ge){console.error("Failed to send virtual eye data:",Ge)}}async function Le(Ge,Xe){try{const rt=`set d [binary format s2 {${Ge} ${Xe}}]; dservSetData mtouch/touchvals 0 4 $d; unset d`;await dserv.essCommand(rt)}catch(rt){console.error("Failed to send virtual touch data:",rt)}}function Ze(Ge){if(!ee.value)return;const Xe=ge.value.getBoundingClientRect(),rt=Ge.clientX-Xe.left,at=Ge.clientY-Xe.top,lt=$e(te.x,te.y);if(Math.sqrt(Math.pow(rt-lt.x,2)+Math.pow(at-lt.y,2))<=13){te.isDragging=!0,te.dragOffset={x:lt.x-rt,y:lt.y-at},Ge.preventDefault();return}}function Ye(Ge){if(ee.value&&te.isDragging){const Xe=ge.value.getBoundingClientRect(),rt=Ge.clientX-Xe.left,at=Ge.clientY-Xe.top,lt=rt+te.dragOffset.x,dt=at+te.dragOffset.y,ft=Ee(lt,dt),gt=ye.horizontal/2,ut=ye.vertical/2;ft.x=Math.max(-gt,Math.min(gt,ft.x)),ft.y=Math.max(-ut,Math.min(ut,ft.y)),ze(ft.x,ft.y)}}function Re(){te.isDragging&&(te.isDragging=!1)}function Ke(Ge){if(!ee.value||te.isDragging)return;const Xe=ge.value.getBoundingClientRect(),rt=Ge.clientX-Xe.left,at=Ge.clientY-Xe.top,lt=Ee(rt,at),dt=Ae(lt.x,lt.y);oe.x=dt.x,oe.y=dt.y,oe.active=!0,Le(dt.x,dt.y),setTimeout(()=>{oe.active=!1},200)}function we(Ge){if(!(ne.value&&ee.value))try{const Xe=Ge.value||Ge.data;if(Ge.name==="ess/em_pos"){if(!Xe||typeof Xe!="string"){console.warn("Invalid ess/em_pos data:",Xe);return}const rt=Xe.split(" ");if(rt.length<4){console.warn("Insufficient ess/em_pos data parts:",rt);return}const[at,lt,dt,ft]=rt.map(Number);if(isNaN(at)||isNaN(lt)||isNaN(dt)||isNaN(ft)){console.warn("Invalid ess/em_pos coordinates:",{rx:at,ry:lt,x:dt,y:ft,value:Xe});return}W.value={x:dt,y:ft},G.value={x:at,y:lt},ue.showTrails&&(be.value.push({...W.value,timestamp:Date.now()}),be.value.length>maxTrailLength&&be.value.shift())}}catch(Xe){console.error("Error handling eye position data:",Xe,Ge)}}function _e(Ge){try{const Xe=Ge.value||Ge.data;if(Ge.name==="mtouch/touchvals"){let rt,at;if(Array.isArray(Xe)){if(Xe.length<2){console.warn("Insufficient mtouch/touchvals array elements:",Xe);return}[rt,at]=Xe.map(Number)}else if(typeof Xe=="string"){const lt=Xe.split(" ");if(lt.length<2){console.warn("Insufficient mtouch/touchvals data parts:",lt);return}[rt,at]=lt.map(Number)}else{console.warn("Invalid mtouch/touchvals data format (expected array or string):",Xe);return}if(isNaN(rt)||isNaN(at)){console.warn("Invalid mtouch/touchvals coordinates:",{x:rt,y:at,value:Xe});return}U.value={x:rt,y:at},X.value=!0,re.value&&(clearTimeout(re.value),re.value=null)}}catch(Xe){console.error("Error handling touch position data:",Xe,Ge)}}function Ve(){if(!ge.value)return console.warn("Canvas ref not available"),!1;try{return Se=ge.value.getContext("2d"),Se?(ae.value=!0,!0):(console.error("Failed to get canvas context"),!1)}catch(Ge){return console.error("Canvas setup error:",Ge),ae.value=!1,!1}}function je(){if(Ce&&cancelAnimationFrame(Ce),!Se||!ge.value)return;se.value=!0;function Ge(){if(se.value){if(!Se||!ge.value){se.value=!1;return}Pe(),Ce=requestAnimationFrame(Ge)}}Ge()}function qe(){se.value=!1,Ce&&(cancelAnimationFrame(Ce),Ce=null)}function Pe(){if(!(!Se||!ge.value))try{if(Se.fillStyle="#000000",Se.fillRect(0,0,ve.value.width,ve.value.height),He(),ue.showTrails&&Me(),de.value.forEach(Ge=>{Ge.active&&Je(Ge)}),fe.value&&fe.value.forEach(Ge=>{Ge&&Ge.active&&Fe(Ge)}),ee.value?Qe():Oe(),X.value&&(U.value.x!==0||U.value.y!==0)&&Ie(),ee.value&&oe.active&&De(),Z&&Z("eyeTouch"),window.scriptExecutionService){const Ge=window.scriptExecutionService.globalScriptData.crossCanvasTest;Ge&&Ge.timestamp>(window.lastCrossCanvasRender||0)&&(console.log("EyeTouchVisualizer: Rendering cross-canvas test elements"),window.lastCrossCanvasRender=Ge.timestamp,Ge.drawElements.forEach(Xe=>{Xe.type==="circle"?ke(Xe.x,Xe.y,Xe.radius,Xe.color):Xe.type==="text"&&Ue(Xe.x,Xe.y,Xe.text,Xe.fontSize,Xe.color)}),Ue(-7,7,Ge.message,10,"#ffff00"))}}catch(Ge){console.error("Render error:",Ge),setTimeout(()=>{ge.value&&(Se=ge.value.getContext("2d"),Se&&!se.value&&je())},100)}}function ke(Ge,Xe,rt,at){const lt=$e(Ge,Xe);Se.save(),Se.fillStyle=at,Se.strokeStyle="#ffffff",Se.lineWidth=2,Se.beginPath(),Se.arc(lt.x,lt.y,rt,0,2*Math.PI),Se.fill(),Se.stroke(),Se.restore()}function Ue(Ge,Xe,rt,at,lt){const dt=$e(Ge,Xe);Se.save(),Se.fillStyle=lt,Se.font=`${at}px monospace`,Se.textAlign="center",Se.textBaseline="middle",Se.fillText(rt,dt.x,dt.y),Se.restore()}function He(){Se.strokeStyle="#333333",Se.lineWidth=1;for(let Ge=-10;Ge<=10;Ge+=5){const Xe=Ne.value.x+Ge*xe.value.x;Se.beginPath(),Se.moveTo(Xe,0),Se.lineTo(Xe,ve.value.height),Se.stroke()}for(let Ge=-10;Ge<=10;Ge+=5){const Xe=Ne.value.y-Ge*xe.value.y;Se.beginPath(),Se.moveTo(0,Xe),Se.lineTo(ve.value.width,Xe),Se.stroke()}Se.strokeStyle="#666666",Se.lineWidth=2,Se.beginPath(),Se.moveTo(Ne.value.x-10,Ne.value.y),Se.lineTo(Ne.value.x+10,Ne.value.y),Se.moveTo(Ne.value.x,Ne.value.y-10),Se.lineTo(Ne.value.x,Ne.value.y+10),Se.stroke()}function Me(){if(!(be.value.length<2)){Se.strokeStyle="#ff0000",Se.lineWidth=2,Se.beginPath();for(let Ge=0;Ge<be.value.length;Ge++){const Xe=$e(be.value[Ge].x,be.value[Ge].y);Ge===0?Se.moveTo(Xe.x,Xe.y):Se.lineTo(Xe.x,Xe.y)}Se.globalAlpha=.5,Se.stroke(),Se.globalAlpha=1}}function Je(Ge){const Xe=$e(Ge.center.x,Ge.center.y),rt={width:Ge.size.width*xe.value.x,height:Ge.size.height*xe.value.y},at=(le.value&1<<Ge.id)!==0;Se.strokeStyle=at?"#00ff00":"#ff0000",Se.lineWidth=at?3:1,Ge.type==="ellipse"?(Se.beginPath(),Se.ellipse(Xe.x,Xe.y,rt.width,rt.height,0,0,2*Math.PI),Se.stroke()):Se.strokeRect(Xe.x-rt.width/2,Xe.y-rt.height/2,rt.width,rt.height),ue.showLabels&&(Se.fillStyle=Se.strokeStyle,Se.font="12px monospace",Se.fillText(`E${Ge.id}`,Xe.x-rt.width/2+2,Xe.y-rt.height/2-5)),Se.fillRect(Xe.x-2,Xe.y-2,4,4)}function Fe(Ge){const Xe=$e(Ge.center.x,Ge.center.y),rt={width:Ge.size.width*xe.value.x,height:Ge.size.height*xe.value.y},at=(pe.value&1<<Ge.id)!==0;Se.strokeStyle=at?"#00ffff":"#0088aa",Se.lineWidth=at?3:1,Ge.type==="ellipse"?(Se.beginPath(),Se.ellipse(Xe.x,Xe.y,rt.width,rt.height,0,0,2*Math.PI),Se.stroke()):Se.strokeRect(Xe.x-rt.width/2,Xe.y-rt.height/2,rt.width,rt.height),ue.showLabels&&(Se.fillStyle=Se.strokeStyle,Se.font="12px monospace",Se.fillText(`T${Ge.id}`,Xe.x+rt.width/2-15,Xe.y+rt.height/2+15)),Se.fillStyle=Se.strokeStyle,Se.fillRect(Xe.x-2,Xe.y-2,4,4)}function Oe(){const Ge=$e(W.value.x,W.value.y);Se.fillStyle="#ffffff",Se.strokeStyle="#ff0000",Se.lineWidth=2,Se.beginPath(),Se.arc(Ge.x,Ge.y,5,0,2*Math.PI),Se.fill(),Se.stroke(),Se.strokeStyle="#ffffff",Se.lineWidth=1,Se.beginPath(),Se.moveTo(Ge.x-10,Ge.y),Se.lineTo(Ge.x+10,Ge.y),Se.moveTo(Ge.x,Ge.y-10),Se.lineTo(Ge.x,Ge.y+10),Se.stroke()}function Qe(){const Ge=$e(te.x,te.y);Se.fillStyle="#ffffff",Se.strokeStyle=te.isDragging?"#00ff00":"#ff8c00",Se.lineWidth=2,Se.beginPath(),Se.arc(Ge.x,Ge.y,8,0,2*Math.PI),Se.fill(),Se.stroke(),Se.strokeStyle="#000000",Se.lineWidth=1,Se.beginPath(),Se.moveTo(Ge.x-6,Ge.y),Se.lineTo(Ge.x+6,Ge.y),Se.moveTo(Ge.x,Ge.y-6),Se.lineTo(Ge.x,Ge.y+6),Se.stroke(),Se.fillStyle="#ff8c00",Se.font="bold 10px monospace",Se.fillText("V",Ge.x-3,Ge.y-12)}function Ie(){const Ge=Be(U.value.x,U.value.y),Xe=$e(Ge.x,Ge.y);Se.fillStyle="#00ffff",Se.strokeStyle="#0088aa",Se.lineWidth=2,Se.beginPath(),Se.moveTo(Xe.x,Xe.y-7),Se.lineTo(Xe.x+7,Xe.y),Se.lineTo(Xe.x,Xe.y+7),Se.lineTo(Xe.x-7,Xe.y),Se.closePath(),Se.fill(),Se.stroke()}function De(){const Ge=Be(oe.x,oe.y),Xe=$e(Ge.x,Ge.y);Se.fillStyle="#ff8c00",Se.strokeStyle="#cc6600",Se.lineWidth=2,Se.beginPath(),Se.moveTo(Xe.x,Xe.y-9),Se.lineTo(Xe.x+9,Xe.y),Se.lineTo(Xe.x,Xe.y+9),Se.lineTo(Xe.x-9,Xe.y),Se.closePath(),Se.fill(),Se.stroke(),Se.fillStyle="#ffffff",Se.font="bold 8px monospace",Se.fillText("V",Xe.x-2,Xe.y+2)}async function ot(){try{for(let Ge=0;Ge<8;Ge++)await dserv.essCommand(`ainGetRegionInfo ${Ge}`);for(let Ge=0;Ge<8;Ge++)await dserv.essCommand(`touchGetRegionInfo ${Ge}`)}catch(Ge){console.error("Failed to refresh windows:",Ge)}}function st(){ze(0,0),oe.active=!1,oe.x=0,oe.y=0}function et(){if(!he.value)return;const Ge=he.value.getBoundingClientRect(),Xe=20,rt=Math.min(Ge.width-Xe,Ge.height-Xe);ve.value={width:rt,height:rt},nextTick(()=>{ge.value&&!Se&&Ve(),ae.value&&!se.value&&je()})}function nt(Ge){try{const Xe=Ge.value||Ge.data;if(Ge.name==="ess/touch_region_setting"){if(!Xe||typeof Xe!="string"){console.warn("Invalid ess/touch_region_setting data:",Xe);return}const rt=Xe.split(" ");if(rt.length<8){console.warn("Insufficient ess/touch_region_setting data parts:",rt);return}const[at,lt,dt,ft,gt,ut,mt,vt]=rt.map(Number);if(rt.some(yt=>isNaN(Number(yt)))){console.warn("Invalid ess/touch_region_setting data:",{reg:at,active:lt,state:dt,type:ft,cx:gt,cy:ut,dx:mt,dy:vt,value:Xe});return}at>=0&&at<8&&(dserv.state.touchWindows||(dserv.state.touchWindows=Array(8).fill(null).map((yt,bt)=>({id:bt,active:!1,state:0,type:"rectangle",center:{x:0,y:0},centerRaw:{x:400,y:320},size:{width:2,height:2},sizeRaw:{width:100,height:100}}))),dserv.state.touchWindows[at]={id:at,active:lt===1,state:dt,type:ft===1?"ellipse":"rectangle",center:Be(gt,ut),centerRaw:{x:gt,y:ut},size:{width:Math.abs(mt/me.value.width*(2*me.value.halfX)),height:Math.abs(vt/me.value.height*(2*me.value.halfY))},sizeRaw:{width:mt,height:vt}})}}catch(Xe){console.error("Error handling touch window setting:",Xe,Ge)}}function it(Ge){try{const Xe=Ge.value||Ge.data;if(Ge.name==="ess/touch_region_status"){if(!Xe||typeof Xe!="string"){console.warn("Invalid ess/touch_region_status data:",Xe);return}const rt=Xe.split(" ");if(rt.length<4){console.warn("Insufficient ess/touch_region_status data parts:",rt);return}const[at,lt,dt,ft]=rt.map(Number);if(rt.some(vt=>isNaN(Number(vt)))){console.warn("Invalid ess/touch_region_status data:",{changes:at,states:lt,touch_x:dt,touch_y:ft,value:Xe});return}dserv.state.touchWindowStatusMask||(dserv.state.touchWindowStatusMask=0);const gt=dserv.state.touchWindowStatusMask;dserv.state.touchWindowStatusMask=lt,dserv.state.touchWindows||(dserv.state.touchWindows=Array(8).fill(null).map((vt,yt)=>({id:yt,active:!1,state:0,type:"rectangle",center:{x:0,y:0},centerRaw:{x:400,y:320},size:{width:2,height:2},sizeRaw:{width:100,height:100}})));for(let vt=0;vt<8;vt++)dserv.state.touchWindows[vt].state=(lt&1<<vt)!==0&&dserv.state.touchWindows[vt].active;const ut=dserv.state.touchWindows.some(vt=>vt.active),mt=lt!==0;!ut||!mt?(re.value&&clearTimeout(re.value),re.value=setTimeout(()=>{X.value=!1,U.value={x:0,y:0},re.value=null},TOUCH_CLEAR_DELAY)):(re.value&&(clearTimeout(re.value),re.value=null),X.value=!0),dt!==void 0&&ft!==void 0&&!isNaN(dt)&&!isNaN(ft)&&(U.value={x:dt,y:ft},mt&&(X.value=!0))}}catch(Xe){console.error("Error handling touch window status:",Xe,Ge)}}function ct(Ge){const Xe=Ge.value||Ge.data;switch(Ge.name){case"ess/screen_w":dserv.state.screenWidth||(dserv.state.screenWidth=800),dserv.state.screenWidth=parseInt(Xe,10);break;case"ess/screen_h":dserv.state.screenHeight||(dserv.state.screenHeight=600),dserv.state.screenHeight=parseInt(Xe,10);break;case"ess/screen_halfx":dserv.state.screenHalfX||(dserv.state.screenHalfX=10),dserv.state.screenHalfX=parseFloat(Xe);break;case"ess/screen_halfy":dserv.state.screenHalfY||(dserv.state.screenHalfY=7.5),dserv.state.screenHalfY=parseFloat(Xe);break}}let pt=null,ht=null;return onMounted(()=>{nextTick(()=>{if(Ve()){pt=dserv.registerComponent("EyeTouchVisualizer"),dserv.on("datapoint:ess/em_pos",we,"EyeTouchVisualizer"),dserv.on("datapoint:mtouch/touchvals",_e,"EyeTouchVisualizer"),dserv.on("datapoint:ess/touch_region_setting",nt,"EyeTouchVisualizer"),dserv.on("datapoint:ess/touch_region_status",it,"EyeTouchVisualizer"),dserv.on("datapoint:ess/screen_w",ct,"EyeTouchVisualizer"),dserv.on("datapoint:ess/screen_h",ct,"EyeTouchVisualizer"),dserv.on("datapoint:ess/screen_halfx",ct,"EyeTouchVisualizer"),dserv.on("datapoint:ess/screen_halfy",ct,"EyeTouchVisualizer"),dserv.on("connection",rt=>{ce.value=rt.connected},"EyeTouchVisualizer"),ce.value=dserv.state.connected,ht=new ResizeObserver(()=>{et()}),he.value&&ht.observe(he.value),et(),je(),ce.value&&ot(),ze(0,0),console.log("EyeTouchVisualizer: Registering canvas with script service"),console.log("Canvas context available:",!!Se),console.log("Canvas size:",ve.value);const Ge=Q("eyeTouch",Se,{width:ve.value.width,height:ve.value.height,degreesHorizontal:ye.horizontal,degreesVertical:ye.vertical,type:"eyeTracking"});window.eyeTouchScriptCleanup=Ge;const{service:Xe}=useScriptExecution();window.scriptExecutionService=Xe,console.log("ScriptTestCanvas: Forced global service availability:",!!window.scriptExecutionService),window.quickEyeTouchTest=()=>{console.log("Quick eyeTouch test from ScriptTestCanvas..."),Xe&&Xe.canvasRegistry.has("eyeTouch")?(Xe.executeScript(`
          draw.drawCircle(0, 0, 15, { fillColor: '#ff0000' });
          draw.drawText(0, -3, 'QUICK TEST', { fontSize: 12, color: '#ffffff' });
        `,"quickTest","eyeTouch"),console.log("Quick test executed - check EyeTouch visualizer!")):console.error("EyeTouch canvas not available")}}}),document.addEventListener("mousemove",Ye),document.addEventListener("mouseup",Re)}),onUnmounted(()=>{qe(),re.value&&(clearTimeout(re.value),re.value=null),ht&&ht.disconnect(),document.removeEventListener("mousemove",Ye),document.removeEventListener("mouseup",Re),pt&&pt(),window.eyeTouchScriptCleanup&&(window.eyeTouchScriptCleanup(),window.eyeTouchScriptCleanup=null),ae.value=!1,Se=null}),watch(ae,Ge=>{Ge&&!se.value&&je()}),watch(()=>ue.showTrails,Ge=>{Ge||(be.value=[])}),watch(ee,Ge=>{Ge?((W.value.x!==0||W.value.y!==0)&&ze(W.value.x,W.value.y),ne.value=!0):(ne.value=!1,te.isDragging=!1,oe.active=!1)}),K({refreshWindows:ot,resetVirtualInput:st,getEyePosition:()=>W.value,getEyePositionRaw:()=>G.value,getTouchPosition:()=>U.value,getWindowStates:()=>de.value,getWindowStatusMask:()=>le.value,getTouchWindowStates:()=>fe.value,getTouchWindowStatusMask:()=>pe.value,getVirtualEyePosition:()=>({x:te.x,y:te.y}),getVirtualEyeADC:()=>({x:te.adcX,y:te.adcY}),setVirtualInputEnabled:Ge=>{ee.value=Ge}}),(Ge,Xe)=>{const rt=Checkbox,at=Space,lt=Button$1,dt=__unplugin_components_3$1,ft=__unplugin_components_4$1;return openBlock(),createElementBlock("div",_hoisted_1$e,[createBaseVNode("div",_hoisted_2$8,[createBaseVNode("div",_hoisted_3$7,[createBaseVNode("div",_hoisted_4$7,[Xe[2]||(Xe[2]=createBaseVNode("span",{style:{"font-size":"11px","text-align":"right"}},"Eye:",-1)),createBaseVNode("div",_hoisted_5$7,[(openBlock(),createElementBlock(Fragment,null,renderList(8,gt=>createBaseVNode("span",{key:gt-1,class:normalizeClass(["window-dot",{active:de.value[gt-1].active,inside:(le.value&1<<gt-1)!==0}])},toDisplayString(gt-1),3)),64))])]),createBaseVNode("div",_hoisted_6$6,[Xe[3]||(Xe[3]=createBaseVNode("span",{style:{"font-size":"11px","text-align":"right"}},"Touch:",-1)),createBaseVNode("div",_hoisted_7$6,[(openBlock(),createElementBlock(Fragment,null,renderList(8,gt=>createBaseVNode("span",{key:`touch-${gt-1}`,class:normalizeClass(["window-dot touch-dot",{active:fe.value[gt-1]?.active,inside:(pe.value&1<<gt-1)!==0}])},toDisplayString(gt-1),3)),64))])])])]),createBaseVNode("div",{class:"canvas-container",ref_key:"canvasContainer",ref:he},[createBaseVNode("canvas",{ref_key:"canvasRef",ref:ge,width:ve.value.width,height:ve.value.height,class:"visualization-canvas",onMousedown:Ze,onClick:Ke},null,40,_hoisted_8$6),createBaseVNode("div",_hoisted_9$6,[createBaseVNode("div",_hoisted_10$5,[createTextVNode(" Raw: "+toDisplayString(G.value.x)+", "+toDisplayString(G.value.y)+" ",1),X.value&&(U.value.x!==0||U.value.y!==0)?(openBlock(),createElementBlock("div",_hoisted_11$5," Touch: "+toDisplayString(U.value.x)+", "+toDisplayString(U.value.y),1)):createCommentVNode("",!0),ne.value&&ee.value?(openBlock(),createElementBlock("div",_hoisted_12$4," Virtual: "+toDisplayString(te.x.toFixed(2))+", "+toDisplayString(te.y.toFixed(2))+" ",1)):createCommentVNode("",!0)])])],512),createBaseVNode("div",_hoisted_13$4,[createVNode(ft,{align:"middle"},{default:withCtx(()=>[createVNode(dt,{span:24},{default:withCtx(()=>[createVNode(at,{size:"small",style:{width:"100%","justify-content":"space-between"}},{default:withCtx(()=>[createBaseVNode("div",null,[createVNode(at,{size:"small"},{default:withCtx(()=>[createVNode(rt,{checked:ue.showTrails,"onUpdate:checked":Xe[0]||(Xe[0]=gt=>ue.showTrails=gt),style:{"font-size":"11px"}},{default:withCtx(()=>Xe[4]||(Xe[4]=[createTextVNode("Trails")])),_:1,__:[4]},8,["checked"]),createVNode(rt,{checked:ee.value,"onUpdate:checked":Xe[1]||(Xe[1]=gt=>ee.value=gt),style:{"font-size":"11px"}},{default:withCtx(()=>Xe[5]||(Xe[5]=[createTextVNode("Virtual Input")])),_:1,__:[5]},8,["checked"])]),_:1})]),ee.value?(openBlock(),createBlock(lt,{key:0,size:"small",onClick:st,icon:h$1(unref(ReloadOutlined)),style:{padding:"1px 6px","font-size":"10px"}},{default:withCtx(()=>Xe[6]||(Xe[6]=[createTextVNode(" Reset Virtual ")])),_:1,__:[6]},8,["icon"])):createCommentVNode("",!0)]),_:1})]),_:1})]),_:1})])])}}},EyeTouchVisualizer=_export_sfc(_sfc_main$h,[["__scopeId","data-v-fb269d5c"]]),_hoisted_1$d={class:"compact-system-status",style:{height:"100%",display:"flex","flex-direction":"column","font-size":"11px",overflow:"hidden"}},_hoisted_2$7={style:{"flex-shrink":"0",padding:"4px 6px","border-bottom":"1px solid #e8e8e8",display:"flex","justify-content":"space-between","align-items":"center",background:"#fafafa"}},_hoisted_3$6={style:{display:"flex","align-items":"center",gap:"4px"}},_hoisted_4$6={style:{"flex-shrink":"0",display:"grid","grid-template-columns":"repeat(2, 1fr)",gap:"3px",padding:"4px",background:"#f8f8f8"}},_hoisted_5$6={style:{background:"white",padding:"3px 4px","border-radius":"3px","text-align":"center",border:"1px solid #e8e8e8"}},_hoisted_6$5={style:{"font-size":"8px",color:"#666"}},_hoisted_7$5={style:{background:"white",padding:"3px 4px","border-radius":"3px","text-align":"center",border:"1px solid #e8e8e8"}},_hoisted_8$5={style:{"font-weight":"500","font-size":"10px"}},_hoisted_9$5={style:{"font-size":"8px",color:"#666"}},_hoisted_10$4={style:{background:"white",padding:"3px 4px","border-radius":"3px","text-align":"center",border:"1px solid #e8e8e8"}},_hoisted_11$4={style:{"font-weight":"500","font-size":"10px"}},_hoisted_12$3={style:{"font-size":"8px",color:"#666"}},_hoisted_13$3={style:{background:"white",padding:"3px 4px","border-radius":"3px","text-align":"center",border:"1px solid #e8e8e8"}},_hoisted_14$2={style:{"font-weight":"500","font-size":"10px"}},_hoisted_15$2={style:{"font-size":"8px",color:"#666"}},_hoisted_16$2={style:{"font-size":"9px",padding:"2px 0"}},_hoisted_17$2={style:{height:"100%",display:"flex","flex-direction":"column",overflow:"hidden"}},_hoisted_18$2={style:{"flex-shrink":"0",padding:"3px 4px",display:"flex",gap:"3px",background:"#f8f8f8","border-bottom":"1px solid #e8e8e8"}},_hoisted_19$2={style:{flex:"1","overflow-y":"auto",padding:"2px"}},_hoisted_20$2={key:0,style:{padding:"8px","text-align":"center",color:"#666","font-size":"9px"}},_hoisted_21$2={style:{"font-family":"monospace","font-weight":"500","margin-bottom":"1px",color:"#333"}},_hoisted_22$2={style:{display:"flex","justify-content":"space-between","align-items":"center"}},_hoisted_23$1={style:{display:"flex",gap:"4px","align-items":"center"}},_hoisted_24$1={style:{"font-weight":"500"}},_hoisted_25$1={style:{color:"#666","font-size":"8px"}},_hoisted_26$1={style:{display:"flex",gap:"2px"}},_hoisted_27$1={style:{"font-size":"8px",color:"#666","margin-top":"1px"}},_hoisted_28$1={style:{"font-size":"9px",padding:"2px 0"}},_hoisted_29$1={style:{height:"100%","overflow-y":"auto",padding:"4px"}},_hoisted_30$1={style:{"margin-bottom":"6px"}},_hoisted_31$1={style:{display:"flex","flex-wrap":"wrap",gap:"2px"}},_hoisted_32$1={style:{"font-weight":"500",color:"#333"}},_hoisted_33$1={style:{"margin-bottom":"6px"}},_hoisted_34$1={style:{display:"flex",gap:"2px"}},_hoisted_35$1={style:{"font-weight":"500"}},_hoisted_36$1={style:{display:"flex","flex-wrap":"wrap",gap:"1px"}},_hoisted_37$1={style:{height:"100%","overflow-y":"auto",padding:"4px"}},_hoisted_38$1={style:{"margin-bottom":"6px",padding:"4px",background:"white",border:"1px solid #e8e8e8","border-radius":"3px"}},_hoisted_39$1={style:{display:"grid","grid-template-columns":"1fr 1fr",gap:"4px","font-size":"8px"}},_hoisted_40$1={style:{"font-weight":"500"}},_hoisted_41$1={style:{"font-weight":"500"}},_hoisted_42$1={style:{"margin-bottom":"6px",padding:"4px",background:"white",border:"1px solid #e8e8e8","border-radius":"3px"}},_hoisted_43$1={style:{display:"grid","grid-template-columns":"1fr 1fr",gap:"4px","font-size":"8px"}},_hoisted_44$1={style:{"font-weight":"500"}},_hoisted_45$1={style:{"font-weight":"500"}},_hoisted_46$1={style:{"margin-bottom":"6px",padding:"4px",background:"white",border:"1px solid #e8e8e8","border-radius":"3px"}},_hoisted_47$1={style:{"font-size":"8px"}},_hoisted_48$1={style:{display:"flex","justify-content":"space-between","margin-bottom":"1px"}},_hoisted_49$1={style:{"font-weight":"500"}},_hoisted_50$1={style:{display:"flex","justify-content":"space-between","margin-bottom":"1px"}},_hoisted_51$1={style:{"font-weight":"500"}},_hoisted_52$1={style:{display:"flex","justify-content":"space-between"}},_hoisted_53={style:{"font-weight":"500"}},_hoisted_54={style:{padding:"4px",background:"white",border:"1px solid #e8e8e8","border-radius":"3px"}},_hoisted_55={style:{"font-size":"8px"}},_hoisted_56={style:{display:"flex","justify-content":"space-between","margin-bottom":"1px"}},_hoisted_57={style:{"font-weight":"500"}},_hoisted_58={style:{display:"flex","justify-content":"space-between"}},_hoisted_59={style:{"font-weight":"500"}},_sfc_main$g={__name:"SystemStatus",setup(H){const K=ref("datapoints"),W=ref(!0),G=ref(!1),U=ref("all"),X=ref("all"),Q=ref(null);let Z=null;const ee=computed(()=>Q.value?.connection?.connected?"#52c41a":"#f5222d"),ne=computed(()=>{const Ee=Q.value?.connection?.uptime||0;if(!Ee)return"0s";const Te=Math.floor(Ee/1e3),Be=Math.floor(Te/60),Ae=Math.floor(Be/60);return Ae>0?`${Ae}h ${Be%60}m`:Be>0?`${Be}m`:`${Te}s`}),te=computed(()=>Q.value?.messages?.messagesPerSecond||0),oe=computed(()=>{const Ee=Q.value?.messages?.bytesPerSecond||0;return Ee<1024?`${Ee}B`:`${(Ee/1024).toFixed(0)}KB`}),re=computed(()=>{const Ee=Q.value?.bandwidth?.currentKbps||0;return Ee<1024?`${Ee.toFixed(0)}K`:`${(Ee/1024).toFixed(1)}M`}),ae=computed(()=>{const Ee=Q.value?.bandwidth?.peakKbps||0;return Ee<1024?`${Ee.toFixed(0)}K peak`:`${(Ee/1024).toFixed(1)}M peak`}),se=computed(()=>{const Ee=Q.value?.bandwidth?.averageKbps||0;return Ee<1024?`${Ee.toFixed(0)}K`:`${(Ee/1024).toFixed(1)}M`}),ce=computed(()=>{const Ee=Q.value?.performance?.avgProcessingTime||0;return Ee<1?`${(Ee*1e3).toFixed(0)}s`:Ee<1e3?`${Ee.toFixed(1)}ms`:`${(Ee/1e3).toFixed(1)}s`}),de=computed(()=>{const Ee=Q.value?.performance?.maxProcessingTime||0;return Ee<1?`${(Ee*1e3).toFixed(0)}s max`:Ee<1e3?`${Ee.toFixed(1)}ms max`:`${(Ee/1e3).toFixed(1)}s max`}),le=computed(()=>(Q.value?.messages?.totalReceived||0).toLocaleString()),fe=computed(()=>(Q.value?.messages?.totalSent||0).toLocaleString()),pe=computed(()=>Q.value?.connection?.reconnectAttempts||0),me=computed(()=>{const Ee=new Set;return(Q.value?.datapoints||[]).forEach(Be=>{Be?.config?.category&&Ee.add(Be.config.category)}),Array.from(Ee).sort()}),ue=computed(()=>{let Ee=Q.value?.datapoints||[];return Ee=Ee.filter(Te=>Te&&Te.name&&Te.config),U.value!=="all"&&(Ee=Ee.filter(Te=>Te.config?.category===U.value)),X.value!=="all"&&(Ee=Ee.filter(Te=>Te.config?.priority===X.value)),Ee.sort((Te,Be)=>(Be.currentHz||0)-(Te.currentHz||0)).map(Te=>({name:Te.name,displayName:(Te.name||"unknown").replace("ess/",""),frequency:(Te.currentHz||0).toFixed(1)+"Hz",expected:Te.config?.expectedHz||"?",avgHz:(Te.avgHz||0).toFixed(1),maxHz:Te.maxHz||0,count:Te.count||0,healthColor:xe(Te.health),categoryColor:Ne(Te.config?.category),categoryCode:Te.config?.category?.substring(0,3).toUpperCase()||"UNK",priorityColor:$e(Te.config?.priority),priorityCode:Te.config?.priority?.substring(0,1).toUpperCase()||"?"}))}),ge=computed(()=>{const Ee=Q.value?.subscriptions?.byCategory;return!Ee||typeof Ee.entries!="function"?[]:Array.from(Ee.entries()).map(([Te,Be])=>({name:Te,count:Be}))}),he=computed(()=>{const Ee=Q.value?.subscriptions?.byPriority;return!Ee||typeof Ee.entries!="function"?[]:Array.from(Ee.entries()).map(([Te,Be])=>({name:Te,count:Be,color:$e(Te)}))}),ve=computed(()=>ge.value.reduce((Ee,Te)=>Ee+Te.count,0)),ye=computed(()=>["ExperimentControl","EyeTouchVisualizer","SystemStatus"]);function be(){G.value=!0;try{const{getSystemStatus:Ee}=useDservMonitoring();Q.value=Ee()}catch(Ee){console.error("Failed to refresh system status:",Ee)}finally{setTimeout(()=>{G.value=!1},200)}}function Se(){Z&&clearInterval(Z),Z=setInterval(be,1e3)}function Ce(){Z&&(clearInterval(Z),Z=null)}function xe(Ee){switch(Ee){case"healthy":return"#52c41a";case"slow":return"#faad14";case"stalled":return"#f5222d";case"too_fast":return"#722ed1";default:return"#d9d9d9"}}function Ne(Ee){return Ee&&{eye_tracking:"#1890ff",performance:"#52c41a",experiment:"#faad14",configuration:"#722ed1",state:"#13c2c2",scripts:"#eb2f96",sensors:"#f5222d",neural:"#fa541c"}[Ee]||"#d9d9d9"}function $e(Ee){if(!Ee)return"#d9d9d9";switch(Ee){case"high":return"#f5222d";case"medium":return"#faad14";case"low":return"#1890ff";default:return"#d9d9d9"}}return onMounted(()=>{console.log("Clean Compact SystemStatus mounted"),be();const Ee=watch(W,Te=>{Te?Se():Ce()},{immediate:!0});onUnmounted(()=>{Ce(),Ee()})}),(Ee,Te)=>{const Be=__unplugin_components_3,Ae=Button$1,ze=SelectOption,We=Select,Le=__unplugin_components_8,Ze=Tabs;return openBlock(),createElementBlock("div",_hoisted_1$d,[createBaseVNode("div",_hoisted_2$7,[createBaseVNode("div",_hoisted_3$6,[createVNode(Be,{checked:W.value,"onUpdate:checked":Te[0]||(Te[0]=Ye=>W.value=Ye),size:"small",style:{transform:"scale(0.8)"}},null,8,["checked"]),Te[4]||(Te[4]=createBaseVNode("span",{style:{"font-size":"9px",color:"#666"}},"Auto",-1))]),createVNode(Ae,{size:"small",onClick:be,loading:G.value&&!W.value,type:"text",style:{height:"18px",width:"18px",padding:"0","font-size":"10px"},icon:h$1(unref(ReloadOutlined))},null,8,["loading","icon"])]),createBaseVNode("div",_hoisted_4$6,[createBaseVNode("div",_hoisted_5$6,[createBaseVNode("div",{style:normalizeStyle$1({width:"6px",height:"6px",borderRadius:"50%",backgroundColor:ee.value,margin:"0 auto 1px"})},null,4),createBaseVNode("div",_hoisted_6$5,toDisplayString(ne.value),1)]),createBaseVNode("div",_hoisted_7$5,[createBaseVNode("div",_hoisted_8$5,toDisplayString(te.value)+"/s",1),createBaseVNode("div",_hoisted_9$5,toDisplayString(oe.value),1)]),createBaseVNode("div",_hoisted_10$4,[createBaseVNode("div",_hoisted_11$4,toDisplayString(re.value),1),createBaseVNode("div",_hoisted_12$3,toDisplayString(ae.value),1)]),createBaseVNode("div",_hoisted_13$3,[createBaseVNode("div",_hoisted_14$2,toDisplayString(ce.value),1),createBaseVNode("div",_hoisted_15$2,toDisplayString(de.value),1)])]),createVNode(Ze,{activeKey:K.value,"onUpdate:activeKey":Te[3]||(Te[3]=Ye=>K.value=Ye),size:"small",style:{flex:"1",overflow:"hidden"},"tab-bar-style":{margin:"0",padding:"0 4px",background:"#fafafa",borderBottom:"1px solid #e8e8e8",minHeight:"24px"}},{default:withCtx(()=>[createVNode(Le,{key:"datapoints",style:{height:"100%",overflow:"hidden"}},{tab:withCtx(()=>[createBaseVNode("span",_hoisted_16$2," Datapoints ("+toDisplayString(ue.value.length)+") ",1)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_17$2,[createBaseVNode("div",_hoisted_18$2,[createVNode(We,{value:U.value,"onUpdate:value":Te[1]||(Te[1]=Ye=>U.value=Ye),size:"small",style:{width:"80px","font-size":"9px"}},{default:withCtx(()=>[createVNode(ze,{value:"all"},{default:withCtx(()=>Te[5]||(Te[5]=[createTextVNode("All")])),_:1,__:[5]}),(openBlock(!0),createElementBlock(Fragment,null,renderList(me.value,Ye=>(openBlock(),createBlock(ze,{key:Ye,value:Ye},{default:withCtx(()=>[createTextVNode(toDisplayString(Ye.substring(0,8))+toDisplayString(Ye.length>8?"...":""),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"]),createVNode(We,{value:X.value,"onUpdate:value":Te[2]||(Te[2]=Ye=>X.value=Ye),size:"small",style:{width:"60px","font-size":"9px"}},{default:withCtx(()=>[createVNode(ze,{value:"all"},{default:withCtx(()=>Te[6]||(Te[6]=[createTextVNode("All")])),_:1,__:[6]}),createVNode(ze,{value:"high"},{default:withCtx(()=>Te[7]||(Te[7]=[createTextVNode("Hi")])),_:1,__:[7]}),createVNode(ze,{value:"medium"},{default:withCtx(()=>Te[8]||(Te[8]=[createTextVNode("Med")])),_:1,__:[8]}),createVNode(ze,{value:"low"},{default:withCtx(()=>Te[9]||(Te[9]=[createTextVNode("Lo")])),_:1,__:[9]})]),_:1},8,["value"])]),createBaseVNode("div",_hoisted_19$2,[ue.value.length===0?(openBlock(),createElementBlock("div",_hoisted_20$2," No datapoints available ")):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(ue.value,Ye=>(openBlock(),createElementBlock("div",{key:Ye.name,style:{padding:"2px 4px","margin-bottom":"1px",background:"white",border:"1px solid #f0f0f0","border-radius":"2px","font-size":"9px"}},[createBaseVNode("div",_hoisted_21$2,toDisplayString(Ye.displayName),1),createBaseVNode("div",_hoisted_22$2,[createBaseVNode("div",_hoisted_23$1,[createBaseVNode("span",_hoisted_24$1,toDisplayString(Ye.frequency),1),createBaseVNode("span",_hoisted_25$1,"/ "+toDisplayString(Ye.expected),1),createBaseVNode("div",{style:normalizeStyle$1({width:"6px",height:"6px",borderRadius:"50%",backgroundColor:Ye.healthColor})},null,4)]),createBaseVNode("div",_hoisted_26$1,[createBaseVNode("span",{style:normalizeStyle$1({fontSize:"7px",padding:"1px 3px",borderRadius:"2px",backgroundColor:Ye.categoryColor,color:"white"})},toDisplayString(Ye.categoryCode),5),createBaseVNode("span",{style:normalizeStyle$1({fontSize:"7px",padding:"1px 3px",borderRadius:"2px",backgroundColor:Ye.priorityColor,color:"white"})},toDisplayString(Ye.priorityCode),5)])]),createBaseVNode("div",_hoisted_27$1," Avg: "+toDisplayString(Ye.avgHz)+"  Max: "+toDisplayString(Ye.maxHz)+"  Count: "+toDisplayString(Ye.count),1)]))),128))])])]),_:1}),createVNode(Le,{key:"components",style:{height:"100%",overflow:"hidden"}},{tab:withCtx(()=>[createBaseVNode("span",_hoisted_28$1," Components ("+toDisplayString(ve.value)+") ",1)]),default:withCtx(()=>[createBaseVNode("div",_hoisted_29$1,[createBaseVNode("div",_hoisted_30$1,[Te[10]||(Te[10]=createBaseVNode("div",{style:{"font-size":"9px","font-weight":"500","margin-bottom":"2px",color:"#666"}},"By Category",-1)),createBaseVNode("div",_hoisted_31$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ge.value,Ye=>(openBlock(),createElementBlock("div",{key:Ye.name,style:{"font-size":"8px",padding:"1px 4px",background:"#f0f0f0","border-radius":"2px",display:"flex","align-items":"center",gap:"2px"}},[createBaseVNode("span",null,toDisplayString(Ye.name),1),createBaseVNode("span",_hoisted_32$1,toDisplayString(Ye.count),1)]))),128))])]),createBaseVNode("div",_hoisted_33$1,[Te[11]||(Te[11]=createBaseVNode("div",{style:{"font-size":"9px","font-weight":"500","margin-bottom":"2px",color:"#666"}},"By Priority",-1)),createBaseVNode("div",_hoisted_34$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(he.value,Ye=>(openBlock(),createElementBlock("div",{key:Ye.name,style:normalizeStyle$1({fontSize:"8px",padding:"1px 4px",borderRadius:"2px",backgroundColor:Ye.color,color:"white",display:"flex",alignItems:"center",gap:"2px"})},[createBaseVNode("span",null,toDisplayString(Ye.name),1),createBaseVNode("span",_hoisted_35$1,toDisplayString(Ye.count),1)],4))),128))])]),createBaseVNode("div",null,[Te[12]||(Te[12]=createBaseVNode("div",{style:{"font-size":"9px","font-weight":"500","margin-bottom":"2px",color:"#666"}},"Active Components",-1)),createBaseVNode("div",_hoisted_36$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ye.value,Ye=>(openBlock(),createElementBlock("div",{key:Ye,style:{"font-size":"8px",padding:"1px 3px",background:"#e6f7ff",border:"1px solid #91d5ff","border-radius":"2px",color:"#1890ff"}},toDisplayString(Ye),1))),128))])])])]),_:1}),createVNode(Le,{key:"performance",style:{height:"100%",overflow:"hidden"}},{tab:withCtx(()=>Te[13]||(Te[13]=[createBaseVNode("span",{style:{"font-size":"9px",padding:"2px 0"}}," Performance ",-1)])),default:withCtx(()=>[createBaseVNode("div",_hoisted_37$1,[createBaseVNode("div",_hoisted_38$1,[Te[16]||(Te[16]=createBaseVNode("div",{style:{"font-size":"9px","font-weight":"500","margin-bottom":"3px",color:"#666"}},"Processing Times",-1)),createBaseVNode("div",_hoisted_39$1,[createBaseVNode("div",null,[Te[14]||(Te[14]=createBaseVNode("div",{style:{color:"#666"}},"Avg:",-1)),createBaseVNode("div",_hoisted_40$1,toDisplayString(ce.value),1)]),createBaseVNode("div",null,[Te[15]||(Te[15]=createBaseVNode("div",{style:{color:"#666"}},"Max:",-1)),createBaseVNode("div",_hoisted_41$1,toDisplayString(de.value),1)])])]),createBaseVNode("div",_hoisted_42$1,[Te[19]||(Te[19]=createBaseVNode("div",{style:{"font-size":"9px","font-weight":"500","margin-bottom":"3px",color:"#666"}},"Message Stats",-1)),createBaseVNode("div",_hoisted_43$1,[createBaseVNode("div",null,[Te[17]||(Te[17]=createBaseVNode("div",{style:{color:"#666"}},"Received:",-1)),createBaseVNode("div",_hoisted_44$1,toDisplayString(le.value),1)]),createBaseVNode("div",null,[Te[18]||(Te[18]=createBaseVNode("div",{style:{color:"#666"}},"Sent:",-1)),createBaseVNode("div",_hoisted_45$1,toDisplayString(fe.value),1)])])]),createBaseVNode("div",_hoisted_46$1,[Te[23]||(Te[23]=createBaseVNode("div",{style:{"font-size":"9px","font-weight":"500","margin-bottom":"3px",color:"#666"}},"Bandwidth",-1)),createBaseVNode("div",_hoisted_47$1,[createBaseVNode("div",_hoisted_48$1,[Te[20]||(Te[20]=createBaseVNode("span",{style:{color:"#666"}},"Current:",-1)),createBaseVNode("span",_hoisted_49$1,toDisplayString(re.value),1)]),createBaseVNode("div",_hoisted_50$1,[Te[21]||(Te[21]=createBaseVNode("span",{style:{color:"#666"}},"Average:",-1)),createBaseVNode("span",_hoisted_51$1,toDisplayString(se.value),1)]),createBaseVNode("div",_hoisted_52$1,[Te[22]||(Te[22]=createBaseVNode("span",{style:{color:"#666"}},"Peak:",-1)),createBaseVNode("span",_hoisted_53,toDisplayString(ae.value),1)])])]),createBaseVNode("div",_hoisted_54,[Te[26]||(Te[26]=createBaseVNode("div",{style:{"font-size":"9px","font-weight":"500","margin-bottom":"3px",color:"#666"}},"Connection",-1)),createBaseVNode("div",_hoisted_55,[createBaseVNode("div",_hoisted_56,[Te[24]||(Te[24]=createBaseVNode("span",{style:{color:"#666"}},"Uptime:",-1)),createBaseVNode("span",_hoisted_57,toDisplayString(ne.value),1)]),createBaseVNode("div",_hoisted_58,[Te[25]||(Te[25]=createBaseVNode("span",{style:{color:"#666"}},"Reconnects:",-1)),createBaseVNode("span",_hoisted_59,toDisplayString(pe.value),1)])])])])]),_:1})]),_:1},8,["activeKey"])])}}},SystemStatus=_export_sfc(_sfc_main$g,[["__scopeId","data-v-20c2e463"]]),_hoisted_1$c={class:"console-container"},_hoisted_2$6={class:"console-header"},_hoisted_3$5={class:"header-row-1"},_hoisted_4$5={class:"left-controls"},_hoisted_5$5={class:"title-section"},_hoisted_6$4={class:"tracing-toggle"},_hoisted_7$4={class:"tracing-text"},_hoisted_8$4={key:0,class:"log-counts"},_hoisted_9$4={class:"total-count"},_hoisted_10$3={key:0,class:"perf-indicator",title:"Performance mode active"},_hoisted_11$3={class:"right-controls"},_hoisted_12$2={class:"header-row-2"},_hoisted_13$2={class:"filter-controls"},_hoisted_14$1={key:0,class:"connection-warning"},_hoisted_15$1={key:0,class:"empty-state"},_hoisted_16$1={class:"empty-subtext"},_hoisted_17$1={key:1,class:"virtual-scroll-container"},_hoisted_18$1={class:"log-time"},_hoisted_19$1={class:"log-category"},_hoisted_20$1={class:"log-source"},_hoisted_21$1={class:"log-context"},_hoisted_22$1=["onClick"],_hoisted_23={key:2,class:"table-container"},_hoisted_24={key:0,class:"time-cell"},_hoisted_25={key:4,class:"context-cell"},_hoisted_26={class:"context-system"},_hoisted_27={class:"context-protocol"},_hoisted_28={class:"context-variant"},_hoisted_29={key:5,class:"text-cell"},_hoisted_30=["onClick"],_hoisted_31={class:"expanded-content"},_hoisted_32={class:"expanded-message"},_hoisted_33={key:0,class:"expanded-stack"},_hoisted_34={class:"stack-trace"},_hoisted_35={class:"console-footer"},_hoisted_36={class:"footer-left"},_hoisted_37={key:0,class:"entry-info"},_hoisted_38={key:0,class:"filter-indicator"},_hoisted_39={key:1,class:"filter-indicator"},_hoisted_40={key:2,class:"filter-indicator"},_hoisted_41={class:"footer-right"},_hoisted_42={class:"status-item"},_hoisted_43={class:"status-item"},_hoisted_44={key:0,class:"status-item perf-mode"},_hoisted_45={key:1,class:"status-item"},_hoisted_46={style:{display:"flex","align-items":"center",gap:"8px"}},_hoisted_47={key:0},_hoisted_48={style:{display:"grid","grid-template-columns":"auto 1fr",gap:"8px 16px","font-size":"12px"}},_hoisted_49={style:{"margin-bottom":"16px"}},_hoisted_50={style:{background:"#f5f5f5",padding:"12px","font-size":"12px","font-family":"monospace","white-space":"pre-wrap","max-height":"200px",overflow:"auto","border-radius":"4px"}},_hoisted_51={key:0},_hoisted_52={style:{background:"#f5f5f5",padding:"12px","font-size":"11px","font-family":"monospace","max-height":"150px",overflow:"auto","border-radius":"4px"}},MAX_ENTRIES=1e3,MAX_RECENT_ENTRIES=100,VIRTUAL_SCROLL_THRESHOLD=100,VIRTUAL_ITEM_HEIGHT=28,VIRTUAL_OVERSCAN=5,CACHE_SIZE=20,_sfc_main$f={__name:"EssConsole",setup(H){const K=ref(!1),W=ref(!1),G=ref(!0),U=ref("all"),X=ref(""),Q=ref(null),Z=ref(!1),ee=ref(null),ne=shallowRef([]),te=ref("all"),oe=ref(!1),re=ref(null),ae=ref("full"),se=ref(!0),ce=ref(0),de=ref(performance.now()),le=ref(0),fe=computed(()=>Ye.value.length*VIRTUAL_ITEM_HEIGHT),pe=ref([]),me=ref(!1),ue=ref({level:"info",category:"frontend",message:""}),ge=new Map,he=computed(()=>errorService.getLogs()),ve=computed(()=>errorService.getErrors()),ye=computed(()=>errorService.getLogCounts()),be=computed(()=>errorService.isTracingActive()),Se=computed(()=>{let Fe;switch(te.value){case"errors":Fe=ve.value;break;case"recent":Fe=errorService.getRecentLogs(MAX_RECENT_ENTRIES);break;case"all":default:Fe=he.value}return Fe.length>MAX_ENTRIES?Fe.slice(-MAX_ENTRIES):Fe}),Ce=computed(()=>Se.value),xe=Fe=>Fe.split(`
`)[0],Ne=Fe=>Fe.includes(`
`),$e=Fe=>{const Oe=[...ne.value],Qe=Oe.indexOf(Fe);Qe===-1?Oe.push(Fe):Oe.splice(Qe,1),ne.value=Oe},Ee=(Fe,Oe)=>{if(Fe)ne.value.includes(Oe.id)||(ne.value=[...ne.value,Oe.id]);else{const Qe=ne.value.indexOf(Oe.id);if(Qe!==-1){const Ie=[...ne.value];Ie.splice(Qe,1),ne.value=Ie}}},Te=async()=>{if(!K.value){K.value=!0;try{await errorService.toggleTracing(),api$1.success(`Error tracing ${be.value?"enabled":"disabled"}`)}catch(Fe){console.error("Failed to toggle error tracing:",Fe),api$1.error("Failed to toggle error tracing")}finally{K.value=!1}}},Be=async()=>{try{await errorService.setDebugMode(oe.value),api$1.success(`Debug mode ${oe.value?"enabled":"disabled"}`)}catch(Fe){console.error("Failed to toggle debug mode:",Fe),api$1.error("Failed to toggle debug mode"),oe.value=!oe.value}},Ae=()=>{ge.clear(),te.value==="errors"?(errorService.clearErrors(),api$1.success("Errors cleared")):(errorService.clearLogs(),api$1.success("All logs cleared")),ne.value=[]},ze=()=>{te.value==="errors"?(errorService.exportErrors(),api$1.success("Errors exported")):(errorService.exportLogs(),api$1.success("Logs exported"))},We=({key:Fe})=>{ue.value.level=Fe,me.value=!0},Le=async()=>{if(!ue.value.message.trim()){api$1.error("Please enter a message");return}try{await errorService.sendLogMessage(ue.value.level,ue.value.message,ue.value.category)?(api$1.success("Message sent to ESS"),me.value=!1,ue.value.message=""):api$1.error("Failed to send message")}catch(Fe){console.error("Failed to send message:",Fe),api$1.error("Failed to send message")}},Ze=computed(()=>{const Fe=`${U.value}-${X.value}-${Ce.value.length}`;if(ge.has(Fe))return ge.get(Fe);let Oe=Ce.value;if(U.value!=="all"&&(Oe=Oe.filter(Qe=>Qe.level===U.value)),X.value){const Qe=X.value.toLowerCase();Oe=Oe.filter(Ie=>Ie.text.toLowerCase().includes(Qe)||Ie.category.toLowerCase().includes(Qe)||Ie.system.toLowerCase().includes(Qe)||Ie.protocol.toLowerCase().includes(Qe)||Ie.variant.toLowerCase().includes(Qe))}if(ge.size>=CACHE_SIZE){const Qe=ge.keys().next().value;ge.delete(Qe)}return ge.set(Fe,Oe),Oe}),Ye=computed(()=>Ze.value),Re=debounce$1(()=>{G.value&&nextTick(()=>{const Fe=ee.value;if(Fe?.querySelector){const Oe=Fe.querySelector(".ant-table-body");Oe&&requestAnimationFrame(()=>{Oe.scrollTop=Oe.scrollHeight})}})},100),Ke=debounce$1(Fe=>{X.value=Fe.target.value},300),we=ref(!1),_e=ref(null),Ve=()=>{const Fe=performance.now();Fe-de.value>50&&ce.value++,de.value=Fe,se.value&&ce.value>10&&Ye.value.length>200&&ae.value!=="reduced"&&(_e.value&&clearTimeout(_e.value),_e.value=setTimeout(()=>{ae.value!=="reduced"&&(ae.value="reduced",we.value||(api$1.info("Switched to performance mode for better responsiveness"),we.value=!0),ce.value=0)},500))},je=Fe=>{Fe||(ae.value="full",we.value=!1)},qe=throttle$1(Fe=>{if(ae.value!=="reduced"||Ye.value.length<=VIRTUAL_SCROLL_THRESHOLD)return;const Oe=Fe.target.scrollTop,Qe=Fe.target.clientHeight,Ie=Math.floor(Oe/VIRTUAL_ITEM_HEIGHT)-VIRTUAL_OVERSCAN,De=Math.ceil((Oe+Qe)/VIRTUAL_ITEM_HEIGHT)+VIRTUAL_OVERSCAN,ot=Math.max(0,Ie),st=Math.min(Ye.value.length,De);pe.value=Ye.value.slice(ot,st),le.value=ot*VIRTUAL_ITEM_HEIGHT},16),Pe=throttle$1(()=>{G.value&&Re(),Ve()},100);watch(Ce,Pe,{deep:!1});const ke=Fe=>{switch(Fe){case"error":return{icon:h$1(CloseCircleOutlined),color:"#ff4d4f"};case"warning":return{icon:h$1(ExclamationCircleOutlined),color:"#faad14"};case"info":return{icon:h$1(InfoCircleOutlined),color:"#1890ff"};case"debug":return{icon:h$1(CodeOutlined),color:"#722ed1"};case"general":return{icon:h$1(CodeOutlined),color:"#8c8c8c"};default:return{icon:h$1(CodeOutlined),color:"#8c8c8c"}}},Ue=Fe=>{switch(Fe){case"ess_backend":return"blue";case"tcl_error":return"red";case"frontend":return"green";default:return"default"}},He=Fe=>{Q.value=Fe,Z.value=!0},Me=Fe=>{switch(Fe.level){case"error":return"error-row";case"warning":return"warning-row";case"info":return"info-row";case"debug":return"debug-row";default:return""}},Je=[{title:"Time",dataIndex:"timeString",key:"time",width:90,fixed:"left"},{title:"Level",dataIndex:"level",key:"level",width:65},{title:"Category",dataIndex:"category",key:"category",width:70},{title:"Source",dataIndex:"source",key:"source",width:80},{title:"Context",key:"context",width:180},{title:"Message",dataIndex:"text",key:"text",ellipsis:!0}];return onMounted(()=>{console.log("ESS Console mounted - optimized version with performance improvements");const Fe=dserv.registerComponent("EssConsole");if(dserv.on("connection",({connected:Qe})=>{W.value=Qe},"EssConsole"),W.value=dserv.state.connected,re.value){const Qe=re.value.querySelector(".virtual-scroll-container");Qe&&Qe.addEventListener("scroll",qe)}const Oe=setInterval(Ve,1e3);onUnmounted(()=>{if(Fe(),clearInterval(Oe),ge.clear(),_e.value&&clearTimeout(_e.value),re.value){const Qe=re.value.querySelector(".virtual-scroll-container");Qe&&Qe.removeEventListener("scroll",qe)}})}),(Fe,Oe)=>{const Qe=__unplugin_components_0,Ie=__unplugin_components_3,De=Badge,ot=__unplugin_components_3$3,st=Button$1,et=__unplugin_components_5,nt=Menu,it=Dropdown,ct=SelectOption,pt=Select,ht=Input,Ge=Space,Xe=Tag$1,rt=__unplugin_components_6,at=Card,lt=Modal,dt=__unplugin_components_16,ft=__unplugin_components_17,gt=Form;return openBlock(),createElementBlock("div",_hoisted_1$c,[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("div",_hoisted_3$5,[createBaseVNode("div",_hoisted_4$5,[createBaseVNode("div",_hoisted_5$5,[createVNode(unref(CodeOutlined),{style:{"font-size":"16px",color:"#1890ff"}}),Oe[13]||(Oe[13]=createBaseVNode("span",{style:{"font-weight":"500"}},"ESS Console",-1))]),createVNode(Qe,{value:te.value,"onUpdate:value":Oe[0]||(Oe[0]=ut=>te.value=ut),size:"small",options:[{label:"Errors",value:"errors"},{label:"All",value:"all"},{label:"Recent",value:"recent"}]},null,8,["value"]),createBaseVNode("div",_hoisted_6$4,[createVNode(Ie,{size:"small",checked:be.value,"onUpdate:checked":Oe[1]||(Oe[1]=ut=>be.value=ut),loading:K.value,disabled:!W.value,onChange:Te},{checkedChildren:withCtx(()=>[createVNode(unref(EyeOutlined))]),unCheckedChildren:withCtx(()=>[createVNode(unref(EyeInvisibleOutlined))]),_:1},8,["checked","loading","disabled"]),createBaseVNode("span",_hoisted_7$4,toDisplayString(be.value?"Tracing":"Off"),1)]),ye.value.total>0?(openBlock(),createElementBlock("div",_hoisted_8$4,[createVNode(De,{count:ye.value.error,"number-style":{backgroundColor:"#ff4d4f",fontSize:"9px",height:"16px",minWidth:"16px",lineHeight:"16px"}},null,8,["count"]),createVNode(De,{count:ye.value.warning,"number-style":{backgroundColor:"#faad14",fontSize:"9px",height:"16px",minWidth:"16px",lineHeight:"16px"}},null,8,["count"]),createVNode(De,{count:ye.value.info,"number-style":{backgroundColor:"#1890ff",fontSize:"9px",height:"16px",minWidth:"16px",lineHeight:"16px"}},null,8,["count"]),createVNode(De,{count:ye.value.debug,"number-style":{backgroundColor:"#722ed1",fontSize:"9px",height:"16px",minWidth:"16px",lineHeight:"16px"}},null,8,["count"]),createBaseVNode("span",_hoisted_9$4,toDisplayString(ye.value.total),1),ae.value==="reduced"?(openBlock(),createElementBlock("span",_hoisted_10$3,"  ")):createCommentVNode("",!0)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_11$3,[createVNode(ot,{title:"Toggle performance mode"},{default:withCtx(()=>[createVNode(Ie,{size:"small",checked:se.value,"onUpdate:checked":Oe[2]||(Oe[2]=ut=>se.value=ut),onChange:je},{checkedChildren:withCtx(()=>Oe[14]||(Oe[14]=[createTextVNode("Auto")])),unCheckedChildren:withCtx(()=>Oe[15]||(Oe[15]=[createTextVNode("Full")])),_:1},8,["checked"])]),_:1}),createVNode(ot,{title:"Enable debug logging in ESS backend"},{default:withCtx(()=>[createVNode(Ie,{size:"small",checked:oe.value,"onUpdate:checked":Oe[3]||(Oe[3]=ut=>oe.value=ut),onChange:Be,disabled:!W.value},{checkedChildren:withCtx(()=>Oe[16]||(Oe[16]=[createTextVNode("Debug")])),unCheckedChildren:withCtx(()=>Oe[17]||(Oe[17]=[createTextVNode("No Debug")])),_:1},8,["checked","disabled"])]),_:1}),createVNode(it,{trigger:["click"]},{overlay:withCtx(()=>[createVNode(nt,{onClick:We},{default:withCtx(()=>[createVNode(et,{key:"info"},{default:withCtx(()=>Oe[19]||(Oe[19]=[createTextVNode("Send Info")])),_:1,__:[19]}),createVNode(et,{key:"warning"},{default:withCtx(()=>Oe[20]||(Oe[20]=[createTextVNode("Send Warning")])),_:1,__:[20]}),createVNode(et,{key:"error"},{default:withCtx(()=>Oe[21]||(Oe[21]=[createTextVNode("Send Error")])),_:1,__:[21]}),createVNode(et,{key:"debug"},{default:withCtx(()=>Oe[22]||(Oe[22]=[createTextVNode("Send Debug")])),_:1,__:[22]})]),_:1})]),default:withCtx(()=>[createVNode(st,{size:"small",disabled:!W.value},{default:withCtx(()=>[createVNode(unref(SendOutlined)),Oe[18]||(Oe[18]=createTextVNode(" Send "))]),_:1,__:[18]},8,["disabled"])]),_:1})])]),createBaseVNode("div",_hoisted_12$2,[createBaseVNode("div",_hoisted_13$2,[createVNode(ot,{title:"Auto-scroll to newest entries"},{default:withCtx(()=>[createVNode(Ie,{size:"small",checked:G.value,"onUpdate:checked":Oe[4]||(Oe[4]=ut=>G.value=ut)},{checkedChildren:withCtx(()=>Oe[23]||(Oe[23]=[createTextVNode("Auto")])),unCheckedChildren:withCtx(()=>Oe[24]||(Oe[24]=[createTextVNode("Manual")])),_:1},8,["checked"])]),_:1}),createVNode(pt,{size:"small",value:U.value,"onUpdate:value":Oe[5]||(Oe[5]=ut=>U.value=ut),style:{width:"90px"},placeholder:"Filter"},{default:withCtx(()=>[createVNode(ct,{value:"all"},{default:withCtx(()=>Oe[25]||(Oe[25]=[createTextVNode("All")])),_:1,__:[25]}),createVNode(ct,{value:"error"},{default:withCtx(()=>Oe[26]||(Oe[26]=[createTextVNode("Errors")])),_:1,__:[26]}),createVNode(ct,{value:"warning"},{default:withCtx(()=>Oe[27]||(Oe[27]=[createTextVNode("Warnings")])),_:1,__:[27]}),createVNode(ct,{value:"info"},{default:withCtx(()=>Oe[28]||(Oe[28]=[createTextVNode("Info")])),_:1,__:[28]}),createVNode(ct,{value:"debug"},{default:withCtx(()=>Oe[29]||(Oe[29]=[createTextVNode("Debug")])),_:1,__:[29]}),createVNode(ct,{value:"general"},{default:withCtx(()=>Oe[30]||(Oe[30]=[createTextVNode("General")])),_:1,__:[30]})]),_:1},8,["value"]),createVNode(ht,{size:"small",placeholder:"Search logs...",value:X.value,onInput:unref(Ke),style:{width:"140px"},"allow-clear":""},{prefix:withCtx(()=>[createVNode(unref(SearchOutlined))]),_:1},8,["value","onInput"])]),createVNode(Ge,{size:"small"},{default:withCtx(()=>[createVNode(ot,{title:"Clear all logs"},{default:withCtx(()=>[createVNode(st,{size:"small",icon:h$1(unref(ClearOutlined)),onClick:Ae,disabled:Ye.value.length===0},null,8,["icon","disabled"])]),_:1}),createVNode(ot,{title:"Export logs to CSV"},{default:withCtx(()=>[createVNode(st,{size:"small",icon:h$1(unref(DownloadOutlined)),onClick:ze,disabled:Ye.value.length===0},null,8,["icon","disabled"])]),_:1})]),_:1})])]),W.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_14$1,[createVNode(unref(WarningOutlined),{style:{"margin-right":"6px"}}),Oe[31]||(Oe[31]=createTextVNode(" Not connected to dserv - logging unavailable "))])),createBaseVNode("div",{class:"table-section",ref_key:"tableSection",ref:re},[Ye.value.length===0?(openBlock(),createElementBlock("div",_hoisted_15$1,[Se.value.length===0?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(unref(CodeOutlined),{class:"empty-icon"}),Oe[32]||(Oe[32]=createBaseVNode("div",{class:"empty-text"},"No log entries captured yet",-1)),createBaseVNode("div",_hoisted_16$1,toDisplayString(be.value?"Error tracing is active globally":"Enable error tracing to capture ESS logs"),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(unref(FilterOutlined),{class:"empty-icon"}),Oe[33]||(Oe[33]=createBaseVNode("div",{class:"empty-text"},"No entries match the current filter",-1))],64))])):ae.value==="reduced"&&Ye.value.length>100?(openBlock(),createElementBlock("div",_hoisted_17$1,[createBaseVNode("div",{class:"virtual-scroll-spacer",style:normalizeStyle$1({height:`${fe.value}px`})},null,4),createBaseVNode("div",{class:"virtual-scroll-viewport",style:normalizeStyle$1({transform:`translateY(${le.value}px)`})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(pe.value,ut=>(openBlock(),createElementBlock("div",{key:ut.id,class:normalizeClass(["virtual-log-row",Me(ut)])},[createBaseVNode("span",_hoisted_18$1,toDisplayString(ut.timeString),1),createVNode(Xe,{color:ke(ut.level).color,class:"level-tag"},{default:withCtx(()=>[createTextVNode(toDisplayString(ut.level.toUpperCase()),1)]),_:2},1032,["color"]),createBaseVNode("span",_hoisted_19$1,toDisplayString(ut.category),1),createBaseVNode("span",_hoisted_20$1,toDisplayString(ut.source),1),createBaseVNode("span",_hoisted_21$1,toDisplayString(ut.system)+"/"+toDisplayString(ut.protocol)+"/"+toDisplayString(ut.variant),1),createBaseVNode("span",{class:"log-text",onClick:mt=>He(ut)},toDisplayString(xe(ut.text)),9,_hoisted_22$1)],2))),128))],4)])):(openBlock(),createElementBlock("div",_hoisted_23,[createVNode(rt,{ref_key:"logTable",ref:ee,columns:Je,"data-source":Ye.value,size:"small","row-key":"id",pagination:!1,scroll:{y:!0,x:800},"row-class-name":Me,"expand-row-by-click":!0,"expanded-row-keys":ne.value,onExpand:Ee,class:"console-table"},{bodyCell:withCtx(({column:ut,record:mt})=>[ut.key==="time"?(openBlock(),createElementBlock("span",_hoisted_24,toDisplayString(mt.timeString),1)):ut.key==="level"?(openBlock(),createBlock(Xe,{key:1,color:ke(mt.level).color,class:"level-tag"},{icon:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ke(mt.level).icon),{style:{"font-size":"10px"}}))]),default:withCtx(()=>[createTextVNode(" "+toDisplayString(mt.level.toUpperCase()),1)]),_:2},1032,["color"])):ut.key==="category"?(openBlock(),createBlock(Xe,{key:2,color:"default",class:"category-tag"},{default:withCtx(()=>[createTextVNode(toDisplayString(mt.category),1)]),_:2},1024)):ut.key==="source"?(openBlock(),createBlock(Xe,{key:3,color:Ue(mt.source),class:"source-tag"},{default:withCtx(()=>[createTextVNode(toDisplayString(mt.source),1)]),_:2},1032,["color"])):ut.key==="context"?(openBlock(),createElementBlock("div",_hoisted_25,[createVNode(ot,{title:`System: ${mt.system}`},{default:withCtx(()=>[createBaseVNode("span",_hoisted_26,toDisplayString(mt.system),1)]),_:2},1032,["title"]),Oe[34]||(Oe[34]=createBaseVNode("span",{class:"context-separator"},"/",-1)),createVNode(ot,{title:`Protocol: ${mt.protocol}`},{default:withCtx(()=>[createBaseVNode("span",_hoisted_27,toDisplayString(mt.protocol),1)]),_:2},1032,["title"]),Oe[35]||(Oe[35]=createBaseVNode("span",{class:"context-separator"},"/",-1)),createVNode(ot,{title:`Variant: ${mt.variant}`},{default:withCtx(()=>[createBaseVNode("span",_hoisted_28,toDisplayString(mt.variant),1)]),_:2},1032,["title"])])):ut.key==="text"?(openBlock(),createElementBlock("div",_hoisted_29,[createBaseVNode("div",{class:"text-content",onClick:vt=>He(mt)},toDisplayString(xe(mt.text)),9,_hoisted_30),Ne(mt.text)?(openBlock(),createBlock(st,{key:0,size:"small",type:"text",icon:h$1(ne.value.includes(mt.id)?unref(UpOutlined):unref(DownOutlined)),onClick:withModifiers(vt=>$e(mt.id),["stop"]),class:"expand-button"},null,8,["icon","onClick"])):createCommentVNode("",!0),createVNode(ot,{title:"View full details"},{default:withCtx(()=>[createVNode(st,{size:"small",type:"text",icon:h$1(unref(EllipsisOutlined)),onClick:withModifiers(vt=>He(mt),["stop"]),class:"detail-button"},null,8,["icon","onClick"])]),_:2},1024)])):createCommentVNode("",!0)]),expandedRowRender:withCtx(({record:ut})=>[createBaseVNode("div",_hoisted_31,[Oe[37]||(Oe[37]=createBaseVNode("div",{class:"expanded-header"},"Full Message:",-1)),createBaseVNode("div",_hoisted_32,toDisplayString(ut.text),1),ut.stackTrace&&ut.stackTrace.length>0?(openBlock(),createElementBlock("div",_hoisted_33,[Oe[36]||(Oe[36]=createBaseVNode("div",{class:"expanded-header"},"Stack Trace:",-1)),createBaseVNode("div",_hoisted_34,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ut.stackTrace,(mt,vt)=>(openBlock(),createElementBlock("div",{key:vt,class:normalizeClass(["stack-line",{"is-file":mt.isFile}])},toDisplayString(mt.line),3))),128))])])):createCommentVNode("",!0)])]),_:1},8,["data-source","expanded-row-keys"])]))],512),createBaseVNode("div",_hoisted_35,[createBaseVNode("div",_hoisted_36,[Ye.value.length>0?(openBlock(),createElementBlock("span",_hoisted_37,[createTextVNode(" Showing "+toDisplayString(Ye.value.length)+toDisplayString(Se.value.length!==Ye.value.length?` of
          ${Se.value.length}`:"")+" entries ",1),X.value?(openBlock(),createElementBlock("span",_hoisted_38,"(filtered)")):createCommentVNode("",!0),U.value!=="all"?(openBlock(),createElementBlock("span",_hoisted_39,"("+toDisplayString(U.value)+")",1)):createCommentVNode("",!0),Ce.value.length>MAX_ENTRIES?(openBlock(),createElementBlock("span",_hoisted_40,"(limited to "+toDisplayString(MAX_ENTRIES)+")")):createCommentVNode("",!0)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_41,[createBaseVNode("span",_hoisted_42,toDisplayString(te.value==="errors"?"Errors Only":te.value==="recent"?"Recent":"All Logs"),1),createBaseVNode("span",_hoisted_43,toDisplayString(W.value?be.value?"Tracing":"Connected":"Disconnected"),1),ae.value==="reduced"?(openBlock(),createElementBlock("span",_hoisted_44," Performance Mode ")):createCommentVNode("",!0),Se.value.length>0?(openBlock(),createElementBlock("span",_hoisted_45,toDisplayString(new Date(Se.value[Se.value.length-1].timestamp).toLocaleTimeString()),1)):createCommentVNode("",!0)])]),createVNode(lt,{open:Z.value,"onUpdate:open":Oe[7]||(Oe[7]=ut=>Z.value=ut),title:"Log Entry Details",width:"800px",footer:null},{title:withCtx(()=>[createBaseVNode("div",_hoisted_46,[Q.value?(openBlock(),createBlock(resolveDynamicComponent(ke(Q.value.level).icon),{key:0})):createCommentVNode("",!0),Oe[38]||(Oe[38]=createBaseVNode("span",null,"Log Entry Details",-1))])]),footer:withCtx(()=>[createVNode(st,{onClick:Oe[6]||(Oe[6]=ut=>Z.value=!1)},{default:withCtx(()=>Oe[48]||(Oe[48]=[createTextVNode("Close")])),_:1,__:[48]})]),default:withCtx(()=>[Q.value?(openBlock(),createElementBlock("div",_hoisted_47,[createVNode(at,{size:"small",style:{"margin-bottom":"16px"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_48,[Oe[39]||(Oe[39]=createBaseVNode("strong",null,"Time:",-1)),createBaseVNode("span",null,toDisplayString(Q.value.timeString),1),Oe[40]||(Oe[40]=createBaseVNode("strong",null,"Level:",-1)),createBaseVNode("span",null,toDisplayString(Q.value.level.toUpperCase()),1),Oe[41]||(Oe[41]=createBaseVNode("strong",null,"Category:",-1)),createBaseVNode("span",null,toDisplayString(Q.value.category),1),Oe[42]||(Oe[42]=createBaseVNode("strong",null,"Source:",-1)),createBaseVNode("span",null,toDisplayString(Q.value.source),1),Oe[43]||(Oe[43]=createBaseVNode("strong",null,"System:",-1)),createBaseVNode("span",null,toDisplayString(Q.value.system),1),Oe[44]||(Oe[44]=createBaseVNode("strong",null,"Protocol:",-1)),createBaseVNode("span",null,toDisplayString(Q.value.protocol),1),Oe[45]||(Oe[45]=createBaseVNode("strong",null,"Variant:",-1)),createBaseVNode("span",null,toDisplayString(Q.value.variant),1)])]),_:1}),createBaseVNode("div",_hoisted_49,[Oe[46]||(Oe[46]=createBaseVNode("div",{style:{"font-weight":"500","margin-bottom":"8px"}},"Message:",-1)),createBaseVNode("div",_hoisted_50,toDisplayString(Q.value.text),1)]),Q.value.stackTrace&&Q.value.stackTrace.length>0?(openBlock(),createElementBlock("div",_hoisted_51,[Oe[47]||(Oe[47]=createBaseVNode("div",{style:{"font-weight":"500","margin-bottom":"8px"}},"Stack Trace:",-1)),createBaseVNode("div",_hoisted_52,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Q.value.stackTrace,(ut,mt)=>(openBlock(),createElementBlock("div",{key:mt,style:normalizeStyle$1([{"margin-bottom":"4px"},{color:ut.isFile?"#1890ff":"#666"}])},toDisplayString(ut.line),5))),128))])])):createCommentVNode("",!0)])):createCommentVNode("",!0)]),_:1},8,["open"]),createVNode(lt,{open:me.value,"onUpdate:open":Oe[11]||(Oe[11]=ut=>me.value=ut),title:"Send Log Message",onOk:Le,onCancel:Oe[12]||(Oe[12]=ut=>me.value=!1)},{default:withCtx(()=>[createVNode(gt,{layout:"vertical"},{default:withCtx(()=>[createVNode(dt,{label:"Level"},{default:withCtx(()=>[createVNode(pt,{value:ue.value.level,"onUpdate:value":Oe[8]||(Oe[8]=ut=>ue.value.level=ut)},{default:withCtx(()=>[createVNode(ct,{value:"info"},{default:withCtx(()=>Oe[49]||(Oe[49]=[createTextVNode("Info")])),_:1,__:[49]}),createVNode(ct,{value:"warning"},{default:withCtx(()=>Oe[50]||(Oe[50]=[createTextVNode("Warning")])),_:1,__:[50]}),createVNode(ct,{value:"error"},{default:withCtx(()=>Oe[51]||(Oe[51]=[createTextVNode("Error")])),_:1,__:[51]}),createVNode(ct,{value:"debug"},{default:withCtx(()=>Oe[52]||(Oe[52]=[createTextVNode("Debug")])),_:1,__:[52]})]),_:1},8,["value"])]),_:1}),createVNode(dt,{label:"Category"},{default:withCtx(()=>[createVNode(ht,{value:ue.value.category,"onUpdate:value":Oe[9]||(Oe[9]=ut=>ue.value.category=ut),placeholder:"e.g., frontend, user, test"},null,8,["value"])]),_:1}),createVNode(dt,{label:"Message"},{default:withCtx(()=>[createVNode(ft,{value:ue.value.message,"onUpdate:value":Oe[10]||(Oe[10]=ut=>ue.value.message=ut),rows:3,placeholder:"Enter log message..."},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["open"])])}}},EssConsole=_export_sfc(_sfc_main$f,[["__scopeId","data-v-c83c07fe"]]);function useTclEditor(H={}){const K=ref(null),W=ref(!1),G={theme:oneDark,fontSize:"13px",fontFamily:'Monaco, Menlo, "Ubuntu Mono", monospace',tabSize:4,enableHistory:!0,enableSearch:!0,enableAutoIndent:!0,enableSmartTab:!0,keybindings:"default",...H},U=re=>{const ae=re.state,se=ae.selection.main,ce=ae.doc.lineAt(se.head),de=ae.doc.toString(),le=TclFormatter.splitLines(de),fe=ce.number-1;try{const pe=TclFormatter.calculateLineIndent(le,fe+1,G.tabSize),ue=`
`+" ".repeat(pe);return re.dispatch({changes:{from:se.head,insert:ue},selection:{anchor:se.head+ue.length}}),!0}catch(pe){console.error("Auto-indent error:",pe);const ue=`
`+ce.text.match(/^\s*/)[0];return re.dispatch({changes:{from:se.head,insert:ue},selection:{anchor:se.head+ue.length}}),!0}},X=re=>{const ae=re.state,se=ae.selection.main;if(!se.empty)return indentSelection(re);if(G.enableSmartTab){const ce=ae.doc.lineAt(se.head),de=ae.doc.toString(),le=TclFormatter.splitLines(de),fe=ce.number-1;try{const pe=TclFormatter.calculateLineIndent(le,fe,G.tabSize),ue=ce.text.match(/^(\s*)/),ge=ue?ue[1].length:0,he=ce.from,ve=he+ge,ye=" ".repeat(pe);return re.dispatch({changes:{from:he,to:ve,insert:ye},selection:{anchor:he+pe}}),!0}catch(pe){return console.error("Smart tab error:",pe),insertTab(re)}}else return insertTab(re)},Q=re=>{const{state:ae}=re,se=[];for(const ce of ae.selection.ranges){const de=ae.doc.lineAt(ce.from),le=de.text;if(le.trim().startsWith("#")){const fe=le.match(/^(\s*)#\s?/);fe&&se.push({from:de.from,to:de.from+fe[0].length,insert:fe[1]})}else{const fe=le.match(/^\s*/)[0];se.push({from:de.from+fe.length,insert:"# "})}}return se.length&&re.dispatch({changes:se}),!0},Z=(re=[])=>{const ae=[{key:"Tab",run:X},{key:"Shift-Tab",run:indentLess},{key:"Enter",run:G.enableAutoIndent?U:void 0},{key:"Ctrl-/",run:Q}];return G.enableSearch&&ae.push({key:"Ctrl-f",run:se=>(__vitePreload(async()=>{const{openSearchPanel:ce}=await Promise.resolve().then(()=>index);return{openSearchPanel:ce}},void 0).then(({openSearchPanel:ce})=>{ce(se)}),!0)}),G.enableHistory&&ae.push({key:"Ctrl-z",run:undo},{key:"Ctrl-y",run:redo},{key:"Ctrl-Shift-z",run:redo}),G.keybindings==="emacs"&&ae.push({key:"Ctrl-a",run:se=>{}},{key:"Ctrl-e",run:se=>{}},{key:"Ctrl-k",run:se=>{}}),[...ae,...re]},ee=(re,ae="",se=[],ce=null)=>{if(!re)return null;const de=[basicSetup,StreamLanguage.define(tcl),G.theme,EditorView.lineWrapping,EditorState.tabSize.of(G.tabSize)];G.enableHistory&&de.push(history$1()),G.enableSearch&&de.push(search(),highlightSelectionMatches()),de.push(keymap.of(Z(se))),G.enableSearch&&de.push(keymap.of(searchKeymap)),ce&&de.push(EditorView.updateListener.of(pe=>{if(pe.docChanged&&!W.value){const me=pe.state.doc.toString();ce(me,pe)}pe.docChanged&&G.enableAutoIndent&&setTimeout(()=>{},10)})),de.push(EditorView.theme({"&":{height:"100%"},".cm-scroller":{fontFamily:G.fontFamily,fontSize:G.fontSize},".cm-focused":{outline:"none"},".cm-editor":{height:"100%"},".cm-search":{backgroundColor:"#2d3748",border:"1px solid #4a5568",borderRadius:"4px"},".cm-search input":{backgroundColor:"#1a202c",color:"#e2e8f0",border:"1px solid #4a5568",borderRadius:"2px"}}));const le=EditorState.create({doc:ae,extensions:de}),fe=new EditorView({state:le,parent:re});return K.value=fe,fe},ne=(re,ae=!1)=>{if(K.value){if(W.value=!0,ae){const se=EditorState.create({doc:re,extensions:K.value.state.extensions});K.value.setState(se)}else K.value.dispatch({changes:{from:0,to:K.value.state.doc.length,insert:re}});nextTick(()=>{W.value=!1})}};return{editorView:K,createEditor:ee,updateContent:ne,formatContent:()=>{if(K.value)try{const re=K.value.state.doc.toString(),ae=TclFormatter.formatTclCode(re,G.tabSize);return ne(ae),ae}catch(re){return console.error("Format error:",re),null}},destroy:()=>{K.value&&(K.value.destroy(),K.value=null)},isUpdatingContent:W}}const _hoisted_1$b={class:"dev-script-editor"},_hoisted_2$5={class:"editor-toolbar"},_hoisted_3$4={class:"toolbar-left"},_hoisted_4$4={class:"toolbar-right"},_hoisted_5$4={class:"script-info"},_sfc_main$e={__name:"DevScriptEditor",props:{code:{type:String,default:""},isExecuting:{type:Boolean,default:!1}},emits:["update:code","execute","save","template-load"],setup(H,{emit:K}){const W=H,G=K,U=ref(null),X=ref(""),{editorView:Q,createEditor:Z,updateContent:ee,formatContent:ne,destroy:te}=useTclEditor({enableAutoIndent:!0,enableSmartTab:!0,enableSearch:!0,enableHistory:!0,keybindings:"default",fontSize:"13px"}),oe=computed(()=>W.code.split(`
`).length),re=[{key:"Ctrl-Enter",run:()=>(G("execute"),!0)},{key:"Ctrl-s",run:()=>(G("save"),!0)},{key:"Ctrl-Shift-f",run:()=>{const le=ne();return le&&G("update:code",le),!0}}],ae=le=>{G("update:code",le)};function se(){U.value&&Z(U.value,W.code,re,ae)}function ce(le){le&&W.code.trim()?Modal.confirm({title:"Replace current script?",content:"Loading a template will replace the current script content.",onOk:()=>{G("template-load",le),X.value=""},onCancel:()=>{X.value=""}}):le&&(G("template-load",le),X.value="")}function de(){W.code.trim()&&Modal.confirm({title:"Clear editor?",content:"This will remove all content from the editor.",onOk:()=>{G("update:code","")}})}return watch(()=>W.code,le=>{Q.value&&Q.value.state.doc.toString()!==le&&ee(le)}),onMounted(se),onUnmounted(te),(le,fe)=>{const pe=Button$1,me=__unplugin_components_2$1,ue=SelectOption,ge=Select;return openBlock(),createElementBlock("div",_hoisted_1$b,[createBaseVNode("div",_hoisted_2$5,[createBaseVNode("div",_hoisted_3$4,[createVNode(pe,{type:"primary",icon:h$1(unref(PlayCircleOutlined)),onClick:fe[0]||(fe[0]=he=>le.$emit("execute")),loading:H.isExecuting,disabled:!H.code.trim()},{default:withCtx(()=>fe[3]||(fe[3]=[createTextVNode(" Run Script ")])),_:1,__:[3]},8,["icon","loading","disabled"]),createVNode(pe,{onClick:fe[1]||(fe[1]=he=>le.$emit("save")),icon:h$1(unref(SaveOutlined)),disabled:!H.code.trim()},{default:withCtx(()=>fe[4]||(fe[4]=[createTextVNode(" Save ")])),_:1,__:[4]},8,["icon","disabled"]),createVNode(me,{type:"vertical"}),createVNode(ge,{value:X.value,"onUpdate:value":fe[2]||(fe[2]=he=>X.value=he),onChange:ce,placeholder:"Load template...",style:{width:"150px"},size:"small"},{default:withCtx(()=>[createVNode(ue,{value:""},{default:withCtx(()=>fe[5]||(fe[5]=[createTextVNode("Select template...")])),_:1,__:[5]}),createVNode(ue,{value:"basic_info"},{default:withCtx(()=>fe[6]||(fe[6]=[createTextVNode("System Info")])),_:1,__:[6]}),createVNode(ue,{value:"list_dgs"},{default:withCtx(()=>fe[7]||(fe[7]=[createTextVNode("List DGs")])),_:1,__:[7]}),createVNode(ue,{value:"load_stimdg"},{default:withCtx(()=>fe[8]||(fe[8]=[createTextVNode("Load StimDG")])),_:1,__:[8]}),createVNode(ue,{value:"dg_info"},{default:withCtx(()=>fe[9]||(fe[9]=[createTextVNode("DG Info")])),_:1,__:[9]}),createVNode(ue,{value:"dev_commands"},{default:withCtx(()=>fe[10]||(fe[10]=[createTextVNode("Dev Help")])),_:1,__:[10]})]),_:1},8,["value"]),createVNode(pe,{onClick:de,icon:h$1(unref(ClearOutlined)),size:"small",title:"Clear editor"},null,8,["icon"])]),createBaseVNode("div",_hoisted_4$4,[createBaseVNode("span",_hoisted_5$4,toDisplayString(oe.value)+" lines | TCL ",1)])]),createBaseVNode("div",{ref_key:"editorContainer",ref:U,class:"script-editor"},null,512),fe[11]||(fe[11]=createBaseVNode("div",{class:"editor-status"},[createBaseVNode("span",null,"Ready"),createBaseVNode("span",null,"Ctrl+Enter: Run | Ctrl+S: Save")],-1))])}}},DevScriptEditor=_export_sfc(_sfc_main$e,[["__scopeId","data-v-5511a42e"]]),_hoisted_1$a={class:"dg-table-view"},_hoisted_2$4={class:"table-info"},_hoisted_3$3={class:"info-left"},_hoisted_4$3={key:0,class:"array-info"},_hoisted_5$3={class:"info-right"},_hoisted_6$3={class:"table-container"},_hoisted_7$3={style:{"max-height":"60vh",overflow:"auto"}},_hoisted_8$3={key:0,class:"simple-array"},_hoisted_9$3={class:"array-index"},_hoisted_10$2={class:"array-value"},_hoisted_11$2={key:1,class:"scalar-value"},_sfc_main$d={__name:"DGTableView",props:{data:{type:[Array,Object],required:!0,default:()=>[]},name:{type:String,required:!0,default:"Unknown"}},emits:["reload"],setup(H,{emit:K}){const W=H,G=ref(!1),U=ref(null),X=ref(""),Q=ref(0),Z=ref([]),ee=computed(()=>{if(!W.data)return[];if(Z.value=[],W.data.rows&&W.data.arrays){const{rows:le,arrays:fe}=W.data,pe=Object.keys(fe);return Z.value=pe,le.map((me,ue)=>{const ge={_row_index:ue,...me};return pe.forEach(he=>{if(he in me&&typeof me[he]=="number"){const ve=me[he],ye=fe[he][ve];ge[he]=ye}}),ge})}return Array.isArray(W.data)?W.data.map((le,fe)=>({_row_index:fe,...le})):typeof W.data=="object"&&W.data.rows?W.data.rows.map((le,fe)=>({_row_index:fe,...le})):typeof W.data=="object"?[{_row_index:0,...W.data}]:[]}),ne=computed(()=>{if(!ee.value||ee.value.length===0)return[];const le=ee.value[0],fe=[];return Object.keys(le).forEach(pe=>{if(pe==="_row_index")return;const me=le[pe],ue=Array.isArray(me)||me&&typeof me=="object"&&"length"in me;fe.push({title:pe,dataIndex:pe,key:pe,width:ue?120:100,ellipsis:!ue,sorter:ue?!1:(ge,he)=>{const ve=ge[pe],ye=he[pe];return typeof ve=="number"&&typeof ye=="number"?ve-ye:String(ve).localeCompare(String(ye))},customRender:ue?({text:ge,record:he})=>ge&&ge.length!==void 0?h$1("span",{class:"array-link",onClick:()=>oe(ge,pe,he._row_index)},`array[${ge.length}]`):"":({text:ge})=>typeof ge=="number"&&!Number.isInteger(ge)?ge.toFixed(3):ge})}),fe});function te(le){return le._row_index}function oe(le,fe,pe){U.value=le,X.value=fe.replace(/_/g," ").replace(/\b\w/g,me=>me.toUpperCase()),Q.value=pe,G.value=!0}function re(le){return le.length>0&&Array.isArray(le[0])}const ae=computed(()=>{if(!Array.isArray(U.value)||!re(U.value))return[];const le=U.value[0];if(!Array.isArray(le))return[];const fe=[{title:"Row",dataIndex:"rowIndex",key:"rowIndex",width:60}];return le.forEach((pe,me)=>{fe.push({title:`Col ${me}`,dataIndex:`col_${me}`,key:`col_${me}`,width:80})}),fe}),se=computed(()=>!Array.isArray(U.value)||!re(U.value)?[]:U.value.map((le,fe)=>{const pe={rowIndex:fe,key:fe};return Array.isArray(le)&&le.forEach((me,ue)=>{pe[`col_${ue}`]=me}),pe}));function ce(){try{const le=de(ee.value),fe=new Blob([le],{type:"text/csv"}),pe=window.URL.createObjectURL(fe),me=document.createElement("a");me.href=pe,me.download=`${W.name}_export.csv`,me.click(),window.URL.revokeObjectURL(pe),api$1.success("Data exported successfully")}catch(le){api$1.error("Failed to export data"),console.error("Export error:",le)}}function de(le){if(!le||le.length===0)return"";const fe=Object.keys(le[0]).filter(me=>me!=="_row_index"),pe=[fe];return le.forEach(me=>{const ue=fe.map(ge=>{const he=me[ge];return Array.isArray(he)?`"[Array of ${he.length}]"`:typeof he=="object"?`"${JSON.stringify(he)}"`:`"${he}"`});pe.push(ue)}),pe.map(me=>me.join(",")).join(`
`)}return(le,fe)=>{const pe=Button$1,me=__unplugin_components_6,ue=Modal;return openBlock(),createElementBlock("div",_hoisted_1$a,[createBaseVNode("div",_hoisted_2$4,[createBaseVNode("div",_hoisted_3$3,[createBaseVNode("strong",null,toDisplayString(H.name),1),fe[4]||(fe[4]=createBaseVNode("span",{class:"separator"},"",-1)),createBaseVNode("span",null,toDisplayString(ee.value.length)+" rows",1),Z.value.length>0?(openBlock(),createElementBlock("span",_hoisted_4$3,[fe[2]||(fe[2]=createBaseVNode("span",{class:"separator"},"",-1)),fe[3]||(fe[3]=createBaseVNode("strong",null,"Arrays:",-1)),createTextVNode(" "+toDisplayString(Z.value.join(", ")),1)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_5$3,[createVNode(pe,{size:"small",onClick:fe[0]||(fe[0]=ge=>le.$emit("reload")),icon:h$1(unref(ReloadOutlined))},{default:withCtx(()=>fe[5]||(fe[5]=[createTextVNode(" Reload ")])),_:1,__:[5]},8,["icon"]),createVNode(pe,{size:"small",onClick:ce,icon:h$1(unref(DownloadOutlined))},{default:withCtx(()=>fe[6]||(fe[6]=[createTextVNode(" Export ")])),_:1,__:[6]},8,["icon"])])]),createBaseVNode("div",_hoisted_6$3,[createVNode(me,{columns:ne.value,"data-source":ee.value,size:"small",pagination:{pageSize:100,showSizeChanger:!0,showQuickJumper:!0,showTotal:(ge,he)=>`${he[0]}-${he[1]} of ${ge} rows`},scroll:{y:400,x:"max-content"},"row-key":te},null,8,["columns","data-source","pagination"])]),createVNode(ue,{open:G.value,"onUpdate:open":fe[1]||(fe[1]=ge=>G.value=ge),title:`${X.value} - Row ${Q.value}`,width:"80%",footer:null},{default:withCtx(()=>[createBaseVNode("div",_hoisted_7$3,[Array.isArray(U.value)?(openBlock(),createElementBlock(Fragment,{key:0},[re(U.value)?(openBlock(),createBlock(me,{key:1,columns:ae.value,"data-source":se.value,size:"small",pagination:!1,scroll:{y:400,x:"max-content"}},null,8,["columns","data-source"])):(openBlock(),createElementBlock("div",_hoisted_8$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(U.value,(ge,he)=>(openBlock(),createElementBlock("div",{key:he,class:"array-item"},[createBaseVNode("span",_hoisted_9$3,"["+toDisplayString(he)+"]:",1),createBaseVNode("span",_hoisted_10$2,toDisplayString(ge),1)]))),128))]))],64)):(openBlock(),createElementBlock("div",_hoisted_11$2,toDisplayString(U.value),1))])]),_:1},8,["open","title"])])}}},DGTableView=_export_sfc(_sfc_main$d,[["__scopeId","data-v-f8c4101d"]]),_hoisted_1$9={class:"dg-viewer"},_hoisted_2$3={class:"dg-controls"},_hoisted_3$2={class:"control-buttons"},_hoisted_4$2={key:0,class:"loading-state"},_hoisted_5$2={key:1,class:"dg-content"},_hoisted_6$2={key:1,class:"no-data-message"},_hoisted_7$2={key:2,class:"empty-state"},_hoisted_8$2={class:"empty-content"},_hoisted_9$2={class:"quick-actions"},_sfc_main$c={__name:"DynamicGroupViewer",setup(H,{expose:K}){const W=ref(""),G=ref(!1),U=ref([]),X=ref(""),Q=ref(""),Z=computed(()=>{const de=new Map;return U.value.forEach(le=>de.set(le.name,le)),de});async function ee(de=null){const le=de||W.value.trim();if(!le){api$1.warning("Please enter a DG name");return}G.value=!0,Q.value=le,console.log(`Loading DG: ${le}`);try{if(le.includes("/"))console.log(`Detected interp/dgname format: ${le}`);else{const ge=await dserv.essCommand(`dg_exists ${le}`);if(console.log(`DG exists check for ${le}:`,ge),ge!=="1"){api$1.error(`Dynamic group '${le}' does not exist`);return}const he=await dserv.essCommand(`lindex [dg_tclListnames ${le}] 0`),ve=await dserv.essCommand(`dl_length ${le}:${he}`),ye=parseInt(ve)||0;if(console.log(`DG ${le} has ${ye} rows`),ye===0){api$1.warning(`Dynamic group '${le}' exists but has no data`);return}}const pe=await dserv.essCommand("info commands dg_view");if(console.log("dg_view command check:",pe),!pe.includes("dg_view")){api$1.error("Backend command dg_view not available");return}console.log(`Calling dg_view ${le}`);const me=await dserv.essCommand(`dg_view ${le}`);console.log("dg_view result:",me);const ue=await dserv.essCommand("dservGet ess/dev_dg_data");console.log("Current ess/dev_dg_data value:",ue),api$1.success(`Loaded DG '${le}'`),de||(W.value="")}catch(fe){console.error("Failed to load DG:",fe),api$1.error(`Failed to load DG '${le}': ${fe.message}`)}finally{G.value=!1}}function ne(de){W.value=de,ee()}async function te(){Q.value&&await ee(Q.value)}function oe(){U.value=[],X.value="",Q.value="",api$1.info("Cleared all loaded DGs")}function re(de,le){le==="remove"&&ae(de)}function ae(de){const le=U.value.findIndex(fe=>fe.name===de);le>-1&&(U.value.splice(le,1),U.value.length>0?X.value=U.value[0].name:(X.value="",Q.value=""))}async function se(de){await ee(de)}function ce(de){try{const le=JSON.parse(de),fe=le.name||Q.value,pe=U.value.findIndex(ue=>ue.name===fe),me={name:fe,data:le,loadedAt:Date.now(),rows:le.rows?le.rows.length:Array.isArray(le)?le.length:0};pe>-1?U.value[pe]=me:U.value.push(me),X.value=fe,Q.value=fe}catch(le){console.error("Failed to process DG data:",le),api$1.error("Failed to process received DG data")}}return onMounted(()=>{console.log("DynamicGroupViewer mounted successfully");const de=dserv.registerComponent("DynamicGroupViewer");console.log("Adding explicit subscription to ess/dev_dg_data"),dserv.send({cmd:"subscribe",match:"ess/dev_dg_data",every:1}),dserv.on("datapoint:ess/dev_dg_data",le=>{if(console.log("=== DG Data Event Received ==="),console.log("Raw event data:",le),console.log("Data content:",le.data),console.log("Data type:",typeof le.data),console.log("Data length:",le.data?le.data.length:"null"),le.data)try{ce(le.data),console.log("Successfully processed DG data")}catch(fe){console.error("Error processing DG data:",fe)}else console.warn("Received empty DG data")},"DynamicGroupViewer"),dserv.on("datapoint:*",le=>{le.data&&le.data.name&&le.data.name.includes("dev_dg")&&console.log("=== ANY datapoint event with dev_dg ===",le)},"DynamicGroupViewer_Debug"),onUnmounted(()=>{de()})}),K({loadDG:ee,clearAllDGs:oe,getDGData:de=>Z.value.get(de)}),(de,le)=>{const fe=Input,pe=Button$1,me=__unplugin_components_2,ue=Spin,ge=__unplugin_components_8,he=Tabs,ve=Space;return openBlock(),createElementBlock("div",_hoisted_1$9,[createBaseVNode("div",_hoisted_2$3,[createVNode(me,{compact:"",style:{display:"flex"}},{default:withCtx(()=>[createVNode(fe,{value:W.value,"onUpdate:value":le[0]||(le[0]=ye=>W.value=ye),placeholder:"Enter DG name (e.g., stimdg)",onPressEnter:le[1]||(le[1]=()=>ee()),style:{flex:"1"}},null,8,["value"]),createVNode(pe,{type:"primary",onClick:le[2]||(le[2]=()=>ee()),loading:G.value,disabled:!W.value.trim()},{default:withCtx(()=>le[8]||(le[8]=[createTextVNode(" Load DG ")])),_:1,__:[8]},8,["loading","disabled"])]),_:1}),createBaseVNode("div",_hoisted_3$2,[createVNode(pe,{onClick:le[3]||(le[3]=()=>te()),icon:h$1(unref(ReloadOutlined)),disabled:!Q.value},{default:withCtx(()=>le[9]||(le[9]=[createTextVNode(" Refresh ")])),_:1,__:[9]},8,["icon","disabled"]),createVNode(pe,{onClick:le[4]||(le[4]=()=>oe()),icon:h$1(unref(ClearOutlined))},{default:withCtx(()=>le[10]||(le[10]=[createTextVNode(" Clear All ")])),_:1,__:[10]},8,["icon"])])]),G.value?(openBlock(),createElementBlock("div",_hoisted_4$2,[createVNode(ue,{size:"large"}),createBaseVNode("p",null,"Loading dynamic group: "+toDisplayString(W.value),1)])):U.value.length>0?(openBlock(),createElementBlock("div",_hoisted_5$2,[createVNode(he,{activeKey:X.value,"onUpdate:activeKey":le[5]||(le[5]=ye=>X.value=ye),type:"editable-card",onEdit:re,size:"small","destroy-inactive-tab-pane":!1},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(U.value,ye=>(openBlock(),createBlock(ge,{key:ye.name,tab:ye.name,closable:U.value.length>1},{default:withCtx(()=>[ye.data?(openBlock(),createBlock(DGTableView,{key:0,data:ye.data,name:ye.name,onReload:()=>se(ye.name)},null,8,["data","name","onReload"])):(openBlock(),createElementBlock("div",_hoisted_6$2," No data available for "+toDisplayString(ye.name),1))]),_:2},1032,["tab","closable"]))),128))]),_:1},8,["activeKey"])])):(openBlock(),createElementBlock("div",_hoisted_7$2,[createBaseVNode("div",_hoisted_8$2,[le[14]||(le[14]=createBaseVNode("div",{class:"empty-icon"},"",-1)),le[15]||(le[15]=createBaseVNode("h3",null,"No Dynamic Groups Loaded",-1)),le[16]||(le[16]=createBaseVNode("p",null,"Enter a DG name above to get started.",-1)),createBaseVNode("div",_hoisted_9$2,[le[13]||(le[13]=createBaseVNode("p",null,[createBaseVNode("strong",null,"Common DGs:")],-1)),createVNode(ve,{wrap:""},{default:withCtx(()=>[createVNode(pe,{size:"small",onClick:le[6]||(le[6]=()=>ne("ess/stimdg"))},{default:withCtx(()=>le[11]||(le[11]=[createTextVNode("stimdg")])),_:1,__:[11]}),createVNode(pe,{size:"small",onClick:le[7]||(le[7]=()=>ne("ess/trialdg"))},{default:withCtx(()=>le[12]||(le[12]=[createTextVNode("trialdg")])),_:1,__:[12]})]),_:1})])])]))])}}},DynamicGroupViewer=_export_sfc(_sfc_main$c,[["__scopeId","data-v-bc62f6bc"]]),_hoisted_1$8={class:"development-workspace-simple"},_hoisted_2$2={class:"results-section",style:{height:"100%"}},_hoisted_3$1={class:"results-grid-2x2"},_hoisted_4$1={class:"editor-panel"},_hoisted_5$1={class:"editor-content"},_hoisted_6$1={class:"graphics-panel"},_hoisted_7$1={class:"panel-header"},_hoisted_8$1={class:"graphics-controls"},_hoisted_9$1={class:"graphics-content"},_hoisted_10$1={key:0,class:"graphics-info"},_hoisted_11$1={class:"coord-info"},_hoisted_12$1={class:"terminal-panel"},_hoisted_13$1={class:"data-panel"},_sfc_main$b={__name:"DevelopmentWorkspace",setup(H,{expose:K}){const W=ref(""),G=ref(!1),U=ref(300),X=ref(700),Q=ref(null),Z=ref("graphics/dev"),ee=ref(640),ne=ref(480),te=ref(!1),oe=ref(null);computed(()=>X.value-U.value-5);const re=ref(null),ae=ref(null),se={basic_info:`# Basic system information
print "System: [dservGet ess/system]"
print "Protocol: [dservGet ess/protocol]"
print "Status: [dservGet ess/status]"`,load_stimdg:`# Load stimulus data
if {[dg_exists stimdg]} {
    set firstCol [lindex [dl_vars stimdg] 0]
    set trial_count [dl_length stimdg:$firstCol]
    print "Stimulus data: $trial_count trials"

    # Send to development viewer
    dg_view stimdg
} else {
    print "No stimulus data available"
}`,graphics_test_circle:`# Test graphics - circle
set gbuf_data {
  "commands": [
    {"cmd": "setwindow", "args": [0, 0, 640, 480]},
    {"cmd": "setcolor", "args": [1]},
    {"cmd": "circle", "args": [320, 240, 100, false]},
    {"cmd": "setcolor", "args": [4]},
    {"cmd": "fcircle", "args": [320, 240, 50, true]}
  ]
}
dservSet ${Z.value} $gbuf_data
print "Sent circle test to graphics canvas"`,graphics_test_text:`# Test graphics - text
set gbuf_data {
  "commands": [
    {"cmd": "setwindow", "args": [0, 0, 640, 480]},
    {"cmd": "setcolor", "args": [0]},
    {"cmd": "setfont", "args": ["Arial", 24]},
    {"cmd": "setjust", "args": [0]},
    {"cmd": "moveto", "args": [320, 240]},
    {"cmd": "drawtext", "args": ["Hello Graphics!"]}
  ]
}
dservSet ${Z.value} $gbuf_data
print "Sent text test to graphics canvas"`,graphics_complex:`# Complex graphics test
set gbuf_data {
  "commands": [
    {"cmd": "setwindow", "args": [0, 0, 640, 480]},
    {"cmd": "setcolor", "args": [2]},
    {"cmd": "filledrect", "args": [50, 50, 590, 430]},
    {"cmd": "setcolor", "args": [7]},
    {"cmd": "filledrect", "args": [60, 60, 580, 420]},
    {"cmd": "setcolor", "args": [0]},
    {"cmd": "setfont", "args": ["Arial", 20]},
    {"cmd": "setjust", "args": [0]},
    {"cmd": "moveto", "args": [320, 100]},
    {"cmd": "drawtext", "args": ["Graphics Test"]},
    {"cmd": "setcolor", "args": [1]},
    {"cmd": "line", "args": [100, 200, 540, 200]},
    {"cmd": "setcolor", "args": [4]},
    {"cmd": "circle", "args": [200, 300, 30, false]},
    {"cmd": "setcolor", "args": [6]},
    {"cmd": "fcircle", "args": [440, 300, 30, true]}
  ]
}
dservSet ${Z.value} $gbuf_data
print "Sent complex graphics test"`,dev_commands:`# Development commands available:
print "=== Development Commands ==="
print "loadDG <name>     - Load DG into data viewer"
print "listDGs           - List available dynamic groups"
print "dgInfo <name>     - Show DG information"
print "testGraphics      - Send test graphics data"
print "clearGraphics     - Clear graphics canvas"
print ""
print "Example: loadDG stimdg"`};function ce(Ne){const $e=Ne.trim().split(/\s+/),Ee=$e[0].toLowerCase(),Te=$e.slice(1);switch(Ee){case"loaddg":if(Te.length>0){const Be=Te[0];if(ae.value)return ae.value.loadDG(Be),`Loading DG: ${Be}`}return"Usage: loadDG <dgname>";case"listdgs":return de();case"dginfo":return Te.length>0?le(Te[0]):"Usage: dgInfo <dgname>";case"testgraphics":return ge(),"Sending test graphics data...";case"cleargraphics":return he(),"Graphics canvas cleared";case"setgraphicsstream":return Te.length>0?(Z.value=Te[0],`Graphics stream set to: ${Te[0]}`):"Usage: setGraphicsStream <streamid>";case"help":case"devhelp":return fe();default:return null}}async function de(){try{return await dserv.essCommand(`
      set dgs [dservKeys "*dg"]
      set result ""
      foreach dg $dgs {
        if {[dg_exists $dg]} {
          set firstCol [lindex [dl_vars $dg] 0]
          if {$firstCol != ""} {
            set rows [dl_length $dg:$firstCol]
            append result "$dg ($rows rows)\\n"
          }
        }
      }
      return $result
    `)||"No dynamic groups found"}catch(Ne){return`Error: ${Ne.message}`}}async function le(Ne){try{return await dserv.essCommand(`
      if {[dg_exists ${Ne}]} {
        set vars [dl_vars ${Ne}]
        set firstCol [lindex $vars 0]
        set rows [dl_length ${Ne}:$firstCol]
        set result "DG: ${Ne}\\nRows: $rows\\nColumns: [llength $vars]\\nVariables: $vars"
        return $result
      } else {
        return "DG '${Ne}' does not exist"
      }
    `)}catch($e){return`Error: ${$e.message}`}}function fe(){return`Development Commands:
  loadDG <name>           - Load DG into data viewer
  listDGs                 - List available dynamic groups
  dgInfo <name>           - Show DG information
  testGraphics            - Send test graphics data
  clearGraphics           - Clear graphics canvas
  setGraphicsStream <id>  - Set graphics stream ID
  help                    - Show this help

Examples:
  listDGs
  loadDG stimdg
  testGraphics
  setGraphicsStream graphics/main`}const pe=Ne=>{oe.value=Ne},me=Ne=>{re.value&&re.value.addLine(`Graphics click: canvas(${Ne.canvasX.toFixed(0)}, ${Ne.canvasY.toFixed(0)}) norm(${Ne.normalizedX.toFixed(1)}, ${Ne.normalizedY.toFixed(1)})`,"info")},ue=Ne=>{console.log("Graphics canvas ready in dev workspace:",Ne)},ge=async()=>{te.value=!0;try{const Ne={commands:[{cmd:"setwindow",args:[0,0,ee.value,ne.value]},{cmd:"setcolor",args:[1]},{cmd:"circle",args:[ee.value/2,ne.value/2,80,!1]},{cmd:"setcolor",args:[4]},{cmd:"fcircle",args:[ee.value/2,ne.value/2,40,!0]},{cmd:"setcolor",args:[0]},{cmd:"setfont",args:["Arial",16]},{cmd:"setjust",args:[0]},{cmd:"moveto",args:[ee.value/2,ne.value-50]},{cmd:"drawtext",args:[`Dev Test: ${new Date().toLocaleTimeString()}`]}]};Q.value&&Q.value.renderData(Ne),await dserv.essCommand(`dservSet ${Z.value} {${JSON.stringify(Ne)}}`),re.value&&re.value.addLine(`Test graphics sent to ${Z.value}`,"success")}catch(Ne){console.error("Failed to send test graphics:",Ne),re.value&&re.value.addLine(`Graphics test failed: ${Ne.message}`,"error")}finally{te.value=!1}},he=()=>{if(Q.value){const Ne={commands:[{cmd:"setwindow",args:[0,0,640,480]},{cmd:"setcolor",args:[7]},{cmd:"filledrect",args:[0,0,640,480]}]};Q.value.renderData(Ne),re.value&&re.value.addLine("Graphics canvas cleared","info")}};async function ve(){if(!W.value.trim()){api$1.warning("No script to execute");return}G.value=!0;try{const Ne=await dserv.essCommand(W.value);re.value&&re.value.logSuccess("Script executed successfully")}catch(Ne){re.value&&re.value.logError(`Script error: ${Ne.message}`)}finally{G.value=!1}}function ye(){api$1.info("Script saving not yet implemented")}function be(Ne){if(se[Ne]){let $e=se[Ne];Ne.startsWith("graphics_")&&($e=$e.replace("${graphicsStreamId.value}",Z.value)),W.value=$e,api$1.success(`Loaded template: ${Ne}`)}}const Se=()=>{const Ne=document.querySelector(".graphics-content");if(Ne&&Q.value){const $e=Ne.getBoundingClientRect(),Ee=$e.width-24,Te=$e.height-60,Be=640/480;let Ae,ze;Ee/Te>Be?(ze=Te,Ae=ze*Be):(Ae=Ee,ze=Ae/Be),Ae=Math.max(320,Math.floor(Ae)),ze=Math.max(240,Math.floor(ze)),(Ae!==ee.value||ze!==ne.value)&&(ee.value=Ae,ne.value=ze,Q.value&&Q.value.resize&&Q.value.resize(Ae,ze))}};function Ce(){const Ne=document.querySelector(".development-workspace-simple");if(Ne){const $e=Ne.getBoundingClientRect();$e.height>0&&(X.value=$e.height,Se())}}onMounted(()=>{console.log("Development Workspace with Graphics mounted"),W.value=se.basic_info,setTimeout(()=>{Ce(),Se()},100),window.addEventListener("resize",Ce),dserv.on("datapoint:print",Ne=>{re.value&&Ne.data&&re.value.addLine(`ESS: ${Ne.data}`,"normal")},"DevelopmentWorkspace_Print"),xe()});function xe(){setTimeout(()=>{if(re.value){const Ne=re.value.executeCommand;Ne&&(re.value.executeCommand=async function(){const $e=this.currentCommand.trim(),Ee=ce($e);if(Ee!==null){if(this.addLine(`ess> ${$e}`,"command"),typeof Ee=="string")this.addLine(Ee,"normal");else if(Ee instanceof Promise)try{const Te=await Ee;this.addLine(Te,"normal")}catch(Te){this.addLine(`Error: ${Te.message}`,"error")}this.currentCommand="";return}return Ne.call(this)},console.log("Terminal dev commands enabled (including graphics)"))}},500)}return onUnmounted(()=>{window.removeEventListener("resize",Ce),dserv.off("datapoint:print")}),K({executeScript:ve,setScript:Ne=>{W.value=Ne},testGraphics:ge,clearGraphics:he}),(Ne,$e)=>{const Ee=Input,Te=Button$1;return openBlock(),createElementBlock("div",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$1,[createBaseVNode("div",_hoisted_4$1,[$e[2]||($e[2]=createBaseVNode("div",{class:"panel-header"},"Script Editor",-1)),createBaseVNode("div",_hoisted_5$1,[createVNode(DevScriptEditor,{code:W.value,"onUpdate:code":$e[0]||($e[0]=Be=>W.value=Be),"is-executing":G.value,onExecute:ve,onSave:ye,onTemplateLoad:be},null,8,["code","is-executing"])])]),createBaseVNode("div",_hoisted_6$1,[createBaseVNode("div",_hoisted_7$1,[$e[5]||($e[5]=createBaseVNode("span",null,"Graphics Canvas",-1)),createBaseVNode("div",_hoisted_8$1,[createVNode(Ee,{value:Z.value,"onUpdate:value":$e[1]||($e[1]=Be=>Z.value=Be),placeholder:"Stream ID",size:"small",style:{width:"120px","margin-left":"8px"}},null,8,["value"]),createVNode(Te,{size:"small",onClick:ge,loading:te.value,style:{"margin-left":"4px"}},{default:withCtx(()=>$e[3]||($e[3]=[createTextVNode(" Test ")])),_:1,__:[3]},8,["loading"]),createVNode(Te,{size:"small",onClick:he,style:{"margin-left":"4px"}},{default:withCtx(()=>$e[4]||($e[4]=[createTextVNode(" Clear ")])),_:1,__:[4]})])]),createBaseVNode("div",_hoisted_9$1,[createVNode(GraphicsCanvas,{ref_key:"graphicsCanvasRef",ref:Q,width:ee.value,height:ne.value,"stream-id":Z.value,"show-stats":!0,"show-debug":!1,"auto-scale":!0,onMousemove:pe,onClick:me,onCanvasReady:ue,"canvas-class":"dev-graphics-canvas"},null,8,["width","height","stream-id"]),oe.value?(openBlock(),createElementBlock("div",_hoisted_10$1,[createBaseVNode("span",_hoisted_11$1," Canvas: ("+toDisplayString(oe.value.canvasX.toFixed(0))+", "+toDisplayString(oe.value.canvasY.toFixed(0))+") | Norm: ("+toDisplayString(oe.value.normalizedX.toFixed(1))+", "+toDisplayString(oe.value.normalizedY.toFixed(1))+") ",1)])):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_12$1,[$e[6]||($e[6]=createBaseVNode("div",{class:"panel-header"},"Terminal",-1)),createVNode(EssTerminal,{ref_key:"devTerminal",ref:re},null,512)]),createBaseVNode("div",_hoisted_13$1,[$e[7]||($e[7]=createBaseVNode("div",{class:"panel-header"},"Data Groups",-1)),createVNode(DynamicGroupViewer,{ref_key:"dgViewer",ref:ae},null,512)])])])])}}},DevelopmentWorkspace=_export_sfc(_sfc_main$b,[["__scopeId","data-v-8f4c09e8"]]),_hoisted_1$7={style:{"flex-shrink":"0",height:"32px",background:"#fafafa","border-bottom":"1px solid #d9d9d9",display:"flex","justify-content":"space-between","align-items":"center",padding:"0 12px"}},_hoisted_2$1={style:{display:"flex","align-items":"center",gap:"8px"}},_hoisted_3={style:{"font-size":"11px",color:"#666"}},_hoisted_4={style:{display:"flex","align-items":"center",gap:"4px"}},_hoisted_5={style:{height:"100%",display:"flex","flex-direction":"column"}},_hoisted_6={style:{flex:"0 0 auto",height:"450px","border-bottom":"1px solid #d9d9d9",display:"flex","flex-direction":"column"}},_hoisted_7={style:{flex:"1","min-height":"0",padding:"8px"}},_hoisted_8={style:{flex:"1","min-height":"0",display:"flex","flex-direction":"column"}},_hoisted_9={style:{flex:"1",padding:"8px",overflow:"auto"}},_hoisted_10={style:{flex:"1",display:"flex",overflow:"hidden"}},_hoisted_11={key:0,style:{height:"100%",overflow:"hidden"}},_hoisted_12={key:1,style:{flex:"1",display:"flex","flex-direction":"column",overflow:"hidden"}},_hoisted_13={style:{height:"100%",overflow:"hidden"}},_hoisted_14={style:{height:"100%",overflow:"hidden"}},_hoisted_15={style:{height:"100%",overflow:"hidden"}},_hoisted_16={style:{height:"100%",overflow:"hidden"}},_hoisted_17={style:{height:"100%",overflow:"hidden"}},_hoisted_18={style:{height:"100%",overflow:"hidden"}},_hoisted_19={style:{"flex-shrink":"0",height:"40px",padding:"8px","border-bottom":"1px solid #d9d9d9",display:"flex","justify-content":"space-between","align-items":"center",background:"white"}},_hoisted_20={style:{display:"flex","align-items":"center",gap:"8px"}},_hoisted_21={style:{"font-size":"10px",color:"#999"}},_hoisted_22={style:{flex:"1",overflow:"hidden"}},minSidebarWidth=250,maxSidebarWidth=600,_sfc_main$a={__name:"MainLayout",setup(H){const K=ref("Ready"),W=ref(!1),G=ref(!1),U=ref(null),X=ref(null),Q=ref(null),Z=ref(!0),ee=ref(180),ne=ref(!1),te=ref(350),oe=ref(null),re=ref(!1);function ae(){try{const{getSystemStatus:xe}=useDservMonitoring();oe.value=xe()}catch(xe){console.error("MainLayout - failed to get system status:",xe),oe.value=null}}const se=computed(()=>{const xe=oe.value;return xe?.connection?.connected?(xe?.datapoints||[]).some(Ee=>Ee?.config?.priority==="high"&&Ee?.config?.expectedHz>10?Ee.currentHz/(Ee.config.expectedHz||1)<.3:!1)?"warning":"success":"error"}),ce=computed(()=>{const xe=oe.value;return xe?.connection?.connected?(xe?.datapoints||[]).some(Ee=>Ee?.config?.priority==="high"&&Ee?.config?.expectedHz>10?Ee.currentHz/(Ee.config.expectedHz||1)<.3:!1)?"Data Stalled":"Healthy":"Disconnected"}),de=computed(()=>{const Ne=oe.value?.connection?.uptime||0;if(!Ne)return"0s";const $e=Math.floor(Ne/1e3),Ee=Math.floor($e/60),Te=Math.floor(Ee/60);return Te>0?`${Te}h ${Ee%60}m`:Ee>0?`${Ee}m ${$e%60}s`:`${$e}s`}),le=computed(()=>oe.value?.messages?.messagesPerSecond||0),fe=computed(()=>re.value?"orange":"default"),pe=computed(()=>re.value?"Connected":"Not Connected"),me=[{title:"Condition",dataIndex:"condition",key:"condition",width:100},{title:"% Correct",dataIndex:"correct",key:"correct",width:80},{title:"RT (ms)",dataIndex:"rt",key:"rt",width:80},{title:"N",dataIndex:"n",key:"n",width:60}],ue=ref([{key:"1",condition:"Easy",correct:95,rt:450,n:50},{key:"2",condition:"Hard",correct:78,rt:650,n:50}]);function ge(xe){xe.preventDefault(),window.addEventListener("mousemove",he),window.addEventListener("mouseup",ve)}function he(xe){const Ne=window.innerHeight-xe.clientY-24;Ne>40&&Ne<window.innerHeight*.9&&(ee.value=Ne)}function ve(){window.removeEventListener("mousemove",he),window.removeEventListener("mouseup",ve)}function ye(xe){xe.preventDefault(),window.addEventListener("mousemove",be),window.addEventListener("mouseup",Se)}function be(xe){const Ne=window.innerWidth-xe.clientX;Ne>=minSidebarWidth&&Ne<=maxSidebarWidth&&(te.value=Ne)}function Se(){window.removeEventListener("mousemove",be),window.removeEventListener("mouseup",Se)}function Ce(){ne.value=!ne.value}return watch(te,xe=>{localStorage.setItem("essgui-sidebar-width",xe.toString())}),watch(ne,xe=>{localStorage.setItem("essgui-sidebar-visible",xe.toString())}),watch(W,xe=>{localStorage.setItem("essgui-development-mode",xe.toString()),xe&&(ne.value=!1)}),onMounted(()=>{console.log("MainLayout mounted with development mode support"),ae(),setInterval(ae,1e3),dserv.on("datapoint:ess/rmt_connected",Ee=>{re.value=Ee.data==="1"||Ee.data===1},"MainLayout");const xe=localStorage.getItem("essgui-sidebar-width");if(xe){const Ee=parseInt(xe,10);Ee>=minSidebarWidth&&Ee<=maxSidebarWidth&&(te.value=Ee)}const Ne=localStorage.getItem("essgui-sidebar-visible");Ne&&(ne.value=Ne==="true");const $e=localStorage.getItem("essgui-development-mode");$e&&(W.value=$e==="true")}),(xe,Ne)=>{const $e=Badge,Ee=Tag$1,Te=__unplugin_components_2$1,Be=__unplugin_components_3,Ae=Button$1,ze=LayoutSider,We=__unplugin_components_6,Le=__unplugin_components_7,Ze=__unplugin_components_8,Ye=Tabs,Re=LayoutContent,Ke=__unplugin_components_11,we=Modal;return openBlock(),createBlock(Ke,{style:{height:"100vh","font-size":"13px"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$7,[createBaseVNode("div",_hoisted_2$1,[W.value?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[Ne[4]||(Ne[4]=createBaseVNode("span",{style:{"font-size":"11px",color:"#666"}},"System:",-1)),createVNode($e,{status:se.value,text:ce.value,style:{"font-size":"11px"}},null,8,["status","text"]),Ne[5]||(Ne[5]=createBaseVNode("span",{style:{"font-size":"11px",color:"#666","margin-left":"8px"}},"Stim:",-1)),createVNode(Ee,{color:fe.value,size:"small",style:{margin:"0","font-size":"10px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(pe.value),1)]),_:1},8,["color"])],64)),createVNode(Te,{type:"vertical",style:{margin:"0 8px"}}),createVNode(Be,{checked:W.value,"onUpdate:checked":Ne[0]||(Ne[0]=_e=>W.value=_e),size:"small","checked-children":"Dev","un-checked-children":"Exp"},null,8,["checked"]),createBaseVNode("span",_hoisted_3,toDisplayString(W.value?"Development":"Experiment")+" Mode ",1),W.value?(openBlock(),createBlock(Ee,{key:1,color:"processing",size:"small",style:{margin:"0","font-size":"10px"}},{default:withCtx(()=>Ne[6]||(Ne[6]=[createTextVNode("  Development Active ")])),_:1,__:[6]})):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_4,[W.value?createCommentVNode("",!0):(openBlock(),createBlock(Ae,{key:0,size:"small",type:"text",icon:h$1(ne.value?unref(EyeInvisibleOutlined):unref(EyeOutlined)),onClick:Ce,style:{"font-size":"11px",height:"24px",padding:"0 8px"},title:ne.value?"Hide System Monitor":"Show System Monitor"},{default:withCtx(()=>[createTextVNode(toDisplayString(ne.value?"Hide Monitor":"Show Monitor"),1)]),_:1},8,["icon","title"])),W.value?(openBlock(),createBlock(Ae,{key:1,size:"small",type:"text",icon:h$1(unref(QuestionCircleOutlined)),onClick:Ne[1]||(Ne[1]=_e=>G.value=!0),style:{"font-size":"11px",height:"24px",padding:"0 8px"},title:"Development Mode Help"},{default:withCtx(()=>Ne[7]||(Ne[7]=[createTextVNode(" Help ")])),_:1,__:[7]},8,["icon"])):createCommentVNode("",!0)])]),createVNode(Ke,{style:{height:"calc(100vh - 56px)"}},{default:withCtx(()=>[W.value?createCommentVNode("",!0):(openBlock(),createBlock(ze,{key:0,width:"290",theme:"light",style:{"border-right":"1px solid #d9d9d9"}},{default:withCtx(()=>[createVNode(ExperimentControl,{ref_key:"experimentControlRef",ref:X},null,512)]),_:1})),W.value?createCommentVNode("",!0):(openBlock(),createBlock(ze,{key:1,width:"320",theme:"light",style:{"border-right":"1px solid #d9d9d9",background:"white"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_5,[createBaseVNode("div",_hoisted_6,[Ne[8]||(Ne[8]=createBaseVNode("div",{style:{"flex-shrink":"0",padding:"8px","border-bottom":"1px solid #e8e8e8",background:"#fafafa"}},[createBaseVNode("span",{style:{"font-weight":"500","font-size":"12px"}},"Eye & Touch Tracking")],-1)),createBaseVNode("div",_hoisted_7,[createVNode(EyeTouchVisualizer,{style:{height:"100%"}})])]),createBaseVNode("div",_hoisted_8,[Ne[10]||(Ne[10]=createBaseVNode("div",{style:{"flex-shrink":"0",padding:"8px","border-bottom":"1px solid #e8e8e8",background:"#fafafa"}},[createBaseVNode("span",{style:{"font-weight":"500","font-size":"12px"}},"Performance Monitor")],-1)),createBaseVNode("div",_hoisted_9,[createVNode(We,{columns:me,"data-source":ue.value,size:"small",pagination:!1,scroll:{y:120},style:{"margin-bottom":"8px"}},null,8,["data-source"]),Ne[9]||(Ne[9]=createBaseVNode("div",{style:{display:"grid","grid-template-columns":"1fr 1fr",gap:"8px","margin-top":"8px"}},[createBaseVNode("div",{style:{padding:"4px 8px",background:"#f5f5f5","border-radius":"4px","text-align":"center"}},[createBaseVNode("div",{style:{"font-size":"10px",color:"#666"}},"Overall Accuracy"),createBaseVNode("div",{style:{"font-size":"14px","font-weight":"500"}},"86.5%")]),createBaseVNode("div",{style:{padding:"4px 8px",background:"#f5f5f5","border-radius":"4px","text-align":"center"}},[createBaseVNode("div",{style:{"font-size":"10px",color:"#666"}},"Avg RT"),createBaseVNode("div",{style:{"font-size":"14px","font-weight":"500"}},"550ms")])],-1))])])])]),_:1})),createVNode(Ke,{style:{display:"flex","flex-direction":"column",height:"100%",overflow:"hidden"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_10,[createVNode(Re,{style:{background:"white",flex:"1",display:"flex","flex-direction":"column",overflow:"hidden"}},{default:withCtx(()=>[W.value?(openBlock(),createElementBlock("div",_hoisted_11,[createVNode(DevelopmentWorkspace,{ref_key:"developmentWorkspaceRef",ref:Q},null,512)])):(openBlock(),createElementBlock("div",_hoisted_12,[createVNode(Ye,{size:"small",style:{height:"100%",display:"flex","flex-direction":"column"},"tab-position":"top"},{default:withCtx(()=>[createVNode(Ze,{key:"graphics",tab:"Graphics",style:{height:"100%",overflow:"hidden"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_13,[createVNode(Le,{"stream-id":"graphics/stimulus",title:"Stimulus Graphics"})])]),_:1}),createVNode(Ze,{key:"scripts",tab:"Scripts",style:{height:"100%",overflow:"hidden"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_14,[createVNode(Scripts)])]),_:1}),createVNode(Ze,{key:"stim",tab:"Stim",style:{height:"100%",overflow:"hidden"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_15,[createVNode(StimInfo)])]),_:1}),createVNode(Ze,{key:"system",tab:"System",style:{height:"100%",overflow:"hidden"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_16,[createVNode(StateSystemDiagram)])]),_:1}),createVNode(Ze,{key:"events",tab:"Events",style:{height:"100%",overflow:"hidden"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_17,[createVNode(EventTracker)])]),_:1}),createVNode(Ze,{key:"console",tab:"Console",style:{height:"100%",overflow:"hidden"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_18,[createVNode(EssConsole)])]),_:1})]),_:1})]))]),_:1}),!W.value&&ne.value?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",{class:"vertical-resizer",onMousedown:ye},null,32),createBaseVNode("div",{style:normalizeStyle$1({width:`${te.value}px`,flexShrink:0,borderLeft:"1px solid #d9d9d9",background:"#fafafa",display:"flex",flexDirection:"column",overflow:"hidden"})},[createBaseVNode("div",_hoisted_19,[createBaseVNode("div",_hoisted_20,[createVNode($e,{status:se.value},null,8,["status"]),Ne[11]||(Ne[11]=createBaseVNode("span",{style:{"font-weight":"500","font-size":"12px"}},"System Monitor",-1)),createBaseVNode("span",_hoisted_21,toDisplayString(de.value)+"  "+toDisplayString(le.value)+"/s ",1)]),createVNode(Ae,{size:"small",type:"text",icon:h$1(unref(CloseOutlined)),onClick:Ne[2]||(Ne[2]=_e=>ne.value=!1),style:{"font-size":"10px",width:"20px",height:"20px",padding:"0"}},null,8,["icon"])]),createBaseVNode("div",_hoisted_22,[createVNode(SystemStatus)])],4)],64)):createCommentVNode("",!0)]),!W.value&&Z.value?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("div",{class:"resizer",onMousedown:ge},null,32),createBaseVNode("div",{style:normalizeStyle$1({height:`${ee.value}px`,flexShrink:0}),class:"terminal-wrapper"},[createVNode(EssTerminal,{ref_key:"bottomTerminalRef",ref:U},null,512)],4)],64)):createCommentVNode("",!0)]),_:1})]),_:1}),createVNode(StatusBar,{"status-message":K.value},null,8,["status-message"]),createVNode(we,{open:G.value,"onUpdate:open":Ne[3]||(Ne[3]=_e=>G.value=_e),title:"Development Mode Help",width:"600px",footer:null},{default:withCtx(()=>Ne[12]||(Ne[12]=[createBaseVNode("div",{class:"dev-help-content"},[createBaseVNode("h4",null," Development Mode Features"),createBaseVNode("ul",null,[createBaseVNode("li",null,[createBaseVNode("strong",null,"Script Editor:"),createTextVNode(" Write and execute TCL scripts with syntax highlighting")]),createBaseVNode("li",null,[createBaseVNode("strong",null,"Templates:"),createTextVNode(" Use the dropdown to load common script patterns")]),createBaseVNode("li",null,[createBaseVNode("strong",null,"Terminal:"),createTextVNode(" View script output and system messages")]),createBaseVNode("li",null,[createBaseVNode("strong",null,"Data Groups:"),createTextVNode(" Load and visualize dynamic groups (DGs)")])]),createBaseVNode("h4",null," Keyboard Shortcuts"),createBaseVNode("ul",null,[createBaseVNode("li",null,[createBaseVNode("kbd",null,"Ctrl+Enter"),createTextVNode(" - Run script")]),createBaseVNode("li",null,[createBaseVNode("kbd",null,"Ctrl+S"),createTextVNode(" - Save script")])]),createBaseVNode("h4",null," Working with Data Groups"),createBaseVNode("ul",null,[createBaseVNode("li",null,'Enter DG name (e.g., "stimdg") in the Data Groups tab'),createBaseVNode("li",null,'Use script templates like "Load StimDG" for quick access'),createBaseVNode("li",null,"Click array cells to view detailed content")]),createBaseVNode("h4",null," Switching Modes"),createBaseVNode("p",null,[createTextVNode("Toggle the "),createBaseVNode("strong",null,"Dev/Exp"),createTextVNode(" switch to return to experiment mode. Your development work is preserved.")])],-1)])),_:1,__:[12]},8,["open"])]),_:1})}}},MainLayout=_export_sfc(_sfc_main$a,[["__scopeId","data-v-570904e8"]]),_sfc_main$9={__name:"App",setup(H){return onMounted(async()=>{try{await initializeErrorTracking(dserv),console.log("Global error tracking initialized")}catch(K){console.error("Failed to initialize error tracking:",K)}try{await scriptExecutionService.initialize(),console.log("Script execution service initialized")}catch(K){console.error("Failed to initialize script execution service:",K)}window.dserv=dserv}),(K,W)=>(openBlock(),createBlock(MainLayout))}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof document<"u";function isRouteComponent(H){return typeof H=="object"||"displayName"in H||"props"in H||"__vccOpts"in H}function isESModule(H){return H.__esModule||H[Symbol.toStringTag]==="Module"||H.default&&isRouteComponent(H.default)}const assign=Object.assign;function applyToParams(H,K){const W={};for(const G in K){const U=K[G];W[G]=isArray(U)?U.map(H):H(U)}return W}const noop=()=>{},isArray=Array.isArray,HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(H){return encodeURI(""+H).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(H){return commonEncode(H).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(H){return commonEncode(H).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(H){return encodeQueryValue(H).replace(EQUAL_RE,"%3D")}function encodePath(H){return commonEncode(H).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(H){return H==null?"":encodePath(H).replace(SLASH_RE,"%2F")}function decode(H){try{return decodeURIComponent(""+H)}catch{}return""+H}const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=H=>H.replace(TRAILING_SLASH_RE,"");function parseURL(H,K,W="/"){let G,U={},X="",Q="";const Z=K.indexOf("#");let ee=K.indexOf("?");return Z<ee&&Z>=0&&(ee=-1),ee>-1&&(G=K.slice(0,ee),X=K.slice(ee+1,Z>-1?Z:K.length),U=H(X)),Z>-1&&(G=G||K.slice(0,Z),Q=K.slice(Z,K.length)),G=resolveRelativePath(G??K,W),{fullPath:G+(X&&"?")+X+Q,path:G,query:U,hash:decode(Q)}}function stringifyURL(H,K){const W=K.query?H(K.query):"";return K.path+(W&&"?")+W+(K.hash||"")}function stripBase(H,K){return!K||!H.toLowerCase().startsWith(K.toLowerCase())?H:H.slice(K.length)||"/"}function isSameRouteLocation(H,K,W){const G=K.matched.length-1,U=W.matched.length-1;return G>-1&&G===U&&isSameRouteRecord(K.matched[G],W.matched[U])&&isSameRouteLocationParams(K.params,W.params)&&H(K.query)===H(W.query)&&K.hash===W.hash}function isSameRouteRecord(H,K){return(H.aliasOf||H)===(K.aliasOf||K)}function isSameRouteLocationParams(H,K){if(Object.keys(H).length!==Object.keys(K).length)return!1;for(const W in H)if(!isSameRouteLocationParamsValue(H[W],K[W]))return!1;return!0}function isSameRouteLocationParamsValue(H,K){return isArray(H)?isEquivalentArray(H,K):isArray(K)?isEquivalentArray(K,H):H===K}function isEquivalentArray(H,K){return isArray(K)?H.length===K.length&&H.every((W,G)=>W===K[G]):H.length===1&&H[0]===K}function resolveRelativePath(H,K){if(H.startsWith("/"))return H;if(!H)return K;const W=K.split("/"),G=H.split("/"),U=G[G.length-1];(U===".."||U===".")&&G.push("");let X=W.length-1,Q,Z;for(Q=0;Q<G.length;Q++)if(Z=G[Q],Z!==".")if(Z==="..")X>1&&X--;else break;return W.slice(0,X).join("/")+"/"+G.slice(Q).join("/")}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var NavigationType;(function(H){H.pop="pop",H.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(H){H.back="back",H.forward="forward",H.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(H){if(!H)if(isBrowser){const K=document.querySelector("base");H=K&&K.getAttribute("href")||"/",H=H.replace(/^\w+:\/\/[^\/]+/,"")}else H="/";return H[0]!=="/"&&H[0]!=="#"&&(H="/"+H),removeTrailingSlash(H)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(H,K){return H.replace(BEFORE_HASH_RE,"#")+K}function getElementPosition(H,K){const W=document.documentElement.getBoundingClientRect(),G=H.getBoundingClientRect();return{behavior:K.behavior,left:G.left-W.left-(K.left||0),top:G.top-W.top-(K.top||0)}}const computeScrollPosition=()=>({left:window.scrollX,top:window.scrollY});function scrollToPosition(H){let K;if("el"in H){const W=H.el,G=typeof W=="string"&&W.startsWith("#"),U=typeof W=="string"?G?document.getElementById(W.slice(1)):document.querySelector(W):W;if(!U)return;K=getElementPosition(U,H)}else K=H;"scrollBehavior"in document.documentElement.style?window.scrollTo(K):window.scrollTo(K.left!=null?K.left:window.scrollX,K.top!=null?K.top:window.scrollY)}function getScrollKey(H,K){return(history.state?history.state.position-K:-1)+H}const scrollPositions=new Map;function saveScrollPosition(H,K){scrollPositions.set(H,K)}function getSavedScrollPosition(H){const K=scrollPositions.get(H);return scrollPositions.delete(H),K}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(H,K){const{pathname:W,search:G,hash:U}=K,X=H.indexOf("#");if(X>-1){let Z=U.includes(H.slice(X))?H.slice(X).length:1,ee=U.slice(Z);return ee[0]!=="/"&&(ee="/"+ee),stripBase(ee,"")}return stripBase(W,H)+G+U}function useHistoryListeners(H,K,W,G){let U=[],X=[],Q=null;const Z=({state:re})=>{const ae=createCurrentLocation(H,location),se=W.value,ce=K.value;let de=0;if(re){if(W.value=ae,K.value=re,Q&&Q===se){Q=null;return}de=ce?re.position-ce.position:0}else G(ae);U.forEach(le=>{le(W.value,se,{delta:de,type:NavigationType.pop,direction:de?de>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function ee(){Q=W.value}function ne(re){U.push(re);const ae=()=>{const se=U.indexOf(re);se>-1&&U.splice(se,1)};return X.push(ae),ae}function te(){const{history:re}=window;re.state&&re.replaceState(assign({},re.state,{scroll:computeScrollPosition()}),"")}function oe(){for(const re of X)re();X=[],window.removeEventListener("popstate",Z),window.removeEventListener("beforeunload",te)}return window.addEventListener("popstate",Z),window.addEventListener("beforeunload",te,{passive:!0}),{pauseListeners:ee,listen:ne,destroy:oe}}function buildState(H,K,W,G=!1,U=!1){return{back:H,current:K,forward:W,replaced:G,position:window.history.length,scroll:U?computeScrollPosition():null}}function useHistoryStateNavigation(H){const{history:K,location:W}=window,G={value:createCurrentLocation(H,W)},U={value:K.state};U.value||X(G.value,{back:null,current:G.value,forward:null,position:K.length-1,replaced:!0,scroll:null},!0);function X(ee,ne,te){const oe=H.indexOf("#"),re=oe>-1?(W.host&&document.querySelector("base")?H:H.slice(oe))+ee:createBaseLocation()+H+ee;try{K[te?"replaceState":"pushState"](ne,"",re),U.value=ne}catch(ae){console.error(ae),W[te?"replace":"assign"](re)}}function Q(ee,ne){const te=assign({},K.state,buildState(U.value.back,ee,U.value.forward,!0),ne,{position:U.value.position});X(ee,te,!0),G.value=ee}function Z(ee,ne){const te=assign({},U.value,K.state,{forward:ee,scroll:computeScrollPosition()});X(te.current,te,!0);const oe=assign({},buildState(G.value,ee,null),{position:te.position+1},ne);X(ee,oe,!1),G.value=ee}return{location:G,state:U,push:Z,replace:Q}}function createWebHistory(H){H=normalizeBase(H);const K=useHistoryStateNavigation(H),W=useHistoryListeners(H,K.state,K.location,K.replace);function G(X,Q=!0){Q||W.pauseListeners(),history.go(X)}const U=assign({location:"",base:H,go:G,createHref:createHref.bind(null,H)},K,W);return Object.defineProperty(U,"location",{enumerable:!0,get:()=>K.location.value}),Object.defineProperty(U,"state",{enumerable:!0,get:()=>K.state.value}),U}function isRouteLocation(H){return typeof H=="string"||H&&typeof H=="object"}function isRouteName(H){return typeof H=="string"||typeof H=="symbol"}const NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(H){H[H.aborted=4]="aborted",H[H.cancelled=8]="cancelled",H[H.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(H,K){return assign(new Error,{type:H,[NavigationFailureSymbol]:!0},K)}function isNavigationFailure(H,K){return H instanceof Error&&NavigationFailureSymbol in H&&(K==null||!!(H.type&K))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(H,K){const W=assign({},BASE_PATH_PARSER_OPTIONS,K),G=[];let U=W.start?"^":"";const X=[];for(const ne of H){const te=ne.length?[]:[90];W.strict&&!ne.length&&(U+="/");for(let oe=0;oe<ne.length;oe++){const re=ne[oe];let ae=40+(W.sensitive?.25:0);if(re.type===0)oe||(U+="/"),U+=re.value.replace(REGEX_CHARS_RE,"\\$&"),ae+=40;else if(re.type===1){const{value:se,repeatable:ce,optional:de,regexp:le}=re;X.push({name:se,repeatable:ce,optional:de});const fe=le||BASE_PARAM_PATTERN;if(fe!==BASE_PARAM_PATTERN){ae+=10;try{new RegExp(`(${fe})`)}catch(me){throw new Error(`Invalid custom RegExp for param "${se}" (${fe}): `+me.message)}}let pe=ce?`((?:${fe})(?:/(?:${fe}))*)`:`(${fe})`;oe||(pe=de&&ne.length<2?`(?:/${pe})`:"/"+pe),de&&(pe+="?"),U+=pe,ae+=20,de&&(ae+=-8),ce&&(ae+=-20),fe===".*"&&(ae+=-50)}te.push(ae)}G.push(te)}if(W.strict&&W.end){const ne=G.length-1;G[ne][G[ne].length-1]+=.7000000000000001}W.strict||(U+="/?"),W.end?U+="$":W.strict&&!U.endsWith("/")&&(U+="(?:/|$)");const Q=new RegExp(U,W.sensitive?"":"i");function Z(ne){const te=ne.match(Q),oe={};if(!te)return null;for(let re=1;re<te.length;re++){const ae=te[re]||"",se=X[re-1];oe[se.name]=ae&&se.repeatable?ae.split("/"):ae}return oe}function ee(ne){let te="",oe=!1;for(const re of H){(!oe||!te.endsWith("/"))&&(te+="/"),oe=!1;for(const ae of re)if(ae.type===0)te+=ae.value;else if(ae.type===1){const{value:se,repeatable:ce,optional:de}=ae,le=se in ne?ne[se]:"";if(isArray(le)&&!ce)throw new Error(`Provided param "${se}" is an array but it is not repeatable (* or + modifiers)`);const fe=isArray(le)?le.join("/"):le;if(!fe)if(de)re.length<2&&(te.endsWith("/")?te=te.slice(0,-1):oe=!0);else throw new Error(`Missing required param "${se}"`);te+=fe}}return te||"/"}return{re:Q,score:G,keys:X,parse:Z,stringify:ee}}function compareScoreArray(H,K){let W=0;for(;W<H.length&&W<K.length;){const G=K[W]-H[W];if(G)return G;W++}return H.length<K.length?H.length===1&&H[0]===80?-1:1:H.length>K.length?K.length===1&&K[0]===80?1:-1:0}function comparePathParserScore(H,K){let W=0;const G=H.score,U=K.score;for(;W<G.length&&W<U.length;){const X=compareScoreArray(G[W],U[W]);if(X)return X;W++}if(Math.abs(U.length-G.length)===1){if(isLastScoreNegative(G))return 1;if(isLastScoreNegative(U))return-1}return U.length-G.length}function isLastScoreNegative(H){const K=H[H.length-1];return H.length>0&&K[K.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(H){if(!H)return[[]];if(H==="/")return[[ROOT_TOKEN]];if(!H.startsWith("/"))throw new Error(`Invalid path "${H}"`);function K(ae){throw new Error(`ERR (${W})/"${ne}": ${ae}`)}let W=0,G=W;const U=[];let X;function Q(){X&&U.push(X),X=[]}let Z=0,ee,ne="",te="";function oe(){ne&&(W===0?X.push({type:0,value:ne}):W===1||W===2||W===3?(X.length>1&&(ee==="*"||ee==="+")&&K(`A repeatable param (${ne}) must be alone in its segment. eg: '/:ids+.`),X.push({type:1,value:ne,regexp:te,repeatable:ee==="*"||ee==="+",optional:ee==="*"||ee==="?"})):K("Invalid state to consume buffer"),ne="")}function re(){ne+=ee}for(;Z<H.length;){if(ee=H[Z++],ee==="\\"&&W!==2){G=W,W=4;continue}switch(W){case 0:ee==="/"?(ne&&oe(),Q()):ee===":"?(oe(),W=1):re();break;case 4:re(),W=G;break;case 1:ee==="("?W=2:VALID_PARAM_RE.test(ee)?re():(oe(),W=0,ee!=="*"&&ee!=="?"&&ee!=="+"&&Z--);break;case 2:ee===")"?te[te.length-1]=="\\"?te=te.slice(0,-1)+ee:W=3:te+=ee;break;case 3:oe(),W=0,ee!=="*"&&ee!=="?"&&ee!=="+"&&Z--,te="";break;default:K("Unknown state");break}}return W===2&&K(`Unfinished custom RegExp for param "${ne}"`),oe(),Q(),U}function createRouteRecordMatcher(H,K,W){const G=tokensToParser(tokenizePath(H.path),W),U=assign(G,{record:H,parent:K,children:[],alias:[]});return K&&!U.record.aliasOf==!K.record.aliasOf&&K.children.push(U),U}function createRouterMatcher(H,K){const W=[],G=new Map;K=mergeOptions({strict:!1,end:!0,sensitive:!1},K);function U(oe){return G.get(oe)}function X(oe,re,ae){const se=!ae,ce=normalizeRouteRecord(oe);ce.aliasOf=ae&&ae.record;const de=mergeOptions(K,oe),le=[ce];if("alias"in oe){const me=typeof oe.alias=="string"?[oe.alias]:oe.alias;for(const ue of me)le.push(normalizeRouteRecord(assign({},ce,{components:ae?ae.record.components:ce.components,path:ue,aliasOf:ae?ae.record:ce})))}let fe,pe;for(const me of le){const{path:ue}=me;if(re&&ue[0]!=="/"){const ge=re.record.path,he=ge[ge.length-1]==="/"?"":"/";me.path=re.record.path+(ue&&he+ue)}if(fe=createRouteRecordMatcher(me,re,de),ae?ae.alias.push(fe):(pe=pe||fe,pe!==fe&&pe.alias.push(fe),se&&oe.name&&!isAliasRecord(fe)&&Q(oe.name)),isMatchable(fe)&&ee(fe),ce.children){const ge=ce.children;for(let he=0;he<ge.length;he++)X(ge[he],fe,ae&&ae.children[he])}ae=ae||fe}return pe?()=>{Q(pe)}:noop}function Q(oe){if(isRouteName(oe)){const re=G.get(oe);re&&(G.delete(oe),W.splice(W.indexOf(re),1),re.children.forEach(Q),re.alias.forEach(Q))}else{const re=W.indexOf(oe);re>-1&&(W.splice(re,1),oe.record.name&&G.delete(oe.record.name),oe.children.forEach(Q),oe.alias.forEach(Q))}}function Z(){return W}function ee(oe){const re=findInsertionIndex(oe,W);W.splice(re,0,oe),oe.record.name&&!isAliasRecord(oe)&&G.set(oe.record.name,oe)}function ne(oe,re){let ae,se={},ce,de;if("name"in oe&&oe.name){if(ae=G.get(oe.name),!ae)throw createRouterError(1,{location:oe});de=ae.record.name,se=assign(paramsFromLocation(re.params,ae.keys.filter(pe=>!pe.optional).concat(ae.parent?ae.parent.keys.filter(pe=>pe.optional):[]).map(pe=>pe.name)),oe.params&&paramsFromLocation(oe.params,ae.keys.map(pe=>pe.name))),ce=ae.stringify(se)}else if(oe.path!=null)ce=oe.path,ae=W.find(pe=>pe.re.test(ce)),ae&&(se=ae.parse(ce),de=ae.record.name);else{if(ae=re.name?G.get(re.name):W.find(pe=>pe.re.test(re.path)),!ae)throw createRouterError(1,{location:oe,currentLocation:re});de=ae.record.name,se=assign({},re.params,oe.params),ce=ae.stringify(se)}const le=[];let fe=ae;for(;fe;)le.unshift(fe.record),fe=fe.parent;return{name:de,path:ce,params:se,matched:le,meta:mergeMetaFields(le)}}H.forEach(oe=>X(oe));function te(){W.length=0,G.clear()}return{addRoute:X,resolve:ne,removeRoute:Q,clearRoutes:te,getRoutes:Z,getRecordMatcher:U}}function paramsFromLocation(H,K){const W={};for(const G of K)G in H&&(W[G]=H[G]);return W}function normalizeRouteRecord(H){const K={path:H.path,redirect:H.redirect,name:H.name,meta:H.meta||{},aliasOf:H.aliasOf,beforeEnter:H.beforeEnter,props:normalizeRecordProps(H),children:H.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in H?H.components||null:H.component&&{default:H.component}};return Object.defineProperty(K,"mods",{value:{}}),K}function normalizeRecordProps(H){const K={},W=H.props||!1;if("component"in H)K.default=W;else for(const G in H.components)K[G]=typeof W=="object"?W[G]:W;return K}function isAliasRecord(H){for(;H;){if(H.record.aliasOf)return!0;H=H.parent}return!1}function mergeMetaFields(H){return H.reduce((K,W)=>assign(K,W.meta),{})}function mergeOptions(H,K){const W={};for(const G in H)W[G]=G in K?K[G]:H[G];return W}function findInsertionIndex(H,K){let W=0,G=K.length;for(;W!==G;){const X=W+G>>1;comparePathParserScore(H,K[X])<0?G=X:W=X+1}const U=getInsertionAncestor(H);return U&&(G=K.lastIndexOf(U,G-1)),G}function getInsertionAncestor(H){let K=H;for(;K=K.parent;)if(isMatchable(K)&&comparePathParserScore(H,K)===0)return K}function isMatchable({record:H}){return!!(H.name||H.components&&Object.keys(H.components).length||H.redirect)}function parseQuery(H){const K={};if(H===""||H==="?")return K;const G=(H[0]==="?"?H.slice(1):H).split("&");for(let U=0;U<G.length;++U){const X=G[U].replace(PLUS_RE," "),Q=X.indexOf("="),Z=decode(Q<0?X:X.slice(0,Q)),ee=Q<0?null:decode(X.slice(Q+1));if(Z in K){let ne=K[Z];isArray(ne)||(ne=K[Z]=[ne]),ne.push(ee)}else K[Z]=ee}return K}function stringifyQuery(H){let K="";for(let W in H){const G=H[W];if(W=encodeQueryKey(W),G==null){G!==void 0&&(K+=(K.length?"&":"")+W);continue}(isArray(G)?G.map(X=>X&&encodeQueryValue(X)):[G&&encodeQueryValue(G)]).forEach(X=>{X!==void 0&&(K+=(K.length?"&":"")+W,X!=null&&(K+="="+X))})}return K}function normalizeQuery(H){const K={};for(const W in H){const G=H[W];G!==void 0&&(K[W]=isArray(G)?G.map(U=>U==null?null:""+U):G==null?G:""+G)}return K}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let H=[];function K(G){return H.push(G),()=>{const U=H.indexOf(G);U>-1&&H.splice(U,1)}}function W(){H=[]}return{add:K,list:()=>H.slice(),reset:W}}function guardToPromiseFn(H,K,W,G,U,X=Q=>Q()){const Q=G&&(G.enterCallbacks[U]=G.enterCallbacks[U]||[]);return()=>new Promise((Z,ee)=>{const ne=re=>{re===!1?ee(createRouterError(4,{from:W,to:K})):re instanceof Error?ee(re):isRouteLocation(re)?ee(createRouterError(2,{from:K,to:re})):(Q&&G.enterCallbacks[U]===Q&&typeof re=="function"&&Q.push(re),Z())},te=X(()=>H.call(G&&G.instances[U],K,W,ne));let oe=Promise.resolve(te);H.length<3&&(oe=oe.then(ne)),oe.catch(re=>ee(re))})}function extractComponentsGuards(H,K,W,G,U=X=>X()){const X=[];for(const Q of H)for(const Z in Q.components){let ee=Q.components[Z];if(!(K!=="beforeRouteEnter"&&!Q.instances[Z]))if(isRouteComponent(ee)){const te=(ee.__vccOpts||ee)[K];te&&X.push(guardToPromiseFn(te,W,G,Q,Z,U))}else{let ne=ee();X.push(()=>ne.then(te=>{if(!te)throw new Error(`Couldn't resolve component "${Z}" at "${Q.path}"`);const oe=isESModule(te)?te.default:te;Q.mods[Z]=te,Q.components[Z]=oe;const ae=(oe.__vccOpts||oe)[K];return ae&&guardToPromiseFn(ae,W,G,Q,Z,U)()}))}}return X}function useLink(H){const K=inject(routerKey),W=inject(routeLocationKey),G=computed(()=>{const ee=unref(H.to);return K.resolve(ee)}),U=computed(()=>{const{matched:ee}=G.value,{length:ne}=ee,te=ee[ne-1],oe=W.matched;if(!te||!oe.length)return-1;const re=oe.findIndex(isSameRouteRecord.bind(null,te));if(re>-1)return re;const ae=getOriginalPath(ee[ne-2]);return ne>1&&getOriginalPath(te)===ae&&oe[oe.length-1].path!==ae?oe.findIndex(isSameRouteRecord.bind(null,ee[ne-2])):re}),X=computed(()=>U.value>-1&&includesParams(W.params,G.value.params)),Q=computed(()=>U.value>-1&&U.value===W.matched.length-1&&isSameRouteLocationParams(W.params,G.value.params));function Z(ee={}){if(guardEvent(ee)){const ne=K[unref(H.replace)?"replace":"push"](unref(H.to)).catch(noop);return H.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>ne),ne}return Promise.resolve()}return{route:G,href:computed(()=>G.value.href),isActive:X,isExactActive:Q,navigate:Z}}function preferSingleVNode(H){return H.length===1?H[0]:H}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink,setup(H,{slots:K}){const W=reactive(useLink(H)),{options:G}=inject(routerKey),U=computed(()=>({[getLinkClass(H.activeClass,G.linkActiveClass,"router-link-active")]:W.isActive,[getLinkClass(H.exactActiveClass,G.linkExactActiveClass,"router-link-exact-active")]:W.isExactActive}));return()=>{const X=K.default&&preferSingleVNode(K.default(W));return H.custom?X:h$1("a",{"aria-current":W.isExactActive?H.ariaCurrentValue:null,href:W.href,onClick:W.navigate,class:U.value},X)}}}),RouterLink=RouterLinkImpl;function guardEvent(H){if(!(H.metaKey||H.altKey||H.ctrlKey||H.shiftKey)&&!H.defaultPrevented&&!(H.button!==void 0&&H.button!==0)){if(H.currentTarget&&H.currentTarget.getAttribute){const K=H.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(K))return}return H.preventDefault&&H.preventDefault(),!0}}function includesParams(H,K){for(const W in K){const G=K[W],U=H[W];if(typeof G=="string"){if(G!==U)return!1}else if(!isArray(U)||U.length!==G.length||G.some((X,Q)=>X!==U[Q]))return!1}return!0}function getOriginalPath(H){return H?H.aliasOf?H.aliasOf.path:H.path:""}const getLinkClass=(H,K,W)=>H??K??W,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(H,{attrs:K,slots:W}){const G=inject(routerViewLocationKey),U=computed(()=>H.route||G.value),X=inject(viewDepthKey,0),Q=computed(()=>{let ne=unref(X);const{matched:te}=U.value;let oe;for(;(oe=te[ne])&&!oe.components;)ne++;return ne}),Z=computed(()=>U.value.matched[Q.value]);provide(viewDepthKey,computed(()=>Q.value+1)),provide(matchedRouteKey,Z),provide(routerViewLocationKey,U);const ee=ref();return watch(()=>[ee.value,Z.value,H.name],([ne,te,oe],[re,ae,se])=>{te&&(te.instances[oe]=ne,ae&&ae!==te&&ne&&ne===re&&(te.leaveGuards.size||(te.leaveGuards=ae.leaveGuards),te.updateGuards.size||(te.updateGuards=ae.updateGuards))),ne&&te&&(!ae||!isSameRouteRecord(te,ae)||!re)&&(te.enterCallbacks[oe]||[]).forEach(ce=>ce(ne))},{flush:"post"}),()=>{const ne=U.value,te=H.name,oe=Z.value,re=oe&&oe.components[te];if(!re)return normalizeSlot(W.default,{Component:re,route:ne});const ae=oe.props[te],se=ae?ae===!0?ne.params:typeof ae=="function"?ae(ne):ae:null,de=h$1(re,assign({},se,K,{onVnodeUnmounted:le=>{le.component.isUnmounted&&(oe.instances[te]=null)},ref:ee}));return normalizeSlot(W.default,{Component:de,route:ne})||de}}});function normalizeSlot(H,K){if(!H)return null;const W=H(K);return W.length===1?W[0]:W}const RouterView=RouterViewImpl;function createRouter(H){const K=createRouterMatcher(H.routes,H),W=H.parseQuery||parseQuery,G=H.stringifyQuery||stringifyQuery,U=H.history,X=useCallbacks(),Q=useCallbacks(),Z=useCallbacks(),ee=shallowRef(START_LOCATION_NORMALIZED);let ne=START_LOCATION_NORMALIZED;isBrowser&&H.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const te=applyToParams.bind(null,we=>""+we),oe=applyToParams.bind(null,encodeParam),re=applyToParams.bind(null,decode);function ae(we,_e){let Ve,je;return isRouteName(we)?(Ve=K.getRecordMatcher(we),je=_e):je=we,K.addRoute(je,Ve)}function se(we){const _e=K.getRecordMatcher(we);_e&&K.removeRoute(_e)}function ce(){return K.getRoutes().map(we=>we.record)}function de(we){return!!K.getRecordMatcher(we)}function le(we,_e){if(_e=assign({},_e||ee.value),typeof we=="string"){const Ue=parseURL(W,we,_e.path),He=K.resolve({path:Ue.path},_e),Me=U.createHref(Ue.fullPath);return assign(Ue,He,{params:re(He.params),hash:decode(Ue.hash),redirectedFrom:void 0,href:Me})}let Ve;if(we.path!=null)Ve=assign({},we,{path:parseURL(W,we.path,_e.path).path});else{const Ue=assign({},we.params);for(const He in Ue)Ue[He]==null&&delete Ue[He];Ve=assign({},we,{params:oe(Ue)}),_e.params=oe(_e.params)}const je=K.resolve(Ve,_e),qe=we.hash||"";je.params=te(re(je.params));const Pe=stringifyURL(G,assign({},we,{hash:encodeHash(qe),path:je.path})),ke=U.createHref(Pe);return assign({fullPath:Pe,hash:qe,query:G===stringifyQuery?normalizeQuery(we.query):we.query||{}},je,{redirectedFrom:void 0,href:ke})}function fe(we){return typeof we=="string"?parseURL(W,we,ee.value.path):assign({},we)}function pe(we,_e){if(ne!==we)return createRouterError(8,{from:_e,to:we})}function me(we){return he(we)}function ue(we){return me(assign(fe(we),{replace:!0}))}function ge(we){const _e=we.matched[we.matched.length-1];if(_e&&_e.redirect){const{redirect:Ve}=_e;let je=typeof Ve=="function"?Ve(we):Ve;return typeof je=="string"&&(je=je.includes("?")||je.includes("#")?je=fe(je):{path:je},je.params={}),assign({query:we.query,hash:we.hash,params:je.path!=null?{}:we.params},je)}}function he(we,_e){const Ve=ne=le(we),je=ee.value,qe=we.state,Pe=we.force,ke=we.replace===!0,Ue=ge(Ve);if(Ue)return he(assign(fe(Ue),{state:typeof Ue=="object"?assign({},qe,Ue.state):qe,force:Pe,replace:ke}),_e||Ve);const He=Ve;He.redirectedFrom=_e;let Me;return!Pe&&isSameRouteLocation(G,je,Ve)&&(Me=createRouterError(16,{to:He,from:je}),We(je,je,!0,!1)),(Me?Promise.resolve(Me):be(He,je)).catch(Je=>isNavigationFailure(Je)?isNavigationFailure(Je,2)?Je:ze(Je):Be(Je,He,je)).then(Je=>{if(Je){if(isNavigationFailure(Je,2))return he(assign({replace:ke},fe(Je.to),{state:typeof Je.to=="object"?assign({},qe,Je.to.state):qe,force:Pe}),_e||He)}else Je=Ce(He,je,!0,ke,qe);return Se(He,je,Je),Je})}function ve(we,_e){const Ve=pe(we,_e);return Ve?Promise.reject(Ve):Promise.resolve()}function ye(we){const _e=Ye.values().next().value;return _e&&typeof _e.runWithContext=="function"?_e.runWithContext(we):we()}function be(we,_e){let Ve;const[je,qe,Pe]=extractChangingRecords(we,_e);Ve=extractComponentsGuards(je.reverse(),"beforeRouteLeave",we,_e);for(const Ue of je)Ue.leaveGuards.forEach(He=>{Ve.push(guardToPromiseFn(He,we,_e))});const ke=ve.bind(null,we,_e);return Ve.push(ke),Ke(Ve).then(()=>{Ve=[];for(const Ue of X.list())Ve.push(guardToPromiseFn(Ue,we,_e));return Ve.push(ke),Ke(Ve)}).then(()=>{Ve=extractComponentsGuards(qe,"beforeRouteUpdate",we,_e);for(const Ue of qe)Ue.updateGuards.forEach(He=>{Ve.push(guardToPromiseFn(He,we,_e))});return Ve.push(ke),Ke(Ve)}).then(()=>{Ve=[];for(const Ue of Pe)if(Ue.beforeEnter)if(isArray(Ue.beforeEnter))for(const He of Ue.beforeEnter)Ve.push(guardToPromiseFn(He,we,_e));else Ve.push(guardToPromiseFn(Ue.beforeEnter,we,_e));return Ve.push(ke),Ke(Ve)}).then(()=>(we.matched.forEach(Ue=>Ue.enterCallbacks={}),Ve=extractComponentsGuards(Pe,"beforeRouteEnter",we,_e,ye),Ve.push(ke),Ke(Ve))).then(()=>{Ve=[];for(const Ue of Q.list())Ve.push(guardToPromiseFn(Ue,we,_e));return Ve.push(ke),Ke(Ve)}).catch(Ue=>isNavigationFailure(Ue,8)?Ue:Promise.reject(Ue))}function Se(we,_e,Ve){Z.list().forEach(je=>ye(()=>je(we,_e,Ve)))}function Ce(we,_e,Ve,je,qe){const Pe=pe(we,_e);if(Pe)return Pe;const ke=_e===START_LOCATION_NORMALIZED,Ue=isBrowser?history.state:{};Ve&&(je||ke?U.replace(we.fullPath,assign({scroll:ke&&Ue&&Ue.scroll},qe)):U.push(we.fullPath,qe)),ee.value=we,We(we,_e,Ve,ke),ze()}let xe;function Ne(){xe||(xe=U.listen((we,_e,Ve)=>{if(!Re.listening)return;const je=le(we),qe=ge(je);if(qe){he(assign(qe,{replace:!0,force:!0}),je).catch(noop);return}ne=je;const Pe=ee.value;isBrowser&&saveScrollPosition(getScrollKey(Pe.fullPath,Ve.delta),computeScrollPosition()),be(je,Pe).catch(ke=>isNavigationFailure(ke,12)?ke:isNavigationFailure(ke,2)?(he(assign(fe(ke.to),{force:!0}),je).then(Ue=>{isNavigationFailure(Ue,20)&&!Ve.delta&&Ve.type===NavigationType.pop&&U.go(-1,!1)}).catch(noop),Promise.reject()):(Ve.delta&&U.go(-Ve.delta,!1),Be(ke,je,Pe))).then(ke=>{ke=ke||Ce(je,Pe,!1),ke&&(Ve.delta&&!isNavigationFailure(ke,8)?U.go(-Ve.delta,!1):Ve.type===NavigationType.pop&&isNavigationFailure(ke,20)&&U.go(-1,!1)),Se(je,Pe,ke)}).catch(noop)}))}let $e=useCallbacks(),Ee=useCallbacks(),Te;function Be(we,_e,Ve){ze(we);const je=Ee.list();return je.length?je.forEach(qe=>qe(we,_e,Ve)):console.error(we),Promise.reject(we)}function Ae(){return Te&&ee.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((we,_e)=>{$e.add([we,_e])})}function ze(we){return Te||(Te=!we,Ne(),$e.list().forEach(([_e,Ve])=>we?Ve(we):_e()),$e.reset()),we}function We(we,_e,Ve,je){const{scrollBehavior:qe}=H;if(!isBrowser||!qe)return Promise.resolve();const Pe=!Ve&&getSavedScrollPosition(getScrollKey(we.fullPath,0))||(je||!Ve)&&history.state&&history.state.scroll||null;return nextTick().then(()=>qe(we,_e,Pe)).then(ke=>ke&&scrollToPosition(ke)).catch(ke=>Be(ke,we,_e))}const Le=we=>U.go(we);let Ze;const Ye=new Set,Re={currentRoute:ee,listening:!0,addRoute:ae,removeRoute:se,clearRoutes:K.clearRoutes,hasRoute:de,getRoutes:ce,resolve:le,options:H,push:me,replace:ue,go:Le,back:()=>Le(-1),forward:()=>Le(1),beforeEach:X.add,beforeResolve:Q.add,afterEach:Z.add,onError:Ee.add,isReady:Ae,install(we){const _e=this;we.component("RouterLink",RouterLink),we.component("RouterView",RouterView),we.config.globalProperties.$router=_e,Object.defineProperty(we.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(ee)}),isBrowser&&!Ze&&ee.value===START_LOCATION_NORMALIZED&&(Ze=!0,me(U.location).catch(qe=>{}));const Ve={};for(const qe in START_LOCATION_NORMALIZED)Object.defineProperty(Ve,qe,{get:()=>ee.value[qe],enumerable:!0});we.provide(routerKey,_e),we.provide(routeLocationKey,shallowReactive(Ve)),we.provide(routerViewLocationKey,ee);const je=we.unmount;Ye.add(we),we.unmount=function(){Ye.delete(we),Ye.size<1&&(ne=START_LOCATION_NORMALIZED,xe&&xe(),xe=null,ee.value=START_LOCATION_NORMALIZED,Ze=!1,Te=!1),je()}}};function Ke(we){return we.reduce((_e,Ve)=>_e.then(()=>ye(Ve)),Promise.resolve())}return Re}function extractChangingRecords(H,K){const W=[],G=[],U=[],X=Math.max(K.matched.length,H.matched.length);for(let Q=0;Q<X;Q++){const Z=K.matched[Q];Z&&(H.matched.find(ne=>isSameRouteRecord(ne,Z))?G.push(Z):W.push(Z));const ee=H.matched[Q];ee&&(K.matched.find(ne=>isSameRouteRecord(ne,ee))||U.push(ee))}return[W,G,U]}const _sfc_main$8={},_hoisted_1$6={class:"item"},_hoisted_2={class:"details"};function _sfc_render$6(H,K){return openBlock(),createElementBlock("div",_hoisted_1$6,[createBaseVNode("i",null,[renderSlot(H.$slots,"icon",{},void 0)]),createBaseVNode("div",_hoisted_2,[createBaseVNode("h3",null,[renderSlot(H.$slots,"heading",{},void 0)]),renderSlot(H.$slots,"default",{},void 0)])])}const WelcomeItem=_export_sfc(_sfc_main$8,[["render",_sfc_render$6],["__scopeId","data-v-40a5c0e5"]]),_sfc_main$7={},_hoisted_1$5={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",fill:"currentColor"};function _sfc_render$5(H,K){return openBlock(),createElementBlock("svg",_hoisted_1$5,K[0]||(K[0]=[createBaseVNode("path",{d:"M11 2.253a1 1 0 1 0-2 0h2zm-2 13a1 1 0 1 0 2 0H9zm.447-12.167a1 1 0 1 0 1.107-1.666L9.447 3.086zM1 2.253L.447 1.42A1 1 0 0 0 0 2.253h1zm0 13H0a1 1 0 0 0 1.553.833L1 15.253zm8.447.833a1 1 0 1 0 1.107-1.666l-1.107 1.666zm0-14.666a1 1 0 1 0 1.107 1.666L9.447 1.42zM19 2.253h1a1 1 0 0 0-.447-.833L19 2.253zm0 13l-.553.833A1 1 0 0 0 20 15.253h-1zm-9.553-.833a1 1 0 1 0 1.107 1.666L9.447 14.42zM9 2.253v13h2v-13H9zm1.553-.833C9.203.523 7.42 0 5.5 0v2c1.572 0 2.961.431 3.947 1.086l1.107-1.666zM5.5 0C3.58 0 1.797.523.447 1.42l1.107 1.666C2.539 2.431 3.928 2 5.5 2V0zM0 2.253v13h2v-13H0zm1.553 13.833C2.539 15.431 3.928 15 5.5 15v-2c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM5.5 15c1.572 0 2.961.431 3.947 1.086l1.107-1.666C9.203 13.523 7.42 13 5.5 13v2zm5.053-11.914C11.539 2.431 12.928 2 14.5 2V0c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM14.5 2c1.573 0 2.961.431 3.947 1.086l1.107-1.666C18.203.523 16.421 0 14.5 0v2zm3.5.253v13h2v-13h-2zm1.553 12.167C18.203 13.523 16.421 13 14.5 13v2c1.573 0 2.961.431 3.947 1.086l1.107-1.666zM14.5 13c-1.92 0-3.703.523-5.053 1.42l1.107 1.666C11.539 15.431 12.928 15 14.5 15v-2z"},null,-1)]))}const DocumentationIcon=_export_sfc(_sfc_main$7,[["render",_sfc_render$5]]),_sfc_main$6={},_hoisted_1$4={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--mdi",width:"24",height:"24",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"};function _sfc_render$4(H,K){return openBlock(),createElementBlock("svg",_hoisted_1$4,K[0]||(K[0]=[createBaseVNode("path",{d:"M20 18v-4h-3v1h-2v-1H9v1H7v-1H4v4h16M6.33 8l-1.74 4H7v-1h2v1h6v-1h2v1h2.41l-1.74-4H6.33M9 5v1h6V5H9m12.84 7.61c.1.22.16.48.16.8V18c0 .53-.21 1-.6 1.41c-.4.4-.85.59-1.4.59H4c-.55 0-1-.19-1.4-.59C2.21 19 2 18.53 2 18v-4.59c0-.32.06-.58.16-.8L4.5 7.22C4.84 6.41 5.45 6 6.33 6H7V5c0-.55.18-1 .57-1.41C7.96 3.2 8.44 3 9 3h6c.56 0 1.04.2 1.43.59c.39.41.57.86.57 1.41v1h.67c.88 0 1.49.41 1.83 1.22l2.34 5.39z",fill:"currentColor"},null,-1)]))}const ToolingIcon=_export_sfc(_sfc_main$6,[["render",_sfc_render$4]]),_sfc_main$5={},_hoisted_1$3={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",fill:"currentColor"};function _sfc_render$3(H,K){return openBlock(),createElementBlock("svg",_hoisted_1$3,K[0]||(K[0]=[createBaseVNode("path",{d:"M11.447 8.894a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm0 1.789a1 1 0 1 0 .894-1.789l-.894 1.789zM7.447 7.106a1 1 0 1 0-.894 1.789l.894-1.789zM10 9a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0H8zm9.447-5.606a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm2 .789a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zM18 5a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0h-2zm-5.447-4.606a1 1 0 1 0 .894-1.789l-.894 1.789zM9 1l.447-.894a1 1 0 0 0-.894 0L9 1zm-2.447.106a1 1 0 1 0 .894 1.789l-.894-1.789zm-6 3a1 1 0 1 0 .894 1.789L.553 4.106zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zm-2-.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 2.789a1 1 0 1 0 .894-1.789l-.894 1.789zM2 5a1 1 0 1 0-2 0h2zM0 7.5a1 1 0 1 0 2 0H0zm8.553 12.394a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 1a1 1 0 1 0 .894 1.789l-.894-1.789zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zM8 19a1 1 0 1 0 2 0H8zm2-2.5a1 1 0 1 0-2 0h2zm-7.447.394a1 1 0 1 0 .894-1.789l-.894 1.789zM1 15H0a1 1 0 0 0 .553.894L1 15zm1-2.5a1 1 0 1 0-2 0h2zm12.553 2.606a1 1 0 1 0 .894 1.789l-.894-1.789zM17 15l.447.894A1 1 0 0 0 18 15h-1zm1-2.5a1 1 0 1 0-2 0h2zm-7.447-5.394l-2 1 .894 1.789 2-1-.894-1.789zm-1.106 1l-2-1-.894 1.789 2 1 .894-1.789zM8 9v2.5h2V9H8zm8.553-4.894l-2 1 .894 1.789 2-1-.894-1.789zm.894 0l-2-1-.894 1.789 2 1 .894-1.789zM16 5v2.5h2V5h-2zm-4.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zm-2.894-1l-2 1 .894 1.789 2-1L8.553.106zM1.447 5.894l2-1-.894-1.789-2 1 .894 1.789zm-.894 0l2 1 .894-1.789-2-1-.894 1.789zM0 5v2.5h2V5H0zm9.447 13.106l-2-1-.894 1.789 2 1 .894-1.789zm0 1.789l2-1-.894-1.789-2 1 .894 1.789zM10 19v-2.5H8V19h2zm-6.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zM2 15v-2.5H0V15h2zm13.447 1.894l2-1-.894-1.789-2 1 .894 1.789zM18 15v-2.5h-2V15h2z"},null,-1)]))}const EcosystemIcon=_export_sfc(_sfc_main$5,[["render",_sfc_render$3]]),_sfc_main$4={},_hoisted_1$2={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"};function _sfc_render$2(H,K){return openBlock(),createElementBlock("svg",_hoisted_1$2,K[0]||(K[0]=[createBaseVNode("path",{d:"M15 4a1 1 0 1 0 0 2V4zm0 11v-1a1 1 0 0 0-1 1h1zm0 4l-.707.707A1 1 0 0 0 16 19h-1zm-4-4l.707-.707A1 1 0 0 0 11 14v1zm-4.707-1.293a1 1 0 0 0-1.414 1.414l1.414-1.414zm-.707.707l-.707-.707.707.707zM9 11v-1a1 1 0 0 0-.707.293L9 11zm-4 0h1a1 1 0 0 0-1-1v1zm0 4H4a1 1 0 0 0 1.707.707L5 15zm10-9h2V4h-2v2zm2 0a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2zm1 1v6h2V7h-2zm0 6a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2zm-1 1h-2v2h2v-2zm-3 1v4h2v-4h-2zm1.707 3.293l-4-4-1.414 1.414 4 4 1.414-1.414zM11 14H7v2h4v-2zm-4 0c-.276 0-.525-.111-.707-.293l-1.414 1.414C5.42 15.663 6.172 16 7 16v-2zm-.707 1.121l3.414-3.414-1.414-1.414-3.414 3.414 1.414 1.414zM9 12h4v-2H9v2zm4 0a3 3 0 0 0 3-3h-2a1 1 0 0 1-1 1v2zm3-3V3h-2v6h2zm0-6a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2zm-3-3H3v2h10V0zM3 0a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V0zM0 3v6h2V3H0zm0 6a3 3 0 0 0 3 3v-2a1 1 0 0 1-1-1H0zm3 3h2v-2H3v2zm1-1v4h2v-4H4zm1.707 4.707l.586-.586-1.414-1.414-.586.586 1.414 1.414z"},null,-1)]))}const CommunityIcon=_export_sfc(_sfc_main$4,[["render",_sfc_render$2]]),_sfc_main$3={},_hoisted_1$1={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"};function _sfc_render$1(H,K){return openBlock(),createElementBlock("svg",_hoisted_1$1,K[0]||(K[0]=[createBaseVNode("path",{d:"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.666.105 5.5 5.5 0 0 0-.114 7.665L10 18.78l8.39-8.4a5.5 5.5 0 0 0-.114-7.665 5.5 5.5 0 0 0-7.666-.105l-.61.61z"},null,-1)]))}const SupportIcon=_export_sfc(_sfc_main$3,[["render",_sfc_render$1]]),_sfc_main$2={__name:"TheWelcome",setup(H){const K=()=>fetch("/__open-in-editor?file=README.md");return(W,G)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(WelcomeItem,null,{icon:withCtx(()=>[createVNode(DocumentationIcon)]),heading:withCtx(()=>G[0]||(G[0]=[createTextVNode("Documentation")])),default:withCtx(()=>[G[1]||(G[1]=createTextVNode(" Vues ")),G[2]||(G[2]=createBaseVNode("a",{href:"https://vuejs.org/",target:"_blank",rel:"noopener"},"official documentation",-1)),G[3]||(G[3]=createTextVNode(" provides you with all information you need to get started. "))]),_:1,__:[1,2,3]}),createVNode(WelcomeItem,null,{icon:withCtx(()=>[createVNode(ToolingIcon)]),heading:withCtx(()=>G[4]||(G[4]=[createTextVNode("Tooling")])),default:withCtx(()=>[G[6]||(G[6]=createTextVNode(" This project is served and bundled with ")),G[7]||(G[7]=createBaseVNode("a",{href:"https://vite.dev/guide/features.html",target:"_blank",rel:"noopener"},"Vite",-1)),G[8]||(G[8]=createTextVNode(". The recommended IDE setup is ")),G[9]||(G[9]=createBaseVNode("a",{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener"},"VSCode",-1)),G[10]||(G[10]=createTextVNode(" + ")),G[11]||(G[11]=createBaseVNode("a",{href:"https://github.com/vuejs/language-tools",target:"_blank",rel:"noopener"},"Vue - Official",-1)),G[12]||(G[12]=createTextVNode(". If you need to test your components and web pages, check out ")),G[13]||(G[13]=createBaseVNode("a",{href:"https://vitest.dev/",target:"_blank",rel:"noopener"},"Vitest",-1)),G[14]||(G[14]=createTextVNode(" and ")),G[15]||(G[15]=createBaseVNode("a",{href:"https://www.cypress.io/",target:"_blank",rel:"noopener"},"Cypress",-1)),G[16]||(G[16]=createTextVNode(" / ")),G[17]||(G[17]=createBaseVNode("a",{href:"https://playwright.dev/",target:"_blank",rel:"noopener"},"Playwright",-1)),G[18]||(G[18]=createTextVNode(". ")),G[19]||(G[19]=createBaseVNode("br",null,null,-1)),G[20]||(G[20]=createTextVNode(" More instructions are available in ")),createBaseVNode("a",{href:"javascript:void(0)",onClick:K},G[5]||(G[5]=[createBaseVNode("code",null,"README.md",-1)])),G[21]||(G[21]=createTextVNode(". "))]),_:1,__:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]}),createVNode(WelcomeItem,null,{icon:withCtx(()=>[createVNode(EcosystemIcon)]),heading:withCtx(()=>G[22]||(G[22]=[createTextVNode("Ecosystem")])),default:withCtx(()=>[G[23]||(G[23]=createTextVNode(" Get official tools and libraries for your project: ")),G[24]||(G[24]=createBaseVNode("a",{href:"https://pinia.vuejs.org/",target:"_blank",rel:"noopener"},"Pinia",-1)),G[25]||(G[25]=createTextVNode(", ")),G[26]||(G[26]=createBaseVNode("a",{href:"https://router.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Router",-1)),G[27]||(G[27]=createTextVNode(", ")),G[28]||(G[28]=createBaseVNode("a",{href:"https://test-utils.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Test Utils",-1)),G[29]||(G[29]=createTextVNode(", and ")),G[30]||(G[30]=createBaseVNode("a",{href:"https://github.com/vuejs/devtools",target:"_blank",rel:"noopener"},"Vue Dev Tools",-1)),G[31]||(G[31]=createTextVNode(". If you need more resources, we suggest paying ")),G[32]||(G[32]=createBaseVNode("a",{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"},"Awesome Vue",-1)),G[33]||(G[33]=createTextVNode(" a visit. "))]),_:1,__:[23,24,25,26,27,28,29,30,31,32,33]}),createVNode(WelcomeItem,null,{icon:withCtx(()=>[createVNode(CommunityIcon)]),heading:withCtx(()=>G[34]||(G[34]=[createTextVNode("Community")])),default:withCtx(()=>[G[35]||(G[35]=createTextVNode(" Got stuck? Ask your question on ")),G[36]||(G[36]=createBaseVNode("a",{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"},"Vue Land",-1)),G[37]||(G[37]=createTextVNode(" (our official Discord server), or ")),G[38]||(G[38]=createBaseVNode("a",{href:"https://stackoverflow.com/questions/tagged/vue.js",target:"_blank",rel:"noopener"},"StackOverflow",-1)),G[39]||(G[39]=createTextVNode(". You should also follow the official ")),G[40]||(G[40]=createBaseVNode("a",{href:"https://bsky.app/profile/vuejs.org",target:"_blank",rel:"noopener"},"@vuejs.org",-1)),G[41]||(G[41]=createTextVNode(" Bluesky account or the ")),G[42]||(G[42]=createBaseVNode("a",{href:"https://x.com/vuejs",target:"_blank",rel:"noopener"},"@vuejs",-1)),G[43]||(G[43]=createTextVNode(" X account for latest news in the Vue world. "))]),_:1,__:[35,36,37,38,39,40,41,42,43]}),createVNode(WelcomeItem,null,{icon:withCtx(()=>[createVNode(SupportIcon)]),heading:withCtx(()=>G[44]||(G[44]=[createTextVNode("Support Vue")])),default:withCtx(()=>[G[45]||(G[45]=createTextVNode(" As an independent project, Vue relies on community backing for its sustainability. You can help us by ")),G[46]||(G[46]=createBaseVNode("a",{href:"https://vuejs.org/sponsor/",target:"_blank",rel:"noopener"},"becoming a sponsor",-1)),G[47]||(G[47]=createTextVNode(". "))]),_:1,__:[45,46,47]})],64))}},_sfc_main$1={__name:"HomeView",setup(H){return(K,W)=>(openBlock(),createElementBlock("main",null,[createVNode(_sfc_main$2)]))}},router=createRouter({history:createWebHistory("/"),routes:[{path:"/",name:"home",component:_sfc_main$1},{path:"/about",name:"about",component:()=>__vitePreload(()=>Promise.resolve().then(()=>AboutView$1),void 0)}]});/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const piniaSymbol=Symbol();var MutationType;(function(H){H.direct="direct",H.patchObject="patch object",H.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const H=effectScope(!0),K=H.run(()=>ref({}));let W=[],G=[];const U=markRaw({install(X){U._a=X,X.provide(piniaSymbol,U),X.config.globalProperties.$pinia=U,G.forEach(Q=>W.push(Q)),G=[]},use(X){return this._a?W.push(X):G.push(X),this},_p:W,_a:null,_e:H,_s:new Map,state:K});return U}const app=createApp(_sfc_main$9);app.use(createPinia());app.use(router);app.mount("#app");const waitForConnection=()=>{dserv.state.connected?initializeEventTracking(dserv):dserv.on("connection",H=>{H.connected&&initializeEventTracking(dserv)})};window.scriptExecutionService=scriptExecutionService;window.debugScriptService=()=>(console.log("=== Script Service Debug Info ==="),console.log("Service available:",!!window.scriptExecutionService),window.scriptExecutionService&&(console.log("Initialized:",window.scriptExecutionService.isInitialized),console.log("Active Scripts:",Array.from(window.scriptExecutionService.activeScripts.keys())),console.log("Registered Canvases:",Array.from(window.scriptExecutionService.canvasRegistry.keys())),console.log("Canvas Registry Size:",window.scriptExecutionService.canvasRegistry.size),console.log("Global Data:",window.scriptExecutionService.globalScriptData),console.log("Errors:",window.scriptExecutionService.scriptErrors),window.scriptExecutionService.canvasRegistry.forEach((H,K)=>{console.log(`Canvas "${K}":`,{hasContext:!!H.ctx,metadata:H.metadata,elements:H.elements.size,callbacks:H.drawCallbacks.size})})),console.log("=== End Debug Info ==="),window.scriptExecutionService?.getStatus());window.testEyeTouchScript=()=>{if(!window.scriptExecutionService)return console.error("Script service not available"),!1;if(!window.scriptExecutionService.canvasRegistry.has("eyeTouch"))return console.error("EyeTouch canvas not registered"),!1;console.log("Testing eyeTouch canvas...");try{return window.scriptExecutionService.executeScript(`
      console.log('Direct eyeTouch test starting');
      
      // Clear existing elements
      draw.clearElements();
      
      // Draw bright test elements
      draw.drawCircle(0, 0, 25, {
        fillColor: '#ff0000',
        strokeColor: '#ffffff',
        lineWidth: 3
      });
      
      draw.drawText(0, -6, 'DIRECT TEST', {
        fontSize: 16,
        color: '#00ff00'
      });
      
      // Add corners
      draw.drawCircle(-6, -4, 8, { fillColor: '#ff00ff' });
      draw.drawCircle(6, -4, 8, { fillColor: '#ffff00' });
      draw.drawCircle(-6, 4, 8, { fillColor: '#00ffff' });
      draw.drawCircle(6, 4, 8, { fillColor: '#ff8800' });
      
      console.log('Direct eyeTouch test completed');
      
    `,"directEyeTouchTest","eyeTouch"),console.log("EyeTouch test script executed successfully!"),!0}catch(H){return console.error("Failed to execute eyeTouch test:",H),!1}};scriptExecutionService.initialize().then(()=>{console.log("ScriptExecutionService initialized in main.js")}).catch(H=>{console.error("Failed to initialize ScriptExecutionService in main.js:",H)});waitForConnection();const _sfc_main={},_hoisted_1={class:"about"};function _sfc_render(H,K){return openBlock(),createElementBlock("div",_hoisted_1,K[0]||(K[0]=[createBaseVNode("h1",null,"This is an about page",-1)]))}const AboutView=_export_sfc(_sfc_main,[["render",_sfc_render]]),AboutView$1=Object.freeze(Object.defineProperty({__proto__:null,default:AboutView},Symbol.toStringTag,{value:"Module"}))});export default Yt();
